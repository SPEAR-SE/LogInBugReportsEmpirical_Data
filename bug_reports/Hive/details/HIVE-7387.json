{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12726734","self":"https://issues.apache.org/jira/rest/api/2/issue/12726734","key":"HIVE-7387","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2014-07-11T06:02:33.355+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Jan 28 14:35:28 UTC 2015","customfield_12310420":"404841","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_9125050196_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-10-24T17:58:29.245+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-7387/watchers","watchCount":10,"isWatching":false},"created":"2014-07-11T03:14:19.091+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12391276","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12391276","type":{"id":"12310010","name":"Incorporates","inward":"is part of","outward":"incorporates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310010"},"inwardIssue":{"id":"12723734","key":"HIVE-7292","self":"https://issues.apache.org/jira/rest/api/2/issue/12723734","fields":{"summary":"Hive on Spark","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}},{"id":"12401397","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12401397","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12755019","key":"HIVE-8854","self":"https://issues.apache.org/jira/rest/api/2/issue/12755019","fields":{"summary":"Guava dependency conflict between hive driver and remote spark context[Spark Branch]","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":21146}}}},{"id":"12401396","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12401396","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12755481","key":"HIVE-8878","self":"https://issues.apache.org/jira/rest/api/2/issue/12755481","fields":{"summary":"Downgrade guava version to be consistent with Hive and the rest of Hadoop [Spark Branch]","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":21146}}}},{"id":"12391720","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12391720","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12728027","key":"HIVE-7437","self":"https://issues.apache.org/jira/rest/api/2/issue/12728027","fields":{"summary":"Check if servlet-api and jetty module in Spark library are an issue for hive-spark integration [Spark Branch]","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/3","id":"3","description":"A task that needs to be done.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21148&avatarType=issuetype","name":"Task","subtask":false,"avatarId":21148}}}},{"id":"12391622","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12391622","type":{"id":"12310040","name":"Required","inward":"is required by","outward":"requires","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310040"},"outwardIssue":{"id":"12726413","key":"SPARK-2420","self":"https://issues.apache.org/jira/rest/api/2/issue/12726413","fields":{"summary":"Dependency changes for compatibility with Hive","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/5","id":"5","description":"General wishlist item.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Wish","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chengxiang+li","name":"chengxiang li","key":"chengxiang li","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chengxiang+li&avatarId=25535","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chengxiang+li&avatarId=25535","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chengxiang+li&avatarId=25535","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chengxiang+li&avatarId=25535"},"displayName":"Chengxiang Li","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-01-28T14:35:28.158+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12323200","id":"12323200","name":"Spark","description":"Hive on Spark"}],"timeoriginalestimate":null,"description":"The guava conflict happens in hive driver compile stage, as in the follow exception stacktrace, conflict happens while initiate spark RDD in SparkClient, hive driver take both guava 11 from hadoop classpath and spark assembly jar which contains guava 14 classes in its classpath, spark invoked HashFunction.hasInt which method does not exists in guava 11 version, obvious the guava 11 version HashFunction is loaded into the JVM, which lead to a  NoSuchMethodError during initiate spark RDD.\n\n{code}\njava.lang.NoSuchMethodError: com.google.common.hash.HashFunction.hashInt(I)Lcom/google/common/hash/HashCode;\n\tat org.apache.spark.util.collection.OpenHashSet.org$apache$spark$util$collection$OpenHashSet$$hashcode(OpenHashSet.scala:261)\n\tat org.apache.spark.util.collection.OpenHashSet$mcI$sp.getPos$mcI$sp(OpenHashSet.scala:165)\n\tat org.apache.spark.util.collection.OpenHashSet$mcI$sp.contains$mcI$sp(OpenHashSet.scala:102)\n\tat org.apache.spark.util.SizeEstimator$$anonfun$visitArray$2.apply$mcVI$sp(SizeEstimator.scala:214)\n\tat scala.collection.immutable.Range.foreach$mVc$sp(Range.scala:141)\n\tat org.apache.spark.util.SizeEstimator$.visitArray(SizeEstimator.scala:210)\n\tat org.apache.spark.util.SizeEstimator$.visitSingleObject(SizeEstimator.scala:169)\n\tat org.apache.spark.util.SizeEstimator$.org$apache$spark$util$SizeEstimator$$estimate(SizeEstimator.scala:161)\n\tat org.apache.spark.util.SizeEstimator$.estimate(SizeEstimator.scala:155)\n\tat org.apache.spark.storage.MemoryStore.putValues(MemoryStore.scala:75)\n\tat org.apache.spark.storage.MemoryStore.putValues(MemoryStore.scala:92)\n\tat org.apache.spark.storage.BlockManager.doPut(BlockManager.scala:661)\n\tat org.apache.spark.storage.BlockManager.put(BlockManager.scala:546)\n\tat org.apache.spark.storage.BlockManager.putSingle(BlockManager.scala:812)\n\tat org.apache.spark.broadcast.HttpBroadcast.<init>(HttpBroadcast.scala:52)\n\tat org.apache.spark.broadcast.HttpBroadcastFactory.newBroadcast(HttpBroadcastFactory.scala:35)\n\tat org.apache.spark.broadcast.HttpBroadcastFactory.newBroadcast(HttpBroadcastFactory.scala:29)\n\tat org.apache.spark.broadcast.BroadcastManager.newBroadcast(BroadcastManager.scala:62)\n\tat org.apache.spark.SparkContext.broadcast(SparkContext.scala:776)\n\tat org.apache.spark.rdd.HadoopRDD.<init>(HadoopRDD.scala:112)\n\tat org.apache.spark.SparkContext.hadoopRDD(SparkContext.scala:527)\n\tat org.apache.spark.api.java.JavaSparkContext.hadoopRDD(JavaSparkContext.scala:307)\n\tat org.apache.hadoop.hive.ql.exec.spark.SparkClient.createRDD(SparkClient.java:204)\n\tat org.apache.hadoop.hive.ql.exec.spark.SparkClient.execute(SparkClient.java:167)\n\tat org.apache.hadoop.hive.ql.exec.spark.SparkTask.execute(SparkTask.java:32)\n\tat org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:159)\n\tat org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:85)\n\tat org.apache.hadoop.hive.ql.exec.TaskRunner.run(TaskRunner.java:72)\n{code}\n\nNO PRECOMMIT TESTS. This is for spark branch only.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12657510","id":"12657510","filename":"HIVE-7387-spark.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=csun","name":"csun","key":"csun","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=csun&avatarId=23340","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csun&avatarId=23340","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csun&avatarId=23340","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csun&avatarId=23340"},"displayName":"Chao Sun","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-24T01:24:41.169+0000","size":737,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12657510/HIVE-7387-spark.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"404879","customfield_12312823":null,"summary":"Guava version conflict between hadoop and spark [Spark-Branch]","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chengxiang+li","name":"chengxiang li","key":"chengxiang li","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chengxiang+li&avatarId=25535","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chengxiang+li&avatarId=25535","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chengxiang+li&avatarId=25535","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chengxiang+li&avatarId=25535"},"displayName":"Chengxiang Li","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chengxiang+li","name":"chengxiang li","key":"chengxiang li","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chengxiang+li&avatarId=25535","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chengxiang+li&avatarId=25535","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chengxiang+li&avatarId=25535","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chengxiang+li&avatarId=25535"},"displayName":"Chengxiang Li","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726734/comment/14058302","id":"14058302","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chengxiang+li","name":"chengxiang li","key":"chengxiang li","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chengxiang+li&avatarId=25535","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chengxiang+li&avatarId=25535","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chengxiang+li&avatarId=25535","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chengxiang+li&avatarId=25535"},"displayName":"Chengxiang Li","active":true,"timeZone":"Etc/UTC"},"body":"Hive on spark can submit spark job in a separate JVM while \"hive.exec.submitviachild\" configured as true, so that Hive only need to load dependencies identified by HIVE-7371. But we still get this issue while Hive submit spark job in same JVM with Hive CLI.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chengxiang+li","name":"chengxiang li","key":"chengxiang li","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=chengxiang+li&avatarId=25535","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chengxiang+li&avatarId=25535","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chengxiang+li&avatarId=25535","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chengxiang+li&avatarId=25535"},"displayName":"Chengxiang Li","active":true,"timeZone":"Etc/UTC"},"created":"2014-07-11T03:25:36.170+0000","updated":"2014-07-11T03:25:36.170+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726734/comment/14058438","id":"14058438","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lirui","name":"lirui","key":"lirui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rui Li","active":true,"timeZone":"Asia/Shanghai"},"body":"Seems that hive (spark branch) also depends on guava-14. Can we bump the version to 14 in hadoop too?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lirui","name":"lirui","key":"lirui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rui Li","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-07-11T06:02:33.355+0000","updated":"2014-07-11T06:02:33.355+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726734/comment/14062065","id":"14062065","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"[~lirui] Guava 11 are used in many hadoop components. Upgrading it across board poses a big challenge. However, Spark isn't using anythinging from Guava 12+, so I proposed in SPARK-2420 that guava be downgraded to 11 in Spark. Unfortunately, it hasn't been taken seriously in Spark community.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-15T13:45:59.830+0000","updated":"2014-07-15T13:45:59.830+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726734/comment/14064187","id":"14064187","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","key":"srowen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=26037","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=26037","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=26037","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=26037"},"displayName":"Sean Owen","active":true,"timeZone":"America/Chicago"},"body":"Hi Xuefu, I was wrong about Spark not using Guava 12+. It does now. I posted an update on the Spark JIRA. That makes it somewhat harder to downgrade, although not much. I would not characterize it as not being taken seriously. There are legitimate questions here, like why Hadoop can't get off of Guava 11, which is about 2.5 years old now. It was very helpful to link the Spark JIRA to this one, which has the details.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srowen","name":"srowen","key":"srowen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srowen&avatarId=26037","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srowen&avatarId=26037","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srowen&avatarId=26037","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srowen&avatarId=26037"},"displayName":"Sean Owen","active":true,"timeZone":"America/Chicago"},"created":"2014-07-16T21:59:44.868+0000","updated":"2014-07-16T21:59:44.868+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726734/comment/14064204","id":"14064204","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks, Sean. Linked.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-16T22:06:40.927+0000","updated":"2014-07-16T22:06:40.927+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726734/comment/14072675","id":"14072675","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=csun","name":"csun","key":"csun","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=csun&avatarId=23340","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csun&avatarId=23340","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csun&avatarId=23340","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csun&avatarId=23340"},"displayName":"Chao Sun","active":true,"timeZone":"America/Los_Angeles"},"body":"This patch provided by [~srowen] may solve the conflict with guava. I tested it with Spark v1.0.1.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=csun","name":"csun","key":"csun","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=csun&avatarId=23340","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csun&avatarId=23340","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csun&avatarId=23340","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csun&avatarId=23340"},"displayName":"Chao Sun","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-24T01:24:41.178+0000","updated":"2014-07-24T01:24:41.178+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726734/comment/14072781","id":"14072781","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"{quote}\nThis patch provided by Sean Owen may solve the conflict with guava. I tested it with Spark v1.0.1.\n{quote}\n\nTo clarify, the patch isn't for Hive, but for Spark on top of 1.0.1, as a workaround for this problem: simply apply the patch to your own Spark build.\n\n[~szehon] Could you included this as your wiki \"get started\" instructions?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-24T04:34:28.842+0000","updated":"2014-07-24T04:34:28.842+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726734/comment/14072855","id":"14072855","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"Sure, will add this once I add the page.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-07-24T05:55:58.190+0000","updated":"2014-07-24T05:55:58.190+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726734/comment/14183150","id":"14183150","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"With SPARK-2848, shading guava in Spark, this is no longer a problem in Hive.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-10-24T17:58:09.852+0000","updated":"2014-10-24T17:58:09.852+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726734/comment/14188118","id":"14188118","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qiaohaijun","name":"qiaohaijun","key":"qiaohaijun","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"qiaohaijun","active":true,"timeZone":"Asia/Shanghai"},"body":"does it merge into spark 1.1.1?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qiaohaijun","name":"qiaohaijun","key":"qiaohaijun","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"qiaohaijun","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-10-29T07:49:35.312+0000","updated":"2014-10-29T07:49:35.312+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726734/comment/14189515","id":"14189515","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"bq: does it merge into spark 1.1.1?\n\nYes.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xuefuz","name":"xuefuz","key":"xuefuz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Xuefu Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-10-30T02:32:39.460+0000","updated":"2014-10-30T02:32:39.460+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12726734/comment/14295212","id":"14295212","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timrobertson100","name":"timrobertson100","key":"timrobertson100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim Robertson","active":true,"timeZone":"Etc/UTC"},"body":"This affects anyone trying to use a custom UDF from the Hive CLI when the UDF depends on later Guava methods too.  \nSuggest reopening this as a valid issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=timrobertson100","name":"timrobertson100","key":"timrobertson100","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tim Robertson","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-28T14:35:28.158+0000","updated":"2015-01-28T14:35:28.158+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-7387/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1xo9b:"}}