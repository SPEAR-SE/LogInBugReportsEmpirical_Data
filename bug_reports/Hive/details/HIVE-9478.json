{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12770368","self":"https://issues.apache.org/jira/rest/api/2/issue/12770368","key":"HIVE-9478","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2016-07-18T04:48:06.161+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Jul 18 19:20:31 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_46498739142_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2016-07-18T19:20:01.076+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-9478/watchers","watchCount":3,"isWatching":false},"created":"2015-01-27T15:01:02.209+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326829","id":"12326829","description":"0.13 maintenance release 1","name":"0.13.1","archived":false,"released":true,"releaseDate":"2014-06-06"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vihangk1","name":"vihangk1","key":"vihangk1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vihang Karajgaonkar","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-07-18T19:20:31.969+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12324409","id":"12324409","name":"Beeline"}],"timeoriginalestimate":null,"description":"When I first got started with beeline, since I was already the cloud user on my edge node (not using Kerbose), I was logging into beeline without passing in a user via –n.  Not sure if that was right or not, but seemed to let me create tables.  However, when doing this and trying to do a select, I would get the error below.  See Appendix #1 for me creating a table and then doing a select to get the error.\n\nI spent some time messing around with different things and stumbled upon where if a passed in the –n parameter, the select command was completed successfully.  See Appendix #2 for that output.\n \nI’m not sure why I could create tables but not select on them when not passing in –n?  But then select on the table when passing in my username via –n?  I’m not using Kerberos authentication so my expert contact might have suggested that setup might give me a unusual experience.\n\nAnyway, I’m off and running using the –n parameter but wanted to share my experience as I cut over to beeline.  Thanks again in advance for everyone's help and great work on Hive and Beeline.\n\nAppendix 1\ncloud@c-10-206-76-8:~>  beeline -u jdbc:hive2://c-10-206-76-8.int.cis.trcloud:10000/default --verbose=true\nissuing: !connect jdbc:hive2://c-10-206-76-8.int.cis.trcloud:10000/default '' ''\nscan complete in 4ms\nConnecting to jdbc:hive2://c-10-206-76-8.int.cis.trcloud:10000/default\nConnected to: Apache Hive (version 0.13.1-cdh5.2.0)\nDriver: Hive JDBC (version 0.13.1-cdh5.2.0)\nTransaction isolation: TRANSACTION_REPEATABLE_READ\nBeeline version 0.13.1-cdh5.2.0 by Apache Hive\n0: jdbc:hive2://c-10-206-76-8.int.cis.trcloud> create table test123 (test123 int);\nNo rows affected (0.217 seconds)\n0: jdbc:hive2://c-10-206-76-8.int.cis.trcloud> select avg(test123) from test123;\nError: Error while processing statement: FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.mr.MapRedTask (state=08S01,code=1)\njava.sql.SQLException: Error while processing statement: FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.mr.MapRedTask\n        at org.apache.hive.jdbc.HiveStatement.execute(HiveStatement.java:277)\n        at org.apache.hive.beeline.Commands.execute(Commands.java:736)\n        at org.apache.hive.beeline.Commands.sql(Commands.java:657)\n        at org.apache.hive.beeline.BeeLine.dispatch(BeeLine.java:908)\n        at org.apache.hive.beeline.BeeLine.execute(BeeLine.java:770)\n        at org.apache.hive.beeline.BeeLine.begin(BeeLine.java:732)\n        at org.apache.hive.beeline.BeeLine.mainWithInputRedirection(BeeLine.java:467)\n        at org.apache.hive.beeline.BeeLine.main(BeeLine.java:450)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.hadoop.util.RunJar.main(RunJar.java:212)\n0: jdbc:hive2://c-10-206-76-8.int.cis.trcloud> !quit\n\nAppendix #2\nClosing: 0: jdbc:hive2://c-10-206-76-8.int.cis.trcloud:10000/default\ncloud@c-10-206-76-8:~>  beeline -u jdbc:hive2://c-10-206-76-8.int.cis.trcloud:10000/default --verbose=true -n cloud\nissuing: !connect jdbc:hive2://c-10-206-76-8.int.cis.trcloud:10000/default cloud ''\nscan complete in 3ms\nConnecting to jdbc:hive2://c-10-206-76-8.int.cis.trcloud:10000/default\nConnected to: Apache Hive (version 0.13.1-cdh5.2.0)\nDriver: Hive JDBC (version 0.13.1-cdh5.2.0)\nTransaction isolation: TRANSACTION_REPEATABLE_READ\nBeeline version 0.13.1-cdh5.2.0 by Apache Hive\n0: jdbc:hive2://c-10-206-76-8.int.cis.trcloud> select avg(test123) from test123;\n+-------+--+\n|  _c0  |\n+-------+--+\n| NULL  |\n+-------+--+\n1 row selected (34.084 seconds)\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Beeline CLI Creating and Selecting On Tables Without Passing in -n Parameter","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcdonaldnoland","name":"mcdonaldnoland","key":"mcdonaldnoland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mac Noland","active":true,"timeZone":"America/Chicago"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcdonaldnoland","name":"mcdonaldnoland","key":"mcdonaldnoland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mac Noland","active":true,"timeZone":"America/Chicago"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12770368/comment/15381710","id":"15381710","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vihangk1","name":"vihangk1","key":"vihangk1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vihang Karajgaonkar","active":true,"timeZone":"America/Los_Angeles"},"body":"I am not able to reproduce this issue on the latest beeline version","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vihangk1","name":"vihangk1","key":"vihangk1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vihang Karajgaonkar","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-18T04:48:06.161+0000","updated":"2016-07-18T04:48:06.161+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12770368/comment/15382857","id":"15382857","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcdonaldnoland","name":"mcdonaldnoland","key":"mcdonaldnoland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mac Noland","active":true,"timeZone":"America/Chicago"},"body":"Hi Vihang.  We can probably close the issue.  I'm not able to produce it any longer either.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mcdonaldnoland","name":"mcdonaldnoland","key":"mcdonaldnoland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mac Noland","active":true,"timeZone":"America/Chicago"},"created":"2016-07-18T19:08:08.517+0000","updated":"2016-07-18T19:08:08.517+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12770368/comment/15382885","id":"15382885","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vihangk1","name":"vihangk1","key":"vihangk1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vihang Karajgaonkar","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks [~mcdonaldnoland] for confirming.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vihangk1","name":"vihangk1","key":"vihangk1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vihang Karajgaonkar","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-18T19:20:31.969+0000","updated":"2016-07-18T19:20:31.969+0000"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-9478/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i24ugf:"}}