{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12531725","self":"https://issues.apache.org/jira/rest/api/2/issue/12531725","key":"HIVE-2586","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2011-12-08T09:33:39.570+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Dec 11 07:55:15 UTC 2012","customfield_12310420":"217461","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_992815162_*|*_1_*:*_2_*:*_32725565681_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-12-11T07:55:15.439+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2586/watchers","watchCount":2,"isWatching":false},"created":"2011-11-17T01:42:14.654+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317742","id":"12317742","description":"released","name":"0.9.0","archived":false,"released":true,"releaseDate":"2012-04-30"}],"issuelinks":[{"id":"12362315","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12362315","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12616462","key":"HIVE-3715","self":"https://issues.apache.org/jira/rest/api/2/issue/12616462","fields":{"summary":"float and double calculation is inaccurate in Hive","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12361779","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12361779","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12512396","key":"HIVE-2249","self":"https://issues.apache.org/jira/rest/api/2/issue/12512396","fields":{"summary":"When creating constant expression for numbers, try to infer type from another comparison operand, instead of trying to use integer first, and then long and double","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-12-23T05:00:03.932+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Create table with float column, insert to it e.g. 1410.1, and then do select * from <that table> where <that column> = 1410.1 . Nothing will be found. ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12506591","id":"12506591","filename":"HIVE-2586.1.patch.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"created":"2011-12-08T09:34:21.015+0000","size":14261,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12506591/HIVE-2586.1.patch.txt"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"123999","customfield_12312823":null,"summary":"Float comparison doesn't work","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsurowka","name":"rsurowka","key":"rsurowka","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Surówka","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsurowka","name":"rsurowka","key":"rsurowka","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Robert Surówka","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12531725/comment/13165115","id":"13165115","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/3073/\n-----------------------------------------------------------\n\nReview request for hive, John Sichi and Carl Steinbach.\n\n\nSummary\n-------\n\nIs there any reason should not to implement comparing float/double?\n\n\nThis addresses bug HIVE-2586.\n    https://issues.apache.org/jira/browse/HIVE-2586\n\n\nDiffs\n-----\n\n  data/files/floatdouble.txt PRE-CREATION \n  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g eecd9e7 \n  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 59e55ae \n  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBaseCompare.java 3fb3879 \n  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqual.java dc4670e \n  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrGreaterThan.java f44f353 \n  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrLessThan.java 7d74e82 \n  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPGreaterThan.java 47fceb1 \n  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPLessThan.java 12369a8 \n  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPNotEqual.java 22b3bef \n  ql/src/test/queries/clientpositive/compare_float_double.q PRE-CREATION \n  ql/src/test/results/clientpositive/compare_float_double.q.out PRE-CREATION \n\nDiff: https://reviews.apache.org/r/3073/diff\n\n\nTesting\n-------\n\nadded test : compare_float_double.q\n\n\nThanks,\n\nNavis\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-08T09:33:39.570+0000","updated":"2011-12-08T09:33:39.570+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12531725/comment/13165116","id":"13165116","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"body":"https://reviews.apache.org/r/3073/","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"created":"2011-12-08T09:34:21.130+0000","updated":"2011-12-08T09:34:21.130+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12531725/comment/13168501","id":"13168501","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deanwampler","name":"deanwampler","key":"deanwampler","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dean Wampler","active":true,"timeZone":"America/Chicago"},"body":"Also, a query with \"<that column> > 1410.1\" will return the column, not reject it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=deanwampler","name":"deanwampler","key":"deanwampler","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dean Wampler","active":true,"timeZone":"America/Chicago"},"created":"2011-12-13T16:51:22.925+0000","updated":"2011-12-13T16:51:22.925+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12531725/comment/13172623","id":"13172623","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/3073/#review3982\n-----------------------------------------------------------\n\n\n\nql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g\n<https://reviews.apache.org/r/3073/#comment8991>\n\n    Please change this to \"FloatLiteral\" and \"DoubleLiteral\".\n\n\n\nql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBaseCompare.java\n<https://reviews.apache.org/r/3073/#comment8992>\n\n    Please update this comment.\n\n\n\nql/src/test/queries/clientpositive/compare_float_double.q\n<https://reviews.apache.org/r/3073/#comment8993>\n\n    Please move these tests to ops_comparison.q. I don't think there's much benefit to adding a new data file with float data, and loading data into the table adds a lot of time to the test.\n    \n    Also, this only provides coverage for the changes in GenericUDFOPEqual. Please add coverage for the other operators that you modified.\n\n\n- Carl\n\n\nOn 2011-12-08 09:33:37, Navis Ryu wrote:\nbq.  \nbq.  -----------------------------------------------------------\nbq.  This is an automatically generated e-mail. To reply, visit:\nbq.  https://reviews.apache.org/r/3073/\nbq.  -----------------------------------------------------------\nbq.  \nbq.  (Updated 2011-12-08 09:33:37)\nbq.  \nbq.  \nbq.  Review request for hive, John Sichi and Carl Steinbach.\nbq.  \nbq.  \nbq.  Summary\nbq.  -------\nbq.  \nbq.  Is there any reason should not to implement comparing float/double?\nbq.  \nbq.  \nbq.  This addresses bug HIVE-2586.\nbq.      https://issues.apache.org/jira/browse/HIVE-2586\nbq.  \nbq.  \nbq.  Diffs\nbq.  -----\nbq.  \nbq.    data/files/floatdouble.txt PRE-CREATION \nbq.    ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g eecd9e7 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 59e55ae \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBaseCompare.java 3fb3879 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqual.java dc4670e \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrGreaterThan.java f44f353 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrLessThan.java 7d74e82 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPGreaterThan.java 47fceb1 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPLessThan.java 12369a8 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPNotEqual.java 22b3bef \nbq.    ql/src/test/queries/clientpositive/compare_float_double.q PRE-CREATION \nbq.    ql/src/test/results/clientpositive/compare_float_double.q.out PRE-CREATION \nbq.  \nbq.  Diff: https://reviews.apache.org/r/3073/diff\nbq.  \nbq.  \nbq.  Testing\nbq.  -------\nbq.  \nbq.  added test : compare_float_double.q\nbq.  \nbq.  \nbq.  Thanks,\nbq.  \nbq.  Navis\nbq.  \nbq.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-19T21:21:30.752+0000","updated":"2011-12-19T21:21:30.752+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12531725/comment/13172856","id":"13172856","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n\nbq.  On 2011-12-19 21:21:20, Carl Steinbach wrote:\nbq.  > ql/src/test/queries/clientpositive/compare_float_double.q, line 1\nbq.  > <https://reviews.apache.org/r/3073/diff/2/?file=63280#file63280line1>\nbq.  >\nbq.  >     Please move these tests to ops_comparison.q. I don't think there's much benefit to adding a new data file with float data, and loading data into the table adds a lot of time to the test.\nbq.  >     \nbq.  >     Also, this only provides coverage for the changes in GenericUDFOPEqual. Please add coverage for the other operators that you modified.\n\nI thought for meaningful test column should be compared to constant/column instead of comparing constant to constant and I couldn't find any existing table contains float/double column. All agree on you except that.\n\n\n- Navis\n\n\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/3073/#review3982\n-----------------------------------------------------------\n\n\nOn 2011-12-08 09:33:37, Navis Ryu wrote:\nbq.  \nbq.  -----------------------------------------------------------\nbq.  This is an automatically generated e-mail. To reply, visit:\nbq.  https://reviews.apache.org/r/3073/\nbq.  -----------------------------------------------------------\nbq.  \nbq.  (Updated 2011-12-08 09:33:37)\nbq.  \nbq.  \nbq.  Review request for hive, John Sichi and Carl Steinbach.\nbq.  \nbq.  \nbq.  Summary\nbq.  -------\nbq.  \nbq.  Is there any reason should not to implement comparing float/double?\nbq.  \nbq.  \nbq.  This addresses bug HIVE-2586.\nbq.      https://issues.apache.org/jira/browse/HIVE-2586\nbq.  \nbq.  \nbq.  Diffs\nbq.  -----\nbq.  \nbq.    data/files/floatdouble.txt PRE-CREATION \nbq.    ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g eecd9e7 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 59e55ae \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBaseCompare.java 3fb3879 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqual.java dc4670e \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrGreaterThan.java f44f353 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrLessThan.java 7d74e82 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPGreaterThan.java 47fceb1 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPLessThan.java 12369a8 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPNotEqual.java 22b3bef \nbq.    ql/src/test/queries/clientpositive/compare_float_double.q PRE-CREATION \nbq.    ql/src/test/results/clientpositive/compare_float_double.q.out PRE-CREATION \nbq.  \nbq.  Diff: https://reviews.apache.org/r/3073/diff\nbq.  \nbq.  \nbq.  Testing\nbq.  -------\nbq.  \nbq.  added test : compare_float_double.q\nbq.  \nbq.  \nbq.  Thanks,\nbq.  \nbq.  Navis\nbq.  \nbq.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-20T02:11:30.742+0000","updated":"2011-12-20T02:11:30.742+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12531725/comment/13172864","id":"13172864","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n\nbq.  On 2011-12-19 21:21:20, Carl Steinbach wrote:\nbq.  > ql/src/test/queries/clientpositive/compare_float_double.q, line 1\nbq.  > <https://reviews.apache.org/r/3073/diff/2/?file=63280#file63280line1>\nbq.  >\nbq.  >     Please move these tests to ops_comparison.q. I don't think there's much benefit to adding a new data file with float data, and loading data into the table adds a lot of time to the test.\nbq.  >     \nbq.  >     Also, this only provides coverage for the changes in GenericUDFOPEqual. Please add coverage for the other operators that you modified.\nbq.  \nbq.  Navis Ryu wrote:\nbq.      I thought for meaningful test column should be compared to constant/column instead of comparing constant to constant and I couldn't find any existing table contains float/double column. All agree on you except that.\n\nOk, in that case can you please add an \"all_types\" table that contains one column per primitive type (e.g. one float column, one int column, etc), and add code to QTestUtil so that this table is automatically created for each CliDriver test?\n\n\n- Carl\n\n\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/3073/#review3982\n-----------------------------------------------------------\n\n\nOn 2011-12-08 09:33:37, Navis Ryu wrote:\nbq.  \nbq.  -----------------------------------------------------------\nbq.  This is an automatically generated e-mail. To reply, visit:\nbq.  https://reviews.apache.org/r/3073/\nbq.  -----------------------------------------------------------\nbq.  \nbq.  (Updated 2011-12-08 09:33:37)\nbq.  \nbq.  \nbq.  Review request for hive, John Sichi and Carl Steinbach.\nbq.  \nbq.  \nbq.  Summary\nbq.  -------\nbq.  \nbq.  Is there any reason should not to implement comparing float/double?\nbq.  \nbq.  \nbq.  This addresses bug HIVE-2586.\nbq.      https://issues.apache.org/jira/browse/HIVE-2586\nbq.  \nbq.  \nbq.  Diffs\nbq.  -----\nbq.  \nbq.    data/files/floatdouble.txt PRE-CREATION \nbq.    ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g eecd9e7 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 59e55ae \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBaseCompare.java 3fb3879 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqual.java dc4670e \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrGreaterThan.java f44f353 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrLessThan.java 7d74e82 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPGreaterThan.java 47fceb1 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPLessThan.java 12369a8 \nbq.    ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPNotEqual.java 22b3bef \nbq.    ql/src/test/queries/clientpositive/compare_float_double.q PRE-CREATION \nbq.    ql/src/test/results/clientpositive/compare_float_double.q.out PRE-CREATION \nbq.  \nbq.  Diff: https://reviews.apache.org/r/3073/diff\nbq.  \nbq.  \nbq.  Testing\nbq.  -------\nbq.  \nbq.  added test : compare_float_double.q\nbq.  \nbq.  \nbq.  Thanks,\nbq.  \nbq.  Navis\nbq.  \nbq.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-20T02:25:30.825+0000","updated":"2011-12-20T02:25:30.825+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12531725/comment/13172995","id":"13172995","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/3073/\n-----------------------------------------------------------\n\n(Updated 2011-12-20 07:22:34.645716)\n\n\nReview request for hive, John Sichi and Carl Steinbach.\n\n\nSummary\n-------\n\nIs there any reason should not to implement comparing float/double?\n\n\nThis addresses bug HIVE-2586.\n    https://issues.apache.org/jira/browse/HIVE-2586\n\n\nDiffs (updated)\n-----\n\n  data/files/employee.txt PRE-CREATION \n  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 888bf47 \n  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 59e55ae \n  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBaseCompare.java 3fb3879 \n  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqual.java dc4670e \n  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrGreaterThan.java f44f353 \n  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrLessThan.java 7d74e82 \n  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPGreaterThan.java 47fceb1 \n  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPLessThan.java 12369a8 \n  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPNotEqual.java 22b3bef \n  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java 498a293 \n  ql/src/test/queries/clientpositive/compare_float_double.q PRE-CREATION \n  ql/src/test/results/clientpositive/compare_float_double.q.out PRE-CREATION \n\nDiff: https://reviews.apache.org/r/3073/diff\n\n\nTesting\n-------\n\nadded test : compare_float_double.q\n\n\nThanks,\n\nNavis\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-20T07:23:30.314+0000","updated":"2011-12-20T07:23:30.314+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12531725/comment/13258491","id":"13258491","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Unlinking from 0.9","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-04-20T19:20:45.076+0000","updated":"2012-04-20T19:20:45.076+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12531725/comment/13528776","id":"13528776","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"body":"HIVE-2249 properly infers type from the compared column. So problems like above do not occur anymore. I'm still believe float/double literal type is useful but cannot think of any good reason for adding it. So closing this issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"created":"2012-12-11T07:55:15.457+0000","updated":"2012-12-11T07:55:15.457+0000"}],"maxResults":9,"total":9,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2586/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0lko7:"}}