{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12515608","self":"https://issues.apache.org/jira/rest/api/2/issue/12515608","key":"HIVE-2319","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316178","id":"12316178","description":"released","name":"0.8.0","archived":false,"released":true,"releaseDate":"2011-12-16"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2011-07-28T06:55:09.680+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Aug 09 00:20:10 UTC 2011","customfield_12310420":"43506","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_992049742_*|*_1_*:*_1_*:*_2733980_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-08-08T18:43:00.854+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2319/watchers","watchCount":0,"isWatching":false},"created":"2011-07-28T06:23:17.247+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sohanjain","name":"sohanjain","key":"sohanjain","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sohan Jain","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-12-16T23:57:01.414+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312584","id":"12312584","name":"Metastore","description":"Tracks issue dealing with metastore."}],"timeoriginalestimate":null,"description":"Altering a table's partition key comments raises an InvalidOperationException.  The partition key name and type should not be mutable, but the comment should be able to get changed.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12488071","id":"12488071","filename":"HIVE-2319.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sohanjain","name":"sohanjain","key":"sohanjain","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sohan Jain","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-28T07:07:45.210+0000","size":4851,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12488071/HIVE-2319.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12488152","id":"12488152","filename":"HIVE-2319.3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sohanjain","name":"sohanjain","key":"sohanjain","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sohan Jain","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-28T23:26:23.731+0000","size":5913,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12488152/HIVE-2319.3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12489365","id":"12489365","filename":"HIVE-2319.4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sohanjain","name":"sohanjain","key":"sohanjain","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sohan Jain","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-04T17:06:57.751+0000","size":4610,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12489365/HIVE-2319.4.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"123802","customfield_12312823":null,"summary":"Calling alter_table after changing partition comment throws an exception","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sohanjain","name":"sohanjain","key":"sohanjain","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sohan Jain","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sohanjain","name":"sohanjain","key":"sohanjain","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sohan Jain","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12515608/comment/13072215","id":"13072215","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1213/\n-----------------------------------------------------------\n\nReview request for hive and Paul Yang.\n\n\nSummary\n-------\n\nAltering a table's partition key comments raises an InvalidOperationException. The partition key name and type should not be mutable, but the comment should be able to get changed.\n\n\nThis addresses bug HIVE-2319.\n    https://issues.apache.org/jira/browse/HIVE-2319\n\n\nDiffs\n-----\n\n  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java 1151219 \n  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java 1151219 \n\nDiff: https://reviews.apache.org/r/1213/diff\n\n\nTesting\n-------\n\nAdded some test cases to HiveMetaStore that pass.\n\n\nThanks,\n\nSohan\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-28T06:55:09.680+0000","updated":"2011-07-28T06:55:09.680+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12515608/comment/13072219","id":"13072219","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1213/\n-----------------------------------------------------------\n\n(Updated 2011-07-28 07:06:24.236980)\n\n\nReview request for hive and Paul Yang.\n\n\nChanges\n-------\n\nFixed some of the test case logic.\n\n\nSummary\n-------\n\nAltering a table's partition key comments raises an InvalidOperationException. The partition key name and type should not be mutable, but the comment should be able to get changed.\n\n\nThis addresses bug HIVE-2319.\n    https://issues.apache.org/jira/browse/HIVE-2319\n\n\nDiffs (updated)\n-----\n\n  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java 1151219 \n  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java 1151219 \n\nDiff: https://reviews.apache.org/r/1213/diff\n\n\nTesting\n-------\n\nAdded some test cases to HiveMetaStore that pass.\n\n\nThanks,\n\nSohan\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-28T07:07:09.446+0000","updated":"2011-07-28T07:07:09.446+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12515608/comment/13072552","id":"13072552","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1213/#review1215\n-----------------------------------------------------------\n\n\n\ntrunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java\n<https://reviews.apache.org/r/1213/#comment2712>\n\n    Actually, we can't allow for a different ordering because that would imply a different directory structure. We should just make sure that everything but the comments are equal.\n\n\n\ntrunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java\n<https://reviews.apache.org/r/1213/#comment2713>\n\n    Message should say - it was able to change when it shouldn't have?\n\n\n- Paul\n\n\nOn 2011-07-28 07:06:24, Sohan Jain wrote:\nbq.  \nbq.  -----------------------------------------------------------\nbq.  This is an automatically generated e-mail. To reply, visit:\nbq.  https://reviews.apache.org/r/1213/\nbq.  -----------------------------------------------------------\nbq.  \nbq.  (Updated 2011-07-28 07:06:24)\nbq.  \nbq.  \nbq.  Review request for hive and Paul Yang.\nbq.  \nbq.  \nbq.  Summary\nbq.  -------\nbq.  \nbq.  Altering a table's partition key comments raises an InvalidOperationException. The partition key name and type should not be mutable, but the comment should be able to get changed.\nbq.  \nbq.  \nbq.  This addresses bug HIVE-2319.\nbq.      https://issues.apache.org/jira/browse/HIVE-2319\nbq.  \nbq.  \nbq.  Diffs\nbq.  -----\nbq.  \nbq.    trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java 1151219 \nbq.    trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java 1151219 \nbq.  \nbq.  Diff: https://reviews.apache.org/r/1213/diff\nbq.  \nbq.  \nbq.  Testing\nbq.  -------\nbq.  \nbq.  Added some test cases to HiveMetaStore that pass.\nbq.  \nbq.  \nbq.  Thanks,\nbq.  \nbq.  Sohan\nbq.  \nbq.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-28T21:52:09.387+0000","updated":"2011-07-28T21:52:09.387+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12515608/comment/13072597","id":"13072597","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n\nbq.  On 2011-07-28 21:51:59, Paul Yang wrote:\nbq.  > trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java, lines 232-233\nbq.  > <https://reviews.apache.org/r/1213/diff/2/?file=28094#file28094line232>\nbq.  >\nbq.  >     Actually, we can't allow for a different ordering because that would imply a different directory structure. We should just make sure that everything but the comments are equal.\n\nOk cool, that cleans up the code quite a bit.  The previous implementation only checked if the partition key lists were of the same size, and one contained all elements of the other.  That is, it did not ensure ordering.\n\n\nbq.  On 2011-07-28 21:51:59, Paul Yang wrote:\nbq.  > trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java, line 1036\nbq.  > <https://reviews.apache.org/r/1213/diff/2/?file=28095#file28095line1036>\nbq.  >\nbq.  >     Message should say - it was able to change when it shouldn't have?\n\nFixed\n\n\n- Sohan\n\n\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1213/#review1215\n-----------------------------------------------------------\n\n\nOn 2011-07-28 07:06:24, Sohan Jain wrote:\nbq.  \nbq.  -----------------------------------------------------------\nbq.  This is an automatically generated e-mail. To reply, visit:\nbq.  https://reviews.apache.org/r/1213/\nbq.  -----------------------------------------------------------\nbq.  \nbq.  (Updated 2011-07-28 07:06:24)\nbq.  \nbq.  \nbq.  Review request for hive and Paul Yang.\nbq.  \nbq.  \nbq.  Summary\nbq.  -------\nbq.  \nbq.  Altering a table's partition key comments raises an InvalidOperationException. The partition key name and type should not be mutable, but the comment should be able to get changed.\nbq.  \nbq.  \nbq.  This addresses bug HIVE-2319.\nbq.      https://issues.apache.org/jira/browse/HIVE-2319\nbq.  \nbq.  \nbq.  Diffs\nbq.  -----\nbq.  \nbq.    trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java 1151219 \nbq.    trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java 1151219 \nbq.  \nbq.  Diff: https://reviews.apache.org/r/1213/diff\nbq.  \nbq.  \nbq.  Testing\nbq.  -------\nbq.  \nbq.  Added some test cases to HiveMetaStore that pass.\nbq.  \nbq.  \nbq.  Thanks,\nbq.  \nbq.  Sohan\nbq.  \nbq.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-28T23:26:09.714+0000","updated":"2011-07-28T23:26:09.714+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12515608/comment/13072598","id":"13072598","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1213/\n-----------------------------------------------------------\n\n(Updated 2011-07-28 23:26:15.868719)\n\n\nReview request for hive and Paul Yang.\n\n\nChanges\n-------\n\n-made changes based on Paul's comments\n\n\nSummary\n-------\n\nAltering a table's partition key comments raises an InvalidOperationException. The partition key name and type should not be mutable, but the comment should be able to get changed.\n\n\nThis addresses bug HIVE-2319.\n    https://issues.apache.org/jira/browse/HIVE-2319\n\n\nDiffs (updated)\n-----\n\n  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java 1152020 \n  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java 1152020 \n  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java 1152020 \n\nDiff: https://reviews.apache.org/r/1213/diff\n\n\nTesting\n-------\n\nAdded some test cases to HiveMetaStore that pass.\n\n\nThanks,\n\nSohan\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-28T23:28:10.507+0000","updated":"2011-07-28T23:28:10.507+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12515608/comment/13079470","id":"13079470","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1213/\n-----------------------------------------------------------\n\n(Updated 2011-08-04 17:05:08.413032)\n\n\nReview request for hive and Paul Yang.\n\n\nChanges\n-------\n\nRemoved a change in TestMetaStoreEventListener.java that somehow snuck in this diff.\n\n\nSummary\n-------\n\nAltering a table's partition key comments raises an InvalidOperationException. The partition key name and type should not be mutable, but the comment should be able to get changed.\n\n\nThis addresses bug HIVE-2319.\n    https://issues.apache.org/jira/browse/HIVE-2319\n\n\nDiffs (updated)\n-----\n\n  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java 1153927 \n  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java 1153927 \n\nDiff: https://reviews.apache.org/r/1213/diff\n\n\nTesting\n-------\n\nAdded some test cases to HiveMetaStore that pass.\n\n\nThanks,\n\nSohan\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-04T17:06:26.978+0000","updated":"2011-08-04T17:06:26.978+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12515608/comment/13079505","id":"13079505","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pauly","name":"pauly","key":"pauly","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Paul Yang","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 Will test and commit","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pauly","name":"pauly","key":"pauly","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Paul Yang","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-08-04T17:58:27.515+0000","updated":"2011-08-04T17:58:27.515+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12515608/comment/13081113","id":"13081113","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=he+yongqiang","name":"he yongqiang","key":"he yongqiang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"He Yongqiang","active":true,"timeZone":"Etc/UTC"},"body":"tests passed for me (except a few SIGSEGV errors, should be fine)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=he+yongqiang","name":"he yongqiang","key":"he yongqiang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"He Yongqiang","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-08T18:30:27.818+0000","updated":"2011-08-08T18:30:27.818+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12515608/comment/13081119","id":"13081119","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pauly","name":"pauly","key":"pauly","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Paul Yang","active":true,"timeZone":"America/Los_Angeles"},"body":"Committed. Thanks Sohan!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pauly","name":"pauly","key":"pauly","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Paul Yang","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-08-08T18:43:00.874+0000","updated":"2011-08-08T18:43:00.874+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12515608/comment/13081176","id":"13081176","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nzhang","name":"nzhang","key":"nzhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Zhang","active":true,"timeZone":"America/Los_Angeles"},"body":"Yongqiang, can you elaborate on why you got SIGSEGV and they are fine? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=nzhang","name":"nzhang","key":"nzhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ning Zhang","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-08-08T20:39:20.174+0000","updated":"2011-08-08T20:39:20.174+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12515608/comment/13081327","id":"13081327","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hive-trunk-h0.21 #881 (See [https://builds.apache.org/job/Hive-trunk-h0.21/881/])\n    HIVE-2319. Calling alter_table after changing partition comment throws an exception (Sohan Jain via pauly)\n\npauly : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1155052\nFiles : \n* /hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java\n* /hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-09T00:20:10.298+0000","updated":"2011-08-09T00:20:10.298+0000"}],"maxResults":11,"total":11,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2319/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ljgf:"}}