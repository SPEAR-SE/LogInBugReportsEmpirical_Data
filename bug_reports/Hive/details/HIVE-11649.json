{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12858886","self":"https://issues.apache.org/jira/rest/api/2/issue/12858886","key":"HIVE-11649","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/6","id":"6","description":"The problem isn't valid and it can't be fixed.","name":"Invalid"},"customfield_12312322":null,"customfield_12310220":"2015-09-10T23:18:33.240+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Sep 21 16:03:04 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_2280759637_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2015-09-21T16:04:01.656+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-11649/watchers","watchCount":2,"isWatching":false},"created":"2015-08-26T06:31:22.163+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-09-21T16:04:01.790+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":" have been trying to implement the UPDATE,INSERT,DELETE operations in hive table as per link: \n\nhttps://cwiki.apache.org/confluence/display/Hive/Hive+Transactions#HiveTransactions- \n\nbut whenever I was trying to include the properties which will do our work i.e. \n\nConfiguration Values to Set for INSERT, UPDATE, DELETE \n\n\nhive.support.concurrency\ttrue (default is false) \nhive.enforce.bucketing\ttrue (default is false) \nhive.exec.dynamic.partition.mode\tnonstrict (default is strict) \n\nafter that if I run show tables command on hive shell its taking 65.15 seconds which normally runs at 0.18 seconds without the above properties. \n\nApart from show tables rest of the commands not giving any output i.e. its keep on running until and unless kill the process.\n\nCould you tell me reason for this?","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12755910","id":"12755910","filename":"afterChange.png","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvnath","name":"jvnath","key":"jvnath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Veerendra Nath Jasthi","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-15T05:06:40.666+0000","size":144525,"mimeType":"image/png","content":"https://issues.apache.org/jira/secure/attachment/12755910/afterChange.png"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12755911","id":"12755911","filename":"beforeChange.png","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvnath","name":"jvnath","key":"jvnath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Veerendra Nath Jasthi","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-15T05:06:40.674+0000","size":135675,"mimeType":"image/png","content":"https://issues.apache.org/jira/secure/attachment/12755911/beforeChange.png"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12755912","id":"12755912","filename":"hive.log","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvnath","name":"jvnath","key":"jvnath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Veerendra Nath Jasthi","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-15T05:06:40.681+0000","size":145359,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12755912/hive.log"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12756175","id":"12756175","filename":"hive-site.xml","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvnath","name":"jvnath","key":"jvnath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Veerendra Nath Jasthi","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-16T06:08:40.670+0000","size":3585,"mimeType":"text/xml","content":"https://issues.apache.org/jira/secure/attachment/12756175/hive-site.xml"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Hive UPDATE,INSERT,DELETE issue","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvnath","name":"jvnath","key":"jvnath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Veerendra Nath Jasthi","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvnath","name":"jvnath","key":"jvnath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Veerendra Nath Jasthi","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Hadoop-2.2.0 , hive-1.2.0 ,operating system ubuntu14.04lts (64-bit) & Java 1.7","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12858886/comment/14739834","id":"14739834","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alangates","name":"alangates","key":"alangates","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Gates","active":true,"timeZone":"America/Los_Angeles"},"body":"This is probably better as question on the mailing list rather than a JIRA.  Can you post the logs for your metastore server?  I definitely haven't seen this issue before.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alangates","name":"alangates","key":"alangates","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Gates","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-10T23:18:33.240+0000","updated":"2015-09-10T23:18:33.240+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12858886/comment/14744837","id":"14744837","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvnath","name":"jvnath","key":"jvnath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Veerendra Nath Jasthi","active":true,"timeZone":"Etc/UTC"},"body":"Hi Alan,\n\nHope everything is good at your end & thanks for your reply.\n\nHere I have attached metastore logs and the screen shot of \"SHOW TABLES \"\ncommand before & after including configurations in hive-site.xml for CURD\noperations.So usually it takes a time to run this command is milliseconds\nbut after making changes in hive-site.xml its time is 1 min that we can\nobserve the screen shots.\n\nRegards,\nVeerendra Nath Jasthi.\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvnath","name":"jvnath","key":"jvnath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Veerendra Nath Jasthi","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-15T05:06:40.601+0000","updated":"2015-09-15T05:06:40.601+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12858886/comment/14745685","id":"14745685","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alangates","name":"alangates","key":"alangates","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Gates","active":true,"timeZone":"America/Los_Angeles"},"body":"It's spending it's time trying to connect to ZooKeeper, which it should not be doing.  Can you share the exact hive-site.xml changes you made?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alangates","name":"alangates","key":"alangates","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Gates","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-15T16:30:34.613+0000","updated":"2015-09-15T16:30:34.613+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12858886/comment/14746943","id":"14746943","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvnath","name":"jvnath","key":"jvnath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Veerendra Nath Jasthi","active":true,"timeZone":"Etc/UTC"},"body":"Hi Alan,\n\nPFA.....\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvnath","name":"jvnath","key":"jvnath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Veerendra Nath Jasthi","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-16T06:08:40.599+0000","updated":"2015-09-16T06:08:40.599+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12858886/comment/14900477","id":"14900477","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvnath","name":"jvnath","key":"jvnath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Veerendra Nath Jasthi","active":true,"timeZone":"Etc/UTC"},"body":"Hi Alan,\n\nHope everything is good at your end.\nDid you check my hive-site.xml ?\nDid I make any mistake in  configurations ?\n\nRegards,\nJasthi.\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvnath","name":"jvnath","key":"jvnath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Veerendra Nath Jasthi","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-21T10:20:40.603+0000","updated":"2015-09-21T10:20:40.603+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12858886/comment/14900890","id":"14900890","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alangates","name":"alangates","key":"alangates","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Gates","active":true,"timeZone":"America/Los_Angeles"},"body":"<property>\n    <name>hive.txn.manager</name>\n    <value>org.apache.hadoop.hive.ql.lockmgr.DummyTxnManager</value>\n    <description>\n      Set to org.apache.hadoop.hive.ql.lockmgr.DbTxnManager as part of turning on Hive\n      transactions, which also requires appropriate settings for hive.compactor.initiator.on,\n      hive.compactor.worker.threads, hive.support.concurrency (true), hive.enforce.bucketing\n      (true), and hive.exec.dynamic.partition.mode (nonstrict).\n      The default DummyTxnManager replicates pre-Hive-0.13 behavior and provides\n      no transactions.\n    </description>\n  </property>\n\nThis should be DbTxnManager if you want to use update and delete.  It won't work with DummyTxnManager.  The reason it's taking a long time is when you set the txn manager to Dummy and the concurrency to true you get the zookeeper lock manager, which is taking time trying to connect to zookeeper.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alangates","name":"alangates","key":"alangates","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Gates","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-21T16:03:04.818+0000","updated":"2015-09-21T16:03:04.818+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-11649/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2jdw7:"}}