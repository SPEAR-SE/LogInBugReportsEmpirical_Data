{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12635719","self":"https://issues.apache.org/jira/rest/api/2/issue/12635719","key":"HIVE-4133","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2013-03-07T02:44:12.156+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Mar 07 02:51:13 UTC 2013","customfield_12310420":"316212","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_53131018433_*|*_1_*:*_1_*:*_523995_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-11-12T01:28:11.591+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-4133/watchers","watchCount":2,"isWatching":false},"created":"2013-03-07T02:42:29.233+0000","customfield_12310192":"hadoop-20 based versions would not be supported from hive-0.15","customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-11-12T01:28:11.652+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12316918","id":"12316918","name":"Shims"}],"timeoriginalestimate":null,"description":"Seemed regression from HIVE-3428\n{noformat}\njava.lang.RuntimeException: Could not load shims in class org.apache.hadoop.log.metrics.EventCounter\n\tat org.apache.hadoop.hive.shims.ShimLoader.createShim(ShimLoader.java:125)\n\tat org.apache.hadoop.hive.shims.ShimLoader.loadShims(ShimLoader.java:117)\n\tat org.apache.hadoop.hive.shims.ShimLoader.getEventCounter(ShimLoader.java:100)\n\tat org.apache.hadoop.hive.shims.HiveEventCounter.<init>(HiveEventCounter.java:16)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n\tat java.lang.Class.newInstance0(Class.java:355)\n\tat java.lang.Class.newInstance(Class.java:308)\n\tat org.apache.log4j.helpers.OptionConverter.instantiateByClassName(OptionConverter.java:330)\n\tat org.apache.log4j.helpers.OptionConverter.instantiateByKey(OptionConverter.java:121)\n\tat org.apache.log4j.PropertyConfigurator.parseAppender(PropertyConfigurator.java:664)\n\tat org.apache.log4j.PropertyConfigurator.parseCategory(PropertyConfigurator.java:647)\n\tat org.apache.log4j.PropertyConfigurator.configureRootCategory(PropertyConfigurator.java:544)\n\tat org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:440)\n\tat org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:476)\n\tat org.apache.log4j.PropertyConfigurator.configure(PropertyConfigurator.java:354)\n\tat org.apache.hadoop.hive.common.LogUtils.initHiveLog4jDefault(LogUtils.java:124)\n\tat org.apache.hadoop.hive.common.LogUtils.initHiveLog4jCommon(LogUtils.java:77)\n\tat org.apache.hadoop.hive.common.LogUtils.initHiveExecLog4j(LogUtils.java:69)\n\tat org.apache.hadoop.hive.ql.exec.ExecDriver.setupChildLog4j(ExecDriver.java:568)\n\tat org.apache.hadoop.hive.ql.exec.ExecDriver.main(ExecDriver.java:623)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.apache.hadoop.util.RunJar.main(RunJar.java:186)\nCaused by: java.lang.ClassNotFoundException: org.apache.hadoop.log.metrics.EventCounter\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n\tat java.lang.Class.forName0(Native Method)\n\tat java.lang.Class.forName(Class.java:169)\n\tat org.apache.hadoop.hive.shims.ShimLoader.createShim(ShimLoader.java:122)\n\t... 27 more\nlog4j:ERROR Could not instantiate appender named \"EventCounter\".\n{noformat}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12572479","id":"12572479","filename":"HIVE.4133.git.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-03-07T03:04:58.159+0000","size":2057,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12572479/HIVE.4133.git.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12572474","id":"12572474","filename":"HIVE-4133.D9195.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-03-07T02:44:12.255+0000","size":1463,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12572474/HIVE-4133.D9195.1.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"316555","customfield_12312823":null,"summary":"ClassNotFoundException for EventCounter in CDH3U1","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"CDH3U1","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12635719/comment/13595470","id":"13595470","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"navis requested code review of \"HIVE-4133 [jira] ClassNotFoundException for EventCounter in CDH3U1\".\n\nReviewers: JIRA\n\nHIVE-4133 ClassNotFoundException for EventCounter in CDH3U1\n\nSeemed regression from HIVE-3428\n\njava.lang.RuntimeException: Could not load shims in class org.apache.hadoop.log.metrics.EventCounter\n\tat org.apache.hadoop.hive.shims.ShimLoader.createShim(ShimLoader.java:125)\n\tat org.apache.hadoop.hive.shims.ShimLoader.loadShims(ShimLoader.java:117)\n\tat org.apache.hadoop.hive.shims.ShimLoader.getEventCounter(ShimLoader.java:100)\n\tat org.apache.hadoop.hive.shims.HiveEventCounter.<init>(HiveEventCounter.java:16)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n\tat java.lang.Class.newInstance0(Class.java:355)\n\tat java.lang.Class.newInstance(Class.java:308)\n\tat org.apache.log4j.helpers.OptionConverter.instantiateByClassName(OptionConverter.java:330)\n\tat org.apache.log4j.helpers.OptionConverter.instantiateByKey(OptionConverter.java:121)\n\tat org.apache.log4j.PropertyConfigurator.parseAppender(PropertyConfigurator.java:664)\n\tat org.apache.log4j.PropertyConfigurator.parseCategory(PropertyConfigurator.java:647)\n\tat org.apache.log4j.PropertyConfigurator.configureRootCategory(PropertyConfigurator.java:544)\n\tat org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:440)\n\tat org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:476)\n\tat org.apache.log4j.PropertyConfigurator.configure(PropertyConfigurator.java:354)\n\tat org.apache.hadoop.hive.common.LogUtils.initHiveLog4jDefault(LogUtils.java:124)\n\tat org.apache.hadoop.hive.common.LogUtils.initHiveLog4jCommon(LogUtils.java:77)\n\tat org.apache.hadoop.hive.common.LogUtils.initHiveExecLog4j(LogUtils.java:69)\n\tat org.apache.hadoop.hive.ql.exec.ExecDriver.setupChildLog4j(ExecDriver.java:568)\n\tat org.apache.hadoop.hive.ql.exec.ExecDriver.main(ExecDriver.java:623)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.apache.hadoop.util.RunJar.main(RunJar.java:186)\nCaused by: java.lang.ClassNotFoundException: org.apache.hadoop.log.metrics.EventCounter\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n\tat java.lang.Class.forName0(Native Method)\n\tat java.lang.Class.forName(Class.java:169)\n\tat org.apache.hadoop.hive.shims.ShimLoader.createShim(ShimLoader.java:122)\n\t... 27 more\nlog4j:ERROR Could not instantiate appender named \"EventCounter\".\n\nTEST PLAN\n  EMPTY\n\nREVISION DETAIL\n  https://reviews.facebook.net/D9195\n\nAFFECTED FILES\n  shims/src/common/java/org/apache/hadoop/hive/shims/ShimLoader.java\n\nMANAGE HERALD RULES\n  https://reviews.facebook.net/herald/view/differential/\n\nWHY DID I GET THIS EMAIL?\n  https://reviews.facebook.net/herald/transcript/22197/\n\nTo: JIRA, navis\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-03-07T02:44:12.156+0000","updated":"2013-03-07T02:44:12.156+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12635719/comment/13595475","id":"13595475","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"body":"Changed to try all EventCotunters. CDH3U1 is acting like 20s because it has not UnixUserGroupInformation but it has not event handler which is in 20s.\n\nI wish there were cleaner way. Before that, regard this as a walkaround for cdh3u1 users.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"created":"2013-03-07T02:51:13.209+0000","updated":"2013-03-07T02:51:13.209+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-4133/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1ikc7:"}}