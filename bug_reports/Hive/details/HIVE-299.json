{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12415387","self":"https://issues.apache.org/jira/rest/api/2/issue/12415387","key":"HIVE-299","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313637","id":"12313637","description":"released","name":"0.3.0","archived":false,"released":true,"releaseDate":"2009-04-30"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2009-02-23T23:22:50.497+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Mar 26 21:21:07 UTC 2009","customfield_12310420":"73634","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_2348146972_*|*_1_*:*_1_*:*_341011166_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2009-03-26T21:21:07.539+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-299/watchers","watchCount":0,"isWatching":false},"created":"2009-02-23T18:21:49.401+0000","customfield_12310192":"HIVE-299. Include php packages for thrift service. (Raghotham Murthy via zshao)","customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313637","id":"12313637","description":"released","name":"0.3.0","archived":false,"released":true,"releaseDate":"2009-04-30"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-12-17T00:08:27.775+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312588","id":"12312588","name":"Server Infrastructure","description":"Tracks issues dealing with Server infrastructure"}],"timeoriginalestimate":null,"description":null,"customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12400889","id":"12400889","filename":"hive-299.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-02-24T22:55:34.319+0000","size":193589,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12400889/hive-299.1.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"122114","customfield_12312823":null,"summary":"Include php packages for thrift service ","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12415387/comment/12676116","id":"12676116","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gary.richardson","name":"gary.richardson","key":"gary.richardson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Richardson","active":true,"timeZone":"Etc/UTC"},"body":"I've also found a bug in the thrift PHP TSocket.php implementation. See THRIFT-347","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gary.richardson","name":"gary.richardson","key":"gary.richardson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Richardson","active":true,"timeZone":"Etc/UTC"},"created":"2009-02-23T23:22:50.497+0000","updated":"2009-02-23T23:22:50.497+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12415387/comment/12676445","id":"12676445","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":" I have now included the necessary php files from the thrift distribution and applied the patch that Gary provided to THRIFT-347. After applying this patch, ant package will create the thrift root in build/dist/lib/php. Thanks to Gary for the steps to get php access to the hive thrift server.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-02-24T22:55:34.363+0000","updated":"2009-02-24T22:55:34.363+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12415387/comment/12678172","id":"12678172","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gary.richardson","name":"gary.richardson","key":"gary.richardson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Richardson","active":true,"timeZone":"Etc/UTC"},"body":"Hi Raghotham,\n\nIt's not quite right. Here's what my packages/ directory looks like:\n\n[root@ip-10-250-154-176 packages]# find . -type f\n./hive_service/ThriftHive.php\n./hive_service/hive_service_types.php\n./hive_metastore/hive_metastore_constants.php\n./hive_metastore/ThriftHiveMetastore.php\n./hive_metastore/ThriftMetaStore.php\n./hive_metastore/hive_metastore_types.php\n./fb303/FacebookBase.php\n\n\nYou're missing the hive_service stuff. Plus they should be separated into their respective directories.\n\nIn my opinion, you should distribute:\n\n[root@ip-10-250-154-176 packages]# find . -type f\n./hive_service/ThriftHive.php\n./hive_service/hive_service_types.php\n./hive_metastore/hive_metastore_constants.php\n./hive_metastore/ThriftHiveMetastore.php\n./hive_metastore/ThriftMetaStore.php\n./hive_metastore/hive_metastore_types.php\n\nand the instructions for getting the PHP libs to work would be something like:\n\nCopy the contents of build/dist/lib/php to your THRIFT_ROOT/packages directory. If you don't already have a THRIFT_ROOT, you need to get the base files from the thrift distribution, as well as the fb303 package.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gary.richardson","name":"gary.richardson","key":"gary.richardson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Richardson","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-03T00:28:21.882+0000","updated":"2009-03-03T00:28:21.882+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12415387/comment/12678177","id":"12678177","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"Are you sure you did ant package? Once you do that you should have the following in build/dist/lib/php\n\n$ find . -type f\n./autoload.php\n./ext/thrift_protocol/config.m4\n./ext/thrift_protocol/php_thrift_protocol.cpp\n./ext/thrift_protocol/php_thrift_protocol.h\n./ext/thrift_protocol/tags/1.0.0/config.m4\n./ext/thrift_protocol/tags/1.0.0/php_thrift_protocol.cpp\n./ext/thrift_protocol/tags/1.0.0/php_thrift_protocol.h\n./packages/fb303/FacebookService.php\n./packages/fb303/fb303_types.php\n./packages/hive_metastore/hive_metastore_constants.php\n./packages/hive_metastore/hive_metastore_types.php\n./packages/hive_metastore/ThriftHiveMetastore.php\n./packages/hive_metastore/ThriftMetaStore.php\n./packages/hive_service/hive_service_types.php\n./packages/hive_service/ThriftHive.php\n./packages/serde/serde_constants.php\n./packages/serde/serde_types.php\n./protocol/TBinaryProtocol.php\n./protocol/TProtocol.php\n./Thrift.php\n./transport/TBufferedTransport.php\n./transport/TFramedTransport.php\n./transport/THttpClient.php\n./transport/TMemoryBuffer.php\n./transport/TNullTransport.php\n./transport/TPhpStream.php\n./transport/TSocket.php\n./transport/TSocketPool.php\n./transport/TTransport.php\n\n\nNote that this is the complete thrift root. It includes all the basic thrift php files - Thrift.php, protocol/, transport/, ext/, autoload.php\nAnd in packages, there are fb303/, hive_metastore/, hive_service/, serde/\n\nSo, you dont need the thrift distribution. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-03T00:49:23.363+0000","updated":"2009-03-03T00:49:23.363+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12415387/comment/12678520","id":"12678520","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gary.richardson","name":"gary.richardson","key":"gary.richardson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Richardson","active":true,"timeZone":"Etc/UTC"},"body":"Hey,\n\nFound the problem: I didn't see the patch the first time through... \n\nI had to manually create the service/lib/php directory to make the build run. Possibly some files were missing from the diff:\n\npackage:\n     [echo] Deploying Hive jars to /root/hive/build/dist\n    [mkdir] Created dir: /root/hive/build/dist\n    [mkdir] Created dir: /root/hive/build/dist/lib\n    [mkdir] Created dir: /root/hive/build/dist/conf\n    [mkdir] Created dir: /root/hive/build/dist/bin\n    [mkdir] Created dir: /root/hive/build/dist/examples\n    [mkdir] Created dir: /root/hive/build/dist/examples/files\n    [mkdir] Created dir: /root/hive/build/dist/examples/queries\n    [mkdir] Created dir: /root/hive/build/dist/lib/py\n    [mkdir] Created dir: /root/hive/build/dist/lib/php\n     [copy] Copying 1 file to /root/hive/build/dist/bin\n     [copy] Copying 5 files to /root/hive/build/dist/bin/ext\n     [copy] Copying 1 file to /root/hive/build/dist/bin\n     [copy] Copying 1 file to /root/hive/build/dist/conf\n     [copy] Copying 1 file to /root/hive/build/dist/conf\n     [copy] Copying 1 file to /root/hive/build/dist/conf\n\nBUILD FAILED\n/root/hive/build.xml:179: /root/hive/service/lib/php not found.\n\nTotal time: 15 seconds\n\nWhen I manually created the directory, it goes through, but a bunch of files are missing. For example, fb303_types.php.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gary.richardson","name":"gary.richardson","key":"gary.richardson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gary Richardson","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-04T00:09:40.011+0000","updated":"2009-03-04T00:09:40.011+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12415387/comment/12689677","id":"12689677","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zshao","name":"zshao","key":"zshao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zshao&avatarId=14358","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zshao&avatarId=14358","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zshao&avatarId=14358","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zshao&avatarId=14358"},"displayName":"Zheng Shao","active":true,"timeZone":"America/Los_Angeles"},"body":"Committed revision 758859. Thanks Raghu!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zshao","name":"zshao","key":"zshao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zshao&avatarId=14358","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zshao&avatarId=14358","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zshao&avatarId=14358","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zshao&avatarId=14358"},"displayName":"Zheng Shao","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-26T21:21:07.480+0000","updated":"2009-03-26T21:21:07.480+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-299/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0l91b:"}}