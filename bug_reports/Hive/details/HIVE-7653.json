{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12732693","self":"https://issues.apache.org/jira/rest/api/2/issue/12732693","key":"HIVE-7653","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2014-08-08T13:45:34.697+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Feb 19 20:08:44 UTC 2015","customfield_12310420":"410721","customfield_12312320":null,"customfield_12310222":"3_*:*_1_*:*_622984028_*|*_10002_*:*_5_*:*_16097887353_*|*_1_*:*_4_*:*_167193108_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2015-02-19T08:56:36.566+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-7653/watchers","watchCount":5,"isWatching":false},"created":"2014-08-07T21:48:52.131+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"7.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326829","id":"12326829","description":"0.13 maintenance release 1","name":"0.13.1","archived":false,"released":true,"releaseDate":"2014-06-06"}],"issuelinks":[{"id":"12429754","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12429754","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12787495","key":"HIVE-10187","self":"https://issues.apache.org/jira/rest/api/2/issue/12787495","fields":{"summary":"Avro backed tables don't handle cyclical or recursive records","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-07-06T16:34:38.535+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Avro allows nullable circular references but Hive AvroSerDe does not.\n\nExample of circular references (passing in Avro but failing in AvroSerDe):\n{code}\nclass AvroCycleParent {\n  AvroCycleChild child;\n  public AvroCycleChild getChild () {return child;}\n  public void setChild (AvroCycleChild child) {this.child = child;}\n}\n\nclass AvroCycleChild {\n  AvroCycleParent parent;\n  public AvroCycleParent getParent () {return parent;}\n  public void setParent (AvroCycleParent parent) {this.parent = parent;}\n}\n{code}\n\nDue to this discrepancy, Hive is unable to read Avro records having circular-references. For some third-party code with such references, it becomes very hard to directly serialize it with Avro and use in Hive.\n\nI have a patch for this with a unit-test and I will submit it shortly.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12660500","id":"12660500","filename":"HIVE-7653.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-07T23:01:06.708+0000","size":17031,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12660500/HIVE-7653.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12660923","id":"12660923","filename":"HIVE-7653.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-11T05:19:50.103+0000","size":18675,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12660923/HIVE-7653.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12665548","id":"12665548","filename":"HIVE-7653.3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-30T06:16:30.910+0000","size":18685,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12665548/HIVE-7653.3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12666512","id":"12666512","filename":"HIVE-7653.4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-09-04T16:58:57.905+0000","size":792,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12666512/HIVE-7653.4.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12666574","id":"12666574","filename":"HIVE-7653.5.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-09-04T20:59:11.253+0000","size":18685,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12666574/HIVE-7653.5.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12699152","id":"12699152","filename":"HIVE-7653.6.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2015-02-16T19:53:29.982+0000","size":17818,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12699152/HIVE-7653.6.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12697550","id":"12697550","filename":"HIVE-7653.6.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-02-09T19:37:42.844+0000","size":17818,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12697550/HIVE-7653.6.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"410714","customfield_12312823":null,"summary":"Hive AvroSerDe does not support circular references in Schema","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14090001","id":"14090001","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"body":"HIVE-7653.1.patch uses a map to store schemas for which Type has been processed already.\nIf they have been processed already, it uses the processed result, thus preventing an infinite loop.\n\nTo see the infinite loop, comment following line in SchemaToTypeInfo.java:\n{code}\nschemaSeenMap.put(schema, primitiveTypeToTypeInfo.get(Schema.Type.NULL));\n{code}\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-07T23:00:40.720+0000","updated":"2014-08-07T23:00:40.720+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14090766","id":"14090766","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 no tests executed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12660500/HIVE-7653.1.patch\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/228/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/228/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-228/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nTests exited with: NonZeroExitCodeException\nCommand 'bash /data/hive-ptest/working/scratch/source-prep.sh' failed with exit status 1 and output '+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]\n+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera\n+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera\n+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin\n+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin\n+ export 'ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m '\n+ ANT_OPTS='-Xmx1g -XX:MaxPermSize=256m '\n+ export 'M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128'\n+ M2_OPTS='-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128'\n+ cd /data/hive-ptest/working/\n+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-228/source-prep.txt\n+ [[ false == \\t\\r\\u\\e ]]\n+ mkdir -p maven ivy\n+ [[ svn = \\s\\v\\n ]]\n+ [[ -n '' ]]\n+ [[ -d apache-svn-trunk-source ]]\n+ [[ ! -d apache-svn-trunk-source/.svn ]]\n+ [[ ! -d apache-svn-trunk-source ]]\n+ cd apache-svn-trunk-source\n+ svn revert -R .\nReverted 'ql/src/test/results/clientpositive/vectorization_9.q.out'\nReverted 'ql/src/test/results/clientpositive/vectorization_14.q.out'\nReverted 'ql/src/test/results/clientpositive/vector_decimal_math_funcs.q.out'\nReverted 'ql/src/test/results/clientpositive/vectorization_short_regress.q.out'\nReverted 'ql/src/test/results/clientpositive/vectorization_16.q.out'\nReverted 'ql/src/test/results/clientpositive/vectorized_parquet.q.out'\nReverted 'ql/src/test/results/clientpositive/vector_cast_constant.q.out'\nReverted 'ql/src/test/results/clientpositive/vector_elt.q.out'\nReverted 'ql/src/test/results/clientpositive/vectorization_div0.q.out'\nReverted 'ql/src/test/results/clientpositive/vector_coalesce.q.out'\nReverted 'ql/src/test/results/clientpositive/vectorization_15.q.out'\nReverted 'ql/src/test/results/clientpositive/vector_decimal_mapjoin.q.out'\nReverted 'ql/src/test/results/clientpositive/vector_between_in.q.out'\nReverted 'ql/src/test/results/clientpositive/vectorized_math_funcs.q.out'\nReverted 'ql/src/test/org/apache/hadoop/hive/ql/exec/vector/TestVectorizationContext.java'\nReverted 'ql/src/test/queries/clientpositive/vector_coalesce.q'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/Vectorizer.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/optimizer/ConstantPropagate.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/exec/vector/expressions/ConstantVectorExpression.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/exec/vector/expressions/VectorExpressionWriterFactory.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizationContext.java'\n++ egrep -v '^X|^Performing status on external'\n++ awk '{print $2}'\n++ svn status --no-ignore\n+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit-hadoop2/target itests/hive-minikdc/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/core/target hcatalog/streaming/target hcatalog/server-extensions/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen service/target contrib/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/Vectorizer.java.orig\n+ svn update\n\nFetching external item into 'hcatalog/src/test/e2e/harness'\nExternal at revision 1616755.\n\nAt revision 1616755.\n+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh\n+ patchFilePath=/data/hive-ptest/working/scratch/build.patch\n+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]\n+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh\n+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch\nThe patch does not appear to apply with p0, p1, or p2\n+ exit 1\n'\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12660500","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2014-08-08T13:45:34.697+0000","updated":"2014-08-08T13:45:34.697+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14092451","id":"14092451","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"body":"Attaching patch file created using\n{code}\ngit diff > HIVE-7653.2.patch\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-11T05:19:50.112+0000","updated":"2014-08-11T05:19:50.112+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14092591","id":"14092591","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12660923/HIVE-7653.2.patch\n\n{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 5889 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization\n{noformat}\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/249/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/249/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-249/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 1 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12660923","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2014-08-11T09:12:49.233+0000","updated":"2014-08-11T09:12:49.233+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14116255","id":"14116255","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"body":"Re-attaching the patch as the build problem seems to be resolved now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-30T06:15:56.541+0000","updated":"2014-08-30T06:15:56.541+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14116259","id":"14116259","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"body":"[~davidzchen], [~sushanth] I see you have good experience with AvroSerDe as per your contribution to HIVE-4329\n\n[~swarnim], [~xuefuz], I see that you guys have also contributed a good deal on HIVE-6147 and have also faced a problem similar to the one I am facing.\n\nCould you please review this patch as well?\nThis is my first patch to HIVE and no one has responded to my review request till now.\nSo I am trying to directly request some experienced folks.\nYour review and comments will be much appreciated.\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-08-30T06:30:48.336+0000","updated":"2014-08-30T06:30:48.336+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14116313","id":"14116313","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12665548/HIVE-7653.3.patch\n\n{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 6133 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hive.hcatalog.pig.TestOrcHCatLoader.testReadDataPrimitiveTypes\norg.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection\n{noformat}\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/576/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/576/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-576/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 2 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12665548","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2014-08-30T09:11:31.085+0000","updated":"2014-08-30T09:11:31.085+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14117116","id":"14117116","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"body":"Adding a dummy patch to see if the tests are still failing.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-09-01T07:27:07.741+0000","updated":"2014-09-01T07:27:07.741+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14118448","id":"14118448","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=swarnim","name":"swarnim","key":"swarnim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Swarnim Kulkarni","active":true,"timeZone":"Etc/UTC"},"body":"[~sachingoyal] Once you are happy with the patch, would you mind opening a review for this? Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=swarnim","name":"swarnim","key":"swarnim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Swarnim Kulkarni","active":true,"timeZone":"Etc/UTC"},"created":"2014-09-02T18:12:25.877+0000","updated":"2014-09-02T18:12:25.877+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14118607","id":"14118607","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"body":"Cancelling current patch and trying a dummy one to see if tests still fail for it","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-09-02T19:44:20.795+0000","updated":"2014-09-02T19:44:20.795+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14118608","id":"14118608","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"body":"Dummy patch with right naming scheme.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-09-02T19:45:09.854+0000","updated":"2014-09-02T19:45:09.854+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14118614","id":"14118614","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"body":"Thank you [~swarnim],   I am trying a dummy patch (with no logical changes).\nI will update the patch with a valid one once tests have run for this dummy patch.\n\nCorresponding review request is https://reviews.apache.org/r/24609/","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-09-02T19:48:03.982+0000","updated":"2014-09-02T19:48:03.982+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14121804","id":"14121804","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:green}Overall{color}: +1 all checks pass\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12666512/HIVE-7653.4.patch\n\n{color:green}SUCCESS:{color} +1 6143 tests passed\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/640/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/640/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-640/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12666512","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2014-09-04T19:37:26.629+0000","updated":"2014-09-04T19:37:26.629+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14122169","id":"14122169","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12666574/HIVE-7653.5.patch\n\n{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 6140 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hive.hcatalog.pig.TestOrcHCatLoader.testReadDataPrimitiveTypes\n{noformat}\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/643/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/643/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-643/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 1 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12666574","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2014-09-04T23:28:36.779+0000","updated":"2014-09-04T23:28:36.779+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14122441","id":"14122441","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"body":"[~swarnim], I have verified that dummy patch is not failing the test.\nSo the problem must be with the actual patch HIVE-7653.5.patch\nI have seen the test in my local installation and built it too but it is not failing.\nI have verified that there are no more local changes on my side than the attached patch.\nAlso my branch is fully updated.\nStill the test fails when submitting the patch.\n\nSo, if you can help me figure out why this one test above is failing, it would be great and much appreciated.\nI am using following command to build:\n{code}\nmvn clean install -Phadoop-2,dist\n{code}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-09-05T05:05:14.159+0000","updated":"2014-09-05T05:05:14.159+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14123002","id":"14123002","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=swarnim","name":"swarnim","key":"swarnim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Swarnim Kulkarni","active":true,"timeZone":"Etc/UTC"},"body":"[~sachingoyal] Is the failing test somehow related to the changes that you are proposing with the patch?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=swarnim","name":"swarnim","key":"swarnim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Swarnim Kulkarni","active":true,"timeZone":"Etc/UTC"},"created":"2014-09-05T14:33:31.285+0000","updated":"2014-09-05T14:33:31.285+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14123308","id":"14123308","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"body":"The patch is for AvroSerDe and is about handling circular references in schema even though Avro allows it.\n\nFix is not too complicated:\nAdd a lookup to store every type while AvroSerDe is processing a given schema.\nIf a given type is seen again, it it used from the lookup thus preventing an infinite loop.\n\nSince this was a missing feature in AvroSerDe, I don't see how my patch is failing a test and that too which is passing on my local.\nSo I don't think it is related to my patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-09-05T18:18:50.140+0000","updated":"2014-09-05T18:18:50.140+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14205970","id":"14205970","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"Hi Sachin, thanks for the patch.  I put some comments/questions on the review board.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2014-11-11T05:35:13.863+0000","updated":"2014-11-11T05:35:13.863+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14312712","id":"14312712","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"body":"Thank you [~szehon], I have incorporated the comments and attached a new patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-02-09T19:37:42.852+0000","updated":"2015-02-09T19:37:42.852+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14314673","id":"14314673","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"I almost forgot this one by now :)\n\nThanks,  pending tests on the new patch. +1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2015-02-10T19:03:31.707+0000","updated":"2015-02-10T19:03:31.707+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14316784","id":"14316784","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"body":"[~szehon], I have included a test in the patch.\nDo you mean the Jenkins tests run by [~hiveqa]?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-02-11T19:07:37.017+0000","updated":"2015-02-11T19:07:37.017+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14323206","id":"14323206","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"Attaching again to trigger HiveQA","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2015-02-16T19:53:29.988+0000","updated":"2015-02-16T19:53:29.988+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14323584","id":"14323584","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12699152/HIVE-7653.6.patch\n\n{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 7550 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_auto_partitioned\norg.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler\n{noformat}\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2809/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2809/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2809/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 2 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12699152 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2015-02-17T02:35:14.959+0000","updated":"2015-02-17T02:35:14.959+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14324792","id":"14324792","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"body":"The above two test failures have absolutely nothing to do with this patch.\nHere are the logs I have seen:\nhttp://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2809/failed/TestPigHBaseStorageHandler/maven-test.txt\nhttp://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2809/failed/TestCliDriver-skewjoin_mapjoin11.q-udf_least.q-sample2.q-and-12-more/maven-test.txt\n\n[~szehon], could you help me find the issue here?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-02-17T20:09:29.665+0000","updated":"2015-02-17T20:09:29.665+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14327134","id":"14327134","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"body":"Yea the test failures dont look related.  Committed to trunk, thanks for the contribution.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=szehon","name":"szehon","key":"szehon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Szehon Ho","active":true,"timeZone":"Europe/Paris"},"created":"2015-02-19T08:56:36.597+0000","updated":"2015-02-19T08:56:36.597+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12732693/comment/14328050","id":"14328050","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"body":"Thank you [~szehon]!\nAppreciate your time on reviewing this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sachingoyal","name":"sachingoyal","key":"sachingoyal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sachin Goyal","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-02-19T20:08:44.764+0000","updated":"2015-02-19T20:08:44.764+0000"}],"maxResults":26,"total":26,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-7653/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1ynw7:"}}