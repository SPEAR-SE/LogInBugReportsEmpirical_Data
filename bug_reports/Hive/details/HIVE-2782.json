{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12541720","self":"https://issues.apache.org/jira/rest/api/2/issue/12541720","key":"HIVE-2782","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12317742","id":"12317742","description":"released","name":"0.9.0","archived":false,"released":true,"releaseDate":"2012-04-30"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-02-08T11:11:58.054+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Jan 09 10:23:34 UTC 2013","customfield_12310420":"227007","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_571969410_*|*_1_*:*_1_*:*_38940533_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-02-15T02:07:06.831+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2782/watchers","watchCount":1,"isWatching":false},"created":"2012-02-08T00:25:16.933+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-01-09T10:23:34.143+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"When using MapReduce2 for Hive\n\nba_table_udfs is failing with unexpected output:\n\n[junit] Begin query: ba_table_udfs.q\n[junit] 12/01/23 13:32:28 WARN conf.Configuration: mapred.system.dir is deprecated. Instead, use mapreduce.jobtracker.system.dir\n[junit] 12/01/23 13:32:28 WARN conf.Configuration: mapred.local.dir is deprecated. Instead, use mapreduce.cluster.local.dir\n[junit] diff -a -I file: -I pfile: -I hdfs: -I /tmp/ -I invalidscheme: -I lastUpdateTime -I lastAccessTime -I [Oo]wner -I CreateTime -I LastAccessTime -I Location -I LOCATION ' -I transient_lastDdlTime -I last_modified_ -I java.lang.RuntimeException -I at org -I at sun -I at java -I at junit -I Caused by: -I LOCK_QUERYID: -I LOCK_TIME: -I grantTime -I [.][.][.] [0-9]* more -I job_[0-9]*_[0-9]* -I USING 'java -cp /home/cloudera/Code/hive/build/ql/test/logs/clientpositive/ba_table_udfs.q.out /home/cloudera/Code/hive/ql/src/test/results/clientpositive/ba_table_udfs.q.out\n[junit] 20,26c20,26\n[junit] < 2\t10val_10\t1\n[junit] < 3\t164val_164\t1\n[junit] < 3\t150val_150\t1\n[junit] < 2\t18val_18\t1\n[junit] < 3\t177val_177\t1\n[junit] < 2\t12val_12\t1\n[junit] < 2\t11val_11\t1\n[junit] —\n[junit] > 3\t120val_120\t1\n[junit] > 3\t192val_192\t1\n[junit] > 3\t119val_119\t1\n[junit] > 3\t187val_187\t1\n[junit] > 3\t176val_176\t1\n[junit] > 3\t199val_199\t1\n[junit] > 3\t118val_118\t1\n[junit] Exception: Client execution results failed with error code = 1\n[junit] See build/ql/tmp/hive.log, or try \"ant test ... -Dtest.silent=false\" to get more logs.\n[junit] junit.framework.AssertionFailedError: Client execution results failed with error code = 1\n[junit] See build/ql/tmp/hive.log, or try \"ant test ... -Dtest.silent=false\" to get more logs.\n[junit] at junit.framework.Assert.fail(Assert.java:50)\n[junit] at org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ba_table_udfs(TestCliDriver.java:129)\n[junit] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[junit] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n[junit] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[junit] at java.lang.reflect.Method.invoke(Method.java:616)\n[junit] at junit.framework.TestCase.runTest(TestCase.java:168)\n[junit] at junit.framework.TestCase.runBare(TestCase.java:134)\n[junit] at junit.framework.TestResult$1.protect(TestResult.java:110)\n[junit] at junit.framework.TestResult.runProtected(TestResult.java:128)\n[junit] at junit.framework.TestResult.run(TestResult.java:113)\n[junit] at junit.framework.TestCase.run(TestCase.java:124)\n[junit] at junit.framework.TestSuite.runTest(TestSuite.java:243)\n[junit] at junit.framework.TestSuite.run(TestSuite.java:238)\n[junit] at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:420)\n[junit] at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:911)\n[junit] at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:768)\n[junit] See build/ql/tmp/hive.log, or try \"ant test ... -Dtest.silent=false\" to get more logs.)\n[junit] Cleaning up TestCliDriver\n[junit] Tests run: 2, Failures: 1, Errors: 0, Time elapsed: 10.751 sec\n[junit] Test org.apache.hadoop.hive.cli.TestCliDriver FAILED\n[for] /home/cloudera/Code/hive/ql/build.xml: The following error occurred while executing this line:\n[for] /home/cloudera/Code/hive/build.xml:328: The following error occurred while executing this line:\n[for] /home/cloudera/Code/hive/build-common.xml:453: Tests failed!","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12513795","id":"12513795","filename":"ASF.LICENSE.NOT.GRANTED--HIVE-2782.D1653.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2012-02-08T11:11:58.777+0000","size":6256,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12513795/ASF.LICENSE.NOT.GRANTED--HIVE-2782.D1653.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12513796","id":"12513796","filename":"HIVE-2782.D1653.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-02-08T11:14:03.768+0000","size":6256,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12513796/HIVE-2782.D1653.1.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"124138","customfield_12312823":null,"summary":"New BINARY type produces unexpected results with supported UDFS when using MapReduce2","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhenxiao","name":"zhenxiao","key":"zhenxiao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhenxiao Luo","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhenxiao","name":"zhenxiao","key":"zhenxiao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhenxiao Luo","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12541720/comment/13203477","id":"13203477","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"cwsteinbach requested code review of \"HIVE-2782 [jira] New BINARY type produces unexpected results with supported UDFS when using MapReduce2\".\nReviewers: JIRA\n\n  HIVE-2782. Make ba_table_udfs.q deterministic\n\n  When using MapReduce2 for Hive\n\n  ba_table_udfs is failing with unexpected output:\n\n  [junit] Begin query: ba_table_udfs.q\n  [junit] 12/01/23 13:32:28 WARN conf.Configuration: mapred.system.dir is deprecated. Instead, use mapreduce.jobtracker.system.dir\n  [junit] 12/01/23 13:32:28 WARN conf.Configuration: mapred.local.dir is deprecated. Instead, use mapreduce.cluster.local.dir\n  [junit] diff -a -I file: -I pfile: -I hdfs: -I /tmp/ -I invalidscheme: -I lastUpdateTime -I lastAccessTime -I [Oo]wner -I CreateTime -I LastAccessTime -I Location -I LOCATION ' -I transient_lastDdlTime -I last_modified_ -I java.lang.RuntimeException -I at org -I at sun -I at java -I at junit -I Caused by: -I LOCK_QUERYID: -I LOCK_TIME: -I grantTime -I [.][.][.] [0-9]* more -I job_[0-9]*_[0-9]* -I USING 'java -cp /home/cloudera/Code/hive/build/ql/test/logs/clientpositive/ba_table_udfs.q.out /home/cloudera/Code/hive/ql/src/test/results/clientpositive/ba_table_udfs.q.out\n  [junit] 20,26c20,26\n  [junit] < 2\t10val_10\t1\n  [junit] < 3\t164val_164\t1\n  [junit] < 3\t150val_150\t1\n  [junit] < 2\t18val_18\t1\n  [junit] < 3\t177val_177\t1\n  [junit] < 2\t12val_12\t1\n  [junit] < 2\t11val_11\t1\n  [junit] —\n  [junit] > 3\t120val_120\t1\n  [junit] > 3\t192val_192\t1\n  [junit] > 3\t119val_119\t1\n  [junit] > 3\t187val_187\t1\n  [junit] > 3\t176val_176\t1\n  [junit] > 3\t199val_199\t1\n  [junit] > 3\t118val_118\t1\n  [junit] Exception: Client execution results failed with error code = 1\n  [junit] See build/ql/tmp/hive.log, or try \"ant test ... -Dtest.silent=false\" to get more logs.\n  [junit] junit.framework.AssertionFailedError: Client execution results failed with error code = 1\n  [junit] See build/ql/tmp/hive.log, or try \"ant test ... -Dtest.silent=false\" to get more logs.\n  [junit] at junit.framework.Assert.fail(Assert.java:50)\n  [junit] at org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ba_table_udfs(TestCliDriver.java:129)\n  [junit] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  [junit] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n  [junit] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  [junit] at java.lang.reflect.Method.invoke(Method.java:616)\n  [junit] at junit.framework.TestCase.runTest(TestCase.java:168)\n  [junit] at junit.framework.TestCase.runBare(TestCase.java:134)\n  [junit] at junit.framework.TestResult$1.protect(TestResult.java:110)\n  [junit] at junit.framework.TestResult.runProtected(TestResult.java:128)\n  [junit] at junit.framework.TestResult.run(TestResult.java:113)\n  [junit] at junit.framework.TestCase.run(TestCase.java:124)\n  [junit] at junit.framework.TestSuite.runTest(TestSuite.java:243)\n  [junit] at junit.framework.TestSuite.run(TestSuite.java:238)\n  [junit] at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:420)\n  [junit] at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:911)\n  [junit] at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:768)\n  [junit] See build/ql/tmp/hive.log, or try \"ant test ... -Dtest.silent=false\" to get more logs.)\n  [junit] Cleaning up TestCliDriver\n  [junit] Tests run: 2, Failures: 1, Errors: 0, Time elapsed: 10.751 sec\n  [junit] Test org.apache.hadoop.hive.cli.TestCliDriver FAILED\n  [for] /home/cloudera/Code/hive/ql/build.xml: The following error occurred while executing this line:\n  [for] /home/cloudera/Code/hive/build.xml:328: The following error occurred while executing this line:\n  [for] /home/cloudera/Code/hive/build-common.xml:453: Tests failed!\n\nTEST PLAN\n  EMPTY\n\nREVISION DETAIL\n  https://reviews.facebook.net/D1653\n\nAFFECTED FILES\n  ql/src/test/queries/clientpositive/ba_table_udfs.q\n  ql/src/test/results/clientpositive/ba_table_udfs.q.out\n\nMANAGE HERALD DIFFERENTIAL RULES\n  https://reviews.facebook.net/herald/view/differential/\n\nWHY DID I GET THIS EMAIL?\n  https://reviews.facebook.net/herald/transcript/3531/\n\nTip: use the X-Herald-Rules header to filter Herald messages in your client.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2012-02-08T11:11:58.054+0000","updated":"2012-02-08T11:11:58.054+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12541720/comment/13203844","id":"13203844","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"You modified the original query in non-trivial way. I am not sure if its an ordering issue. Original query had the order-by and its output also was indeed ordered. Further, if you look at the output diff posted by Zhenxiao, its clear that rows are not out of order, but are rather different. This requires further analysis as to why this query is giving wrong results with MR2. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-02-08T18:55:50.513+0000","updated":"2012-02-08T18:55:50.513+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12541720/comment/13203886","id":"13203886","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"@Ashutosh: here's a slightly reformatted version of the original query from ba_table_udfs.q:\n\n{noformat}\nSELECT\n  LENGTH(CAST(src.key AS BINARY)) AS len,\n  CONCAT(CAST(src.key AS BINARY), CAST(src.value AS BINARY)),\n  SUBSTR(src.value, 5, 1) AS sub\nFROM src\nORDER BY sub\nLIMIT 10;\n{noformat}\n\nI agree that the orignal query has an order by clause, but this ordering is being applied to the fifth character of the src.value field, which takes on the values 1-9. This is not a strong enough condition to guarantee deterministic ordering of the result set. In the modified version of this query that appears in the patch I have instead applied the ordering to the src.value field. I also cast the SUBSTR input as BINARY, which I assume was an oversight in the original patch.\n\n\nIn this patch I have replaced your original query with this new one:\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-02-08T19:35:58.075+0000","updated":"2012-02-08T19:35:58.075+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12541720/comment/13204081","id":"13204081","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhenxiao","name":"zhenxiao","key":"zhenxiao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhenxiao Luo","active":true,"timeZone":"Etc/UTC"},"body":"I think Carl is correct. Order by the fifth character of the src.value field does not guarantee deterministic ordering.\n\nHow about:\n\nSELECT\n  key,\n  value,\n  LENGTH(CAST(src.key AS BINARY)) as key_length,\n  LENGTH(CAST(src.value AS BINARY)) as value_length,\n  CONCAT(CAST(src.key AS BINARY), CAST(src.value AS BINARY)) as key_value_concat,\n  SUBSTR(CAST(src.value AS BINARY), 1, 4) as value_substr\nFROM src\nORDER BY key ASC, value ASC, key_length ASC, value_length ASC, key_value_concat ASC, value_substr ASC\nLIMIT 100;\n\nThis should guarantee the ordering.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhenxiao","name":"zhenxiao","key":"zhenxiao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhenxiao Luo","active":true,"timeZone":"Etc/UTC"},"created":"2012-02-08T22:51:31.455+0000","updated":"2012-02-08T22:51:31.455+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12541720/comment/13204092","id":"13204092","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"@Zhenxiao: Can you please explain how this is an improvement on the version I provided in my patch?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-02-08T23:03:46.985+0000","updated":"2012-02-08T23:03:46.985+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12541720/comment/13204094","id":"13204094","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"{noformat}\n[junit] < 2\t10val_10\t1\n[junit] < 3\t164val_164\t1\n[junit] < 3\t150val_150\t1\n[junit] < 2\t18val_18\t1\n[junit] < 3\t177val_177\t1\n[junit] < 2\t12val_12\t1\n[junit] < 2\t11val_11\t1\n[junit] —\n[junit] > 3\t120val_120\t1\n[junit] > 3\t192val_192\t1\n[junit] > 3\t119val_119\t1\n[junit] > 3\t187val_187\t1\n[junit] > 3\t176val_176\t1\n[junit] > 3\t199val_199\t1\n[junit] > 3\t118val_118\t1\n{noformat}\n\nIf I am reading this correctly, this diff is not showing ordering issues of rows, rather few of the rows are different then whats expected, which then is a correctness issue. Isn't it ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-02-08T23:08:15.438+0000","updated":"2012-02-08T23:08:15.438+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12541720/comment/13204109","id":"13204109","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhenxiao","name":"zhenxiao","key":"zhenxiao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhenxiao Luo","active":true,"timeZone":"Etc/UTC"},"body":"@carl: No problem with the original patch.\n\n@Ashutosh:\n\nMy understanding is,\n\nThe original query:\n\nselect\nlength (cast(src.key as binary)) as len,\nconcat(cast(src.key as binary), cast(src.value as binary)),\nsubstr(src.value, 5,1) as sub\nfrom src\norder by sub\nlimit 10;\n\nHas the order by on sub, which is the fifth character of src.value.\n\nIn the result set, we could see sub is ordered(only showing sub == 1)\n\nWhile, for the len and concat with the same sub, their orders are not deterministic.\n\nEg. \n\n2\t10val_10\t1\n3\t120val_120\t1\n\nboth has sub == 1. but the order of these two tuples is not deterministic.\nsince we only show the top 10 results(limit 10), and there seems are more than 7 tuples with sub == 1, so what shows in the result set is non-deterministic.\n\nCarl solves the problem by providing order into the query.\n\nCorrect me if I am wrong.\n\nThanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhenxiao","name":"zhenxiao","key":"zhenxiao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhenxiao Luo","active":true,"timeZone":"Etc/UTC"},"created":"2012-02-08T23:31:23.396+0000","updated":"2012-02-08T23:31:23.396+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12541720/comment/13204202","id":"13204202","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"@Ashutosh: I also found what I think is a bug in the way SUBSTR handles BINARY inputs. Can you please take a look?\nhttps://issues.apache.org/jira/browse/HIVE-2792\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-02-09T02:30:22.037+0000","updated":"2012-02-09T02:30:22.037+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12541720/comment/13207475","id":"13207475","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"@Ashutosh: Do you have time to take a look at this? Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-02-14T03:04:15.608+0000","updated":"2012-02-14T03:04:15.608+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12541720/comment/13207908","id":"13207908","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"@Carl,\nUnfortunately I don't have time to look at this one right now. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-02-14T18:54:09.828+0000","updated":"2012-02-14T18:54:09.828+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12541720/comment/13207911","id":"13207911","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Oh.. previous comment was for HIVE-2792 I assumed you meant HIVE-2792 in that I am looking at HIVE-2782 right now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-02-14T18:55:53.469+0000","updated":"2012-02-14T18:55:53.469+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12541720/comment/13207915","id":"13207915","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"ashutoshc has accepted the revision \"HIVE-2782 [jira] New BINARY type produces unexpected results with supported UDFS when using MapReduce2\".\n\n  +1 Looks good.\n\nREVISION DETAIL\n  https://reviews.facebook.net/D1653\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2012-02-14T19:01:58.051+0000","updated":"2012-02-14T19:01:58.051+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12541720/comment/13208185","id":"13208185","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"Committed to trunk.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-02-15T02:07:06.867+0000","updated":"2012-02-15T02:07:06.867+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12541720/comment/13208493","id":"13208493","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hive-trunk-h0.21 #1259 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1259/])\n    HIVE-2782 [jira] New BINARY type produces unexpected results with supported UDFS\nwhen using MapReduce2\n\nSummary:\nHIVE-2782. Make ba_table_udfs.q deterministic\n\n\nTest Plan: EMPTY\n\nReviewers: JIRA, ashutoshc\n\nReviewed By: ashutoshc\n\nCC: ashutoshc\n\nDifferential Revision: https://reviews.facebook.net/D1653 (Revision 1244314)\n\n     Result = FAILURE\ncws : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1244314\nFiles : \n* /hive/trunk/ql/src/test/queries/clientpositive/ba_table_udfs.q\n* /hive/trunk/ql/src/test/results/clientpositive/ba_table_udfs.q.out\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2012-02-15T14:17:57.463+0000","updated":"2012-02-15T14:17:57.463+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12541720/comment/13209172","id":"13209172","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"cwsteinbach has committed the revision \"HIVE-2782 [jira] New BINARY type produces unexpected results with supported UDFS when using MapReduce2\".\n\n  Change committed by cws.\n\nREVISION DETAIL\n  https://reviews.facebook.net/D1653\n\nCOMMIT\n  https://reviews.facebook.net/rHIVE1244314\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2012-02-16T06:53:09.136+0000","updated":"2012-02-16T06:53:09.136+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12541720/comment/13265291","id":"13265291","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-04-30T21:11:32.396+0000","updated":"2012-04-30T21:11:32.396+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12541720/comment/13547912","id":"13547912","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hive-trunk-hadoop2 #54 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/54/])\n    HIVE-2782 [jira] New BINARY type produces unexpected results with supported UDFS\nwhen using MapReduce2\n\nSummary:\nHIVE-2782. Make ba_table_udfs.q deterministic\n\n\nTest Plan: EMPTY\n\nReviewers: JIRA, ashutoshc\n\nReviewed By: ashutoshc\n\nCC: ashutoshc\n\nDifferential Revision: https://reviews.facebook.net/D1653 (Revision 1244314)\n\n     Result = ABORTED\ncws : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1244314\nFiles : \n* /hive/trunk/ql/src/test/queries/clientpositive/ba_table_udfs.q\n* /hive/trunk/ql/src/test/results/clientpositive/ba_table_udfs.q.out\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-01-09T10:23:34.143+0000","updated":"2013-01-09T10:23:34.143+0000"}],"maxResults":17,"total":17,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2782/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0llj3:"}}