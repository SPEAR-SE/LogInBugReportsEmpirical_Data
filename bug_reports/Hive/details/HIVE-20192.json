{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13172602","self":"https://issues.apache.org/jira/rest/api/2/issue/13172602","key":"HIVE-20192","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12343343","id":"12343343","name":"4.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12343559","id":"12343559","description":"","name":"3.2.0","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2018-07-17T15:38:31.591+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Jul 23 11:38:06 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_5_*:*_358229037_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_5_*:*_167276292","customfield_12312321":null,"resolutiondate":"2018-07-23T11:38:38.350+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-20192/watchers","watchCount":6,"isWatching":false},"created":"2018-07-17T09:40:13.065+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["HiveServer2","pull-request-available"],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12340268","id":"12340268","name":"3.0.0","archived":false,"released":true,"releaseDate":"2018-05-21"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12343014","id":"12343014","description":"","name":"3.1.0","archived":false,"released":true,"releaseDate":"2018-07-30"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12343343","id":"12343343","name":"4.0.0","archived":false,"released":false}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-07-23T11:38:38.373+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12320408","id":"12320408","name":"HiveServer2","description":"Tracks issues related to HiveServer2"}],"timeoriginalestimate":null,"description":"Hiveserver2 instances where crashing every 3-4 days and observed HS2 in on unresponsive state. Also, observed that the FGC collection happening regularly\r\n\r\nFrom JXray report it is seen that pmCache(List of JDOPersistenceManager objects) is occupying 84% of the heap and there are around 16,000 references of UDFClassLoader.\r\n{code:java}\r\n10,759,230K (84.7%) Object tree for GC root(s) Java Static org.apache.hadoop.hive.metastore.ObjectStore.pmf\r\n- org.datanucleus.api.jdo.JDOPersistenceManagerFactory.pmCache ↘ 10,744,419K (84.6%), 1 reference(s)\r\n  - j.u.Collections$SetFromMap.m ↘ 10,744,419K (84.6%), 1 reference(s)\r\n    - {java.util.concurrent.ConcurrentHashMap}.keys ↘ 10,743,764K (84.5%), 16,872 reference(s)\r\n      - org.datanucleus.api.jdo.JDOPersistenceManager.ec ↘ 10,738,831K (84.5%), 16,872 reference(s)\r\n        ... 3 more references together retaining 4,933K (< 0.1%)\r\n    - java.util.concurrent.ConcurrentHashMap self 655K (< 0.1%), 1 object(s)\r\n      ... 2 more references together retaining 48b (< 0.1%)\r\n- org.datanucleus.api.jdo.JDOPersistenceManagerFactory.nucleusContext ↘ 14,810K (0.1%), 1 reference(s)\r\n... 3 more references together retaining 96b (< 0.1%){code}\r\nWhen the RawStore object is re-created, it is not allowed to be updated into the ThreadWithGarbageCleanup.threadRawStoreMap which leads to the new RawStore never gets cleaned-up when the thread exit.\r\n\r\n ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12343343","id":"12343343","name":"4.0.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12343559","id":"12343559","description":"","name":"3.2.0","archived":false,"released":false}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12932378","id":"12932378","filename":"HIVE-20192.01.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-07-20T07:58:19.146+0000","size":4187,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12932378/HIVE-20192.01.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12932678","id":"12932678","filename":"HIVE-20192.01-branch-3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-07-23T09:32:20.652+0000","size":4050,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12932678/HIVE-20192.01-branch-3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12932642","id":"12932642","filename":"HIVE-20192.02.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-07-23T05:05:52.397+0000","size":4187,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12932642/HIVE-20192.02.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"HS2 with embedded metastore is leaking JDOPersistenceManager objects.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16546802","id":"16546802","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vihangk1","name":"vihangk1","key":"vihangk1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vihang Karajgaonkar","active":true,"timeZone":"America/Los_Angeles"},"body":"Does this happen when HMS is embedded in HS2? In case of remote HMS we avoid leaking {{JDOPersistenceManager}} by issuing a {{cleanupRawStore}} in {{deleteContext}}. May be we need to the same in HS2 by detecting if HMS is in embedded mode.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vihangk1","name":"vihangk1","key":"vihangk1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vihang Karajgaonkar","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-07-17T15:38:31.591+0000","updated":"2018-07-17T15:38:31.591+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16547460","id":"16547460","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"body":"Yes, it is happening with embedded metastore in HS2. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-07-18T06:44:12.018+0000","updated":"2018-07-18T06:44:12.018+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16548007","id":"16548007","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user sankarh opened a pull request:\n\n    https://github.com/apache/hive/pull/402\n\n    HIVE-20192: HS2 with embedded metastore is leaking JDOPersistenceManager objects.\n\n    \n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/sankarh/hive HIVE-20192\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/hive/pull/402.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #402\n    \n----\ncommit fdd94019ca5c2616d796905fd7748c9aa77c9a12\nAuthor: Sankar Hariappan <mailtosankarh@...>\nDate:   2018-07-18T14:14:55Z\n\n    HIVE-20192: HS2 with embedded metastore is leaking JDOPersistenceManager objects.\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2018-07-18T16:02:47.967+0000","updated":"2018-07-18T16:02:47.967+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16548268","id":"16548268","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"| (/) *{color:green}+1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n|| || || || {color:brown} master Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  1m 24s{color} | {color:blue} Maven dependency ordering for branch {color} |\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 45s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  1m  8s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 19s{color} | {color:green} master passed {color} |\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  3m  2s{color} | {color:blue} standalone-metastore/metastore-common in master has 218 extant Findbugs warnings. {color} |\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 40s{color} | {color:blue} service in master has 48 extant Findbugs warnings. {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 30s{color} | {color:green} master passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 24s{color} | {color:blue} Maven dependency ordering for patch {color} |\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  1m 14s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  1m  3s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  1m  3s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 18s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  3m 53s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 30s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 14s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 24m  3s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |\r\n| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-12672/dev-support/hive-personality.sh |\r\n| git revision | master / bac1d98 |\r\n| Default Java | 1.8.0_111 |\r\n| findbugs | v3.0.0 |\r\n| modules | C: standalone-metastore/metastore-common service U: . |\r\n| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-12672/yetus.txt |\r\n| Powered by | Apache Yetus    http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-07-18T18:54:12.815+0000","updated":"2018-07-18T18:54:12.815+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16548300","id":"16548300","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12932101/HIVE-20192.01.patch\n\n{color:red}ERROR:{color} -1 due to no test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 14638 tests executed\n*Failed tests:*\n{noformat}\nTestCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=1)\n\t[udf_upper.q,ctas_date.q,schema_evol_orc_acidvec_table_update.q,groupby_grouping_sets3.q,vector_decimal_5.q,bucket_map_join_spark4.q,timestamp_2.q,schema_evol_orc_acid_table_update_llap_io.q,date_join1.q,constprog_type.q,timestamp_ints_casts.q,udf_negative.q,orc_merge_diff_fs.q,udf_substring_index.q,results_cache_lifetime.q,cross_prod_3.q,masking_12.q,diff_part_input_formats.q,auto_join_without_localtask.q,join46.q,ctas_uses_table_location.q,tez_bmj_schema_evolution.q,bucketmapjoin4.q,udf_context_aware.q,groupby2_noskew.q,authorization_non_id.q,mapjoin_test_outer.q,vectorization_9.q,input15.q,udf_PI.q]\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/12672/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/12672/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-12672/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.YetusPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 1 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12932101 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-07-18T19:29:10.811+0000","updated":"2018-07-18T19:29:10.811+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16548516","id":"16548516","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12932101/HIVE-20192.01.patch\n\n{color:red}ERROR:{color} -1 due to build exiting with an error\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/12679/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/12679/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-12679/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nTests exited with: Exception: Patch URL https://issues.apache.org/jira/secure/attachment/12932101/HIVE-20192.01.patch was found in seen patch url's cache and a test was probably run already on it. Aborting...\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12932101 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-07-18T22:48:21.857+0000","updated":"2018-07-18T22:48:21.857+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16548970","id":"16548970","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"body":"[~vgumashta], [~vihangk1], would you like to take a look at the patch?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-07-19T08:12:42.104+0000","updated":"2018-07-19T10:31:48.284+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16549740","id":"16549740","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12932101/HIVE-20192.01.patch\n\n{color:red}ERROR:{color} -1 due to build exiting with an error\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/12702/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/12702/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-12702/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nTests exited with: Exception: Patch URL https://issues.apache.org/jira/secure/attachment/12932101/HIVE-20192.01.patch was found in seen patch url's cache and a test was probably run already on it. Aborting...\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12932101 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-07-19T19:35:07.983+0000","updated":"2018-07-19T19:35:07.983+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16549956","id":"16549956","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vihangk1","name":"vihangk1","key":"vihangk1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vihang Karajgaonkar","active":true,"timeZone":"America/Los_Angeles"},"body":"I took a look at the patch it is unclear to me why the leak is happening. I see that in the initializeHelper method if there is a exception you are issuing a shutdown on the ObjectStore to clean up persistenceManager but shouldn't this uncaught exception cause the thread to be closed in the first place and thereby cleaning up the threadlocal rawstore anyways? Is it better to issue a shutdown on the threadlocal rawstore from {{ThriftBinaryCLIService#deleteContext}} method instead? Based on my understanding it looks like we are trying to keep track of the threadlocal rawstore using custom implementation of Thread in a map and depend on finalize method to do cleanup. This in theory means that cleanup is only happening when the threads are GCed instead of doing it as soon as when sessions are closed. Also, if a thrift thread is reused there would already be an entry in the {{threadRawStoreMap}} and {{cacheThreadLocalRawStore}} will overwrite that entry which can also cause a leak. This can potentially be verified by keeping the min threads and max threads as equal (so no thread is ever GCed) you keep opening and closing connections to HMS, eventually these threadLocalRawstore should pile up.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vihangk1","name":"vihangk1","key":"vihangk1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vihang Karajgaonkar","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-07-19T22:33:54.379+0000","updated":"2018-07-19T22:33:54.379+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16550297","id":"16550297","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"body":"Thanks for the feedback [~vihangk1]!\r\n\r\n{quote}\r\n\r\nI see that in the initializeHelper method if there is a exception you are issuing a shutdown on the ObjectStore to clean up persistenceManager but shouldn't this uncaught exception cause the thread to be closed in the first place and thereby cleaning up the threadlocal rawstore anyways?\r\n\r\n{quote}\r\n\r\n- The PersistenceManagerFactory object \"pmf\" is a static object which keeps references of the allocated PersistenceManager in pmCache Map. That's why PersistenceManager doesn't get GC'ed and need explicit shutdown for any exception. In this case we retry instead of closing the thread which overwrites the pm object and leaks the old one.\r\n\r\n{quote}\r\n\r\nIs it better to issue a shutdown on the threadlocal rawstore from {{ThriftBinaryCLIService#deleteContext}} method instead?\r\n\r\n{quote}\r\n\r\n- That's a good point. But, I'm not sure if there is any reason for keeping the current implementation with  threadRawStoreMap.\r\n\r\n{quote}\r\n\r\nBased on my understanding it looks like we are trying to keep track of the threadlocal rawstore using custom implementation of Thread in a map and depend on finalize method to do cleanup. This in theory means that cleanup is only happening when the threads are GCed instead of doing it as soon as when sessions are closed. Also, if a thrift thread is reused there would already be an entry in the {{threadRawStoreMap}} and {{cacheThreadLocalRawStore}} will overwrite that entry which can also cause a leak. This can potentially be verified by keeping the min threads and max threads as equal (so no thread is ever GCed) you keep opening and closing connections to HMS, eventually these threadLocalRawstore should pile up.\r\n\r\n{quote}\r\n\r\n- I think, overwriting the entry by cacheThreadLocalRawStore doesn't cause any leak, because, it overwrites with thread local rawStore which is active in this thread. If the thread local rawStore is changed, it means, the older one was already shutdown gracefully before re-create. Also, threadRawStoreMap shouldn't pile up as we use the same thread id. \r\n\r\nPlease let me know if I miss anything.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-07-20T06:42:59.793+0000","updated":"2018-07-20T06:42:59.793+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16551100","id":"16551100","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vihangk1","name":"vihangk1","key":"vihangk1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vihang Karajgaonkar","active":true,"timeZone":"America/Los_Angeles"},"body":"{quote} The PersistenceManagerFactory object \"pmf\" is a static object which keeps references of the allocated PersistenceManager in pmCache Map. That's why PersistenceManager doesn't get GC'ed and need explicit shutdown for any exception. In this case we retry instead of closing the thread which overwrites the pm object and leaks the old one. {quote}\r\n\r\nI see. Thanks for the explanation.\r\n\r\n{quote}I think, overwriting the entry by cacheThreadLocalRawStore doesn't cause any leak, because, it overwrites with thread local rawStore which is active in this thread. If the thread local rawStore is changed, it means, the older one was already shutdown gracefully before re-create. Also, threadRawStoreMap shouldn't pile up as we use the same thread id. {quote}\r\n\r\nI think you are right. Looks like the model of cleaning up is optimistic in the sense in case the thread is reused, {{Hive#getInternal}} method does some checks to make sure if we can reuse this threadlocal rawstore and cleans it up in case the owner is different or the config is not compatible. So looks like we are good in case of thread re-use because the object which is being overwritten in the {{ThreadWithGarbageCleanup.threadRawStoreMap}} is either replaced with the same object or when the previous one was closed. So that code path looks good to me. This is all very tricky business and I hope there is no other code path which is still leaking the rawstore. \r\n\r\nThis patch looks good to me. +1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vihangk1","name":"vihangk1","key":"vihangk1","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vihang Karajgaonkar","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-07-20T18:24:48.313+0000","updated":"2018-07-20T18:24:48.313+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16552336","id":"16552336","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"body":"Thanks for the review [~vihangk1]!\r\n\r\nAttaching 02.patch after rebasing with master. No code changes.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-07-23T05:06:29.587+0000","updated":"2018-07-23T05:06:29.587+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16552377","id":"16552377","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n|| || || || {color:brown} master Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 46s{color} | {color:blue} Maven dependency ordering for branch {color} |\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  7m 20s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 50s{color} | {color:green} master passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 19s{color} | {color:green} master passed {color} |\r\n| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m 39s{color} | {color:blue} service in master has 48 extant Findbugs warnings. {color} |\r\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 14s{color} | {color:red} metastore-server in master failed. {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 40s{color} | {color:green} master passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  9s{color} | {color:blue} Maven dependency ordering for patch {color} |\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 58s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 51s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 51s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 19s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 13s{color} | {color:red} metastore-server in the patch failed. {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 38s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 13s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 15m 30s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |\r\n| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /data/hiveptest/working/yetus_PreCommit-HIVE-Build-12787/dev-support/hive-personality.sh |\r\n| git revision | master / 68b129d |\r\n| Default Java | 1.8.0_111 |\r\n| findbugs | v3.0.0 |\r\n| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-12787/yetus/branch-findbugs-standalone-metastore_metastore-server.txt |\r\n| findbugs | http://104.198.109.242/logs//PreCommit-HIVE-Build-12787/yetus/patch-findbugs-standalone-metastore_metastore-server.txt |\r\n| modules | C: service standalone-metastore/metastore-server U: . |\r\n| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-12787/yetus.txt |\r\n| Powered by | Apache Yetus    http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-07-23T06:17:26.770+0000","updated":"2018-07-23T06:17:26.770+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16552404","id":"16552404","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12932642/HIVE-20192.02.patch\n\n{color:red}ERROR:{color} -1 due to no test(s) being added or modified.\n\n{color:green}SUCCESS:{color} +1 due to 14681 tests passed\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/12787/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/12787/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-12787/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.YetusPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12932642 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-07-23T07:01:28.346+0000","updated":"2018-07-23T07:01:28.346+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16552500","id":"16552500","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"body":"02.patch is committed to master!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-07-23T08:51:25.467+0000","updated":"2018-07-23T08:51:25.467+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16552501","id":"16552501","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user sankarh closed the pull request at:\n\n    https://github.com/apache/hive/pull/402\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2018-07-23T08:52:31.316+0000","updated":"2018-07-23T08:52:31.316+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16552561","id":"16552561","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"body":"Attached patch for branch-3.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-07-23T09:32:40.375+0000","updated":"2018-07-23T09:32:40.375+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16552569","id":"16552569","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:red}-1{color} | {color:red} patch {color} | {color:red}  0m 15s{color} | {color:red} /data/hiveptest/logs/PreCommit-HIVE-Build-12790/patches/PreCommit-HIVE-Build-12790.patch does not apply to master. Rebase required? Wrong Branch? See http://cwiki.apache.org/confluence/display/Hive/HowToContribute for help. {color} |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-12790/yetus.txt |\r\n| Powered by | Apache Yetus    http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-07-23T09:48:37.459+0000","updated":"2018-07-23T09:48:37.459+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16552663","id":"16552663","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12932678/HIVE-20192.01-branch-3.patch\n\n{color:red}ERROR:{color} -1 due to no test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 97 failed/errored test(s), 14404 tests executed\n*Failed tests:*\n{noformat}\nTestAddPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestAddPartitionsFromPartSpec - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestAdminUser - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestAggregateStatsCache - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestAlterPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestAppendPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestBeeLineDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=271)\nTestCachedStore - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestCatalogCaching - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestCatalogNonDefaultClient - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestCatalogNonDefaultSvr - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestCatalogOldClient - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestCatalogs - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestCheckConstraint - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestDataSourceProviderFactory - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestDatabases - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestDeadline - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestDefaultConstraint - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestDropPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestDummy - did not produce a TEST-*.xml file (likely timed out) (batchId=271)\nTestEmbeddedHiveMetaStore - did not produce a TEST-*.xml file (likely timed out) (batchId=229)\nTestExchangePartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestFMSketchSerialization - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestFilterHooks - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestForeignKey - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestFunctions - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestGetPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestGetTableMeta - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestHLLNoBias - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestHLLSerialization - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestHdfsUtils - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestHiveAlterHandler - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestHiveMetaStoreGetMetaConf - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestHiveMetaStorePartitionSpecs - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestHiveMetaStoreSchemaMethods - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestHiveMetaStoreTimeout - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestHiveMetaStoreTxns - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestHiveMetaStoreWithEnvironmentContext - did not produce a TEST-*.xml file (likely timed out) (batchId=231)\nTestHiveMetastoreCli - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestHyperLogLog - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestHyperLogLogDense - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestHyperLogLogMerge - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestHyperLogLogSparse - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestJSONMessageDeserializer - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestListPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestLockRequestBuilder - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestMarkPartition - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestMarkPartitionRemote - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestMetaStoreConnectionUrlHook - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestMetaStoreEndFunctionListener - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestMetaStoreEventListener - did not produce a TEST-*.xml file (likely timed out) (batchId=232)\nTestMetaStoreEventListenerOnlyOnCommit - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestMetaStoreEventListenerWithOldConf - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestMetaStoreInitListener - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestMetaStoreListenersError - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestMetaStoreSchemaFactory - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestMetaStoreSchemaInfo - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestMetaStoreUtils - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestMetastoreConf - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestMetastoreSchemaTool - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestMetrics - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestMiniDruidCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=271)\nTestMiniDruidKafkaCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=271)\nTestNotNullConstraint - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestObjectStore - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestObjectStoreInitRetry - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestObjectStoreSchemaMethods - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestOldSchema - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestPartitionNameWhitelistValidation - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestPrimaryKey - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestRawStoreProxy - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestRemoteHiveMetaStore - did not produce a TEST-*.xml file (likely timed out) (batchId=230)\nTestRemoteHiveMetaStoreIpAddress - did not produce a TEST-*.xml file (likely timed out) (batchId=224)\nTestRemoteUGIHiveMetaStoreIpAddress - did not produce a TEST-*.xml file (likely timed out) (batchId=233)\nTestRetriesInRetryingHMSHandler - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestRetryingHMSHandler - did not produce a TEST-*.xml file (likely timed out) (batchId=234)\nTestRuntimeStats - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestSchemaToolForMetastore - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestSetUGIOnBothClientServer - did not produce a TEST-*.xml file (likely timed out) (batchId=227)\nTestSetUGIOnOnlyClient - did not produce a TEST-*.xml file (likely timed out) (batchId=225)\nTestSetUGIOnOnlyServer - did not produce a TEST-*.xml file (likely timed out) (batchId=235)\nTestSparseEncodeHash - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestStats - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestStatsSetupConst - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestTableIterable - did not produce a TEST-*.xml file (likely timed out) (batchId=236)\nTestTablesCreateDropAlterTruncate - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestTablesGetExists - did not produce a TEST-*.xml file (likely timed out) (batchId=228)\nTestTablesList - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestTezPerfCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=271)\nTestTxnHandlerNegative - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestTxnUtils - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\nTestUniqueConstraint - did not produce a TEST-*.xml file (likely timed out) (batchId=226)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[results_cache_with_masking] (batchId=174)\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[vector_outer_join2] (batchId=185)\norg.apache.hadoop.hive.ql.TestWarehouseExternalDir.testManagedPaths (batchId=248)\norg.apache.hive.service.TestHS2ImpersonationWithRemoteMS.testImpersonation (batchId=256)\norg.apache.hive.spark.client.rpc.TestRpc.testServerPort (batchId=323)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/12790/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/12790/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-12790/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.YetusPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 97 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12932678 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2018-07-23T11:01:53.595+0000","updated":"2018-07-23T11:01:53.595+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13172602/comment/16552692","id":"16552692","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"body":"Test failures are irrelevant to this patch and also fails for some other builds too.\r\n\r\n01-branch-3.patch is committed to branch-3.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sankarh","name":"sankarh","key":"sankarh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sankarh&avatarId=29945","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sankarh&avatarId=29945","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sankarh&avatarId=29945","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sankarh&avatarId=29945"},"displayName":"Sankar Hariappan","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-07-23T11:38:06.058+0000","updated":"2018-07-23T11:38:06.058+0000"}],"maxResults":20,"total":20,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-20192/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3vyv3:"}}