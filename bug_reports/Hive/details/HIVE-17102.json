{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13087413","self":"https://issues.apache.org/jira/rest/api/2/issue/13087413","key":"HIVE-17102","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2017-07-29T08:03:58.965+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Jul 29 08:12:42 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_270768_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2017-07-16T04:49:11.676+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-17102/watchers","watchCount":2,"isWatching":false},"created":"2017-07-16T04:44:40.951+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329345","id":"12329345","description":"Hive 1.2.0","name":"1.2.0","archived":false,"released":true,"releaseDate":"2015-05-18"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anubhavtarar","name":"anubhavtarar","key":"anubhavtarar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"anubhav tarar","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-07-29T08:12:42.540+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312589","id":"12312589","name":"Documentation","description":"Tracks documentation bugs."}],"timeoriginalestimate":null,"description":"i tried to do vectorized execution in hive by using hive cwiki but example do not seems to work\n\nstep1:created a orc table\n\nhive> create table Addresses (\n    >   name string,\n    >   street string,\n    >   city string,\n    >   state string,\n    >   zip int\n    > ) stored as orc tblproperties (\"orc.compress\"=\"NONE\");\n\nstep2:insert the values in table \n\nhive> insert into Addresses values('anubhav','ggn','ggn','haryana','122001');\nQuery ID = hduser_20170716093152_14774003-d2c4-4620-b773-ca17cafd902b\nTotal jobs = 1\nLaunching Job 1 out of 1\nNumber of reduce tasks is set to 0 since there's no reduce operator\nListening for transport dt_socket at address: 5005\nJob running in-process (local Hadoop)\n2017-07-16 09:31:59,689 Stage-1 map = 100%,  reduce = 0%\nEnded Job = job_local1858411694_0004\nStage-4 is selected by condition resolver.\nStage-3 is filtered out by condition resolver.\nStage-5 is filtered out by condition resolver.\nMoving data to: hdfs://localhost:54310/user/hive/warehouse/addresses/.hive-staging_hive_2017-07-16_09-31-52_428_7861150459629073282-1/-ext-10000\nLoading data to table default.addresses\nTable default.addresses stats: [numFiles=1, numRows=1, totalSize=713, rawDataSize=360]\nMapReduce Jobs Launched: \nStage-Stage-1:  HDFS Read: 778 HDFS Write: 818 SUCCESS\nTotal MapReduce CPU Time Spent: 0 msec\n\nstep3:query the table with explain command\nhive> set hive.vectorized.execution.enabled = true;\n\nhive> explain select name from Addresses where zip>1;\nOK\nSTAGE DEPENDENCIES:\n  Stage-0 is a root stage\n\nSTAGE PLANS:\n  Stage: Stage-0\n    Fetch Operator\n      limit: -1\n      Processor Tree:\n        TableScan\n          alias: addresses\n          Statistics: Num rows: 1 Data size: 360 Basic stats: COMPLETE Column stats: NONE\n          Filter Operator\n            predicate: (zip > 1) (type: boolean)\n            Statistics: Num rows: 1 Data size: 360 Basic stats: COMPLETE Column stats: NONE\n            Select Operator\n              expressions: name (type: string)\n              outputColumnNames: _col0\n              Statistics: Num rows: 1 Data size: 360 Basic stats: COMPLETE Column stats: NONE\n              ListSink\n\nTime taken: 0.081 seconds, Fetched: 20 row(s)\n\nnote:in explain command there is not vectorized reader applied\n\nreason for failiure is that When Fetch is used in the plan instead of Map, it do not vectorize\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Example For Vectorized Execution in Hive in Cwiki not Seems to Work","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anubhavtarar","name":"anubhavtarar","key":"anubhavtarar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"anubhav tarar","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anubhavtarar","name":"anubhavtarar","key":"anubhavtarar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"anubhav tarar","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13087413/comment/16088804","id":"16088804","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anubhavtarar","name":"anubhavtarar","key":"anubhavtarar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"anubhav tarar","active":true,"timeZone":"Etc/UTC"},"body":"i updated hive cwiki for the same \n\nhttps://cwiki.apache.org/confluence/display/Hive/Vectorized+Query+Execution","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anubhavtarar","name":"anubhavtarar","key":"anubhavtarar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"anubhav tarar","active":true,"timeZone":"Etc/UTC"},"created":"2017-07-16T04:46:43.037+0000","updated":"2017-07-16T04:46:43.037+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13087413/comment/16106067","id":"16106067","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=leftylev","name":"leftylev","key":"lefty@hortonworks.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lefty%40hortonworks.com&avatarId=15906","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lefty%40hortonworks.com&avatarId=15906","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lefty%40hortonworks.com&avatarId=15906","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lefty%40hortonworks.com&avatarId=15906"},"displayName":"Lefty Leverenz","active":true,"timeZone":"America/New_York"},"body":"[~anubhavtarar], your new example does not show what is supposed to be shown in that section:  \"Vectorized execution: true\" notation in an explain output.  We need an example showing vectorization as well as your example showing absence of vectorization.\n\nCan you modify the original example to make it accurate, then give your example after it?  (Page History is available in the \". . .\" drop-down menu on the upper right corner of the page.)\n\n* [Vectorized Query Execution -- Seeing whether vectorization is used for a query | https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=73630110#VectorizedQueryExecution-Seeingwhethervectorizationisusedforaquery]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=leftylev","name":"leftylev","key":"lefty@hortonworks.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lefty%40hortonworks.com&avatarId=15906","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lefty%40hortonworks.com&avatarId=15906","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lefty%40hortonworks.com&avatarId=15906","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lefty%40hortonworks.com&avatarId=15906"},"displayName":"Lefty Leverenz","active":true,"timeZone":"America/New_York"},"created":"2017-07-29T08:03:58.965+0000","updated":"2017-07-29T08:03:58.965+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13087413/comment/16106070","id":"16106070","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=leftylev","name":"leftylev","key":"lefty@hortonworks.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lefty%40hortonworks.com&avatarId=15906","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lefty%40hortonworks.com&avatarId=15906","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lefty%40hortonworks.com&avatarId=15906","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lefty%40hortonworks.com&avatarId=15906"},"displayName":"Lefty Leverenz","active":true,"timeZone":"America/New_York"},"body":"Also, why does your explain output have table name \"alltypesorc\" with alias \"vectorizedtable\" when your CREATE TABLE statement just names the table \"vectorizedtable\"?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=leftylev","name":"leftylev","key":"lefty@hortonworks.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lefty%40hortonworks.com&avatarId=15906","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lefty%40hortonworks.com&avatarId=15906","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lefty%40hortonworks.com&avatarId=15906","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lefty%40hortonworks.com&avatarId=15906"},"displayName":"Lefty Leverenz","active":true,"timeZone":"America/New_York"},"created":"2017-07-29T08:12:42.540+0000","updated":"2017-07-29T08:12:42.540+0000"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-17102/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3hkhz:"}}