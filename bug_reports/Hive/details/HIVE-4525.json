{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12646739","self":"https://issues.apache.org/jira/rest/api/2/issue/12646739","key":"HIVE-4525","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324312","id":"12324312","description":"released","name":"0.12.0","archived":false,"released":true,"releaseDate":"2013-10-15"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-05-11T07:47:13.539+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Sep 22 21:28:40 UTC 2015","customfield_12310420":"327097","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_5253728142_*|*_1_*:*_1_*:*_1889440330_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-07-30T17:28:21.577+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-4525/watchers","watchCount":10,"isWatching":false},"created":"2013-05-09T01:15:33.124+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikhail","name":"mikhail","key":"mikhail","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikhail Bautin","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-09-22T21:28:40.688+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"TimestampWritable currently serializes timestamps using the lower 31 bits of an int. This does not allow to store timestamps earlier than 1970 or later than a certain point in 2038.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12582775","id":"12582775","filename":"D10755.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-05-11T07:47:13.711+0000","size":38985,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12582775/D10755.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12583422","id":"12583422","filename":"D10755.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-05-16T01:55:16.016+0000","size":39402,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12583422/D10755.2.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"327441","customfield_12312823":null,"summary":"Support timestamps earlier than 1970 and later than 2038","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikhail","name":"mikhail","key":"mikhail","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikhail Bautin","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikhail","name":"mikhail","key":"mikhail","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikhail Bautin","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/13652676","id":"13652676","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikhail","name":"mikhail","key":"mikhail","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikhail Bautin","active":true,"timeZone":"America/Los_Angeles"},"body":"h4. Design proposal\n\nWe have to be able to read the current {{TimestampWritable}}-serializable format for backward-compatibility, and write the format recognizable by the current {{TimestampWritable}} implementation for timestamps within the currently supported range. We can use the negative range of the {{VInt}} in the binary representation of the timestamp that normally represents the reversed decimal part to indicate the presence of an additional {{VInt}} field that stores the remaining bits of the {{seconds}} number (i.e. {{seconds >> 31}}). The meaning of the 7th bit of the first byte then changes from \"has decimal\" to \"has decimal or >31 bits of seconds\".\n\nThe following table summarizes the four logical cases of timestamp serialization. The first two are backward-compatible. The second two cases are unsupported by the current format, so they will not be recognized by the current version.\n\n|| Seconds need >31 bits || Has decimal || 7th bit of the first byte || First VInt || Second VInt ||\n| No | No | {{0}} | N/A | N/A |\n| No | Yes | {{1}} | {{reversedDecimal}} | N/A |\n| Yes | No | {{1}} | {{-1}} | {{seconds >> 31}} |\n| Yes | Yes | {{1}} | {{-2 - reversedDecimal}} | {{seconds >> 31}} |\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikhail","name":"mikhail","key":"mikhail","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikhail Bautin","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-09T02:14:54.296+0000","updated":"2013-05-09T02:14:54.296+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/13652709","id":"13652709","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikhail","name":"mikhail","key":"mikhail","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikhail Bautin","active":true,"timeZone":"America/Los_Angeles"},"body":"Also, the binary-sortable representation of timestamps would have to change to accommodate additional high-order bits. If a 4-byte second-precision timestamp covers 68 years (or 136 if signed), by adding one most-significant byte we can cover 17408 (or 34816) years, which is good enough for all practical purposes.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikhail","name":"mikhail","key":"mikhail","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikhail Bautin","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-09T03:32:21.575+0000","updated":"2013-05-09T03:32:21.575+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/13655192","id":"13655192","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"mbautin requested code review of \"[jira] [HIVE-4525] Support timestamps earlier than 1970 and later than 2038\".\n\nReviewers: JIRA, ashutoshc, sdong, cwsteinbach, omalley\n\nTimestampWritable currently serializes timestamps using the lower 31 bits of an int. This does not allow to store timestamps earlier than 1970 or later than approximately 03:14:07 UTC on 01/19/2038. This patch modifies TimestampWritable to support all timestamps that can be represented by java.sql.Timestamp.\n\n\nTEST PLAN\n  - An extensive new TimestampWritable unit test\n  - Existing unit tests\n\n\nREVISION DETAIL\n  https://reviews.facebook.net/D10755\n\nAFFECTED FILES\n  hcatalog/storage-handlers/hbase/src/java/org/apache/hcatalog/hbase/snapshot/RevisionManagerFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java\n  serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java\n  serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java\n  serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java\n  serde/src/test/org/apache/hadoop/hive/serde2/io/TestTimestampWritable.java\n\nMANAGE HERALD RULES\n  https://reviews.facebook.net/herald/view/differential/\n\nWHY DID I GET THIS EMAIL?\n  https://reviews.facebook.net/herald/transcript/25737/\n\nTo: JIRA, ashutoshc, sdong, cwsteinbach, omalley, mbautin\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-05-11T07:47:13.539+0000","updated":"2013-05-11T07:47:13.539+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/13656141","id":"13656141","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikhail","name":"mikhail","key":"mikhail","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikhail Bautin","active":true,"timeZone":"America/Los_Angeles"},"body":"Correction to the design of this feature (I can't edit comments because of permissions, so adding another comment). In case the seconds field needs more than 31 bit, the first VInt is {{-1-reversedDecimal}} regardless of whether {{reversedDecimal}} is zero or not.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikhail","name":"mikhail","key":"mikhail","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikhail Bautin","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-13T17:22:22.509+0000","updated":"2013-05-13T17:22:22.509+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/13656226","id":"13656226","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ehans","name":"ehans","key":"ehans","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ehans&avatarId=16468","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ehans&avatarId=16468","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ehans&avatarId=16468","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ehans&avatarId=16468"},"displayName":"Eric Hanson","active":true,"timeZone":"America/Los_Angeles"},"body":"For vectorized query execution (HIVE-4160), we are going to represent a timestamp value internally as a vector of 64 bit integers representing the number of nanos since the epoch (in 1970). Given your proposal to also support time values before 1970, I'd propose that for vectorized QE we extend this so a negative number of nanos is used to represent a value before 1970. This gives a range of 292 years before or after 1970, good enough for practical purposes. Data outside that range might first not be supported for vectorized QE, and then later might be supported but revert to a slower code path.\n\nWe may want to consider that the storage layer (say ORC) store timestamps simply as a long, so it is not as expensive to flow this data into vectorized query execution. With compression, these long values will compress pretty well, so the storage layout becomes less of a concern and query execution speed becomes the more pressing issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ehans","name":"ehans","key":"ehans","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ehans&avatarId=16468","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ehans&avatarId=16468","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ehans&avatarId=16468","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ehans&avatarId=16468"},"displayName":"Eric Hanson","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-13T18:33:15.657+0000","updated":"2013-05-13T18:33:15.657+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/13656271","id":"13656271","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikhail","name":"mikhail","key":"mikhail","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikhail Bautin","active":true,"timeZone":"America/Los_Angeles"},"body":"[~ehans]: switching to long nanosecond timestamps would definitely be a much nicer solution, but don't you think it would break backward-compatibility for timestamps serialized using the old format?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikhail","name":"mikhail","key":"mikhail","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikhail Bautin","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-13T19:29:11.862+0000","updated":"2013-05-13T19:29:11.862+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/13656479","id":"13656479","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ehans","name":"ehans","key":"ehans","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ehans&avatarId=16468","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ehans&avatarId=16468","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ehans&avatarId=16468","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ehans&avatarId=16468"},"displayName":"Eric Hanson","active":true,"timeZone":"America/Los_Angeles"},"body":"Yes, so you'd have to support both at least for an extended period of time. It would be a performance enhancement and you'd need to maintain backward compatibility for older data.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ehans","name":"ehans","key":"ehans","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ehans&avatarId=16468","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ehans&avatarId=16468","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ehans&avatarId=16468","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ehans&avatarId=16468"},"displayName":"Eric Hanson","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-13T22:41:02.859+0000","updated":"2013-05-13T22:41:02.859+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/13659128","id":"13659128","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikhail","name":"mikhail","key":"mikhail","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikhail Bautin","active":true,"timeZone":"America/Los_Angeles"},"body":"I am not quite sure how to solve the backward compatibility issue in the \"writable\" part of {{TimestampWritable}} code ({{write}}/{{readFields}}) by switching to a unified nanosecond-timestamp-as-long format. If {{readFields}} is presented with eight bytes, would it interpret them as a four-byte int followed by a VInt or as a long nanosecond timestamp? Would it attempt to do the former and revert to the latter if there are inconsistencies? What if the bytes of a long nanosecond timestamp also happen to represent a valid legacy (int/VInt) timestamp?\n\nIn my patch, I try to maintain backward compatibility as much as possible. If a timestamp is in the range that can be represented by the old format, it is serialized using the old format. The extended format I've proposed and implemented for the full timestamp range builds on top of the existing one and can be unambiguously distinguished from the old format by examining serialized bytes.\nIn addition, the included test, {{TestTimestampWritable}}, tests both the old and the new (extended format), as well as double/BigDecimal conversion, getters/setters/constructors and everything else I could test in {{TimestampWritable}}.\n\nI am sure there is a way to handle vector optimizations for timestamps in a backward-compatible way, and I don't think this patch would make it much more complicated than it already is. However, vectorized computations are a performance optimization, while this issue is a correctness fix. Currently, timestamps outside of the ~1970-2038 range would be silently corrupted in some queries, and this patch successfully fixes that. It is also pretty small and immediately available.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikhail","name":"mikhail","key":"mikhail","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikhail Bautin","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-16T01:50:57.732+0000","updated":"2013-05-16T01:50:57.732+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/13659132","id":"13659132","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"mbautin updated the revision \"[jira] [HIVE-4525] Support timestamps earlier than 1970 and later than 2038\".\n\n  Fixing offset handling and making the test more extensive.\n\nReviewers: JIRA, ashutoshc, sdong, cwsteinbach, omalley\n\nREVISION DETAIL\n  https://reviews.facebook.net/D10755\n\nCHANGE SINCE LAST DIFF\n  https://reviews.facebook.net/D10755?vs=33561&id=33735#toc\n\nAFFECTED FILES\n  hcatalog/storage-handlers/hbase/src/java/org/apache/hcatalog/hbase/snapshot/RevisionManagerFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java\n  serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java\n  serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java\n  serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java\n  serde/src/test/org/apache/hadoop/hive/serde2/io/TestTimestampWritable.java\n\nTo: JIRA, ashutoshc, sdong, cwsteinbach, omalley, mbautin\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-05-16T01:55:15.853+0000","updated":"2013-05-16T01:55:15.853+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/13661870","id":"13661870","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikhail","name":"mikhail","key":"mikhail","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikhail Bautin","active":true,"timeZone":"America/Los_Angeles"},"body":"Test results with and without this patch differ only by a spurious failure of a ZK-related test that is not affected by the changes here. \n\n*** 3838,3843 ****\n--- 3838,3845 ----\n      [junit] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0\n      [junit] Running org.apache.hadoop.hive.serde2.dynamic_type.TestDynamicSerDe\n      [junit] Tests run: 9, Failures: 0, Errors: 0, Skipped: 0\n+     [junit] Running org.apache.hadoop.hive.serde2.io.TestTimestampWritable\n+     [junit] Tests run: 11, Failures: 0, Errors: 0, Skipped: 0\n      [junit] Running org.apache.hadoop.hive.serde2.lazy.TestLazyArrayMapStruct\n      [junit] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0\n      [junit] Running org.apache.hadoop.hive.serde2.lazy.TestLazyPrimitive\n***************\n*** 3901,3906 ****\n      [junit] Running org.apache.hcatalog.hbase.snapshot.TestZNodeSetUp\n      [junit] Tests run: 0, Failures: 0, Errors: 2, Skipped: 0\n      [junit] Running org.apache.hcatalog.hbase.snapshot.lock.WriteLockTest\n!     [junit] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\n      [junit] Running org.apache.hcatalog.hbase.snapshot.lock.ZNodeNameTest\n      [junit] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0\n--- 3903,3908 ----\n      [junit] Running org.apache.hcatalog.hbase.snapshot.TestZNodeSetUp\n      [junit] Tests run: 0, Failures: 0, Errors: 2, Skipped: 0\n      [junit] Running org.apache.hcatalog.hbase.snapshot.lock.WriteLockTest\n!     [junit] Tests run: 1, Failures: 1, Errors: 0, Skipped: 0\n      [junit] Running org.apache.hcatalog.hbase.snapshot.lock.ZNodeNameTest\n      [junit] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0\n+ set +x\n\n\nCommitters: could you please take a look and consider committing this? Cc [~ashutoshc], [~owen.omalley], [~cwsteinbach]. Thanks!\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikhail","name":"mikhail","key":"mikhail","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikhail Bautin","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-20T09:41:27.927+0000","updated":"2013-05-20T09:41:27.927+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/13722919","id":"13722919","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 Looks good.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-07-29T20:12:59.793+0000","updated":"2013-07-29T20:12:59.793+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/13724120","id":"13724120","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Committed to trunk. Thanks, Mikhail!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-07-30T17:28:21.591+0000","updated":"2013-07-30T17:28:21.591+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/13724325","id":"13724325","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hive-trunk-hadoop2-ptest #37 (See [https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/37/])\nHIVE-4525 : Support timestamps earlier than 1970 and later than 2038 (Mikhail Bautin via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1508537)\n* /hive/trunk/hcatalog/storage-handlers/hbase/src/java/org/apache/hcatalog/hbase/snapshot/RevisionManagerFactory.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java\n* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java\n* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java\n* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java\n* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/io\n* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/io/TestTimestampWritable.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-07-30T19:52:38.282+0000","updated":"2013-07-30T19:52:38.282+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/13724421","id":"13724421","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Hive-trunk-hadoop1-ptest #109 (See [https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/109/])\nHIVE-4525 : Support timestamps earlier than 1970 and later than 2038 (Mikhail Bautin via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1508537)\n* /hive/trunk/hcatalog/storage-handlers/hbase/src/java/org/apache/hcatalog/hbase/snapshot/RevisionManagerFactory.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java\n* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java\n* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java\n* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java\n* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/io\n* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/io/TestTimestampWritable.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-07-30T20:59:47.626+0000","updated":"2013-07-30T20:59:47.626+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/13725332","id":"13725332","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hive-trunk-h0.21 #2234 (See [https://builds.apache.org/job/Hive-trunk-h0.21/2234/])\nHIVE-4525 : Support timestamps earlier than 1970 and later than 2038 (Mikhail Bautin via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1508537)\n* /hive/trunk/hcatalog/storage-handlers/hbase/src/java/org/apache/hcatalog/hbase/snapshot/RevisionManagerFactory.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java\n* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java\n* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java\n* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java\n* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/io\n* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/io/TestTimestampWritable.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-07-31T15:17:34.347+0000","updated":"2013-07-31T15:17:34.347+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/13726137","id":"13726137","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"ABORTED: Integrated in Hive-trunk-hadoop2 #319 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/319/])\nHIVE-4525 : Support timestamps earlier than 1970 and later than 2038 (Mikhail Bautin via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1508537)\n* /hive/trunk/hcatalog/storage-handlers/hbase/src/java/org/apache/hcatalog/hbase/snapshot/RevisionManagerFactory.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java\n* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java\n* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java\n* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java\n* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/io\n* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/io/TestTimestampWritable.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-01T06:48:54.270+0000","updated":"2013-08-01T06:48:54.270+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/13796008","id":"13796008","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-15T23:30:20.102+0000","updated":"2013-10-15T23:30:20.102+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12646739/comment/14903469","id":"14903469","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"sdong resigned from this revision.\nsdong removed a reviewer: sdong.\n\nREVISION DETAIL\n  https://reviews.facebook.net/D10755\n\nEMAIL PREFERENCES\n  https://reviews.facebook.net/settings/panel/emailpreferences/\n\nTo: mbautin, JIRA, ashutoshc, cwsteinbach, omalley\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-22T21:28:40.613+0000","updated":"2015-09-22T21:28:40.613+0000"}],"maxResults":18,"total":18,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-4525/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1kfrb:"}}