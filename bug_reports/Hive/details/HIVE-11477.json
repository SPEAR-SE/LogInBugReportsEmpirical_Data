{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12852407","self":"https://issues.apache.org/jira/rest/api/2/issue/12852407","key":"HIVE-11477","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2015-08-06T00:07:21.332+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Aug 10 18:06:34 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-11477/watchers","watchCount":4,"isWatching":false},"created":"2015-08-05T22:59:56.088+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12332641","id":"12332641","description":"Hive 2.0.0","name":"2.0.0","archived":false,"released":true,"releaseDate":"2016-02-15"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-08-10T18:06:34.953+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/10002","description":"A patch for this issue has been uploaded to JIRA by a contributor.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/document.png","name":"Patch Available","id":"10002","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[],"timeoriginalestimate":null,"description":"When CBO is enabled, filters which compares tinyint, smallint columns with constant integer types will insert a UDFToInteger cast for the columns. When CBO is disabled, there is no such UDF. This behaviour breaks ORC predicate pushdown feature as ORC ignores UDFs in the filters.\n\nIn the following examples column t is tinyint\n{code:title=Explain for select count(*) from orc_ppd where t < -127; (CBO OFF)}\nFilter Operator [FIL_9]\n                           predicate:(t = 125) (type: boolean)\n                           Statistics:Num rows: 1050 Data size: 611757 Basic stats: COMPLETE Column stats: NONE\n                           TableScan [TS_0]\n                              alias:orc_ppd\n                              Statistics:Num rows: 2100 Data size: 1223514 Basic stats: COMPLETE Column stats: NONE\n{code}\n\n{code:title=Explain for select count(*) from orc_ppd where t < -127; (CBO ON)}\nFilter Operator [FIL_10]\n                           predicate:(UDFToInteger(t) < -127) (type: boolean)\n                           Statistics:Num rows: 700 Data size: 407838 Basic stats: COMPLETE Column stats: NONE\n                           TableScan [TS_0]\n                              alias:orc_ppd\n                              Statistics:Num rows: 2100 Data size: 1223514 Basic stats: COMPLETE Column stats: NONE\n{code}\n\nCBO does not insert such cast for non-negative numbers\n{code:title=Explain for select count(*) from orc_ppd where t < 127; (CBO ON)}\nFilter Operator [FIL_10]\n                           predicate:(t < 127) (type: boolean)\n                           Statistics:Num rows: 700 Data size: 407838 Basic stats: COMPLETE Column stats: NONE\n                           TableScan [TS_0]\n                              alias:orc_ppd\n                              Statistics:Num rows: 2100 Data size: 1223514 Basic stats: COMPLETE Column stats: NONE\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12749150","id":"12749150","filename":"HIVE-11477.01.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-06T23:13:05.460+0000","size":826,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12749150/HIVE-11477.01.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12749400","id":"12749400","filename":"HIVE-11477.02.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-08T04:49:22.339+0000","size":826,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12749400/HIVE-11477.02.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"CBO inserts a UDF cast for integer type promotion (only for negative numbers)","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prasanth_j","name":"prasanth_j","key":"prasanth_j","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasanth Jayachandran","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prasanth_j","name":"prasanth_j","key":"prasanth_j","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasanth Jayachandran","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12852407/comment/14659239","id":"14659239","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"I seem to recall something about these UDFs. They might be necessary because of type issues in Calcite, if I remember the same issue... it is very hard to strip them back off because it's hard to tell apart the existing user casts, and the casts after the plan was changed by Calcite, in a general case. IIRC the idea that I had was that Calcite would need to have some form of separate casts that would do the same thing but be distinguishable from regular casts. Or the functions in RelNode tree would need to be taggable with tags preserved during transformations. \nAlthough, maybe it's a different, simpler issue, not sure.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-06T00:07:21.332+0000","updated":"2015-08-06T00:07:21.332+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12852407/comment/14660957","id":"14660957","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"body":"temporary patch. may need to update the q files.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-06T23:13:05.465+0000","updated":"2015-08-06T23:13:05.465+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12852407/comment/14662497","id":"14662497","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 no tests executed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12749150/HIVE-11477.01.patch\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4863/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4863/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4863/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nTests exited with: ExecutionException: java.util.concurrent.ExecutionException: org.apache.hive.ptest.execution.ssh.SSHExecutionException: RSyncResult [localFile=/data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-4863/succeeded/TestJdbcWithMiniHS2, remoteFile=/home/hiveptest/54.159.210.106-hiveptest-1/logs/, getExitCode()=12, getException()=null, getUser()=hiveptest, getHost()=54.159.210.106, getInstance()=1]: 'Address 54.159.210.106 maps to ec2-54-159-210-106.compute-1.amazonaws.com, but this does not map back to the address - POSSIBLE BREAK-IN ATTEMPT!\nreceiving incremental file list\n./\nTEST-TestJdbcWithMiniHS2-TEST-org.apache.hive.jdbc.TestJdbcWithMiniHS2.xml\n           0   0%    0.00kB/s    0:00:00\n        5799 100%    5.53MB/s    0:00:00 (xfer#1, to-check=3/5)\nhive.log\n           0   0%    0.00kB/s    0:00:00\n    47153152   0%   44.97MB/s    0:04:20\n    94437376   0%   45.05MB/s    0:04:19\n   141328384   1%   44.93MB/s    0:04:18\n   186187776   1%   44.38MB/s    0:04:21\n   232423424   1%   44.14MB/s    0:04:21\n   280821760   2%   44.39MB/s    0:04:18\n   329154560   2%   44.77MB/s    0:04:15\n   377389056   3%   45.57MB/s    0:04:10\n   403341312   3%   40.75MB/s    0:04:39\n   432308224   3%   36.11MB/s    0:05:14\n   470515712   3%   33.69MB/s    0:05:35\n   513015808   4%   32.29MB/s    0:05:48\n   543686656   4%   33.30MB/s    0:05:37\n   567017472   4%   31.56MB/s    0:05:55\n   595591168   4%   29.04MB/s    0:06:25\n   623378432   5%   25.62MB/s    0:07:15\n   654311424   5%   25.65MB/s    0:07:13\n   689963008   5%   28.89MB/s    0:06:24\n   730955776   6%   32.10MB/s    0:05:44\n   778665984   6%   36.89MB/s    0:04:58\n   826933248   6%   41.18MB/s    0:04:26\n   874971136   7%   44.13MB/s    0:04:07\n   913145856   7%   43.46MB/s    0:04:10\n   944472064   7%   39.53MB/s    0:04:34\n   981106688   8%   36.76MB/s    0:04:54\n   986677248   8%   26.41MB/s    0:06:49\n   995328000   8%   19.43MB/s    0:09:15\n  1001390080   8%   13.29MB/s    0:13:31\n  1007943680   8%    6.22MB/s    0:28:53\n  1017774080   8%    7.27MB/s    0:24:42\n  1061748736   8%   15.52MB/s    0:11:31\n  1103527936   9%   24.18MB/s    0:07:22\n  1149272064   9%   33.70MB/s    0:05:15\n  1196425216   9%   42.60MB/s    0:04:08\n  1240793088  10%   42.70MB/s    0:04:07\n  1253048320  10%   35.19MB/s    0:04:59\n  1267466240  10%   27.70MB/s    0:06:20\n  1274281984  10%   18.19MB/s    0:09:38\n  1283719168  10%    9.83MB/s    0:17:49\n  1311768576  10%   13.62MB/s    0:12:50\n  1360330752  11%   21.63MB/s    0:08:02\n  1408303104  11%   31.29MB/s    0:05:32\nrsync: write failed on \"/data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-4863/succeeded/TestJdbcWithMiniHS2/hive.log\": No space left on device (28)\nrsync error: error in file IO (code 11) at receiver.c(301) [receiver=3.0.6]\nrsync: connection unexpectedly closed (198 bytes received so far) [generator]\nrsync error: error in rsync protocol data stream (code 12) at io.c(600) [generator=3.0.6]\nAddress 54.159.210.106 maps to ec2-54-159-210-106.compute-1.amazonaws.com, but this does not map back to the address - POSSIBLE BREAK-IN ATTEMPT!\nreceiving incremental file list\n./\nhive.log\n           0   0%    0.00kB/s    0:00:00\nrsync: write failed on \"/data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-4863/succeeded/TestJdbcWithMiniHS2/hive.log\": No space left on device (28)\nrsync error: error in file IO (code 11) at receiver.c(301) [receiver=3.0.6]\nrsync: connection unexpectedly closed (198 bytes received so far) [generator]\nrsync error: error in rsync protocol data stream (code 12) at io.c(600) [generator=3.0.6]\nAddress 54.159.210.106 maps to ec2-54-159-210-106.compute-1.amazonaws.com, but this does not map back to the address - POSSIBLE BREAK-IN ATTEMPT!\nreceiving incremental file list\n./\nhive.log\n           0   0%    0.00kB/s    0:00:00\nrsync: write failed on \"/data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-4863/succeeded/TestJdbcWithMiniHS2/hive.log\": No space left on device (28)\nrsync error: error in file IO (code 11) at receiver.c(301) [receiver=3.0.6]\nrsync: connection unexpectedly closed (198 bytes received so far) [generator]\nrsync error: error in rsync protocol data stream (code 12) at io.c(600) [generator=3.0.6]\nAddress 54.159.210.106 maps to ec2-54-159-210-106.compute-1.amazonaws.com, but this does not map back to the address - POSSIBLE BREAK-IN ATTEMPT!\nreceiving incremental file list\n./\nhive.log\n           0   0%    0.00kB/s    0:00:00\nrsync: write failed on \"/data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-4863/succeeded/TestJdbcWithMiniHS2/hive.log\": No space left on device (28)\nrsync error: error in file IO (code 11) at receiver.c(301) [receiver=3.0.6]\nrsync: connection unexpectedly closed (198 bytes received so far) [generator]\nrsync error: error in rsync protocol data stream (code 12) at io.c(600) [generator=3.0.6]\nAddress 54.159.210.106 maps to ec2-54-159-210-106.compute-1.amazonaws.com, but this does not map back to the address - POSSIBLE BREAK-IN ATTEMPT!\nreceiving incremental file list\n./\nhive.log\n           0   0%    0.00kB/s    0:00:00\nrsync: write failed on \"/data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-4863/succeeded/TestJdbcWithMiniHS2/hive.log\": No space left on device (28)\nrsync error: error in file IO (code 11) at receiver.c(301) [receiver=3.0.6]\nrsync: connection unexpectedly closed (198 bytes received so far) [generator]\nrsync error: error in rsync protocol data stream (code 12) at io.c(600) [generator=3.0.6]\n'\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12749150 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2015-08-07T21:31:09.280+0000","updated":"2015-08-07T21:31:09.280+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12852407/comment/14662809","id":"14662809","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"body":"trigger QA run","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-08T04:49:22.345+0000","updated":"2015-08-08T04:49:22.345+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12852407/comment/14679386","id":"14679386","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12749400/HIVE-11477.02.patch\n\n{color:red}ERROR:{color} -1 due to 21 failed/errored test(s), 9345 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input_part6\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_lineage3\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_predicate_pushdown\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_select_unquote_and\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_select_unquote_not\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_select_unquote_or\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_temp_table_windowing_expressions\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_6_subq\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_uniquejoin\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_round\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_short_regress\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing_expressions\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_round\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_short_regress\norg.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_udf_format_number_wrong3\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_union_remove_6_subq\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_uniquejoin\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_short_regress\norg.apache.hadoop.hive.ql.parse.TestHiveDecimalParse.testDecimalType6\norg.apache.hadoop.hive.ql.parse.TestIUD.testInsertIntoTableFromAnonymousTable\norg.apache.hadoop.hive.ql.parse.TestIUD.testUpdateWithWhereSingleSetExpr\n{noformat}\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4893/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4893/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4893/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 21 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12749400 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2015-08-09T22:30:51.861+0000","updated":"2015-08-09T22:30:51.861+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12852407/comment/14680472","id":"14680472","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"body":"May need more work. For example, in input_part6.q, we have {code}SELECT x.* FROM SRCPART x WHERE x.ds = 2008-04-08 LIMIT 10{code} and in union_remove_6_subq, we have {code} explain\nselect avg(c) from(\n  SELECT count(1)-200 as c from src\n  UNION ALL\n  SELECT count(1) as c from src\n)subq {code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-10T18:06:34.953+0000","updated":"2015-08-10T18:06:34.953+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-11477/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2ie47:"}}