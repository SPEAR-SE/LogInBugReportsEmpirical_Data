{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12414435","self":"https://issues.apache.org/jira/rest/api/2/issue/12414435","key":"HIVE-285","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313637","id":"12313637","description":"released","name":"0.3.0","archived":false,"released":true,"releaseDate":"2009-04-30"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2009-02-26T14:11:47.836+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Nov 16 20:18:31 UTC 2009","customfield_12310420":"73646","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_1742098831_*|*_1_*:*_1_*:*_1428310946_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2009-03-18T18:29:49.777+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-285/watchers","watchCount":1,"isWatching":false},"created":"2009-02-10T01:49:40.727+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313637","id":"12313637","description":"released","name":"0.3.0","archived":false,"released":true,"releaseDate":"2009-04-30"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12314524","id":"12314524","description":"released","name":"0.6.0","archived":false,"released":true,"releaseDate":"2010-10-29"}],"issuelinks":[{"id":"12323540","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12323540","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12415297","key":"HIVE-297","self":"https://issues.apache.org/jira/rest/api/2/issue/12415297","fields":{"summary":"Parses doesn't catch certain type errors.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-12-17T00:09:00.947+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312586","id":"12312586","name":"Query Processor","description":"Tracks issues dealing with query processing."}],"timeoriginalestimate":null,"description":"{code}\nexplain INSERT OVERWRITE TABLE t\n    SELECT s.r, s.c, sum(s.v) FROM\n    (\n      SELECT a.r AS r, a.c AS c, a.v AS v FROM t1 a\n      UNION ALL\n      SELECT b.r AS r, b.c AS c, 0 + b.v AS v FROM t2 b\n    ) s\n    GROUP BY s.r, s.c;\n{code}\n\nBoth a and b have 3 string columns: r, c, and v.\n\nIt compiled successfully but failed during runtime.\n\"Explain\" shows that the plan for the 2 union-all operands have different output types that are converged to STRING, but there is no UDFToString inserted for \"0 + b.v AS v\" and as a result, SerDe was failing because it expects a String but is passed a Double.\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12401045","id":"12401045","filename":"hive-285.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-02-26T14:11:47.767+0000","size":1892,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12401045/hive-285.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12402475","id":"12402475","filename":"hive-285.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-18T11:11:38.576+0000","size":1945,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12402475/hive-285.2.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"122100","customfield_12312823":null,"summary":"UNION ALL does not allow different types in the same column","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zshao","name":"zshao","key":"zshao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zshao&avatarId=14358","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zshao&avatarId=14358","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zshao&avatarId=14358","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zshao&avatarId=14358"},"displayName":"Zheng Shao","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zshao","name":"zshao","key":"zshao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zshao&avatarId=14358","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zshao&avatarId=14358","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zshao&avatarId=14358","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zshao&avatarId=14358"},"displayName":"Zheng Shao","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414435/comment/12672112","id":"12672112","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zshao","name":"zshao","key":"zshao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zshao&avatarId=14358","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zshao&avatarId=14358","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zshao&avatarId=14358","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zshao&avatarId=14358"},"displayName":"Zheng Shao","active":true,"timeZone":"America/Los_Angeles"},"body":"{code} \nABSTRACT SYNTAX TREE:\n  (TOK_QUERY (TOK_FROM (TOK_SUBQUERY (TOK_UNION (TOK_QUERY (TOK_FROM (TOK_TABREF t1 a)) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR (TOK_COLREF a r) r) (TOK_SELEXPR (TOK_COLREF a c) c) (TOK_SELEXPR (TOK_COLREF a v) v)))) (TOK_QUERY (TOK_FROM (TOK_TABREF t2 b)) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR (TOK_COLREF b r) r) (TOK_SELEXPR (TOK_COLREF b c) c) (TOK_SELEXPR (+ 0 (TOK_COLREF b v)) v))))) s)) (TOK_INSERT (TOK_DESTINATION (TOK_TAB t)) (TOK_SELECT (TOK_SELEXPR (TOK_COLREF s r)) (TOK_SELEXPR (TOK_COLREF s c)) (TOK_SELEXPR (TOK_FUNCTION sum (TOK_COLREF s v)))) (TOK_GROUPBY (TOK_COLREF s r) (TOK_COLREF s c))))\n\nSTAGE DEPENDENCIES:\n  Stage-1 is a root stage\n  Stage-2 depends on stages: Stage-1\n  Stage-0 depends on stages: Stage-2\n\nSTAGE PLANS:\n  Stage: Stage-1\n    Map Reduce\n      Alias -> Map Operator Tree:\n        null-subquery2:s-subquery2:b\n            Select Operator\n              expressions:\n                    expr: r\n                    type: string\n                    expr: c\n                    type: string\n                    expr: (UDFToDouble(0) + UDFToDouble(v))\n                    type: double\n                Reduce Output Operator\n                  key expressions:\n                        expr: 0\n                        type: string\n                        expr: 1\n                        type: string\n                  sort order: ++\n                  Map-reduce partition columns:\n                        expr: rand()\n                        type: double\n                  tag: -1\n                  value expressions:\n                        expr: 2\n                        type: string\n        null-subquery1:s-subquery1:a\n            Select Operator\n              expressions:\n                    expr: r\n                    type: string\n                    expr: c\n                    type: string\n                    expr: v\n                    type: string\n                Reduce Output Operator\n                  key expressions:\n                        expr: 0\n                        type: string\n                        expr: 1\n                        type: string\n                  sort order: ++\n                  Map-reduce partition columns:\n                        expr: rand()\n                        type: double\n                  tag: -1\n                  value expressions:\n                        expr: 2\n                        type: string\n      Reduce Operator Tree:\n        Group By Operator\n          aggregations:\n                expr: sum(UDFToDouble(VALUE.0))\n          keys:\n                expr: KEY.0\n                type: string\n                expr: KEY.1\n                type: string\n          mode: partial1\n          File Output Operator\n            compressed: true\n            table:\n                input format: org.apache.hadoop.mapred.SequenceFileInputFormat\n                output format: org.apache.hadoop.mapred.SequenceFileOutputFormat\n                name: binary_table\n\n  Stage: Stage-2\n    Map Reduce\n      Alias -> Map Operator Tree:\n        /tmp/hive-zshao/20312763/835544260.10001\n          Reduce Output Operator\n            key expressions:\n                  expr: 0\n                  type: string\n                  expr: 1\n                  type: string\n            sort order: ++\n            Map-reduce partition columns:\n                  expr: 0\n                  type: string\n                  expr: 1\n                  type: string\n            tag: -1\n            value expressions:\n                  expr: 2\n                  type: double\n      Reduce Operator Tree:\n        Group By Operator\n          aggregations:\n                expr: sum(VALUE.0)\n          keys:\n                expr: KEY.0\n                type: string\n                expr: KEY.1\n                type: string\n          mode: final\n          Select Operator\n            expressions:\n                  expr: 0\n                  type: string\n                  expr: 1\n                  type: string\n                  expr: 2\n                  type: double\n            File Output Operator\n              compressed: true\n              table:\n                  input format: org.apache.hadoop.mapred.SequenceFileInputFormat\n                  output format: org.apache.hadoop.mapred.SequenceFileOutputFormat\n                  serde: org.apache.hadoop.hive.serde2.MetadataTypedColumnsetSerDe\n                  name: t\n\n  Stage: Stage-0\n    Move Operator\n      tables:\n            replace: true\n            table:\n                input format: org.apache.hadoop.mapred.SequenceFileInputFormat\n                output format: org.apache.hadoop.mapred.SequenceFileOutputFormat\n                serde: org.apache.hadoop.hive.serde2.MetadataTypedColumnsetSerDe\n                name: t\n{code} \n\n\nNote that:\n\n{code}\n                    expr: (UDFToDouble(0) + UDFToDouble(v))\n                    type: double\n                    ...\n                  value expressions:\n                        expr: 2\n                        type: string\n{code}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zshao","name":"zshao","key":"zshao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=zshao&avatarId=14358","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=zshao&avatarId=14358","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=zshao&avatarId=14358","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=zshao&avatarId=14358"},"displayName":"Zheng Shao","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-02-10T01:52:01.227+0000","updated":"2009-02-10T01:52:01.227+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414435/comment/12677002","id":"12677002","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"Union should reject mismatched schemas. genUnionPlan was not checking for types (only number and names of columns). I have now added checking for types as well. Also added a negative test case.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-02-26T14:11:47.836+0000","updated":"2009-02-26T14:11:47.836+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414435/comment/12677149","id":"12677149","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"+1\n\nmaybe, we can file a extension later on if someone asks for a type conversion in UNION","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2009-02-26T21:37:57.872+0000","updated":"2009-02-26T21:37:57.872+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414435/comment/12680803","id":"12680803","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"type conversion in UNION will lead to confusing behavior. \n\nfor a query like the following on two tables R(a int) and S(a string)\n\nselect a from R\nunion all\nselect a from S\n\nWhat will the schema of the result of the join be? int or string?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-11T08:40:45.775+0000","updated":"2009-03-11T08:40:45.775+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414435/comment/12680911","id":"12680911","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"body":"+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jsensarma","name":"jsensarma","key":"jsensarma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joydeep Sen Sarma","active":true,"timeZone":"Asia/Kolkata"},"created":"2009-03-11T16:25:54.750+0000","updated":"2009-03-11T16:25:54.750+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414435/comment/12680935","id":"12680935","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prasadc","name":"prasadc","key":"prasadc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasad Chakka","active":true,"timeZone":"Etc/UTC"},"body":"i think it will be double. users can use cast to a specific type","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prasadc","name":"prasadc","key":"prasadc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prasad Chakka","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-11T17:23:42.251+0000","updated":"2009-03-11T17:23:42.251+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414435/comment/12680979","id":"12680979","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=athusoo","name":"athusoo","key":"athusoo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashish Thusoo","active":true,"timeZone":"Etc/UTC"},"body":"Just checked this on Oracle and mysql with Rama..\n\nOracle does not do any implict conversion and gives a type mismatch.\n\non the other hand\n\nmysql does an implicit converion to varbinary which I think is equivalent to blob.\n\nGiven that we do not have blobs as data types I am perfectly fine with throwing a type mismatch for now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=athusoo","name":"athusoo","key":"athusoo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashish Thusoo","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-11T18:50:33.199+0000","updated":"2009-03-11T18:50:33.199+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414435/comment/12682974","id":"12682974","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"ping","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-18T09:51:15.813+0000","updated":"2009-03-18T09:51:15.813+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414435/comment/12682992","id":"12682992","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"Looks like some other test was creating a table named t2 with a different schema. Dropping the table now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rsm","name":"rsm","key":"rsm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Raghotham Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-18T11:11:38.644+0000","updated":"2009-03-18T11:11:38.644+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414435/comment/12683110","id":"12683110","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"running tests now to commit","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2009-03-18T17:56:09.097+0000","updated":"2009-03-18T17:56:09.097+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414435/comment/12683122","id":"12683122","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"committed. Thanks Raghu","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2009-03-18T18:29:49.754+0000","updated":"2009-03-18T18:29:49.754+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12414435/comment/12778503","id":"12778503","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=akramer","name":"akramer","key":"akramer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adam Kramer","active":true,"timeZone":"America/Los_Angeles"},"body":"I am the guy asking for type conversion.\n\nI think that the right thing to do in all cases with a UNION ALL command is to convert mismatched types to STRING.\n\nThe main argument for this is that the output of a UNION ALL is never actually used for anything--it must be wrapped in a SELECT statement which will then make use of the columns. If the SELECT statement selects the UNIONed item as a string (say, for output to local directory or the terminal) everything is converted to string anyway--or if not, it's used in a way that would cause one or both of the original column types to be converted in some way...and conversion to STRING and back does not lose information.\n\nCertainly, data should stay in the appropriate type if possible, though. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=akramer","name":"akramer","key":"akramer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Adam Kramer","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-11-16T20:18:31.993+0000","updated":"2009-11-16T20:18:31.993+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-285/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0l8y7:"}}