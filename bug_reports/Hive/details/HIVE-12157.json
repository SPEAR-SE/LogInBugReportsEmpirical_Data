{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12904451","self":"https://issues.apache.org/jira/rest/api/2/issue/12904451","key":"HIVE-12157","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2015-10-13T20:44:11.028+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu May 04 02:49:12 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-12157/watchers","watchCount":4,"isWatching":false},"created":"2015-10-13T06:46:18.293+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12332384","id":"12332384","name":"1.2.1","archived":false,"released":true,"releaseDate":"2015-06-26"}],"issuelinks":[{"id":"12540973","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12540973","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"13118917","key":"HIVE-18083","self":"https://issues.apache.org/jira/rest/api/2/issue/13118917","fields":{"summary":"Support UTF8 in MySQL Metastore Backend","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=a092cc","name":"a092cc","key":"a092cc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"hefuhua","active":true,"timeZone":"Asia/Hong_Kong"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-08-14T13:50:13.348+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"description":"Parser will throw exception when I use alias:\nhive> desc test;\nOK\na                       int                                         \nb                       string                                      \nTime taken: 0.135 seconds, Fetched: 2 row(s)\nhive> select a as 行1 from test limit 10;\nNoViableAltException(302@[134:7: ( ( ( KW_AS )? identifier ) | ( KW_AS LPAREN identifier ( COMMA identifier )* RPAREN ) )?])\n        at org.antlr.runtime.DFA.noViableAlt(DFA.java:158)\n        at org.antlr.runtime.DFA.predict(DFA.java:116)\n        at org.apache.hadoop.hive.ql.parse.HiveParser_SelectClauseParser.selectItem(HiveParser_SelectClauseParser.java:2915)\n        at org.apache.hadoop.hive.ql.parse.HiveParser_SelectClauseParser.selectList(HiveParser_SelectClauseParser.java:1373)\n        at org.apache.hadoop.hive.ql.parse.HiveParser_SelectClauseParser.selectClause(HiveParser_SelectClauseParser.java:1128)\n        at org.apache.hadoop.hive.ql.parse.HiveParser.selectClause(HiveParser.java:45827)\n        at org.apache.hadoop.hive.ql.parse.HiveParser.selectStatement(HiveParser.java:41495)\n        at org.apache.hadoop.hive.ql.parse.HiveParser.regularBody(HiveParser.java:41402)\n        at org.apache.hadoop.hive.ql.parse.HiveParser.queryStatementExpressionBody(HiveParser.java:40413)\n        at org.apache.hadoop.hive.ql.parse.HiveParser.queryStatementExpression(HiveParser.java:40283)\n        at org.apache.hadoop.hive.ql.parse.HiveParser.execStatement(HiveParser.java:1590)\n        at org.apache.hadoop.hive.ql.parse.HiveParser.statement(HiveParser.java:1109)\n        at org.apache.hadoop.hive.ql.parse.ParseDriver.parse(ParseDriver.java:202)\n        at org.apache.hadoop.hive.ql.parse.ParseDriver.parse(ParseDriver.java:166)\n        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:396)\n        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:308)\n        at org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:1122)\n        at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1170)\n        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1059)\n        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1049)\n        at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:213)\n        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:165)\n        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:376)\n        at org.apache.hadoop.hive.cli.CliDriver.executeDriver(CliDriver.java:736)\n        at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:681)\n        at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:621)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.hadoop.util.RunJar.run(RunJar.java:221)\n        at org.apache.hadoop.util.RunJar.main(RunJar.java:136)\nFAILED: ParseException line 1:13 cannot recognize input near 'as' '1' 'from' in selection target","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12767743","id":"12767743","filename":"HIVE-12157.01.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-21T08:08:01.027+0000","size":24216,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12767743/HIVE-12157.01.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12866156","id":"12866156","filename":"HIVE-12157.02.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=a092cc","name":"a092cc","key":"a092cc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"hefuhua","active":true,"timeZone":"Asia/Hong_Kong"},"created":"2017-05-03T10:09:52.450+0000","size":1569,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12866156/HIVE-12157.02.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12767569","id":"12767569","filename":"HIVE-12157.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-20T09:19:52.851+0000","size":8447,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12767569/HIVE-12157.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":" Support unicode for table/column names","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"subtasks":[{"id":"12906868","key":"HIVE-12226","self":"https://issues.apache.org/jira/rest/api/2/issue/12906868","fields":{"summary":"Support unicode for table names","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":21146}}}],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/14955630","id":"14955630","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"body":"[~richarddu], this is current limitation of Hive. Hive does NOT support unicode. If you are willing to work on this new feature, I would be happy to review it. Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-13T20:44:11.028+0000","updated":"2015-10-13T20:44:11.028+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/14956070","id":"14956070","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"body":"OK.I'd like to submit the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-14T01:00:37.861+0000","updated":"2015-10-14T01:00:37.861+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/14956543","id":"14956543","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"body":"I choose the Top 10 popular languages from :\nhttps://en.wikipedia.org/wiki/List_of_languages_by_number_of_native_speakers","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-14T09:25:38.190+0000","updated":"2015-10-14T09:25:38.190+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/14957676","id":"14957676","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"body":"[~richarddu], thanks a lot for your prompt patch and investigation. The lexer change sounds good to me. However, could you add more test cases? (1) Because you now extend the lexer, I guess other identifiers, e.g., column name itself can also use the unicode. For example, can u test \"select 行1 from test limit 10;\" (2) Other than junit test, could you add more q tests? For example, \"select a as 行1 from test a join test b where a.行1= b.a\", etc. Because this is a significant change to Hive, we need much more tests. Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-14T20:21:37.643+0000","updated":"2015-10-14T20:21:37.643+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/14958220","id":"14958220","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"body":"OK.I'd like to do more tests.\nBTW, should I add more tests including semantic analysis which may require the unicode support of metastore?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-15T02:42:38.308+0000","updated":"2015-10-15T02:42:38.308+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/14958246","id":"14958246","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"body":"Yes, of course. We need to test this as complete as possible. Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-15T03:42:34.369+0000","updated":"2015-10-15T03:42:34.369+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/14960406","id":"14960406","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"body":"@[~pxiong] \nI've got a problem about metastore.\nThe table name is checked in MetaStoreUtils.validateName() and the table name must match \"[\\\\w_/]\".\nIf the table name could be unicode, the code here may be modifed or removed.\nWhat's your option about it ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-16T09:13:22.677+0000","updated":"2015-10-16T09:13:22.677+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/14961058","id":"14961058","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"body":"[~richarddu], yes, you need to change that to support unicode. I have done a similar change before. Could you please refer to HIVE-11699, take a look and do some investigation and estimate how much change you may need to make? Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-16T17:29:09.120+0000","updated":"2015-10-16T17:29:09.120+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/14964847","id":"14964847","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"body":"Add patch, Unicode support without itests results.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-20T09:21:11.206+0000","updated":"2015-10-20T09:21:11.206+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/14966409","id":"14966409","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"body":"add itests results && itests passed","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-21T08:08:01.030+0000","updated":"2015-10-21T08:08:01.030+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/14966418","id":"14966418","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"body":"The method here: https://cwiki.apache.org/confluence/display/Hive/HiveDeveloperFAQ#HiveDeveloperFAQ-Testing\ndoes not work in my environment. I've tried many times to generate the result file but failed. And mvn command with  \"-Phadoop-2\" option works in the end.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-21T08:16:00.832+0000","updated":"2015-10-21T08:16:00.832+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/14967818","id":"14967818","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"body":"[~richarddu], I saw your new patch. It seems that you plan to support unicode in column name and also table names, right? If so, that means you go beyond your previous plan to support unicode alias in select-clause only, which is a good thing but you also need more test cases. (1) Shall we first create two sub-tasks, one for supporting unicode in table names and another one for supporting unicode in column names? We can then do it one by one.\n(2) Could you add a configuration in HiveConf.java to control the support of unicode in table/column names? (3) Could you please follow what I did in HIVE-11699 for special_character_in_tabnames_1.q and special_character_in_tabnames_2.q and create your own test cases for unicode in table names? (4) Could you go to reviews.apache.org and create the view request for me? Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-21T20:27:41.544+0000","updated":"2015-10-21T20:27:41.544+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/14968435","id":"14968435","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"body":"Yes.As is discussed above, I'm trying to support unicode in Database/tableName/columnName, comment and so on.\n(1)That sounds good. But the source code may change just one time, and the rest may be the test only.\n(2)(3)(4)OK, I will.\nThanks so much for your help.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-22T03:16:54.591+0000","updated":"2015-10-22T03:16:54.591+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/14971626","id":"14971626","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Please make sure to test this change on all the metastore database backends, e.g. the mysql db script still has the stuff like this:\n{noformat}\n`TBL_NAME` varchar(128) CHARACTER SET latin1 COLLATE latin1_bin DEFAULT NULL,\n{noformat}\nThis will probably need to change and would need an upgrade script","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-23T18:58:28.583+0000","updated":"2015-10-23T18:58:28.583+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/14973016","id":"14973016","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sershe], thanks for your comments. I guess [~richarddu] is using a similar method as I used for special character name, i.e., encoding the special characters (unicode characters). Thus, we may not need to touch the metastore backend. But we will take your comments into consideration for sure. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-25T04:39:43.032+0000","updated":"2015-10-25T04:39:43.032+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/14973075","id":"14973075","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"body":"[~sershe]],[~pxiong]\nI've checked the code and found that the script need to be changed. The DDLTask passes the table/column names to metastore backends directly, and the metastore stores the unicode characters into mysql then. Latin1 will cause disorder. I'll change it and do more tests.\nThanks for your comments.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=richarddu","name":"richarddu","key":"richarddu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"richard du","active":true,"timeZone":"Etc/UTC"},"created":"2015-10-25T06:29:35.816+0000","updated":"2015-10-25T06:29:35.816+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/15995282","id":"15995282","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"body":"[~a092cc], thanks for your patch. However, as we previously discussed, you may also need to change the script in the metastore as you can see from the previous comments from [~sershe] and [~richarddu]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-05-03T17:37:25.273+0000","updated":"2017-05-03T17:37:25.273+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12904451/comment/15996080","id":"15996080","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=a092cc","name":"a092cc","key":"a092cc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"hefuhua","active":true,"timeZone":"Asia/Hong_Kong"},"body":"[#Pengcheng Xiong], in fact  [#Sergey Shelukhin] and [#richard du] meant support unicode for table names and column names, in my case, I plan to support unicode alias in select-clause only,  so i think scirpt in the metastore needn't be changed?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=a092cc","name":"a092cc","key":"a092cc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"hefuhua","active":true,"timeZone":"Asia/Hong_Kong"},"created":"2017-05-04T02:49:12.798+0000","updated":"2017-05-04T02:49:12.798+0000"}],"maxResults":18,"total":18,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-12157/votes","votes":3,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2mxmv:"}}