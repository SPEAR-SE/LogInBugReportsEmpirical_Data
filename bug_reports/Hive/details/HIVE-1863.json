{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12493943","self":"https://issues.apache.org/jira/rest/api/2/issue/12493943","key":"HIVE-1863","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315150","id":"12315150","description":"released","name":"0.7.0","archived":false,"released":true,"releaseDate":"2011-03-29"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/3","id":"3","description":"The problem is a duplicate of an existing issue.","name":"Duplicate"},"customfield_12312322":null,"customfield_12310220":"2010-12-23T19:15:26.662+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Sep 22 11:41:35 UTC 2015","customfield_12310420":"72654","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1094832710_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-01-04T20:09:44.039+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-1863/watchers","watchCount":1,"isWatching":false},"created":"2010-12-23T04:02:31.329+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12332641","id":"12332641","description":"Hive 2.0.0","name":"2.0.0","archived":false,"released":true,"releaseDate":"2016-02-15"}],"issuelinks":[{"id":"12336706","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12336706","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"outwardIssue":{"id":"12465903","key":"HIVE-1378","self":"https://issues.apache.org/jira/rest/api/2/issue/12465903","fields":{"summary":"Return value for map, array, and struct needs to return a string ","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=guylemar","name":"guylemar","key":"guylemar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Guy le Mar","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-09-22T11:41:35.529+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12314178","id":"12314178","name":"JDBC"}],"timeoriginalestimate":null,"description":"(1) Using the Hive CLI, create a table using...\ncreate table dt4_boolean\n(\n        dt4_id          int,\n        dt4_testbool    boolean,\n        dt4_string      string\n)\nrow format delimited\n        fields  terminated by ','\n        lines  terminated by '\\n';\n\n(2) Create a file containing the following text...\n1,true,Value is True\n2,null,Data says null and must be null\n3,,No value that means null\n4,NoIdea,Data says NoIdea that's gonna be null\n5,false,Value is FALSE\n\n(3) Load the data in the file into the Hive table...\nload data local inpath '<DATA FILE PATH>' overwrite into table dt4_boolean;\n\n(4) Check the table works as expected using the Hive CLI...\nhive> select * from dt4_boolean;\nOK\n1\ttrue\tValue is True\n2\tNULL\tData says null and must be null\n3\tNULL\tNo value that means null\n4\tNULL\tData says NoIdea that's gonna be null\n5\tfalse\tValue is FALSE\nTime taken: 0.049 seconds\n\n(5) Using the Hive JDBC driver, execute the same Hive query (select * from dt4_boolean)\n(5.1) The \"row_str\" values obtained by the Hive JDBC driver for deserialization are correct...\n1\ttrue\tValue is True\n2\tNULL\tData says null and must be null\n3\tNULL\tNo value that means null\n4\tNULL\tData says NoIdea that's gonna be null\n5\tfalse\tValue is FALSE\n\n(5.2) However, when these \"row_str\" are deserialized by the DynamicSerDe to a java.lang.Object, the NULL boolean values are converted to FALSE - instead of being null.\n\nAs a consequence, the application making use of the Hive JDBC driver produces this (incorrect) output...\n\nSQL> select dt4_id, dt4_testbool from dt4_boolean;\n\n    DT4_ID DT4_TESTBOOL\n---------- ------------\n         1            true\n         2            false\n         3            false\n         4            false\n         5            false\n\n...instead of producing this (correct) output...\nSQL> select dt4_id, dt4_testbool from dt4_boolean;\n\n    DT4_ID DT4_TESTBOOL\n---------- ------------\n         1            true\n         2            NULL\n         3            NULL\n         4            NULL\n         5            false\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"123462","customfield_12312823":null,"summary":"Boolean columns in Hive tables containing NULL are treated as FALSE by the Hive JDBC driver.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=guylemar","name":"guylemar","key":"guylemar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Guy le Mar","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=guylemar","name":"guylemar","key":"guylemar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Guy le Mar","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"centos","customfield_12313520":null,"customfield_12311020":null,"duedate":"2015-09-23","customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493943/comment/12974701","id":"12974701","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=appodictic","name":"appodictic","key":"appodictic","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Edward Capriolo","active":true,"timeZone":"Etc/UTC"},"body":"Right. Something gets \"lost in translation\" here because Hive Service is using the ArrayList<String> that comes from driver.getResults() which is designed for sending output to the final console not another serde. We should be able to re-write string and place the nulls back in carefully, however a better solution might exists.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=appodictic","name":"appodictic","key":"appodictic","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Edward Capriolo","active":true,"timeZone":"Etc/UTC"},"created":"2010-12-23T19:15:26.662+0000","updated":"2010-12-23T19:15:26.662+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493943/comment/12974728","id":"12974728","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=slider","name":"slider","key":"slider","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steven K. Wong","active":true,"timeZone":"America/Los_Angeles"},"body":"This may have been fixed by HIVE-1378 in trunk (0.7). Please give that a try.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=slider","name":"slider","key":"slider","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Steven K. Wong","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-12-23T20:50:10.363+0000","updated":"2010-12-23T20:50:10.363+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12493943/comment/14902426","id":"14902426","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=krishnak","name":"krishnak","key":"krishnak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"krishna","active":true,"timeZone":"Etc/UTC"},"body":"Boolean columns in Hive tables containing NULL are treated as FALSE by the Hive JDBC driver.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=krishnak","name":"krishnak","key":"krishnak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"krishna","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-22T11:41:35.518+0000","updated":"2015-09-22T11:41:35.518+0000"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-1863/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0lhcv:"}}