{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12625549","self":"https://issues.apache.org/jira/rest/api/2/issue/12625549","key":"HIVE-3849","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323587","id":"12323587","description":"Hive 0.11.0","name":"0.11.0","archived":false,"released":true,"releaseDate":"2013-05-15"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-12-31T04:52:11.773+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Apr 04 23:39:54 UTC 2013","customfield_12310420":"302093","customfield_12312320":null,"customfield_12310222":"3_*:*_3_*:*_16942_*|*_10002_*:*_6_*:*_920588540_*|*_1_*:*_7_*:*_4226620943_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-02-28T17:21:00.340+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-3849/watchers","watchCount":5,"isWatching":false},"created":"2012-12-31T03:33:53.954+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"8.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-05-16T21:10:05.305+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312586","id":"12312586","name":"Query Processor","description":"Tracks issues dealing with query processing."}],"timeoriginalestimate":null,"description":"Verifying HIVE-3847, I've found an exception is thrown before meeting the error situation described in it. Something like, \n\nFAILED: SemanticException [Error 10025]: Line 40:6 Expression not in GROUP BY key 'crit5'","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12562753","id":"12562753","filename":"HIVE-3849.D7713.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2012-12-31T04:52:11.865+0000","size":90432,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12562753/HIVE-3849.D7713.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12562754","id":"12562754","filename":"HIVE-3849.D7713.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2012-12-31T04:54:12.550+0000","size":68477,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12562754/HIVE-3849.D7713.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12563072","id":"12563072","filename":"HIVE-3849.D7713.3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-01-03T13:24:12.265+0000","size":65192,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12563072/HIVE-3849.D7713.3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12565081","id":"12565081","filename":"HIVE-3849.D7713.4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-01-16T06:06:11.772+0000","size":99470,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12565081/HIVE-3849.D7713.4.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12565717","id":"12565717","filename":"HIVE-3849.D7713.5.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-01-20T23:58:11.840+0000","size":100362,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12565717/HIVE-3849.D7713.5.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12567466","id":"12567466","filename":"HIVE-3849.D7713.6.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-01T00:35:11.722+0000","size":101974,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12567466/HIVE-3849.D7713.6.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12567947","id":"12567947","filename":"HIVE-3849.D7713.7.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-05T03:16:11.944+0000","size":225625,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12567947/HIVE-3849.D7713.7.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12571330","id":"12571330","filename":"HIVE-3849.D7713.8.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-28T01:33:13.332+0000","size":102028,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12571330/HIVE-3849.D7713.8.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"248734","customfield_12312823":null,"summary":"Aliased column in where clause for multi-groupby single reducer cannot be resolved","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13541272","id":"13541272","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"navis requested code review of \"HIVE-3849 [jira] Columns are not extracted for multi-groupby single reducer case somtimes\".\nReviewers: JIRA\n\n  Verifying HIVE-3847, I've found an exception is thrown before meeting the error situation described in it. Something like,\n\n  FAILED: SemanticException [Error 10025]: Line 40:6 Expression not in GROUP BY key 'crit5'\n\nTEST PLAN\n  EMPTY\n\nREVISION DETAIL\n  https://reviews.facebook.net/D7713\n\nAFFECTED FILES\n  ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java\n  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java\n  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java\n  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java\n  ql/src/test/queries/clientnegative/alter_view_as_select_not_exist.q\n  ql/src/test/queries/clientnegative/alter_view_as_select_with_partition.q\n  ql/src/test/queries/clientpositive/alter_view_as_select.q\n  ql/src/test/queries/clientpositive/groupby_multi_insert_common_distinct.q\n  ql/src/test/queries/clientpositive/groupby_mutli_insert_common_distinct.q\n  ql/src/test/queries/clientpositive/groupby_multi_single_reducer3.q\n  ql/src/test/results/clientnegative/alter_view_as_select_not_exist.q.out\n  ql/src/test/results/clientnegative/alter_view_as_select_with_partition.q.out\n  ql/src/test/results/clientnegative/create_or_replace_view1.q.out\n  ql/src/test/results/clientnegative/create_or_replace_view2.q.out\n  ql/src/test/results/clientnegative/create_or_replace_view3.q.out\n  ql/src/test/results/clientpositive/alter_view_as_select.q.out\n  ql/src/test/results/clientpositive/create_view.q.out\n  ql/src/test/results/clientpositive/groupby_multi_insert_common_distinct.q.out\n  ql/src/test/results/clientpositive/groupby_mutli_insert_common_distinct.q.out\n  ql/src/test/results/clientpositive/groupby_multi_single_reducer3.q.out\n\nMANAGE HERALD DIFFERENTIAL RULES\n  https://reviews.facebook.net/herald/view/differential/\n\nWHY DID I GET THIS EMAIL?\n  https://reviews.facebook.net/herald/transcript/18501/\n\nTo: JIRA, navis\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2012-12-31T04:52:11.773+0000","updated":"2012-12-31T04:52:11.773+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13541273","id":"13541273","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"navis updated the revision \"HIVE-3849 [jira] Columns are not extracted for multi-groupby single reducer case somtimes\".\nReviewers: JIRA\n\n  rebased to trunk\n\n\nREVISION DETAIL\n  https://reviews.facebook.net/D7713\n\nAFFECTED FILES\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java\n  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java\n  ql/src/test/queries/clientpositive/groupby_multi_insert_common_distinct.q\n  ql/src/test/queries/clientpositive/groupby_mutli_insert_common_distinct.q\n  ql/src/test/queries/clientpositive/groupby_multi_single_reducer3.q\n  ql/src/test/results/clientpositive/groupby_multi_insert_common_distinct.q.out\n  ql/src/test/results/clientpositive/groupby_mutli_insert_common_distinct.q.out\n  ql/src/test/results/clientpositive/groupby_multi_single_reducer3.q.out\n\nTo: JIRA, navis\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2012-12-31T04:54:12.467+0000","updated":"2012-12-31T04:54:12.467+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13541959","id":"13541959","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"body":"Passed all tests","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"created":"2013-01-02T01:04:54.554+0000","updated":"2013-01-02T01:04:54.554+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13541994","id":"13541994","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"comments on phabricator","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-02T04:59:49.063+0000","updated":"2013-01-02T04:59:49.063+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13541995","id":"13541995","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"njain has commented on the revision \"HIVE-3849 [jira] Columns are not extracted for multi-groupby single reducer case somtimes\".\n\nINLINE COMMENTS\n  ql/src/test/queries/clientpositive/groupby_multi_single_reducer3.q:50 Do you need to have mapjoin hint in the query ?\n\n  I am trying to remove support for mapjoin hint whenever possible.\n  https://issues.apache.org/jira/browse/HIVE-3784,\n\n  and this test may not work.\n\n  Even if it does, do you need a map-join hint.\n\nREVISION DETAIL\n  https://reviews.facebook.net/D7713\n\nTo: JIRA, navis\nCc: njain\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-01-02T05:00:11.961+0000","updated":"2013-01-02T05:00:11.961+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13542001","id":"13542001","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"navis has commented on the revision \"HIVE-3849 [jira] Columns are not extracted for multi-groupby single reducer case somtimes\".\n\nINLINE COMMENTS\n  ql/src/test/queries/clientpositive/groupby_multi_single_reducer3.q:50 It's reported query as not working from HIVE-2791 and too complicated for me to simplify. I'll look into this more.\n\nREVISION DETAIL\n  https://reviews.facebook.net/D7713\n\nTo: JIRA, navis\nCc: njain\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-01-02T05:16:11.312+0000","updated":"2013-01-02T05:16:11.312+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13542922","id":"13542922","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"navis updated the revision \"HIVE-3849 [jira] Columns are not extracted for multi-groupby single reducer case somtimes\".\nReviewers: JIRA\n\n  Removed MapJoin hint from test case\n\n\nREVISION DETAIL\n  https://reviews.facebook.net/D7713\n\nAFFECTED FILES\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java\n  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java\n  ql/src/test/queries/clientpositive/groupby_multi_insert_common_distinct.q\n  ql/src/test/queries/clientpositive/groupby_mutli_insert_common_distinct.q\n  ql/src/test/queries/clientpositive/groupby_multi_single_reducer3.q\n  ql/src/test/results/clientpositive/groupby_multi_insert_common_distinct.q.out\n  ql/src/test/results/clientpositive/groupby_mutli_insert_common_distinct.q.out\n  ql/src/test/results/clientpositive/groupby_multi_single_reducer3.q.out\n\nTo: JIRA, navis\nCc: njain\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-01-03T13:24:12.177+0000","updated":"2013-01-03T13:24:12.177+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13546734","id":"13546734","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"comments on phabricator","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-08T09:37:17.371+0000","updated":"2013-01-08T09:37:17.371+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13546736","id":"13546736","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"njain has commented on the revision \"HIVE-3849 [jira] Columns are not extracted for multi-groupby single reducer case somtimes\".\n\nINLINE COMMENTS\n  ql/src/test/queries/clientpositive/groupby_multi_single_reducer3.q:5 Why not have the same test with hive.optimize.ppd set to true also ?\n  ql/src/test/queries/clientpositive/groupby_multi_single_reducer3.q:7 Can you add a test where there is an expression on the where clause ?\n\n  from src\n  insert overwrite table e1\n  select value, count(*)\n  where src.key + src.key = 100 or src.key + 7 = 207 or src.key = 300\n  group by value\n  .....\n\n\nREVISION DETAIL\n  https://reviews.facebook.net/D7713\n\nTo: JIRA, navis\nCc: njain\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-01-08T09:38:11.849+0000","updated":"2013-01-08T09:38:11.849+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13554777","id":"13554777","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"navis updated the revision \"HIVE-3849 [jira] Columns are not extracted for multi-groupby single reducer case somtimes\".\nReviewers: JIRA\n\n  Addressed comments\n\n\nREVISION DETAIL\n  https://reviews.facebook.net/D7713\n\nAFFECTED FILES\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java\n  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java\n  ql/src/test/queries/clientpositive/groupby_multi_insert_common_distinct.q\n  ql/src/test/queries/clientpositive/groupby_mutli_insert_common_distinct.q\n  ql/src/test/queries/clientpositive/groupby_multi_single_reducer3.q\n  ql/src/test/results/clientpositive/groupby_multi_insert_common_distinct.q.out\n  ql/src/test/results/clientpositive/groupby_mutli_insert_common_distinct.q.out\n  ql/src/test/results/clientpositive/groupby_multi_single_reducer3.q.out\n\nTo: JIRA, navis\nCc: njain\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-01-16T06:06:11.684+0000","updated":"2013-01-16T06:06:11.684+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13558199","id":"13558199","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 Running tests.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-01-20T08:04:50.366+0000","updated":"2013-01-20T08:04:50.366+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13558356","id":"13558356","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"All the tests passed except groupby_multi_single_reducer3.q Navis can you take a look.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-01-20T19:46:36.891+0000","updated":"2013-01-20T19:46:36.891+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13558445","id":"13558445","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"body":"HIVE-3699 changed test result. Fixed that.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"created":"2013-01-20T23:58:06.385+0000","updated":"2013-01-20T23:58:06.385+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13558446","id":"13558446","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"navis updated the revision \"HIVE-3849 [jira] Columns are not extracted for multi-groupby single reducer case somtimes\".\nReviewers: JIRA\n\n  Fixed test result which is affected by HIVE-3699\n\n\nREVISION DETAIL\n  https://reviews.facebook.net/D7713\n\nAFFECTED FILES\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java\n  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java\n  ql/src/test/queries/clientpositive/groupby_multi_insert_common_distinct.q\n  ql/src/test/queries/clientpositive/groupby_mutli_insert_common_distinct.q\n  ql/src/test/queries/clientpositive/groupby_multi_single_reducer3.q\n  ql/src/test/results/clientpositive/groupby_multi_insert_common_distinct.q.out\n  ql/src/test/results/clientpositive/groupby_mutli_insert_common_distinct.q.out\n  ql/src/test/results/clientpositive/groupby_multi_single_reducer3.q.out\n\nTo: JIRA, navis\nCc: njain\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-01-20T23:58:11.778+0000","updated":"2013-01-20T23:58:11.778+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13558533","id":"13558533","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"njain has commented on the revision \"HIVE-3849 [jira] Columns are not extracted for multi-groupby single reducer case somtimes\".\n\nINLINE COMMENTS\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:8704 Can you fix the comments ?\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:8654 Can you add some comments for this function ?\n  Detailed comments would really help in maintaining it in the long term.\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:3571 Either change the name of the function or add a lot of comments.\n  You are not removing from keys, from removing keys from the mapping passed in.\n\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:3540 Add some comments here.\n\n  Some of the expressions are already passed in the reduce Keys - they need not be\n  passed again in the values. A example query would really help.\n\n\n\n\nREVISION DETAIL\n  https://reviews.facebook.net/D7713\n\nTo: JIRA, navis\nCc: njain\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-01-21T04:54:12.494+0000","updated":"2013-01-21T04:54:12.494+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13558535","id":"13558535","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"minor comments","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-21T04:57:42.445+0000","updated":"2013-01-21T04:57:42.445+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13567743","id":"13567743","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"[~navis] Lets try to get this in. Would you like to address Namit's comments?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-01-31T16:01:03.270+0000","updated":"2013-01-31T16:01:03.270+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13568291","id":"13568291","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"navis has commented on the revision \"HIVE-3849 [jira] Columns are not extracted for multi-groupby single reducer case somtimes\".\n\nINLINE COMMENTS\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:3540 I've seen it's booked on other issue.\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:3571 added comments.\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:8654 added comments.\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:8704 fiexed.\n\nREVISION DETAIL\n  https://reviews.facebook.net/D7713\n\nTo: JIRA, navis\nCc: njain\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-01T00:33:11.235+0000","updated":"2013-02-01T00:33:11.235+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13568292","id":"13568292","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"navis updated the revision \"HIVE-3849 [jira] Columns are not extracted for multi-groupby single reducer case somtimes\".\nReviewers: JIRA\n\n  Addressed comments\n\n\nREVISION DETAIL\n  https://reviews.facebook.net/D7713\n\nAFFECTED FILES\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java\n  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java\n  ql/src/test/queries/clientpositive/groupby_multi_insert_common_distinct.q\n  ql/src/test/queries/clientpositive/groupby_mutli_insert_common_distinct.q\n  ql/src/test/queries/clientpositive/groupby_multi_single_reducer3.q\n  ql/src/test/results/clientpositive/groupby_multi_insert_common_distinct.q.out\n  ql/src/test/results/clientpositive/groupby_mutli_insert_common_distinct.q.out\n  ql/src/test/results/clientpositive/groupby_multi_single_reducer3.q.out\n\nTo: JIRA, navis\nCc: njain\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-01T00:35:11.630+0000","updated":"2013-02-01T00:35:11.630+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13568366","id":"13568366","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks Navis for update. [~namit] would you like to take a look?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-01T01:44:48.310+0000","updated":"2013-02-01T01:44:48.310+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13568468","id":"13568468","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"Yes, let me take a look","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-01T04:35:11.916+0000","updated":"2013-02-01T04:35:11.916+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13568503","id":"13568503","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"comments","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-01T05:41:03.984+0000","updated":"2013-02-01T05:41:03.984+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13568505","id":"13568505","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"njain has commented on the revision \"HIVE-3849 [jira] Columns are not extracted for multi-groupby single reducer case somtimes\".\n\nINLINE COMMENTS\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:3537 Do you think it would be easier to change genAllExprNodeDesc to return\n  Map<ASTNode, ExprNodeDesc> ?\n\n  It might involve a change in TypeCheckProcFactory, but it will make it\n  much more readable.\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:3548 nit: formatting\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:3569 Can you add correct comments for this function ?\n\n  The predicates will be removed from mapping if they are passed in keys\n  ql/src/test/queries/clientpositive/groupby_multi_single_reducer3.q:8 It might be a good idea to add a test where the grouping key is present in\n  the where clause.\n\nREVISION DETAIL\n  https://reviews.facebook.net/D7713\n\nTo: JIRA, navis\nCc: njain\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-01T05:43:12.201+0000","updated":"2013-02-01T05:43:12.201+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13570908","id":"13570908","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"navis updated the revision \"HIVE-3849 [jira] Columns are not extracted for multi-groupby single reducer case somtimes\".\n\n  For addressing comment, I've generified some important entities and found it's affeting many classes.\n  @namit; I think this is not what you expected, or is it?\n\nReviewers: JIRA\n\nREVISION DETAIL\n  https://reviews.facebook.net/D7713\n\nCHANGE SINCE LAST DIFF\n  https://reviews.facebook.net/D7713?vs=26973&id=27243#toc\n\nAFFECTED FILES\n  ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java\n  ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java\n  ql/src/java/org/apache/hadoop/hive/ql/index/IndexPredicateAnalyzer.java\n  ql/src/java/org/apache/hadoop/hive/ql/lib/DefaultGraphWalker.java\n  ql/src/java/org/apache/hadoop/hive/ql/lib/DefaultRuleDispatcher.java\n  ql/src/java/org/apache/hadoop/hive/ql/lib/Dispatcher.java\n  ql/src/java/org/apache/hadoop/hive/ql/lib/GraphWalker.java\n  ql/src/java/org/apache/hadoop/hive/ql/lib/Node.java\n  ql/src/java/org/apache/hadoop/hive/ql/lib/NodeProcessor.java\n  ql/src/java/org/apache/hadoop/hive/ql/lib/PreOrderWalker.java\n  ql/src/java/org/apache/hadoop/hive/ql/lib/Rule.java\n  ql/src/java/org/apache/hadoop/hive/ql/lib/RuleExactMatch.java\n  ql/src/java/org/apache/hadoop/hive/ql/lib/RuleRegExp.java\n  ql/src/java/org/apache/hadoop/hive/ql/lib/TaskGraphWalker.java\n  ql/src/java/org/apache/hadoop/hive/ql/lib/Utils.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractBucketJoinProc.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketMapJoinOptimizer.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ColumnPruner.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ColumnPrunerProcFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMROperator.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRRedSink1.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRRedSink2.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRRedSink3.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRTableScan1.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GroupByOptimizer.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/PrunerExpressionOperatorFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/PrunerOperatorFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ReduceSinkDeDuplication.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/SamplePruner.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/SkewJoinOptimizer.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeBucketMapJoinOptimizer.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/index/RewriteCanApplyCtx.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/index/RewriteCanApplyProcFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/index/RewriteQueryUsingAggregateIndex.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/index/RewriteQueryUsingAggregateIndexCtx.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/lineage/ExprProcFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/lineage/OpProcFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrExprProcFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/pcr/PcrOpProcFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/BucketingSortingOpProcFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/LocalMapJoinProcFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/MapJoinResolver.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/MetadataOnlyOptimizer.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/SkewJoinProcFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/SkewJoinResolver.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/index/IndexWhereProcessor.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/index/IndexWhereTaskDispatcher.java\n  ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/parse/ASTNode.java\n  ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java\n  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java\n  ql/src/java/org/apache/hadoop/hive/ql/parse/PrintOpTreeProcessor.java\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java\n  ql/src/java/org/apache/hadoop/hive/ql/parse/TableAccessAnalyzer.java\n  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDesc.java\n  ql/src/java/org/apache/hadoop/hive/ql/ppd/ExprWalkerProcFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java\n  ql/src/java/org/apache/hadoop/hive/ql/ppd/PredicateTransitivePropagate.java\n  ql/src/java/org/apache/hadoop/hive/ql/tools/LineageInfo.java\n  ql/src/test/queries/clientpositive/groupby_multi_insert_common_distinct.q\n  ql/src/test/queries/clientpositive/groupby_mutli_insert_common_distinct.q\n  ql/src/test/queries/clientpositive/groupby_multi_single_reducer3.q\n  ql/src/test/results/clientpositive/groupby_multi_insert_common_distinct.q.out\n  ql/src/test/results/clientpositive/groupby_mutli_insert_common_distinct.q.out\n  ql/src/test/results/clientpositive/groupby_multi_single_reducer3.q.out\n\nTo: JIRA, navis\nCc: njain\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-05T03:16:11.839+0000","updated":"2013-02-05T03:16:11.839+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13576300","id":"13576300","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"This is touching up on way too many files. I think we should do this refactoring in another jira.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-12T02:15:19.214+0000","updated":"2013-02-12T02:15:19.214+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13589009","id":"13589009","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"navis has commented on the revision \"HIVE-3849 [jira] Columns are not extracted for multi-groupby single reducer case somtimes\".\n\nINLINE COMMENTS\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:3537 done.\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:3548 ok.\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:3569 done.\n  ql/src/test/queries/clientpositive/groupby_multi_single_reducer3.q:8 ah, got it.\n\nREVISION DETAIL\n  https://reviews.facebook.net/D7713\n\nTo: JIRA, navis\nCc: njain\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-28T01:33:12.440+0000","updated":"2013-02-28T01:33:12.440+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13589010","id":"13589010","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"navis updated the revision \"HIVE-3849 [jira] Columns are not extracted for multi-groupby single reducer case somtimes\".\n\n  Addressed comments and rebased to trunk\n\nReviewers: JIRA\n\nREVISION DETAIL\n  https://reviews.facebook.net/D7713\n\nCHANGE SINCE LAST DIFF\n  https://reviews.facebook.net/D7713?vs=27243&id=28815#toc\n\nAFFECTED FILES\n  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java\n  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java\n  ql/src/test/queries/clientpositive/groupby_multi_insert_common_distinct.q\n  ql/src/test/queries/clientpositive/groupby_mutli_insert_common_distinct.q\n  ql/src/test/queries/clientpositive/groupby_multi_single_reducer3.q\n  ql/src/test/results/clientpositive/groupby_multi_insert_common_distinct.q.out\n  ql/src/test/results/clientpositive/groupby_mutli_insert_common_distinct.q.out\n  ql/src/test/results/clientpositive/groupby_multi_single_reducer3.q.out\n\nTo: JIRA, navis\nCc: njain\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-28T01:33:13.238+0000","updated":"2013-02-28T01:33:13.238+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13589352","id":"13589352","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"njain has commented on the revision \"HIVE-3849 [jira] Columns are not extracted for multi-groupby single reducer case somtimes\".\n\n  I will take a look\n\nREVISION DETAIL\n  https://reviews.facebook.net/D7713\n\nTo: JIRA, navis\nCc: njain\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-28T08:51:11.660+0000","updated":"2013-02-28T08:51:11.660+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13589362","id":"13589362","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"njain has accepted the revision \"HIVE-3849 [jira] Columns are not extracted for multi-groupby single reducer case somtimes\".\n\nREVISION DETAIL\n  https://reviews.facebook.net/D7713\n\nBRANCH\n  DPAL-1948\n\nARCANIST PROJECT\n  hive\n\nTo: JIRA, njain, navis\nCc: njain\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-28T09:13:11.929+0000","updated":"2013-02-28T09:13:11.929+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13589678","id":"13589678","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"Committed. Thanks Navis","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-28T17:21:00.366+0000","updated":"2013-02-28T17:21:00.366+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12625549/comment/13623037","id":"13623037","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hive-trunk-hadoop2 #138 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/138/])\n    HIVE-3849 Aliased column in where clause for multi-groupby single reducer cannot\nbe resolved (Navis via namit) (Revision 1451259)\n\n     Result = FAILURE\nnamit : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1451259\nFiles : \n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java\n* /hive/trunk/ql/src/test/queries/clientpositive/groupby_multi_insert_common_distinct.q\n* /hive/trunk/ql/src/test/queries/clientpositive/groupby_multi_single_reducer3.q\n* /hive/trunk/ql/src/test/queries/clientpositive/groupby_mutli_insert_common_distinct.q\n* /hive/trunk/ql/src/test/results/clientpositive/groupby_multi_insert_common_distinct.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/groupby_multi_single_reducer3.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/groupby_mutli_insert_common_distinct.q.out\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-04-04T23:39:54.364+0000","updated":"2013-04-04T23:39:54.364+0000"}],"maxResults":31,"total":31,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-3849/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i16yk7:"}}