{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12604358","self":"https://issues.apache.org/jira/rest/api/2/issue/12604358","key":"HIVE-3403","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323587","id":"12323587","description":"Hive 0.11.0","name":"0.11.0","archived":false,"released":true,"releaseDate":"2013-05-15"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-09-20T05:17:34.306+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sun Dec 04 05:48:51 UTC 2016","customfield_12310420":"249652","customfield_12312320":null,"customfield_12310222":"10002_*:*_6_*:*_5274009407_*|*_1_*:*_6_*:*_10346701692_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-02-19T05:17:51.090+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-3403/watchers","watchCount":11,"isWatching":false},"created":"2012-08-22T10:12:40.032+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["TODOC11"],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"30.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12356852","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12356852","type":{"id":"10020","name":"Cloners","inward":"is cloned by","outward":"is a clone of","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10020"},"outwardIssue":{"id":"12604357","key":"HIVE-3402","self":"https://issues.apache.org/jira/rest/api/2/issue/12604357","fields":{"summary":"user should not specify mapjoin to perform bucketed join","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12363529","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12363529","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12623099","key":"HIVE-3784","self":"https://issues.apache.org/jira/rest/api/2/issue/12623099","fields":{"summary":"de-emphasize mapjoin hint","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}},{"id":"12363538","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12363538","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12623099","key":"HIVE-3784","self":"https://issues.apache.org/jira/rest/api/2/issue/12623099","fields":{"summary":"de-emphasize mapjoin hint","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}},{"id":"12357599","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12357599","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"outwardIssue":{"id":"12599574","key":"HIVE-3283","self":"https://issues.apache.org/jira/rest/api/2/issue/12599574","fields":{"summary":"bucket information should be used from the partition instead of the table","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12360295","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12360295","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"outwardIssue":{"id":"12613846","key":"HIVE-3633","self":"https://issues.apache.org/jira/rest/api/2/issue/12613846","fields":{"summary":"sort-merge join does not work with sub-queries","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}},{"id":"12363072","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12363072","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"12627400","key":"HIVE-3892","self":"https://issues.apache.org/jira/rest/api/2/issue/12627400","fields":{"summary":"auto sort merge join does not work for sub-queries","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12359128","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12359128","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"12612477","key":"HIVE-3598","self":"https://issues.apache.org/jira/rest/api/2/issue/12612477","fields":{"summary":"physical optimizer changes for auto sort-merge join","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12364051","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12364051","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"12627393","key":"HIVE-3891","self":"https://issues.apache.org/jira/rest/api/2/issue/12627393","fields":{"summary":"physical optimizer changes for auto sort-merge join","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12363889","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12363889","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"12630612","key":"HIVE-3980","self":"https://issues.apache.org/jira/rest/api/2/issue/12630612","fields":{"summary":"Cleanup after HIVE-3403","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-12-04T05:48:51.202+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Currently, in order to perform a sort merge bucketed join, the user needs\nto set hive.optimize.bucketmapjoin.sortedmerge to true, and also specify the \nmapjoin hint.\n\nThe user should not specify any hints.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12569116","id":"12569116","filename":"auto_sortmerge_join_1_modified.q","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vikram.dixit","name":"vikram.dixit","key":"vikram.dixit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vikram Dixit K","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-13T00:40:24.194+0000","size":2471,"mimeType":"application/octet-stream","content":"https://issues.apache.org/jira/secure/attachment/12569116/auto_sortmerge_join_1_modified.q"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12545427","id":"12545427","filename":"hive.3403.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-09-17T15:09:53.670+0000","size":230624,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12545427/hive.3403.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12564202","id":"12564202","filename":"hive.3403.10.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-10T17:22:57.286+0000","size":421797,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12564202/hive.3403.10.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12564376","id":"12564376","filename":"hive.3403.11.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-11T08:01:02.099+0000","size":424198,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12564376/hive.3403.11.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12564394","id":"12564394","filename":"hive.3403.12.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-11T11:31:48.973+0000","size":424243,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12564394/hive.3403.12.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12564676","id":"12564676","filename":"hive.3403.13.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-14T09:06:50.738+0000","size":315337,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12564676/hive.3403.13.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12564678","id":"12564678","filename":"hive.3403.14.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-14T09:52:43.055+0000","size":318736,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12564678/hive.3403.14.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12565464","id":"12565464","filename":"hive.3403.15.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-18T10:52:26.982+0000","size":318736,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12565464/hive.3403.15.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12565753","id":"12565753","filename":"hive.3403.16.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-21T09:01:30.753+0000","size":417257,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12565753/hive.3403.16.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12565757","id":"12565757","filename":"hive.3403.17.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-21T09:56:12.051+0000","size":416659,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12565757/hive.3403.17.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12567105","id":"12567105","filename":"hive.3403.18.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-30T04:46:00.184+0000","size":416823,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12567105/hive.3403.18.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12567130","id":"12567130","filename":"hive.3403.19.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-30T12:06:23.644+0000","size":390444,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12567130/hive.3403.19.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12551312","id":"12551312","filename":"hive.3403.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-10-30T07:14:23.556+0000","size":236657,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12551312/hive.3403.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12567303","id":"12567303","filename":"hive.3403.21.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-31T05:30:41.713+0000","size":415734,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12567303/hive.3403.21.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12567309","id":"12567309","filename":"hive.3403.22.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-31T06:56:33.317+0000","size":499950,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12567309/hive.3403.22.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12567317","id":"12567317","filename":"hive.3403.23.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-31T08:21:05.104+0000","size":499950,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12567317/hive.3403.23.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12567350","id":"12567350","filename":"hive.3403.24.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-31T11:56:47.013+0000","size":500034,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12567350/hive.3403.24.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12567803","id":"12567803","filename":"hive.3403.25.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-04T05:58:50.770+0000","size":501880,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12567803/hive.3403.25.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12567809","id":"12567809","filename":"hive.3403.26.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-04T07:05:48.977+0000","size":534095,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12567809/hive.3403.26.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12569322","id":"12569322","filename":"hive.3403.27.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-14T08:13:34.983+0000","size":567165,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12569322/hive.3403.27.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12569759","id":"12569759","filename":"hive.3403.28.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-18T04:54:35.612+0000","size":566945,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12569759/hive.3403.28.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12569760","id":"12569760","filename":"hive.3403.29.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-18T05:00:07.407+0000","size":565680,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12569760/hive.3403.29.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12552258","id":"12552258","filename":"hive.3403.3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-11-06T10:45:42.558+0000","size":430042,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12552258/hive.3403.3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12569901","id":"12569901","filename":"hive.3403.30.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-19T03:39:12.931+0000","size":565680,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12569901/hive.3403.30.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12552424","id":"12552424","filename":"hive.3403.4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-11-07T06:25:47.780+0000","size":429989,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12552424/hive.3403.4.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12552456","id":"12552456","filename":"hive.3403.5.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-11-07T11:35:43.241+0000","size":442220,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12552456/hive.3403.5.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12552612","id":"12552612","filename":"hive.3403.6.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-11-08T04:45:47.951+0000","size":484021,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12552612/hive.3403.6.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12552652","id":"12552652","filename":"hive.3403.7.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-11-08T11:47:25.692+0000","size":502882,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12552652/hive.3403.7.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12552681","id":"12552681","filename":"hive.3403.8.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-11-08T18:13:27.765+0000","size":413040,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12552681/hive.3403.8.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12554455","id":"12554455","filename":"hive.3403.9.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-11-21T06:07:19.690+0000","size":413236,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12554455/hive.3403.9.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"58892","customfield_12312823":null,"summary":"user should not specify mapjoin to perform sort-merge bucketed join","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13439418","id":"13439418","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"If the input tables are bucketed/sorted on the join keys, and we convert\nthe join to sort-merge bucketed map join, the only drawback is that we will\nuse BucketizedHiveInputFormat (or one mapper per file), which may restrict the\nparallelism if the input files are large.\n\nIn most of the cases, the advantages of sort merge join (and no reducer) should\noverweigh the reduced parallelism. I can add a configurable parameter for this\nbehavior to be triggered, if need be.\n\nIn general, it seems a good idea to automatically use sort-merge join whenever possible.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-08-22T11:17:40.871+0000","updated":"2012-08-22T11:17:40.871+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13452812","id":"13452812","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"https://reviews.facebook.net/D5325","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-09-11T08:08:24.287+0000","updated":"2012-09-11T08:08:24.287+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13452814","id":"13452814","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"This is a patch in progress.\n\nPlease review.\n\n[~navis], it would be really helpful if you can review it thoroughly. Others are also welcome.\nI will let HIVE-3283 go in first.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-09-11T08:09:55.441+0000","updated":"2012-09-11T08:09:55.441+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13459355","id":"13459355","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"body":"@Namit Jain;\nI've just released from HIVE-3381. Let's start looking into this.\n\nI think this patch tries to solve two issues simultaneously. One is for merging two config to single one as mentioned above, and the other is for extending SMBOptimizer by additional conversion rule (JOIN to SMBJOIN directly), which is great. Is it possible to use it with hive.auto.convert.join=true? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"created":"2012-09-20T05:17:34.306+0000","updated":"2012-09-20T05:17:34.306+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13459361","id":"13459361","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"[~navis], Thanks for looking into this.\n\nI like the idea of using it with hive.auto.convert.join.\nBut, do you think we should do it in a follow-up ? I mean, let this stabilize and then change.\nBut, then we will have a backward compatibility issue - OK, I will change it to use hive.auto.convert.join","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-09-20T05:45:25.381+0000","updated":"2012-09-20T05:45:25.381+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13459517","id":"13459517","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"[~navis], thinking more about it - I am not sure.\nIf we go the route of hive.auto.convert.join, do we risk deployment ?\nI mean, hive.auto.convert.join is a very stable feature and should be set to true\nin most of the installations. Do we want to risk a new functionality on this one ?\n\nI would say - let us have an additional config. for now, but once we are more confident of\nit's functionality, we can add this behavior in hive.auto.convert.join.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-09-20T11:16:32.930+0000","updated":"2012-09-20T11:16:32.930+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13479263","id":"13479263","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"Had an offline review with Kevin - the following came out of that:\n\n1. The policy to choose the big table should take the average size of the partition into account.\n   We dont need to change the existing policy, can add a new policy.\n2. The new policy should give preference to a table with no partitions/ 1 partition.\n3. If one of the tables is small enough to fit in memory, there is no need to perform sort-merge join. The\n   policy should check that. Eventually, that check should be removed, and that should be handled by the physical\n   optimizer - will file a new jira for that.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-10-18T19:14:09.855+0000","updated":"2012-10-18T19:14:09.855+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13492110","id":"13492110","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mgrover","name":"mgrover","key":"mgrover","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mark Grover","active":true,"timeZone":"America/Los_Angeles"},"body":"Sorry for joining the party a little late.\n\nJust a thought: we already have a property hive.optimize.bucketmapjoin that deals with the same question - whether or not to use BucketizedHiveInputFormat. Would it make sense to use the same property? I would go as far as saying, most people who would want to auto-convert their joins to bucketed joins would be interested in converting their joins to sort-merge bucketed joins (if data is sorted per join keys).\n\nWhat do you think?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mgrover","name":"mgrover","key":"mgrover","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mark Grover","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-07T04:25:33.639+0000","updated":"2012-11-07T04:25:33.639+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13492282","id":"13492282","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"[~mgrover], typically we have erred on the side on having more configurable parameters in hive, rather than over-loading a parameter.\nThere is no correct answer for this, but I would prefer to have an additional conf. Moreover, hive.optimize.bucketmapjoin, only converts map-joins to\nbucketized map joins, whenever possible. However, here, the user is not giving any hints, and we are converting the query to use sort-merge joins.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-11-07T11:33:32.140+0000","updated":"2012-11-07T11:33:32.140+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13492451","id":"13492451","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mgrover","name":"mgrover","key":"mgrover","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mark Grover","active":true,"timeZone":"America/Los_Angeles"},"body":"Fair enough. I am ok with a new parameter.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mgrover","name":"mgrover","key":"mgrover","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mark Grover","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-07T16:03:33.418+0000","updated":"2012-11-07T16:03:33.418+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13493358","id":"13493358","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"Added tests - this is ready for review","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-11-08T18:13:52.458+0000","updated":"2012-11-08T18:13:52.458+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13498326","id":"13498326","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kevinwilfong","name":"kevinwilfong","key":"kevinwilfong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin Wilfong","active":true,"timeZone":"America/Los_Angeles"},"body":"Comments on Phabricator.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kevinwilfong","name":"kevinwilfong","key":"kevinwilfong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin Wilfong","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-15T20:54:15.648+0000","updated":"2012-11-15T20:54:15.648+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13501716","id":"13501716","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"addressed comments","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2012-11-21T06:07:32.794+0000","updated":"2012-11-21T06:07:32.794+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13552501","id":"13552501","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"If one of the tables is small enough to fit in memory, there is no need to perform sort-merge join. The\npolicy should check that. Eventually, that check should be removed, and that should be handled by the physical\noptimizer - will file a new jira for that.\n\nI had filed https://issues.apache.org/jira/browse/HIVE-3598 for that, but since sub-query support for map-joins\nhas gone in, this change is more complicated. Will do the backup task in a new jira.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-14T08:24:31.092+0000","updated":"2013-01-14T08:24:31.092+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13552503","id":"13552503","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"https://issues.apache.org/jira/secure/attachment/12564394/hive.3403.12.patch contains the changes with the backup task.\nWill clean it up, remove the backup task from HIVE-3403.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-14T08:25:44.260+0000","updated":"2013-01-14T08:25:44.260+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13552770","id":"13552770","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"The tests run fine","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-14T15:11:29.486+0000","updated":"2013-01-14T15:11:29.486+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13552771","id":"13552771","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"[~kevinwilfong], can u take a look ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-14T15:11:55.017+0000","updated":"2013-01-14T15:11:55.017+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13555922","id":"13555922","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"[~navis], can you take a look at this patch, since you very familiar with join code ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-17T06:49:55.378+0000","updated":"2013-01-17T06:49:55.378+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13558826","id":"13558826","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"The support for sub-queries has also been added in this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-21T15:13:44.511+0000","updated":"2013-01-21T15:13:44.511+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13562688","id":"13562688","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"waiting for HIVE-3784 first","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-25T13:51:58.860+0000","updated":"2013-01-25T13:51:58.860+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13567412","id":"13567412","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"To help\tin review, the class hierarchy is:\n\nAbstractBucketJoinProc\n       subclass1 : AbstractSMBJoinProc\n             subclass1 : subclass1 : SortedMergeBucketMapjoinProc\n             subclass1: subclass2: SortedMergeJoinProc\n       subclass2: BucketMapjoinOptProc\n\n\nThe context needed is:\n\nBucketJoinOptProcCtx\n       subclass1: SortBucketJoinOptProcCtx\n\nMost of the code in AbstractBucketJoinProc and AbstractSMBJoinProc is old code moved.\nBucketMapjoinOptProc is also old code  but there has been little refactoring to break it up into context.\n\nAs such, the only new code is SortedMergeJoinProc. Due to the refactoring, I am\table to\tre-use a lot of\tcode\nbetween\tmap-join and join processing.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-01-31T07:00:06.570+0000","updated":"2013-01-31T12:12:37.438+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13568377","id":"13568377","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"All tests passed","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-01T02:08:03.731+0000","updated":"2013-02-01T02:08:03.731+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13569685","id":"13569685","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Left some comments on phabricator.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-03T01:28:09.847+0000","updated":"2013-02-03T01:28:09.847+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13570045","id":"13570045","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"comments addressed + tests pass","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-04T07:42:37.759+0000","updated":"2013-02-04T07:42:37.759+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13575262","id":"13575262","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"I concur with Mark's above comments. I don't agree that erring on the side of more configs is a good idea. e.g., the if-else ladder after this patch will look like following:\n\n{code}\nif user specifies map join hint && hive.optimize.bucketmapjoin is true, than a map-join may be converted to BMJ.\n\nif user specifies map join hint && hive.optimize.bucketmapjoin is true && hive.optimize.sortedmerge is true, than a map-join may be converted to SMBJ.\n\nif user doesn't specify map join hint && hive.optimize.bucketmapjoin && hive.optimize.sortedmerge is true && hive.optimize.auto.convert.sortmerge.join is true, than a regular may be converted may be converted to SMBJ.\n\n... and than there is hive.auto.covert.join, hive.auto.convert.join.noconditionaltask and many others...\n{code}\n\ninstead of simplifying the life of user which I believe is the original goal of jira, we are making his life complicated by introducing even more config which he needs to understand. Btw, I am not 100% even if I got the above settings right. Further, the fact that default value for every optimization is false means user ends up in worst of both worlds where none of the optimization kicks in and query runs slow. \nTo improve from state of art, my suggestions are following:\na) Lets get rid of hints altogether, i.e., we never construct logical plan with a MapJoin/SMBJoin/BJoin operator but always with regular join operator. And than in optimization phase we convert regular join to most optimal join implementation depending on sorting/bucketing properties and sizes of tables. This will simplify the codebase since we always see regular join in our operator tree in logical phase, thus eliminating need of handling MapJoin operator at logical level. Also, this simplifies the interaction of hints and configs like user provided hint but config is off.. kind of scenarios...\nb) We should compress all these different configs to lower number of configs.\nc) We should set the default value true for all these configs.\n\nNamit, do you think its possible to do this or do you see any problem in this plan? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-09T20:56:45.644+0000","updated":"2013-02-09T20:56:45.644+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13575336","id":"13575336","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Thinking more about my point a) above, there are three potential join optimization opportunities:\na) Convert a JoinOperator to non-bucketed MapJoinOperator.\nb) Convert a JoinOperator to bucketed MapJoinOpperator.\nc) Convert a JoinOperator to sort-merge-bucketed MapJoinOperator.\n \nAmong these c) doesn't need to buffer data in memory, so can be determined completely at compile time, which this patch enables. a) and b) buffers data in memory so need to be done at run time. a) is already taken care of in HIVE-3784. \nSo, we are left with b) now. With this patch, we will convert a Join Operator to bucketed MapJoin Operator at compile time by attempting to convert a map-join operator (which will be there because user provided the hint). But ideally this should also be done at runtime just like a). At run-time we should see first if tables are bucketed than check if the size of required buckets of smaller table can fit in memory and if they do than convert a JoinOperator to BMJ. If table is not bucketed than check size of whole of small table and than convert it into non-bucketed map-join. If we do this than we can completely get rid of map-join hints. If we get there, that will be advantageous to users since they never have to provide hints in their queries, hive optimizer will generate most optimal plan possible. It will be advantageous to hive devs since they will never have to bother about map-join operators in query compilation phase because map-join operator will never be part of plan at compile time. It will only appear at run-time if Join Operator is optimized to MapJoin Operator. This will simplify semantic analysis, plan generation and compile time optimizations a lot.\nNamit, is this analysis correct? \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-10T04:15:33.694+0000","updated":"2013-02-10T04:15:33.694+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13575358","id":"13575358","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"Yes, but we need to get there slowly - the idea is to get rid of the map-join hint eventually, and this jira is a step in that direction.\nc) above will be achieved with this jira. \n\nWith HIVE-3891 (which is also patch available), a backup task will be created for the map-join, just like a) above.\n\nI agree, I am adding more config. variables right now - the idea behind them is to test them slowly in deployment.\nIn case there are bugs, it would be easy to turn them off. Although there are more configs, it is still much easier than\nhints - once these configs are stabilized, we can change the defaults of these configs, and we dont need to specify anything\n(hint) per query.\n\nDoing b) automatically requires most work, among a), b) and c), since we need to load all the buckets - theoritically, we can\nload the largest bucket and decide based on that. That is definitely a big enough patch, and should not be part of this jira.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-10T06:32:22.215+0000","updated":"2013-02-10T06:32:22.215+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13576873","id":"13576873","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Make sense. I am not suggesting to include all that in this jira, but wanted to make sure we are on same page as to where are heading.\nThough, w.r.t, configs I can see your point about adding more configs, but I still think by default optimization configs should be on. Whole point of release is to ship stable codebase. By definition trunk is not considered stable (as stable as in making release out of it), so time we get between committing to trunk and releasing is for stablizing new codebase, but if by default configs are off, bugs lurking in new codebase will never be exposed.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-12T18:41:50.038+0000","updated":"2013-02-12T18:41:50.038+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13577198","id":"13577198","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vikram.dixit","name":"vikram.dixit","key":"vikram.dixit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vikram Dixit K","active":true,"timeZone":"America/Los_Angeles"},"body":"In the patch, the auto_sortmerge_join_6.q is missing.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vikram.dixit","name":"vikram.dixit","key":"vikram.dixit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vikram Dixit K","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-13T00:10:38.782+0000","updated":"2013-02-13T00:10:38.782+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13577224","id":"13577224","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vikram.dixit","name":"vikram.dixit","key":"vikram.dixit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vikram Dixit K","active":true,"timeZone":"America/Los_Angeles"},"body":"I run with a modified version of the auto_sortmerge_join_1.q file (attached to the JIRA) and create a query where 2 of the tables in a join are sorted and bucketed and the 3rd table is not sorted. I have enabled the auto map join convert config. I am seeing this exception:\n\nFAILED: ClassCastException org.apache.hadoop.hive.ql.exec.SMBMapJ\noinOperator cannot be cast to org.apache.hadoop.hive.ql.exec.MapJoinOperator\n\nI do not see the exception if I set the noConditionalTask.size to a size greater than the size of the 2 small tables (src1 and small_table) for e.g. 500.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vikram.dixit","name":"vikram.dixit","key":"vikram.dixit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vikram Dixit K","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-13T00:40:24.199+0000","updated":"2013-02-13T00:40:24.199+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13577315","id":"13577315","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"Thanks Vikram, I will take a look.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-13T04:00:55.076+0000","updated":"2013-02-13T04:00:55.076+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13577316","id":"13577316","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"[~ashutoshc], I can change the default in a follow-up. Again, wanted to be conservative","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-13T04:01:39.382+0000","updated":"2013-02-13T04:01:39.382+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13578186","id":"13578186","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"[~vikram.dixit], I am still trying - not able to get to the root cause.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-14T06:38:02.994+0000","updated":"2013-02-14T06:38:02.994+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13580449","id":"13580449","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"Tests passed.\n\nAdded a new test for the scenario encountered by Vikram","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-18T06:18:20.310+0000","updated":"2013-02-18T06:18:20.310+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13580458","id":"13580458","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"What was the bug?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-18T06:42:38.884+0000","updated":"2013-02-18T06:42:38.884+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13580477","id":"13580477","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"Look at the changes in SMBJoinOperator.java.\nPreviously, SMB followed by Join was performed in 2MR jobs. With the cleanup, we can perform\nthat in a single MR.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-18T08:00:30.774+0000","updated":"2013-02-18T08:00:30.774+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13580753","id":"13580753","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"I see. We were unnecessarily dealing with SMBJOp in the mapper which was streaming through records for third table of Join. Ideally, each mapper(and reducer) should just have a plan for itself and not the global plan, ie mapper for third table shouldn't see SMBJOp at all. But thats a quite fundamental change, given that at the moment we generate uniform plan for whole of MR job. \nThis patch is already outstanding for more than 6 months. Lets get this in. \n+1 Namit, can you commit this. \nAlso would you like to take up follow on HIVE-3980 ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-18T18:35:40.269+0000","updated":"2013-02-18T18:35:40.269+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13580978","id":"13580978","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"[~ashutoshc], will address HIVE-3980 after this ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-19T03:02:54.846+0000","updated":"2013-02-19T03:02:54.846+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13581021","id":"13581021","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"Filed HIVE-4038 for the mapper/reducer individual plan.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-19T04:39:35.331+0000","updated":"2013-02-19T04:39:35.331+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13581032","id":"13581032","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"body":"Committed. Thanks Ashutosh ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=namit","name":"namit","key":"namit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namit Jain","active":true,"timeZone":"Asia/Kolkata"},"created":"2013-02-19T05:17:51.117+0000","updated":"2013-02-19T05:17:51.117+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13581165","id":"13581165","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in hive-trunk-hadoop1 #91 (See [https://builds.apache.org/job/hive-trunk-hadoop1/91/])\n    HIVE-3403 user should not specify mapjoin to perform sort-merge bucketed join\n(Namit Jain via Ashutosh) (Revision 1447593)\n\n     Result = ABORTED\nnamit : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1447593\nFiles : \n* /hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java\n* /hive/trunk/conf/hive-default.xml.template\n* /hive/trunk/data/files/smallsrcsortbucket1outof4.txt\n* /hive/trunk/data/files/smallsrcsortbucket2outof4.txt\n* /hive/trunk/data/files/smallsrcsortbucket3outof4.txt\n* /hive/trunk/data/files/smallsrcsortbucket4outof4.txt\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FilterOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SMBMapJoinOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SelectOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/TableScanOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractBucketJoinProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractSMBJoinProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AvgPartitionSizeBasedBigTableSelectorForAutoSMJ.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BigTableSelectorForAutoSMJ.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketJoinProcCtx.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketMapJoinOptimizer.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketMapjoinProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/LeftmostBigTableSelectorForAutoSMJ.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/Optimizer.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SizeBasedBigTableSelectorForAutoSMJ.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortBucketJoinProcCtx.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeBucketMapJoinOptimizer.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeBucketMapjoinProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeJoinProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/TableSizeBasedBigTableSelectorForAutoSMJ.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/SMBJoinDesc.java\n* /hive/trunk/ql/src/test/queries/clientnegative/smb_mapjoin_14.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_smb_mapjoin_14.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_1.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_10.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_2.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_3.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_4.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_5.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_6.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_7.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_8.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_9.q\n* /hive/trunk/ql/src/test/results/clientpositive/auto_smb_mapjoin_14.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_1.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_10.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_2.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_3.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_4.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_5.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_6.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_7.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_8.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_9.q.out\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-19T09:50:23.875+0000","updated":"2013-02-19T09:50:23.875+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13581588","id":"13581588","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hive-trunk-hadoop2 #128 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/128/])\n    HIVE-3403 user should not specify mapjoin to perform sort-merge bucketed join\n(Namit Jain via Ashutosh) (Revision 1447593)\n\n     Result = FAILURE\nnamit : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1447593\nFiles : \n* /hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java\n* /hive/trunk/conf/hive-default.xml.template\n* /hive/trunk/data/files/smallsrcsortbucket1outof4.txt\n* /hive/trunk/data/files/smallsrcsortbucket2outof4.txt\n* /hive/trunk/data/files/smallsrcsortbucket3outof4.txt\n* /hive/trunk/data/files/smallsrcsortbucket4outof4.txt\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FilterOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SMBMapJoinOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SelectOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/TableScanOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractBucketJoinProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractSMBJoinProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AvgPartitionSizeBasedBigTableSelectorForAutoSMJ.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BigTableSelectorForAutoSMJ.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketJoinProcCtx.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketMapJoinOptimizer.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketMapjoinProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/LeftmostBigTableSelectorForAutoSMJ.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/Optimizer.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SizeBasedBigTableSelectorForAutoSMJ.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortBucketJoinProcCtx.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeBucketMapJoinOptimizer.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeBucketMapjoinProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeJoinProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/TableSizeBasedBigTableSelectorForAutoSMJ.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/SMBJoinDesc.java\n* /hive/trunk/ql/src/test/queries/clientnegative/smb_mapjoin_14.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_smb_mapjoin_14.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_1.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_10.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_2.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_3.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_4.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_5.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_6.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_7.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_8.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_9.q\n* /hive/trunk/ql/src/test/results/clientpositive/auto_smb_mapjoin_14.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_1.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_10.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_2.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_3.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_4.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_5.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_6.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_7.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_8.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_9.q.out\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-19T20:19:05.934+0000","updated":"2013-02-19T20:19:05.934+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/13581656","id":"13581656","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hive-trunk-h0.21 #1976 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1976/])\n    HIVE-3403 user should not specify mapjoin to perform sort-merge bucketed join\n(Namit Jain via Ashutosh) (Revision 1447593)\n\n     Result = FAILURE\nnamit : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1447593\nFiles : \n* /hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java\n* /hive/trunk/conf/hive-default.xml.template\n* /hive/trunk/data/files/smallsrcsortbucket1outof4.txt\n* /hive/trunk/data/files/smallsrcsortbucket2outof4.txt\n* /hive/trunk/data/files/smallsrcsortbucket3outof4.txt\n* /hive/trunk/data/files/smallsrcsortbucket4outof4.txt\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FilterOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SMBMapJoinOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SelectOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/TableScanOperator.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractBucketJoinProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractSMBJoinProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AvgPartitionSizeBasedBigTableSelectorForAutoSMJ.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BigTableSelectorForAutoSMJ.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketJoinProcCtx.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketMapJoinOptimizer.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketMapjoinProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/LeftmostBigTableSelectorForAutoSMJ.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/Optimizer.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SizeBasedBigTableSelectorForAutoSMJ.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortBucketJoinProcCtx.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeBucketMapJoinOptimizer.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeBucketMapjoinProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeJoinProc.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/TableSizeBasedBigTableSelectorForAutoSMJ.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java\n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/SMBJoinDesc.java\n* /hive/trunk/ql/src/test/queries/clientnegative/smb_mapjoin_14.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_smb_mapjoin_14.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_1.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_10.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_2.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_3.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_4.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_5.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_6.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_7.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_8.q\n* /hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_9.q\n* /hive/trunk/ql/src/test/results/clientpositive/auto_smb_mapjoin_14.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_1.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_10.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_2.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_3.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_4.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_5.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_6.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_7.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_8.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_9.q.out\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-19T21:46:02.022+0000","updated":"2013-02-19T21:46:02.022+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12604358/comment/15719384","id":"15719384","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=leftylev","name":"leftylev","key":"lefty@hortonworks.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lefty%40hortonworks.com&avatarId=15906","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lefty%40hortonworks.com&avatarId=15906","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lefty%40hortonworks.com&avatarId=15906","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lefty%40hortonworks.com&avatarId=15906"},"displayName":"Lefty Leverenz","active":true,"timeZone":"America/New_York"},"body":"Doc note:  This adds *hive.auto.convert.sortmerge.join* and *hive.auto.convert.sortmerge.join.bigtable.selection.policy* to HiveConf.java in release 0.11.0, so they need to be documented in the wiki.\n\n* [Configuration Properties -- Query and DDL Execution | https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-QueryandDDLExecution]\n\nAdded a TODOC11 label.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=leftylev","name":"leftylev","key":"lefty@hortonworks.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lefty%40hortonworks.com&avatarId=15906","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lefty%40hortonworks.com&avatarId=15906","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lefty%40hortonworks.com&avatarId=15906","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lefty%40hortonworks.com&avatarId=15906"},"displayName":"Lefty Leverenz","active":true,"timeZone":"America/New_York"},"created":"2016-12-04T05:48:51.202+0000","updated":"2016-12-04T05:48:51.202+0000"}],"maxResults":44,"total":44,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-3403/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ag5z:"}}