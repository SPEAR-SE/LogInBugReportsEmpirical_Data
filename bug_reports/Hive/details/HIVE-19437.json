{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13157521","self":"https://issues.apache.org/jira/rest/api/2/issue/13157521","key":"HIVE-19437","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2018-06-10T23:46:47.853+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sun Jun 10 23:46:47 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-19437/watchers","watchCount":2,"isWatching":false},"created":"2018-05-07T07:34:18.296+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12335838","id":"12335838","description":"Maintenance branch for 2.1 ","name":"2.1.1","archived":false,"released":true,"releaseDate":"2016-12-08"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12342053","id":"12342053","name":"2.3.2","archived":false,"released":true,"releaseDate":"2017-11-13"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-06-10T23:47:02.797+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12320408","id":"12320408","name":"HiveServer2","description":"Tracks issues related to HiveServer2"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12315100","id":"12315100","name":"SQL","description":"Issues related to Hive Query Language and its conformance with ANSI SQL."},{"self":"https://issues.apache.org/jira/rest/api/2/component/12312592","id":"12312592","name":"Web UI","description":"Tracks issues dealing with Web Interface."}],"timeoriginalestimate":null,"description":" \r\n\r\nwhen ssl is enabled for hiveserver2 webui on port 10002, hiveserver2 is unable to start up. Keeps connecting to  metastore and then drops the connection and then retry again. Hiveserver2 pid will be available but its not actually UP as it drops the metastore connection.\r\n\r\nLogs shows as follows :\r\n\r\n2018-05-07T04:45:52,980 INFO [main] sqlstd.SQLStdHiveAccessController: Created SQLStdHiveAccessController for session context : HiveAuthzSessionContext [sessionString=9f65e1ba-8810-47ee-a370-238606f02479, clientType=HIVESERVER2]\r\n 2018-05-07T04:45:52,980 WARN [main] session.SessionState: METASTORE_FILTER_HOOK will be ignored, since hive.security.authorization.manager is set to instance of HiveAuthorizerFactory.\r\n\r\n2018-05-07T04:45:52,981 INFO [main] hive.metastore: Mestastore configuration hive.metastore.filter.hook changed from org.apache.hadoop.hive.metastore.DefaultMetaStoreFilterHookImpl to org.apache.hadoop.hive.ql.security.authorization.plugin.AuthorizationMetaStoreFilterHook\r\n\r\n2018-05-07T04:45:52,981 INFO [main] hive.metastore: Closed a connection to metastore, current connections: 0\r\n\r\n2018-05-07T04:45:52,982 INFO [main] hive.metastore: Trying to connect to metastore with URI thrift://localhost:9083\r\n\r\n2018-05-07T04:45:52,982 INFO [main] hive.metastore: Opened a connection to metastore, current connections: 1\r\n\r\n2018-05-07T04:45:52,985 INFO [main] hive.metastore: Connected to metastore.\r\n\r\n2018-05-07T04:45:52,986 INFO [main] service.CompositeService: Operation log root directory is created: /var/hive/hs2log/tmp\r\n\r\n2018-05-07T04:45:52,986 INFO [main] service.CompositeService: HiveServer2: Background operation thread pool size: 100\r\n\r\n2018-05-07T04:45:52,986 INFO [main] service.CompositeService: HiveServer2: Background operation thread wait queue size: 100\r\n\r\n2018-05-07T04:45:52,986 INFO [main] service.CompositeService: HiveServer2: Background operation thread keepalive time: 10 seconds\r\n\r\n2018-05-07T04:45:52,988 INFO [main] hive.metastore: Closed a connection to metastore, current connections: 0","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"HiveServer2 Drops connection to Metastore when hiverserver2 webui is enabled","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bb1234","name":"bb1234","key":"bb1234","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34054","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34054","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34054","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34054"},"displayName":"rr","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bb1234","name":"bb1234","key":"bb1234","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34054","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34054","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34054","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34054"},"displayName":"rr","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157521/comment/16507535","id":"16507535","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=toopt4","name":"toopt4","key":"toopt4","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"t oo","active":true,"timeZone":"Etc/UTC"},"body":"Getting same issue on Hive 2.3.2","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=toopt4","name":"toopt4","key":"toopt4","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"t oo","active":true,"timeZone":"Etc/UTC"},"created":"2018-06-10T23:46:47.853+0000","updated":"2018-06-10T23:46:47.853+0000"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-19437/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3temf:"}}