{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13040859","self":"https://issues.apache.org/jira/rest/api/2/issue/13040859","key":"HIVE-15832","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12332384","id":"12332384","name":"1.2.1","archived":false,"released":true,"releaseDate":"2015-06-26"}],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2017-02-08T06:38:45.353+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Mar 25 20:39:47 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-15832/watchers","watchCount":4,"isWatching":false},"created":"2017-02-07T05:03:38.047+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["test"],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12332384","id":"12332384","name":"1.2.1","archived":false,"released":true,"releaseDate":"2015-06-26"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ferhui","name":"ferhui","key":"ferhui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fei Hui","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-03-25T20:39:47.627+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/10002","description":"A patch for this issue has been uploaded to JIRA by a contributor.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/document.png","name":"Patch Available","id":"10002","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327523","id":"12327523","name":"hpl/sql","description":"Procedural SQL"}],"timeoriginalestimate":null,"description":"\nâ€» http://www.hplsql.org/udf\n\n\n1) UDF Test \n\n[root@node2 /apps/hplsql]#./hplsql -e \"SELECT hello(name) FROM USERS;\" -trace\n...\nLn:1 SELECT completed successfully\nLn:1 Standalone SELECT executed: 1 columns in the result set\nUnhandled exception in HPL/SQL\n...\n\n2) Add 'Exception' (org.apache.hive.hplsql.Select)\n\n>> 123 line \n- before :\n\n      else if ((ctx.parent instanceof HplsqlParser.StmtContext)) {\n        int cols = rm.getColumnCount();\n        if (this.trace) {\n          trace(ctx, \"Standalone SELECT executed: \" + cols + \" columns in the result set\");\n        }\n        while (rs.next()) {\n\n- after :\n\n        try {         \n\t        while (rs.next()) {\n...\n        }\n        catch (Exception e) {\n        \te.printStackTrace();\n        }\n\n- Error Log\n\n[root@node2 /apps/hplsql]#./hplsql -e \"SELECT hello(1) FROM USERS;\" -trace\nConfiguration file: file:/apps/hplsql-0.3.17/hplsql-site.xml\nParser tree: (program (block (stmt (select_stmt (fullselect_stmt (fullselect_stmt_item (subselect_stmt SELECT (select_list (select_list_item (expr (expr_func (ident hello) ( (expr_func_params (func_param (expr (expr_atom (int_number 1))))) ))) (select_list_alias AS (ident A)))) (from_clause FROM (from_table_clause (from_table_name_clause (table_name (ident USERS)))))))))) (stmt (semicolon_stmt ;))))\nINLCUDE CONTENT hplsqlrc (non-empty)\nLn:1 CREATE FUNCTION hello\nLn:1 SELECT\n>>registerUdf begin :false\n>>registerUdf end :true\nLn:1 SELECT hplsql('hello(:1)', 1) AS A FROM USERS\n17/02/06 20:28:13 INFO jdbc.Utils: Supplied authorities: node3:10000\n17/02/06 20:28:13 INFO jdbc.Utils: Resolved authority: node3:10000\nOpen connection: jdbc:hive2://node3:10000 (225 ms)\nStarting pre-SQL statement\nStarting pre-SQL statement\nStarting pre-SQL statement\nStarting pre-SQL statement\nStarting pre-SQL statement\nStarting query\nQuery executed successfully (84 ms)\nLn:1 SELECT completed successfully\nLn:1 Standalone SELECT executed: 1 columns in the result set\ncols:1\norg.apache.hive.service.cli.HiveSQLException: java.io.IOException: org.apache.hadoop.hive.ql.metadata.HiveException: java.util.zip.ZipException: invalid code lengths set\n at org.apache.hive.jdbc.Utils.verifySuccess(Utils.java:258)\n at org.apache.hive.jdbc.Utils.verifySuccessWithInfo(Utils.java:244)\n at org.apache.hive.jdbc.HiveQueryResultSet.next(HiveQueryResultSet.java:364)\n at org.apache.hive.hplsql.Select.select(Select.java:116)\n at org.apache.hive.hplsql.Exec.visitSelect_stmt(Exec.java:870)\n at org.apache.hive.hplsql.Exec.visitSelect_stmt(Exec.java:1)\n at org.apache.hive.hplsql.HplsqlParser$Select_stmtContext.accept(HplsqlParser.java:14249)\n at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:70)\n at org.apache.hive.hplsql.Exec.visitStmt(Exec.java:865)\n at org.apache.hive.hplsql.Exec.visitStmt(Exec.java:1)\n at org.apache.hive.hplsql.HplsqlParser$StmtContext.accept(HplsqlParser.java:998)\n at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:70)\n at org.apache.hive.hplsql.HplsqlBaseVisitor.visitBlock(HplsqlBaseVisitor.java:28)\n at org.apache.hive.hplsql.HplsqlParser$BlockContext.accept(HplsqlParser.java:438)\n at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:70)\n at org.apache.hive.hplsql.Exec.visitProgram(Exec.java:780)\n at org.apache.hive.hplsql.Exec.visitProgram(Exec.java:1)\n at org.apache.hive.hplsql.HplsqlParser$ProgramContext.accept(HplsqlParser.java:381)\n at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visit(AbstractParseTreeVisitor.java:42)\n at org.apache.hive.hplsql.Exec.run(Exec.java:652)\n at org.apache.hive.hplsql.Exec.run(Exec.java:630)\n at org.apache.hive.hplsql.Hplsql.main(Hplsql.java:23)\nCaused by: org.apache.hive.service.cli.HiveSQLException: java.io.IOException: org.apache.hadoop.hive.ql.metadata.HiveException: java.util.zip.ZipException: invalid code lengths set\n at org.apache.hive.service.cli.operation.SQLOperation.getNextRowSet(SQLOperation.java:352)\n at org.apache.hive.service.cli.operation.OperationManager.getOperationNextRowSet(OperationManager.java:223)\n at org.apache.hive.service.cli.session.HiveSessionImpl.fetchResults(HiveSessionImpl.java:716)\n at sun.reflect.GeneratedMethodAccessor51.invoke(Unknown Source)\n at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n at java.lang.reflect.Method.invoke(Method.java:483)\n at org.apache.hive.service.cli.session.HiveSessionProxy.invoke(HiveSessionProxy.java:78)\n at org.apache.hive.service.cli.session.HiveSessionProxy.access$000(HiveSessionProxy.java:36)\n at org.apache.hive.service.cli.session.HiveSessionProxy$1.run(HiveSessionProxy.java:63)\n at java.security.AccessController.doPrivileged(Native Method)\n at javax.security.auth.Subject.doAs(Subject.java:422)\n at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1709)\n at org.apache.hive.service.cli.session.HiveSessionProxy.invoke(HiveSessionProxy.java:59)\n at com.sun.proxy.$Proxy20.fetchResults(Unknown Source)\n at org.apache.hive.service.cli.CLIService.fetchResults(CLIService.java:456)\n at org.apache.hive.service.cli.thrift.ThriftCLIService.FetchResults(ThriftCLIService.java:672)\n at org.apache.hive.service.cli.thrift.TCLIService$Processor$FetchResults.getResult(TCLIService.java:1557)\n at org.apache.hive.service.cli.thrift.TCLIService$Processor$FetchResults.getResult(TCLIService.java:1542)\n at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:39)\n at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39)\n at org.apache.hive.service.auth.TSetIpAddressProcessor.process(TSetIpAddressProcessor.java:56)\n at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:285)\n at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n at java.lang.Thread.run(Thread.java:745)\nCaused by: java.io.IOException: org.apache.hadoop.hive.ql.metadata.HiveException: java.util.zip.ZipException: invalid code lengths set\n at org.apache.hadoop.hive.ql.exec.FetchTask.fetch(FetchTask.java:157)\n at org.apache.hadoop.hive.ql.Driver.getResults(Driver.java:1745)\n at org.apache.hive.service.cli.operation.SQLOperation.getNextRowSet(SQLOperation.java:347)\n ... 24 more\nCaused by: org.apache.hadoop.hive.ql.metadata.HiveException: java.util.zip.ZipException: invalid code lengths set\n at org.apache.hive.hplsql.Udf.evaluate(Udf.java:70)\n at org.apache.hadoop.hive.ql.exec.ExprNodeGenericFuncEvaluator._evaluate(ExprNodeGenericFuncEvaluator.java:186)\n at org.apache.hadoop.hive.ql.exec.ExprNodeEvaluator.evaluate(ExprNodeEvaluator.java:77)\n at org.apache.hadoop.hive.ql.exec.ExprNodeEvaluator.evaluate(ExprNodeEvaluator.java:65)\n at org.apache.hadoop.hive.ql.exec.SelectOperator.process(SelectOperator.java:81)\n at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:838)\n at org.apache.hadoop.hive.ql.exec.TableScanOperator.process(TableScanOperator.java:117)\n at org.apache.hadoop.hive.ql.exec.FetchOperator.pushRow(FetchOperator.java:429)\n at org.apache.hadoop.hive.ql.exec.FetchOperator.pushRow(FetchOperator.java:421)\n at org.apache.hadoop.hive.ql.exec.FetchTask.fetch(FetchTask.java:143)\n ... 26 more\n\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12340268","id":"12340268","name":"3.0.0","archived":false,"released":true,"releaseDate":"2018-05-21"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12851574","id":"12851574","filename":"HIVE-15832.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ferhui","name":"ferhui","key":"ferhui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fei Hui","active":true,"timeZone":"Etc/UTC"},"created":"2017-02-08T07:07:33.747+0000","size":865,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12851574/HIVE-15832.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Hplsql UDF doesn't work in Hplsql","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=golem","name":"golem","key":"golem","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sungwoon Ma","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=golem","name":"golem","key":"golem","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sungwoon Ma","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"HDP : 2.4.2.0-258\nHive lib : hive-XXX-1.2.1000.2.4.2.0-258.jar\nHplsql : hplsql-0.3.17.jar\n","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13040859/comment/15857497","id":"15857497","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ferhui","name":"ferhui","key":"ferhui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fei Hui","active":true,"timeZone":"Etc/UTC"},"body":"i have reproduced it on hive 2.2.0\ni will work on it","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ferhui","name":"ferhui","key":"ferhui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fei Hui","active":true,"timeZone":"Etc/UTC"},"created":"2017-02-08T06:38:45.353+0000","updated":"2017-02-08T06:38:45.353+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13040859/comment/15857499","id":"15857499","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ferhui","name":"ferhui","key":"ferhui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fei Hui","active":true,"timeZone":"Etc/UTC"},"body":"here is error log i get, it is different hive 1.2.1\nCaused by: java.lang.NullPointerException\n        at org.apache.hive.hplsql.Exec.setVariable(Exec.java:148) ~[hive-hplsql-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hive.hplsql.Exec.setVariable(Exec.java:158) ~[hive-hplsql-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hive.hplsql.Udf.setParameters(Udf.java:92) ~[hive-hplsql-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hive.hplsql.Udf.evaluate(Udf.java:74) ~[hive-hplsql-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.exec.ExprNodeGenericFuncEvaluator._evaluate(ExprNodeGenericFuncEvaluator.java:187) ~[hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.exec.ExprNodeEvaluator.evaluate(ExprNodeEvaluator.java:80) ~[hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.exec.ExprNodeEvaluator.evaluate(ExprNodeEvaluator.java:68) ~[hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.exec.SelectOperator.process(SelectOperator.java:88) ~[hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:897) ~[hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.exec.TableScanOperator.process(TableScanOperator.java:130) ~[hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.exec.FetchOperator.pushRow(FetchOperator.java:438) ~[hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.exec.FetchOperator.pushRow(FetchOperator.java:430) ~[hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.exec.FetchTask.fetch(FetchTask.java:147) ~[hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hadoop.hive.ql.Driver.getResults(Driver.java:2209) ~[hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]\n        at org.apache.hive.service.cli.operation.SQLOperation.getNextRowSet(SQLOperation.java:492) ~[hive-service-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ferhui","name":"ferhui","key":"ferhui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fei Hui","active":true,"timeZone":"Etc/UTC"},"created":"2017-02-08T06:40:21.617+0000","updated":"2017-02-08T06:40:21.617+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13040859/comment/15857539","id":"15857539","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ferhui","name":"ferhui","key":"ferhui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fei Hui","active":true,"timeZone":"Etc/UTC"},"body":"patch uploaded","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ferhui","name":"ferhui","key":"ferhui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fei Hui","active":true,"timeZone":"Etc/UTC"},"created":"2017-02-08T07:07:33.753+0000","updated":"2017-02-08T07:07:33.753+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13040859/comment/15857548","id":"15857548","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ferhui","name":"ferhui","key":"ferhui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fei Hui","active":true,"timeZone":"Etc/UTC"},"body":"CC [~dmtolpeko]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ferhui","name":"ferhui","key":"ferhui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fei Hui","active":true,"timeZone":"Etc/UTC"},"created":"2017-02-08T07:10:20.232+0000","updated":"2017-02-08T07:10:20.232+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13040859/comment/15857885","id":"15857885","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12851574/HIVE-15832.patch\n\n{color:red}ERROR:{color} -1 due to no test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 4 failed/errored test(s), 10241 tests executed\n*Failed tests:*\n{noformat}\nTestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)\norg.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=223)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/3437/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/3437/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-3437/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 4 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12851574 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2017-02-08T11:53:22.904+0000","updated":"2017-02-08T11:53:22.904+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13040859/comment/15857906","id":"15857906","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ferhui","name":"ferhui","key":"ferhui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fei Hui","active":true,"timeZone":"Etc/UTC"},"body":"failing tests are not related, could please take a look and give suggestions [~dmtolpeko], thanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ferhui","name":"ferhui","key":"ferhui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fei Hui","active":true,"timeZone":"Etc/UTC"},"created":"2017-02-08T12:11:16.821+0000","updated":"2017-02-08T12:11:16.821+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13040859/comment/15857912","id":"15857912","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ferhui","name":"ferhui","key":"ferhui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fei Hui","active":true,"timeZone":"Etc/UTC"},"body":"CC [~Ferd], could you please give any suggestions ,thanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ferhui","name":"ferhui","key":"ferhui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fei Hui","active":true,"timeZone":"Etc/UTC"},"created":"2017-02-08T12:15:09.537+0000","updated":"2017-02-08T12:15:09.537+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13040859/comment/15858764","id":"15858764","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ferd","name":"Ferd","key":"ferd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ferd&avatarId=21543","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ferd&avatarId=21543","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ferd&avatarId=21543","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ferd&avatarId=21543"},"displayName":"Ferdinand Xu","active":true,"timeZone":"Asia/Hong_Kong"},"body":"Thanks [~ferhui] for working on this issue. Your patch is addressing a NPE instead of the error mentioned in the description. Can you file a new ticket about the error you met and attach your patch there? BTW, is it possible to add some tests to avoid regression?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ferd","name":"Ferd","key":"ferd","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ferd&avatarId=21543","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ferd&avatarId=21543","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ferd&avatarId=21543","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ferd&avatarId=21543"},"displayName":"Ferdinand Xu","active":true,"timeZone":"Asia/Hong_Kong"},"created":"2017-02-09T00:27:27.826+0000","updated":"2017-02-09T00:27:27.826+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13040859/comment/15858842","id":"15858842","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ferhui","name":"ferhui","key":"ferhui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fei Hui","active":true,"timeZone":"Etc/UTC"},"body":"Thanks [~Ferd] i will file a new ticket. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ferhui","name":"ferhui","key":"ferhui","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Fei Hui","active":true,"timeZone":"Etc/UTC"},"created":"2017-02-09T01:53:22.185+0000","updated":"2017-02-09T01:53:22.185+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13040859/comment/15941960","id":"15941960","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"body":"Hello, I am deferring this to Hive 3.0 as we are going to cut the first RC and it is not marked as blocker. Please feel free to commit to the branch if this can be resolved before the release.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=pxiong","name":"pxiong","key":"pxiong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pengcheng Xiong","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-03-25T20:39:47.627+0000","updated":"2017-03-25T20:39:47.627+0000"}],"maxResults":10,"total":10,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-15832/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i39pan:"}}