{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12534587","self":"https://issues.apache.org/jira/rest/api/2/issue/12534587","key":"HIVE-2643","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316178","id":"12316178","description":"released","name":"0.8.0","archived":false,"released":true,"releaseDate":"2011-12-16"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2011-12-10T12:31:39.910+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Dec 13 07:21:07 UTC 2011","customfield_12310420":"220309","customfield_12312320":null,"customfield_12310222":"10002_*:*_2_*:*_209756266_*|*_1_*:*_2_*:*_33169976_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-12-13T00:25:07.296+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2643/watchers","watchCount":1,"isWatching":false},"created":"2011-12-10T04:56:21.103+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"9.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12360771","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12360771","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12617695","key":"OOZIE-1087","self":"https://issues.apache.org/jira/rest/api/2/issue/12617695","fields":{"summary":"Remove requirement of hive-default.xml from Hive action","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}},{"id":"12346124","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12346124","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12518279","key":"HIVE-2362","self":"https://issues.apache.org/jira/rest/api/2/issue/12518279","fields":{"summary":"HiveConf properties not appearing in the output of 'set' or 'set -v'","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-11-26T21:32:41.487+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312591","id":"12312591","name":"Configuration","description":"Tracks HiveConf related issues."}],"timeoriginalestimate":null,"description":"After the application of HIVE-2362, we're unable to run queries against the Hive cluster (RC2 and 3):\n{noformat}java.io.IOException: Failed to set permissions of path: /user/jhoman-667872320/.staging to 0700\n        at org.apache.hadoop.fs.FileUtil.checkReturnValue(FileUtil.java:680)\n        at org.apache.hadoop.fs.FileUtil.setPermission(FileUtil.java:653)\n        at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:483)\n        at org.apache.hadoop.fs.RawLocalFileSystem.mkdirs(RawLocalFileSystem.java:318)\n        at org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:183)\n        at org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:116){noformat}\nthis is due to all the hadoop confs not being loaded and the LocalJobRunner (which builds staging directories in this manner) being used instead of the regular one. It's also not possible to access the hdfs since no default fs is specified.  \n\nReverting 2362 fixes this, but I've not yet looked at that patch to see the exact cause.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12506848","id":"12506848","filename":"ASF.LICENSE.NOT.GRANTED--HIVE-2643.D747.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-10T12:31:41.425+0000","size":5827,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12506848/ASF.LICENSE.NOT.GRANTED--HIVE-2643.D747.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12506978","id":"12506978","filename":"ASF.LICENSE.NOT.GRANTED--HIVE-2643.D753.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-12T08:30:32.878+0000","size":601,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12506978/ASF.LICENSE.NOT.GRANTED--HIVE-2643.D753.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12506980","id":"12506980","filename":"ASF.LICENSE.NOT.GRANTED--HIVE-2643.D759.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-12T08:34:31.335+0000","size":20234,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12506980/ASF.LICENSE.NOT.GRANTED--HIVE-2643.D759.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12506982","id":"12506982","filename":"ASF.LICENSE.NOT.GRANTED--HIVE-2643.D759.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-12T08:38:31.185+0000","size":20234,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12506982/ASF.LICENSE.NOT.GRANTED--HIVE-2643.D759.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12506983","id":"12506983","filename":"ASF.LICENSE.NOT.GRANTED--HIVE-2643.D765.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-12T08:40:30.877+0000","size":20234,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12506983/ASF.LICENSE.NOT.GRANTED--HIVE-2643.D765.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12507060","id":"12507060","filename":"ASF.LICENSE.NOT.GRANTED--HIVE-2643.D765.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-12T21:13:31.321+0000","size":20910,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12507060/ASF.LICENSE.NOT.GRANTED--HIVE-2643.D765.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12507059","id":"12507059","filename":"ASF.LICENSE.NOT.GRANTED--HIVE-2643.D789.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-12T21:11:31.373+0000","size":1880,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12507059/ASF.LICENSE.NOT.GRANTED--HIVE-2643.D789.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12506847","id":"12506847","filename":"HIVE-2643.1.patch.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-12-10T12:25:13.571+0000","size":6171,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12506847/HIVE-2643.1.patch.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12507062","id":"12507062","filename":"HIVE-2643.D759.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-12-12T21:22:05.659+0000","size":116415,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12507062/HIVE-2643.D759.2.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"124045","customfield_12312823":null,"summary":"Recent patch prevents Hadoop confs from loading in 0.20.204","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13166848","id":"13166848","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"cwsteinbach requested code review of \"HIVE-2643 [jira] HIVE-2362 preventing Hadoop confs from loading in 0.20.204\".\nReviewers: JIRA\n\n  HIVE-2643\n\n  After the application of <a href=\"https://issues.apache.org/jira/browse/HIVE-2362\" title=\"HiveConf properties not appearing in the output of 'set' or 'set -v'\"><del>HIVE-2362</del></a>, we're unable to run queries against the Hive cluster (RC2 and 3):  <div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"> <pre>java.io.IOException: Failed to set permissions of path: /user/jhoman-667872320/.staging to 0700         at org.apache.hadoop.fs.FileUtil.checkReturnValue(FileUtil.java:680)         at org.apache.hadoop.fs.FileUtil.setPermission(FileUtil.java:653)         at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:483)         at org.apache.hadoop.fs.RawLocalFileSystem.mkdirs(RawLocalFileSystem.java:318)         at org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:183)         at org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:116)</pre> </div>\n </div>\n\n  this is due to all the hadoop confs not being loaded and the LocalJobRunner (which builds staging directories in this manner) being used instead of the regular one. It's also not possible to access the hdfs since no default fs is specified.\n\n  Reverting 2362 fixes this, but I've not yet looked at that patch to see the exact cause.\n\nTEST PLAN\n  EMPTY\n\nREVISION DETAIL\n  https://reviews.facebook.net/D747\n\nAFFECTED FILES\n  common/build.xml\n  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java\n  common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java\n  common/src/test/resources/core-site.xml\n  common/src/test/resources/hive-site.xml\n\nMANAGE HERALD DIFFERENTIAL RULES\n  https://reviews.facebook.net/herald/view/differential/\n\nWHY DID I GET THIS EMAIL?\n  https://reviews.facebook.net/herald/transcript/1593/\n\nTip: use the X-Herald-Rules header to filter Herald messages in your client.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-10T12:31:39.910+0000","updated":"2011-12-10T12:31:39.910+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13166849","id":"13166849","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"Running tests now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-12-10T12:35:18.545+0000","updated":"2011-12-10T12:35:18.545+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167407","id":"13167407","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"cwsteinbach requested code review of \"HIVE-2643 [jira] HIVE-2362 preventing Hadoop confs from loading in 0.20.204\".\nReviewers: JIRA\n\n  lint check\n\n  After the application of <a href=\"https://issues.apache.org/jira/browse/HIVE-2362\" title=\"HiveConf properties not appearing in the output of 'set' or 'set -v'\"><del>HIVE-2362</del></a>, we're unable to run queries against the Hive cluster (RC2 and 3):  <div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"> <pre>java.io.IOException: Failed to set permissions of path: /user/jhoman-667872320/.staging to 0700         at org.apache.hadoop.fs.FileUtil.checkReturnValue(FileUtil.java:680)         at org.apache.hadoop.fs.FileUtil.setPermission(FileUtil.java:653)         at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:483)         at org.apache.hadoop.fs.RawLocalFileSystem.mkdirs(RawLocalFileSystem.java:318)         at org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:183)         at org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:116)</pre> </div>\n </div>\n\n  this is due to all the hadoop confs not being loaded and the LocalJobRunner (which builds staging directories in this manner) being used instead of the regular one. It's also not possible to access the hdfs since no default fs is specified.\n\n  Reverting 2362 fixes this, but I've not yet looked at that patch to see the exact cause.\n\nTEST PLAN\n  EMPTY\n\nREVISION DETAIL\n  https://reviews.facebook.net/D753\n\nAFFECTED FILES\n  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java\n\nMANAGE HERALD DIFFERENTIAL RULES\n  https://reviews.facebook.net/herald/view/differential/\n\nWHY DID I GET THIS EMAIL?\n  https://reviews.facebook.net/herald/transcript/1599/\n\nTip: use the X-Herald-Rules header to filter Herald messages in your client.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-12T08:30:32.014+0000","updated":"2011-12-12T08:30:32.014+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167410","id":"13167410","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"cwsteinbach requested code review of \"HIVE-2643 [jira] HIVE-2362 preventing Hadoop confs from loading in 0.20.204\".\nReviewers: JIRA\n\n  HIVE-2643\n\n  After the application of <a href=\"https://issues.apache.org/jira/browse/HIVE-2362\" title=\"HiveConf properties not appearing in the output of 'set' or 'set -v'\"><del>HIVE-2362</del></a>, we're unable to run queries against the Hive cluster (RC2 and 3):  <div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"> <pre>java.io.IOException: Failed to set permissions of path: /user/jhoman-667872320/.staging to 0700         at org.apache.hadoop.fs.FileUtil.checkReturnValue(FileUtil.java:680)         at org.apache.hadoop.fs.FileUtil.setPermission(FileUtil.java:653)         at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:483)         at org.apache.hadoop.fs.RawLocalFileSystem.mkdirs(RawLocalFileSystem.java:318)         at org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:183)         at org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:116)</pre> </div>\n </div>\n\n  this is due to all the hadoop confs not being loaded and the LocalJobRunner (which builds staging directories in this manner) being used instead of the regular one. It's also not possible to access the hdfs since no default fs is specified.\n\n  Reverting 2362 fixes this, but I've not yet looked at that patch to see the exact cause.\n\nTEST PLAN\n  EMPTY\n\nREVISION DETAIL\n  https://reviews.facebook.net/D759\n\nAFFECTED FILES\n  common/build.xml\n  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java\n  common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java\n  common/src/test/resources/core-site.xml\n  common/src/test/resources/hive-site.xml\n  ql/src/java/org/apache/hadoop/hive/ql/exec/FetchOperator.java\n\nMANAGE HERALD DIFFERENTIAL RULES\n  https://reviews.facebook.net/herald/view/differential/\n\nWHY DID I GET THIS EMAIL?\n  https://reviews.facebook.net/herald/transcript/1605/\n\nTip: use the X-Herald-Rules header to filter Herald messages in your client.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-12T08:34:30.693+0000","updated":"2011-12-12T08:34:30.693+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167411","id":"13167411","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"Changing the title of this ticket since referencing another JIRA seems to confuse arc.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-12-12T08:35:46.581+0000","updated":"2011-12-12T08:35:46.581+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167413","id":"13167413","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"cwsteinbach updated the revision \"HIVE-2643 [jira] HIVE-2362 preventing Hadoop confs from loading in 0.20.204\".\nReviewers: JIRA\n\n  Fix for HIVE-2643\n\nREVISION DETAIL\n  https://reviews.facebook.net/D759\n\nAFFECTED FILES\n  common/build.xml\n  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java\n  common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java\n  common/src/test/resources/core-site.xml\n  common/src/test/resources/hive-site.xml\n  ql/src/java/org/apache/hadoop/hive/ql/exec/FetchOperator.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-12T08:38:30.509+0000","updated":"2011-12-12T08:38:30.509+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167415","id":"13167415","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"cwsteinbach requested code review of \"HIVE-2643 [jira] Recent patch prevents Hadoop confs from loading in 0.20.204\".\nReviewers: JIRA\n\n  HIVE-2643\n\n  After the application of <a href=\"https://issues.apache.org/jira/browse/HIVE-2362\" title=\"HiveConf properties not appearing in the output of 'set' or 'set -v'\"><del>HIVE-2362</del></a>, we're unable to run queries against the Hive cluster (RC2 and 3):  <div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"> <pre>java.io.IOException: Failed to set permissions of path: /user/jhoman-667872320/.staging to 0700         at org.apache.hadoop.fs.FileUtil.checkReturnValue(FileUtil.java:680)         at org.apache.hadoop.fs.FileUtil.setPermission(FileUtil.java:653)         at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:483)         at org.apache.hadoop.fs.RawLocalFileSystem.mkdirs(RawLocalFileSystem.java:318)         at org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:183)         at org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:116)</pre> </div>\n </div>\n\n  this is due to all the hadoop confs not being loaded and the LocalJobRunner (which builds staging directories in this manner) being used instead of the regular one. It's also not possible to access the hdfs since no default fs is specified.\n\n  Reverting 2362 fixes this, but I've not yet looked at that patch to see the exact cause.\n\nTEST PLAN\n  EMPTY\n\nREVISION DETAIL\n  https://reviews.facebook.net/D765\n\nAFFECTED FILES\n  common/build.xml\n  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java\n  common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java\n  common/src/test/resources/core-site.xml\n  common/src/test/resources/hive-site.xml\n  ql/src/java/org/apache/hadoop/hive/ql/exec/FetchOperator.java\n\nMANAGE HERALD DIFFERENTIAL RULES\n  https://reviews.facebook.net/herald/view/differential/\n\nWHY DID I GET THIS EMAIL?\n  https://reviews.facebook.net/herald/transcript/1617/\n\nTip: use the X-Herald-Rules header to filter Herald messages in your client.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-12T08:40:30.230+0000","updated":"2011-12-12T08:40:30.230+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167701","id":"13167701","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"body":"Marek and I will take a look into the arc confusion with the JIRA reference.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-12T19:33:50.852+0000","updated":"2011-12-12T19:33:50.852+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167717","id":"13167717","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"Investigating some test failures.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-12-12T19:50:13.834+0000","updated":"2011-12-12T19:50:13.834+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167747","id":"13167747","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"body":"I've applied HIVE-2643.1.patch.txt (the only ASF-licensed patch; are the others artifacts of the issue name confusion?) to the RC3 tag in svn, built a new package and run against our 204 cluster and everything is working now.  Didn't do a code review, but +1 on the result.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-12-12T20:06:33.258+0000","updated":"2011-12-12T20:06:33.258+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167806","id":"13167806","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"mareksapotafb has abandoned the revision \"HIVE-2643 [jira] HIVE-2362 preventing Hadoop confs from loading in 0.20.204\".\n\nREVISION DETAIL\n  https://reviews.facebook.net/D753\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-12T21:07:30.548+0000","updated":"2011-12-12T21:07:30.548+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167807","id":"13167807","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"mareksapotafb has abandoned the revision \"HIVE-2643 [jira] HIVE-2362 preventing Hadoop confs from loading in 0.20.204\".\n\nREVISION DETAIL\n  https://reviews.facebook.net/D747\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-12T21:07:31.140+0000","updated":"2011-12-12T21:07:31.140+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167811","id":"13167811","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"mareksapotafb has abandoned the revision \"HIVE-2643 [jira] HIVE-2362 preventing Hadoop confs from loading in 0.20.204\".\n\nREVISION DETAIL\n  https://reviews.facebook.net/D759\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-12T21:09:30.231+0000","updated":"2011-12-12T21:09:30.231+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167812","id":"13167812","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"cwsteinbach requested code review of \"HIVE-2643 [jira] Recent patch prevents Hadoop confs from loading in 0.20.204\".\nReviewers: JIRA\n\n  cp\n\n  After the application of <a href=\"https://issues.apache.org/jira/browse/HIVE-2362\" title=\"HiveConf properties not appearing in the output of 'set' or 'set -v'\"><del>HIVE-2362</del></a>, we're unable to run queries against the Hive cluster (RC2 and 3):  <div class=\"preformatted panel\" style=\"border-width: 1px;\"><div class=\"preformattedContent panelContent\"> <pre>java.io.IOException: Failed to set permissions of path: /user/jhoman-667872320/.staging to 0700         at org.apache.hadoop.fs.FileUtil.checkReturnValue(FileUtil.java:680)         at org.apache.hadoop.fs.FileUtil.setPermission(FileUtil.java:653)         at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:483)         at org.apache.hadoop.fs.RawLocalFileSystem.mkdirs(RawLocalFileSystem.java:318)         at org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:183)         at org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:116)</pre> </div>\n </div>\n\n  this is due to all the hadoop confs not being loaded and the LocalJobRunner (which builds staging directories in this manner) being used instead of the regular one. It's also not possible to access the hdfs since no default fs is specified.\n\n  Reverting 2362 fixes this, but I've not yet looked at that patch to see the exact cause.\n\nTEST PLAN\n  EMPTY\n\nREVISION DETAIL\n  https://reviews.facebook.net/D789\n\nAFFECTED FILES\n  build.xml\n  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java\n\nMANAGE HERALD DIFFERENTIAL RULES\n  https://reviews.facebook.net/herald/view/differential/\n\nWHY DID I GET THIS EMAIL?\n  https://reviews.facebook.net/herald/transcript/1671/\n\nTip: use the X-Herald-Rules header to filter Herald messages in your client.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-12T21:11:30.731+0000","updated":"2011-12-12T21:11:30.731+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167813","id":"13167813","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"cwsteinbach updated the revision \"HIVE-2643 [jira] Recent patch prevents Hadoop confs from loading in 0.20.204\".\nReviewers: JIRA\n\n  Fixed some test diffs.\n\nREVISION DETAIL\n  https://reviews.facebook.net/D765\n\nAFFECTED FILES\n  build.xml\n  common/build.xml\n  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java\n  common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java\n  common/src/test/resources/core-site.xml\n  common/src/test/resources/hive-site.xml\n  conf/hive-default.xml.template\n  conf/hive-default.xml\n  conf/hive-site.xml\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-12T21:13:30.680+0000","updated":"2011-12-12T21:13:30.680+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167819","id":"13167819","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"HIVE-2643.D759.2.patch is the latest version of the patch. It is ready for review here: https://reviews.facebook.net/D765\n\nI'm running full tests now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-12-12T21:24:06.378+0000","updated":"2011-12-12T21:24:06.378+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167820","id":"13167820","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"@Jakob: Can you please try testing HIVE-2643.D759.2.patch? This version has some changes that were not included in HIVE-2643.1.patch.txt. Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-12-12T21:25:27.797+0000","updated":"2011-12-12T21:25:27.797+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167873","id":"13167873","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"body":"Applied against RC3 and tested again.  Everything works.  Also reviewed the patch. +1, with the minor nit that having the test conf return \"core-site.xml\" for the default filesystem makes the test a bit wonky to read (\"... wait, that's not right. oh, ok\"), but that's not worth spinning another patch for if nothing else is blocking this version.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-12-12T22:23:38.107+0000","updated":"2011-12-12T22:23:38.107+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167968","id":"13167968","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"body":"+1, passed tests, committing to trunk.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-13T00:12:02.895+0000","updated":"2011-12-13T00:12:02.895+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167973","id":"13167973","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"jsichi has added reviewers to the revision \"HIVE-2643 [jira] HIVE-2362 preventing Hadoop confs from loading in 0.20.204\".\nAdded Reviewers: jsichi\n\nREVISION DETAIL\n  https://reviews.facebook.net/D759\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-13T00:13:31.728+0000","updated":"2011-12-13T00:13:31.728+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13167983","id":"13167983","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"body":"Committed to trunk and 0.8-r2.  Thanks Carl!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-13T00:25:07.324+0000","updated":"2011-12-13T00:25:07.324+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13168107","id":"13168107","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hive-trunk-h0.23.0 #19 (See [https://builds.apache.org/job/Hive-trunk-h0.23.0/19/])\n    HIVE-2643. Recent patch prevents Hadoop confs from loading in 0.20.204\n(Carl Steinbach via jvs)\n\njvs : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1213514\nFiles : \n* /hive/trunk/build.xml\n* /hive/trunk/common/build.xml\n* /hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java\n* /hive/trunk/common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java\n* /hive/trunk/common/src/test/resources/core-site.xml\n* /hive/trunk/common/src/test/resources/hive-site.xml\n* /hive/trunk/conf/hive-default.xml\n* /hive/trunk/conf/hive-default.xml.template\n* /hive/trunk/conf/hive-site.xml\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-13T03:39:21.967+0000","updated":"2011-12-13T03:39:21.967+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12534587/comment/13168188","id":"13168188","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hive-trunk-h0.21 #1142 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1142/])\n    HIVE-2643. Recent patch prevents Hadoop confs from loading in 0.20.204\n(Carl Steinbach via jvs)\n\njvs : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1213514\nFiles : \n* /hive/trunk/build.xml\n* /hive/trunk/common/build.xml\n* /hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java\n* /hive/trunk/common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java\n* /hive/trunk/common/src/test/resources/core-site.xml\n* /hive/trunk/common/src/test/resources/hive-site.xml\n* /hive/trunk/conf/hive-default.xml\n* /hive/trunk/conf/hive-default.xml.template\n* /hive/trunk/conf/hive-site.xml\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2011-12-13T07:21:07.507+0000","updated":"2011-12-13T07:21:07.507+0000"}],"maxResults":23,"total":23,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2643/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0lkyf:"}}