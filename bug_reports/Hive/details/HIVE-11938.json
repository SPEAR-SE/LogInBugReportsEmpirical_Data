{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12895874","self":"https://issues.apache.org/jira/rest/api/2/issue/12895874","key":"HIVE-11938","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":null,"customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Sep 23 18:47:43 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-11938/watchers","watchCount":6,"isWatching":false},"created":"2015-09-23T18:41:06.868+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329363","id":"12329363","name":"1.1.0","archived":false,"released":true,"releaseDate":"2015-03-07"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12332384","id":"12332384","name":"1.2.1","archived":false,"released":true,"releaseDate":"2015-06-26"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-09-23T18:49:07.849+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12324409","id":"12324409","name":"Beeline"}],"timeoriginalestimate":null,"description":"Running into an odd issue where Beeline is taking the output which contains all three columns, and displaying the first column above the results, and not displaying the other two columns at all. An example of the output can be seen below:\n\n{code}\nBeeline version 1.2.1 by Apache Hive\nbeeline> !connect jdbc:hive2://192.168.99.1:11111 \nConnecting to jdbc:hive2://192.168.99.1:11111\nConnected to: Apache Hive (version 0.13.0)\nDriver: Hive JDBC (version 1.2.1)\nTransaction isolation: TRANSACTION_REPEATABLE_READ\n0: jdbc:hive2://192.168.99.1:11111> select color, sum(`Order Quantity`) _c1, sum(`Sales Amount`) _c2 from devschema.dave_default group by color;\nYellow\n\nSilver\nBlack\nRed\nWhite\nMulti\nBlue\n+--------+------+------+--+\n| color  | _c1  | _c2  |\n+--------+------+------+--+\n+--------+------+------+--+\nNo rows selected (0.927 seconds)\n{code}\n\n\nThis seems to occur if the TGetOperationStatusResp is returned too quickly,  or if the query results themselves return too quickly. If I intentionally make the response TGetOperationStatusResp (adding a 50ms sleep) and the query itself take longer (3000ms sleep), then this problem does not occur and the same query returns results as you would expect.\n\n{code}\n0: jdbc:hive2://192.168.99.1:11111> select color, sum(`Order Quantity`) _c1, sum(`Sales Amount`) _c2 from devschema.dave_default group by color;\n+---------+--------+----------------------+--+\n|  color  |  _c1   |         _c2          |\n+---------+--------+----------------------+--+\n| Yellow  | 7599   | 7655535.572937012    |\n|         | 45456  | 679863.2531113625    |\n| Silver  | 5408   | 8006530.302539825    |\n| Black   | 15681  | 1.402016470304108E7  |\n| Red     | 7716   | 1.208516000507736E7  |\n| White   | 908    | 8162.919813156128    |\n| Multi   | 6196   | 168616.0429916382    |\n| Blue    | 6203   | 3569734.185958862    |\n+---------+--------+----------------------+--+\n8 rows selected (3.587 seconds)\n{code}\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Beeline - strange behavior when server responds quickly","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ddosch","name":"ddosch","key":"ddosch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Dosch","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ddosch","name":"ddosch","key":"ddosch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Dosch","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12895874/comment/14905022","id":"14905022","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ddosch","name":"ddosch","key":"ddosch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Dosch","active":true,"timeZone":"Etc/UTC"},"body":"I've added an example of what the thrift requests and responses look like in a git repo here:\n\nhttps://github.com/ddosch/beeline-thrift-requests","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ddosch","name":"ddosch","key":"ddosch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Dan Dosch","active":true,"timeZone":"Etc/UTC"},"created":"2015-09-23T18:47:43.507+0000","updated":"2015-09-23T18:47:43.507+0000"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-11938/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2lh3j:"}}