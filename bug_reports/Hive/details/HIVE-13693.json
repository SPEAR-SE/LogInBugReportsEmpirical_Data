{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12965332","self":"https://issues.apache.org/jira/rest/api/2/issue/12965332","key":"HIVE-13693","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334255","id":"12334255","name":"2.1.0","archived":false,"released":true,"releaseDate":"2016-06-20"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2016-05-05T19:18:14.629+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue May 31 15:12:43 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_3_*:*_299503_*|*_3_*:*_3_*:*_570754108_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_2_*:*_1666479224","customfield_12312321":null,"resolutiondate":"2016-05-31T15:12:43.435+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-13693/watchers","watchCount":4,"isWatching":false},"created":"2016-05-05T17:40:30.681+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"4.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12332154","id":"12332154","description":"","name":"1.3.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12332641","id":"12332641","description":"Hive 2.0.0","name":"2.0.0","archived":false,"released":true,"releaseDate":"2016-02-15"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12334255","id":"12334255","name":"2.1.0","archived":false,"released":true,"releaseDate":"2016-06-20"}],"issuelinks":[{"id":"12467342","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12467342","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"inwardIssue":{"id":"12972359","key":"HIVE-13831","self":"https://issues.apache.org/jira/rest/api/2/issue/12972359","fields":{"summary":"Error pushing predicates to HBase storage handler","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12465804","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12465804","type":{"id":"12310050","name":"Regression","inward":"is broken by","outward":"breaks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310050"},"inwardIssue":{"id":"12775170","key":"HIVE-9695","self":"https://issues.apache.org/jira/rest/api/2/issue/12775170","fields":{"summary":"Redundant filter operator in reducer Vertex when CBO is disabled","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-06-21T15:08:19.100+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12323400","id":"12323400","name":"Logical Optimizer","description":"Optimizations which are independent of runtime."}],"timeoriginalestimate":null,"description":"To reproduce:\n\n{noformat}\nCREATE TABLE T_A ( id STRING, val STRING ); \nCREATE TABLE T_B ( id STRING, val STRING ); \nCREATE TABLE join_result_1 ( ida STRING, vala STRING, idb STRING, valb STRING ); \nCREATE TABLE join_result_3 ( ida STRING, vala STRING, idb STRING, valb STRING ); \n\nINSERT INTO TABLE T_A \nVALUES ('Id_1', 'val_101'), ('Id_2', 'val_102'), ('Id_3', 'val_103'); \n\nINSERT INTO TABLE T_B \nVALUES ('Id_1', 'val_103'), ('Id_2', 'val_104'); \n\nexplain\nFROM T_A a LEFT JOIN T_B b ON a.id = b.id\nINSERT OVERWRITE TABLE join_result_1\nSELECT a.*, b.*\nWHERE b.id = 'Id_1' AND b.val = 'val_103'\nINSERT OVERWRITE TABLE join_result_3\nSELECT a.*, b.*\nWHERE b.val = 'val_104' AND b.id = 'Id_2' AND a.val <> b.val;\n{noformat}\n\nThe (wrong) plan is the following:\n{noformat}\nSTAGE DEPENDENCIES:\n  Stage-2 is a root stage\n  Stage-3 depends on stages: Stage-2\n  Stage-0 depends on stages: Stage-3\n  Stage-4 depends on stages: Stage-0\n  Stage-1 depends on stages: Stage-3\n  Stage-5 depends on stages: Stage-1\n\nSTAGE PLANS:\n  Stage: Stage-2\n    Tez\n      DagId: haha_20160504140944_174465c9-5d1a-42f9-9665-fae02eeb2767:2\n      Edges:\n        Reducer 2 <- Map 1 (SIMPLE_EDGE), Map 3 (SIMPLE_EDGE)\n      DagName: \n      Vertices:\n        Map 1 \n            Map Operator Tree:\n                TableScan\n                  alias: a\n                  Statistics: Num rows: 3 Data size: 36 Basic stats: COMPLETE Column stats: NONE\n                  Reduce Output Operator\n                    key expressions: id (type: string)\n                    sort order: +\n                    Map-reduce partition columns: id (type: string)\n                    Statistics: Num rows: 3 Data size: 36 Basic stats: COMPLETE Column stats: NONE\n                    value expressions: val (type: string)\n        Map 3 \n            Map Operator Tree:\n                TableScan\n                  alias: b\n                  Statistics: Num rows: 2 Data size: 24 Basic stats: COMPLETE Column stats: NONE\n                  Reduce Output Operator\n                    key expressions: id (type: string)\n                    sort order: +\n                    Map-reduce partition columns: id (type: string)\n                    Statistics: Num rows: 2 Data size: 24 Basic stats: COMPLETE Column stats: NONE\n                    value expressions: val (type: string)\n        Reducer 2 \n            Reduce Operator Tree:\n              Merge Join Operator\n                condition map:\n                     Left Outer Join0 to 1\n                keys:\n                  0 id (type: string)\n                  1 id (type: string)\n                outputColumnNames: _col0, _col1, _col6\n                Statistics: Num rows: 3 Data size: 39 Basic stats: COMPLETE Column stats: NONE\n                Select Operator\n                  expressions: _col0 (type: string), _col1 (type: string), 'Id_1' (type: string), 'val_103' (type: string)\n                  outputColumnNames: _col0, _col1, _col2, _col3\n                  Statistics: Num rows: 3 Data size: 39 Basic stats: COMPLETE Column stats: NONE\n                  File Output Operator\n                    compressed: false\n                    Statistics: Num rows: 3 Data size: 39 Basic stats: COMPLETE Column stats: NONE\n                    table:\n                        input format: org.apache.hadoop.mapred.TextInputFormat\n                        output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\n                        serde: org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe\n                        name: bugtest2.join_result_1\n                Filter Operator\n                  predicate: (_col1 <> _col6) (type: boolean)\n                  Statistics: Num rows: 3 Data size: 39 Basic stats: COMPLETE Column stats: NONE\n                  Select Operator\n                    expressions: _col0 (type: string), _col1 (type: string), 'Id_2' (type: string), 'val_104' (type: string)\n                    outputColumnNames: _col0, _col1, _col2, _col3\n                    Statistics: Num rows: 3 Data size: 39 Basic stats: COMPLETE Column stats: NONE\n                    File Output Operator\n                      compressed: false\n                      Statistics: Num rows: 3 Data size: 39 Basic stats: COMPLETE Column stats: NONE\n                      table:\n                          input format: org.apache.hadoop.mapred.TextInputFormat\n                          output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\n                          serde: org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe\n                          name: bugtest2.join_result_3\n\n  Stage: Stage-3\n    Dependency Collection\n\n  Stage: Stage-0\n    Move Operator\n      tables:\n          replace: true\n          table:\n              input format: org.apache.hadoop.mapred.TextInputFormat\n              output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\n              serde: org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe\n              name: bugtest2.join_result_1\n\n  Stage: Stage-4\n    Stats-Aggr Operator\n\n  Stage: Stage-1\n    Move Operator\n      tables:\n          replace: true\n          table:\n              input format: org.apache.hadoop.mapred.TextInputFormat\n              output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\n              serde: org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe\n              name: bugtest2.join_result_3\n\n  Stage: Stage-5\n    Stats-Aggr Operator\n{noformat}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334255","id":"12334255","name":"2.1.0","archived":false,"released":true,"releaseDate":"2016-06-20"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12804133","id":"12804133","filename":"HIVE-13693.01.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-16T09:07:53.368+0000","size":51486,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12804133/HIVE-13693.01.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12803046","id":"12803046","filename":"HIVE-13693.01.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-09T18:35:36.991+0000","size":51486,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12803046/HIVE-13693.01.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12807184","id":"12807184","filename":"HIVE-13693.02.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-31T15:13:09.582+0000","size":89904,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12807184/HIVE-13693.02.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12802464","id":"12802464","filename":"HIVE-13693.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-05T17:45:48.898+0000","size":30361,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12802464/HIVE-13693.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Multi-insert query drops Filter before file output when there is a.val <> b.val","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12965332/comment/15272699","id":"15272699","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"body":"Problem is in PPD and it only happens for multi-insert.\n\nHIVE-9695 introduced partial removal of predicates in Filter operators. It was a fairly simple patch: given a Filter operator, a new Filter will replace the original one with the parts of the condition that cannot be pushed down, while the other parts of the condition will be pushed.\nThe patch relied on createFilter for the logic of Filter creation, that would replace/remove the original Filter immediately after the predicate was pushed.\n\nThe problem comes with operators with multiple outputs i.e. multi-insert, for which PPD does not pushed predicates through. In particular, when we are executing PPD and we detect an operator with multiple outputs, we just jump out to its input and thus we do not continue pushing the predicates. However, due to the logic introduced in HIVE-9695, the original Filter already got removed...\n\nAttached a fix that recreates the Filter operator(s) if necessary on top of the multi-output operator.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-05T17:42:21.579+0000","updated":"2016-05-05T17:42:21.579+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12965332/comment/15272898","id":"15272898","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks Jesus for detailed explanation. Can you create a RB for this? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-05T19:18:14.629+0000","updated":"2016-05-05T19:18:14.629+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12965332/comment/15272943","id":"15272943","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 pending tests","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-05T19:51:36.071+0000","updated":"2016-05-05T19:51:36.071+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12965332/comment/15275235","id":"15275235","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12802464/HIVE-13693.patch\n\n{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 77 failed/errored test(s), 9939 tests executed\n*Failed tests:*\n{noformat}\nTestCliDriver-gen_udf_example_add10.q-ppd_join4.q-union27.q-and-12-more - did not produce a TEST-*.xml file\nTestCliDriver-partition_timestamp.q-ppd_random.q-vector_outer_join5.q-and-12-more - did not produce a TEST-*.xml file\nTestCliDriver-ptf_general_queries.q-unionDistinct_1.q-groupby1_noskew.q-and-12-more - did not produce a TEST-*.xml file\nTestHWISessionManager - did not produce a TEST-*.xml file\nTestMiniLlapCliDriver - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-enforce_order.q-vector_partition_diff_num_cols.q-unionDistinct_1.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-insert_values_non_partitioned.q-join1.q-schema_evol_orc_nonvec_mapwork_part.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-bucketsortoptimize_insert_7.q-smb_mapjoin_15.q-mapreduce1.q-and-12-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-skewjoinopt3.q-union27.q-multigroupby_singlemr.q-and-12-more - did not produce a TEST-*.xml file\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_allcolref_in_udf\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cluster\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_multi_single_reducer\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join26\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join38\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_map_ppr\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_reorder2\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_reorder3\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_masking_disablecbo_1\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_masking_disablecbo_2\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_masking_disablecbo_3\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multi_insert_gby\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_optimize_nullscan\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd2\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_clusterby\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_semijoin\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_semijoin2\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin9\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_14\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_6\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_1\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_2\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_3\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_4\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_8\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_leftsemi_mapjoin\norg.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testNegativeCliDriver_case_with_row_sequence\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynamic_partition_pruning\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_explainuser_1\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_explainuser_2\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_hybridgrace_hashjoin_2\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_llap_nullscan\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_optimize_nullscan\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_skewjoin\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union_group_by\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_leftsemi_mapjoin\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_mapjoin_reduce\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_dynamic_partition_pruning\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query12\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query17\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query18\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query19\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query25\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query29\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query31\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query64\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query72\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query85\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testPerfCliDriver_query91\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_groupby_multi_single_reducer\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_join26\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_join38\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_join_map_ppr\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_join_reorder2\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_join_reorder3\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_multi_insert_gby\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_optimize_nullscan\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_semijoin\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_smb_mapjoin_14\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_smb_mapjoin_6\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_subquery_multiinsert\norg.apache.hadoop.hive.llap.tez.TestConverters.testFragmentSpecToTaskSpec\norg.apache.hadoop.hive.llap.tezplugins.TestLlapTaskCommunicator.testFinishableStateUpdateFailure\norg.apache.hadoop.hive.metastore.TestHiveMetaStoreGetMetaConf.testGetMetaConfDefault\norg.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch\norg.apache.hive.service.cli.session.TestHiveSessionImpl.testLeakOperationHandle\n{noformat}\n\nTest results: http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/202/testReport\nConsole output: http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/202/console\nTest logs: http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-202/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 77 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12802464 - PreCommit-HIVE-MASTER-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-05-07T13:29:42.534+0000","updated":"2016-05-07T13:29:42.534+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12965332/comment/15284790","id":"15284790","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12804133/HIVE-13693.01.patch\n\n{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 24 failed/errored test(s), 9998 tests executed\n*Failed tests:*\n{noformat}\nTestHWISessionManager - did not produce a TEST-*.xml file\nTestMiniLlapCliDriver - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-enforce_order.q-vector_partition_diff_num_cols.q-unionDistinct_1.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-explainuser_4.q-update_after_multiple_inserts.q-mapreduce2.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-groupby2.q-tez_dynpart_hashjoin_1.q-custom_input_output_format.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-join1.q-mapjoin_decimal.q-union5.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-mapjoin_mapjoin.q-insert_into1.q-vector_decimal_2.q-and-12-more - did not produce a TEST-*.xml file\nTestMiniTezCliDriver-smb_cache.q-transform_ppr2.q-vector_outer_join0.q-and-5-more - did not produce a TEST-*.xml file\nTestSparkCliDriver-ppd_transform.q-union_remove_7.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ivyDownload\norg.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_external_table_ppd\norg.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_ppd_key_range\norg.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_pushdown\norg.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_timestamp\norg.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_ppd_key_ranges\norg.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_groupby_multi_single_reducer\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_multi_insert_gby\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_subquery_multiinsert\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_udf_min\norg.apache.hadoop.hive.llap.tez.TestConverters.testFragmentSpecToTaskSpec\norg.apache.hadoop.hive.llap.tezplugins.TestLlapTaskCommunicator.testFinishableStateUpdateFailure\norg.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedLocalityNodeCommErrorImmediateAllocation\norg.apache.hive.service.cli.session.TestHiveSessionImpl.testLeakOperationHandle\n{noformat}\n\nTest results: http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/298/testReport\nConsole output: http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/298/console\nTest logs: http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-298/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 24 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12804133 - PreCommit-HIVE-MASTER-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2016-05-16T16:21:34.050+0000","updated":"2016-05-16T16:21:34.050+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12965332/comment/15307884","id":"15307884","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"body":"Regenerated q files, pushed to master and branch-2.1. Thanks for reviewing [~ashutoshc]!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-31T15:12:43.483+0000","updated":"2016-05-31T15:12:43.483+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-13693/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2x7vr:"}}