{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12531837","self":"https://issues.apache.org/jira/rest/api/2/issue/12531837","key":"HIVE-2591","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2012-03-04T14:03:11.729+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat May 26 00:13:59 UTC 2012","customfield_12310420":"217573","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_52037485013_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-07-12T02:54:02.115+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2591/watchers","watchCount":3,"isWatching":false},"created":"2011-11-17T20:02:37.123+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":["hive"],"customfield_12312333":null,"customfield_12310230":"Hive","customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316336","id":"12316336","description":"released","name":"0.7.1","archived":false,"released":true,"releaseDate":"2011-06-21"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-07-12T02:54:02.133+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12313604","id":"12313604","name":"CLI","description":"Command-line interpreter for Hive.\n"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12314178","id":"12314178","name":"JDBC"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12315100","id":"12315100","name":"SQL","description":"Issues related to Hive Query Language and its conformance with ANSI SQL."}],"timeoriginalestimate":null,"description":"Hi,\n\nWhen I try to invoke hive and type in \"SHOW TABLES\" in cli in the environment as explained above, I get \"Exception in thread \"main\" java.lang.NoSuchFieldError: type\" and I am not able to use it at all.\n\nIs there any temporary fix for this? Please let me know, if I am making any mistake here.\nI have downloaded Hive 0.7.1 from the download link as mentioned in the Hive Wiki. The download url is http://hive.apache.org/releases.html.\n\n/opt/hive-0.7.1$ hive\nWARNING: org.apache.hadoop.metrics.jvm.EventCounter is deprecated. Please use org.apache.hadoop.log.metrics.EventCounter in all the log4j.properties files.\nHive history file=/tmp/hadoop/hive_job_log_hduser_201111190121_764439225.txt\nhive> SHOW TABLES;\nException in thread \"main\" java.lang.NoSuchFieldError: type\n        at org.apache.hadoop.hive.ql.parse.HiveLexer.mKW_SHOW(HiveLexer.java:1234)\n        at org.apache.hadoop.hive.ql.parse.HiveLexer.mTokens(HiveLexer.java:5942)\n        at org.antlr.runtime.Lexer.nextToken(Lexer.java:89)\n        at org.antlr.runtime.BufferedTokenStream.fetch(BufferedTokenStream.java:133)\n        at org.antlr.runtime.BufferedTokenStream.sync(BufferedTokenStream.java:127)\n        at org.antlr.runtime.CommonTokenStream.setup(CommonTokenStream.java:127)\n        at org.antlr.runtime.CommonTokenStream.LT(CommonTokenStream.java:91)\n        at org.apache.hadoop.hive.ql.parse.HiveParser.statement(HiveParser.java:521)\n        at org.apache.hadoop.hive.ql.parse.ParseDriver.parse(ParseDriver.java:436)\n        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:327)\n        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:736)\n        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:164)\n        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:241)\n        at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:456)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.apache.hadoop.util.RunJar.main(RunJar.java:156)\n\nI am not sure what is the actual issue here or rather how to fix it.\nCan you please let me know if there is any workaround for this.\n\nAlternatively I tried building hive from the SVN source repo.\nI am neither able to build hive from SVN. I get the following error.\n[datanucleusenhancer] >>  D:\\hive\\build\\ivy\\lib\\default\\zookeeper-3.3.1.jar\n[datanucleusenhancer] Exception in thread \"main\" java.lang.VerifyError: Expecting a stackmap frame at branch target 76 in method org.apache.hadoop.hive.metastore.model.MDatabase.jdoCopyField(Lorg/apache/hadoop/hive/metastore/model/MDatabase;I)V at offset 1\n[datanucleusenhancer]   at java.lang.Class.getDeclaredFields0(Native Method)\n[datanucleusenhancer]   at java.lang.Class.privateGetDeclaredFields(Class.java:2308)\n[datanucleusenhancer]   at java.lang.Class.getDeclaredFields(Class.java:1760)\n[datanucleusenhancer]   at org.datanucleus.metadata.ClassMetaData.addMetaDataForMembersNotInMetaData(ClassMetaData.java:358)\n[datanucleusenhancer]   at org.datanucleus.metadata.ClassMetaData.populate(ClassMetaData.java:199)\n[datanucleusenhancer]   at org.datanucleus.metadata.MetaDataManager$1.run(MetaDataManager.java:2394)\n[datanucleusenhancer]   at java.security.AccessController.doPrivileged(Native Method)\n[datanucleusenhancer]   at org.datanucleus.metadata.MetaDataManager.populateAbstractClassMetaData(MetaDataManager.java:2388)\n[datanucleusenhancer]   at org.datanucleus.metadata.MetaDataManager.populateFileMetaData(MetaDataManager.java:2225)\n[datanucleusenhancer]   at org.datanucleus.metadata.MetaDataManager.initialiseFileMetaDataForUse(MetaDataManager.java:925)\n[datanucleusenhancer]   at org.datanucleus.metadata.MetaDataManager.loadMetadataFiles(MetaDataManager.java:399)\n[datanucleusenhancer]   at org.datanucleus.enhancer.DataNucleusEnhancer.getFileMetadataForInput(DataNucleusEnhancer.java:806)\n[datanucleusenhancer]   at org.datanucleus.enhancer.DataNucleusEnhancer.enhance(DataNucleusEnhancer.java:582)\n[datanucleusenhancer]   at org.datanucleus.enhancer.DataNucleusEnhancer.main(DataNucleusEnhancer.java:1316)\n\nBUILD FAILED\nD:\\Projs_Source\\hive\\build.xml:297: The following error occurred while executing this line:\nD:\\Projs_Source\\hive\\build.xml:154: The following error occurred while executing this line:\nD:\\Projs_Source\\hive\\metastore\\build.xml:98: Java returned: 1\n\nTotal time: 32 seconds\n\nAny inputs to fix these issues will be very helpful.\n\n\nThanks,\nPrashanth.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"74416","customfield_12312823":null,"summary":"Hive 0.7.1 fails with \"Exception in thread \"main\" java.lang.NoSuchFieldError: type\"","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prashanth.babu","name":"prashanth.babu","key":"prashanth.babu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prashanth","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=prashanth.babu","name":"prashanth.babu","key":"prashanth.babu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Prashanth","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Intel Core2 Quad CPU Q8400 @2.66GHz\n4 GB RAM\nUbuntu 10.10 32 bit\nJDK 6.0_27\nApache Ant 1.8.0\nApache Hive 0.7.1\nApache Hadoop 0.20.203.0","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12531837/comment/13221893","id":"13221893","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andy","name":"andy","key":"andy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andy Jefferson","active":true,"timeZone":"Etc/UTC"},"body":"> java.lang.VerifyError: Expecting a stackmap frame at branch target 76 in method \n\nMeans you are using JDK1.7 and the DataNucleus enhancer uses ASM3.x (JDK1.6 java bytecode). You can use the tip at the end of this post\nhttp://www.datanucleus.org/servlet/forum/viewthread_thread,6799_lastpage,yes#lastpost\nto use JDK1.7 with current DataNucleus","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andy","name":"andy","key":"andy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andy Jefferson","active":true,"timeZone":"Etc/UTC"},"created":"2012-03-04T14:03:11.729+0000","updated":"2012-03-04T14:03:11.729+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12531837/comment/13232029","id":"13232029","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ransom","name":"ransom","key":"ransom","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhiqiang He","active":true,"timeZone":"Asia/Shanghai"},"body":"you should use jdk 1.6 \nbecause jdk1.7 jdbc interface has some change. \ni have them same VerifyError when build hive.\nafter change jdk.it was success.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ransom","name":"ransom","key":"ransom","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhiqiang He","active":true,"timeZone":"Asia/Shanghai"},"created":"2012-03-17T17:48:23.277+0000","updated":"2012-03-17T17:48:23.277+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12531837/comment/13232031","id":"13232031","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ransom","name":"ransom","key":"ransom","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhiqiang He","active":true,"timeZone":"Asia/Shanghai"},"body":"type error:\nit looks some problems in antlr. is the hive.g files changed?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ransom","name":"ransom","key":"ransom","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhiqiang He","active":true,"timeZone":"Asia/Shanghai"},"created":"2012-03-17T17:51:25.883+0000","updated":"2012-03-17T17:51:25.883+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12531837/comment/13246054","id":"13246054","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=codevally","name":"codevally","key":"codevally","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Roshan Pradeep","active":true,"timeZone":"Etc/UTC"},"body":"Hi\n\nI am also getting this \"type error\". Haven't modify any files and just download and configure the following pieces.\n\nHadoop - 1.0.1\nHive - 0.81\n\nAny help is appreciated.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=codevally","name":"codevally","key":"codevally","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Roshan Pradeep","active":true,"timeZone":"Etc/UTC"},"created":"2012-04-04T05:52:08.246+0000","updated":"2012-04-04T05:52:08.246+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12531837/comment/13283842","id":"13283842","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=appodictic","name":"appodictic","key":"appodictic","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Edward Capriolo","active":true,"timeZone":"Etc/UTC"},"body":"The problem is being compiled against one version of antlr and running with anouther. Does hadoop 1.0 have an antlr on the classpath?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=appodictic","name":"appodictic","key":"appodictic","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Edward Capriolo","active":true,"timeZone":"Etc/UTC"},"created":"2012-05-26T00:13:59.681+0000","updated":"2012-05-26T00:13:59.681+0000"}],"maxResults":5,"total":5,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2591/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0d3y7:"}}