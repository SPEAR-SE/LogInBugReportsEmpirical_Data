{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12654105","self":"https://issues.apache.org/jira/rest/api/2/issue/12654105","key":"HIVE-4778","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324986","id":"12324986","description":"released","name":"0.13.0","archived":false,"released":true,"releaseDate":"2014-04-21"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-08-13T15:36:48.682+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Sep 12 19:24:51 UTC 2013","customfield_12310420":"334382","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_2513376166_*|*_1_*:*_1_*:*_4635800955_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-09-12T02:00:00.029+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-4778/watchers","watchCount":7,"isWatching":false},"created":"2013-06-21T08:07:02.933+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323587","id":"12323587","description":"Hive 0.11.0","name":"0.11.0","archived":false,"released":true,"releaseDate":"2013-05-15"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=seoeun25","name":"seoeun25","key":"seoeun25","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Azrael Seoeun","active":true,"timeZone":"Asia/Seoul"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-09-12T19:24:51.644+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12317301","id":"12317301","name":"Authentication","description":"Security Subcomponent"}],"timeoriginalestimate":null,"description":"I have created my own class PamAuthenticationProvider that implements PasswdAuthenticationProvider interface. I have puted jar into hive lib directory and have configured hive-site.xml in following way:\n\n<property>\n  <name>hive.server2.authentication</name>\n  <value>CUSTOM</value>\n</property>\n\n<property>\n  <name>hive.server2.custom.authentication.class</name>\n  <value>com.avast.ff.hive.PamAuthenticationProvider</value>\n</property>\n\n\nI use SQuireL and jdbc drivers to connect to hive. During authentication Hive throws following exception:\n\njava.lang.RuntimeException: java.lang.NoSuchMethodException: org.apache.hive.service.auth.PasswdAuthenticationProvider.<init>()\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:128)\n        at org.apache.hive.service.auth.CustomAuthenticationProviderImpl.<init>(CustomAuthenticationProviderImpl.java:20)\n        at org.apache.hive.service.auth.AuthenticationProviderFactory.getAuthenticationProvider(AuthenticationProviderFactory.java:57)\n        at org.apache.hive.service.auth.PlainSaslHelper$PlainServerCallbackHandler.handle(PlainSaslHelper.java:61)\n        at org.apache.hive.service.auth.PlainSaslServer.evaluateResponse(PlainSaslServer.java:127)\n        at org.apache.thrift.transport.TSaslTransport$SaslParticipant.evaluateChallengeOrResponse(TSaslTransport.java:509)\n        at org.apache.thrift.transport.TSaslTransport.open(TSaslTransport.java:264)\n        at org.apache.thrift.transport.TSaslServerTransport.open(TSaslServerTransport.java:41)\n        at org.apache.thrift.transport.TSaslServerTransport$Factory.getTransport(TSaslServerTransport.java:216)\n        at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:189)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:662)\nCaused by: java.lang.NoSuchMethodException: org.apache.hive.service.auth.PasswdAuthenticationProvider.<init>()\n        at java.lang.Class.getConstructor0(Class.java:2706)\n        at java.lang.Class.getDeclaredConstructor(Class.java:1985)\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:122)\n        ... 12 more\n\n\n\nI have done small patch for org.apache.hive.service.auth.CustomAuthenticationProviderImpl , that have solved my problem, but I'm not sure if it's the best solution. Here is the patch:\n\n--- CustomAuthenticationProviderImpl.java       2013-06-20 14:55:22.473995184 +0200\n+++ CustomAuthenticationProviderImpl.java.new   2013-06-20 14:57:36.549012966 +0200\n@@ -33,7 +33,7 @@\n     HiveConf conf = new HiveConf();\n     this.customHandlerClass = (Class<? extends PasswdAuthenticationProvider>)\n         conf.getClass(\n-            HiveConf.ConfVars.HIVE_SERVER2_CUSTOM_AUTHENTICATION_CLASS.name(),\n+            HiveConf.ConfVars.HIVE_SERVER2_CUSTOM_AUTHENTICATION_CLASS.varname,\n             PasswdAuthenticationProvider.class);\n     this.customProvider =\n         ReflectionUtils.newInstance(this.customHandlerClass, conf);\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12597741","id":"12597741","filename":"HIVE-4778.D12207.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-13T15:36:48.881+0000","size":360189,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12597741/HIVE-4778.D12207.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12597852","id":"12597852","filename":"HIVE-4778.D12213.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-13T23:48:48.362+0000","size":5958,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12597852/HIVE-4778.D12213.1.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"334708","customfield_12312823":null,"summary":"hive.server2.authentication CUSTOM not working","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zdenek.ott","name":"zdenek.ott","key":"zdenek.ott","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zdenek Ott","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zdenek.ott","name":"zdenek.ott","key":"zdenek.ott","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zdenek Ott","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"CentOS release 6.2 x86_64\njava version \"1.6.0_31\"\nJava(TM) SE Runtime Environment (build 1.6.0_31-b04)\nJava HotSpot(TM) 64-Bit Server VM (build 20.6-b01, mixed mode)","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654105/comment/13738372","id":"13738372","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"azrael requested code review of \"HIVE-4778 [jira] hive.server2.authentication CUSTOM not working\".\n\nReviewers: JIRA\n\nTEST PLAN\n  unit test and manual test\n\nREVISION DETAIL\n  https://reviews.facebook.net/D12207\n\nAFFECTED FILES\n  build-common.xml\n  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java\n  conf/hive-default.xml.template\n  hbase-handler/src/test/templates/TestHBaseCliDriver.vm\n  ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive/ql/io/orc/OrcProto.java\n  ql/src/java/org/apache/hadoop/hive/ql/Driver.java\n  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java\n  ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java\n  ql/src/java/org/apache/hadoop/hive/ql/exec/mr/ExecDriver.java\n  ql/src/java/org/apache/hadoop/hive/ql/history/HiveHistory.java\n  ql/src/java/org/apache/hadoop/hive/ql/history/HiveHistoryImpl.java\n  ql/src/java/org/apache/hadoop/hive/ql/history/HiveHistoryProxyHandler.java\n  ql/src/java/org/apache/hadoop/hive/ql/history/HiveHistoryUtil.java\n  ql/src/java/org/apache/hadoop/hive/ql/history/HiveHistoryViewer.java\n  ql/src/java/org/apache/hadoop/hive/ql/io/orc/IntegerReader.java\n  ql/src/java/org/apache/hadoop/hive/ql/io/orc/IntegerWriter.java\n  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReaderImpl.java\n  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReaderImpl.java.orig\n  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthIntegerReader.java\n  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthIntegerReaderV2.java\n  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthIntegerWriter.java\n  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthIntegerWriterV2.java\n  ql/src/java/org/apache/hadoop/hive/ql/io/orc/SerializationUtils.java\n  ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java\n  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java\n  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java\n  ql/src/java/org/apache/hadoop/hive/ql/udf/GenericUDFDecode.java\n  ql/src/java/org/apache/hadoop/hive/ql/udf/GenericUDFEncode.java\n  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFBase64.java\n  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFHex.java\n  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFUnbase64.java\n  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFUnhex.java\n  ql/src/protobuf/org/apache/hadoop/hive/ql/io/orc/orc_proto.proto\n  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java\n  ql/src/test/org/apache/hadoop/hive/ql/history/TestHiveHistory.java\n  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestBitPack.java\n  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestIntegerCompressionReader.java\n  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestNewIntegerEncoding.java\n  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestOrcNullOptimization.java\n  ql/src/test/org/apache/hadoop/hive/ql/udf/TestGenericUDFDecode.java\n  ql/src/test/org/apache/hadoop/hive/ql/udf/TestGenericUDFEncode.java\n  ql/src/test/org/apache/hadoop/hive/ql/udf/TestUDFBase64.java\n  ql/src/test/org/apache/hadoop/hive/ql/udf/TestUDFHex.java\n  ql/src/test/org/apache/hadoop/hive/ql/udf/TestUDFUnbase64.java\n  ql/src/test/org/apache/hadoop/hive/ql/udf/TestUDFUnhex.java\n  ql/src/test/queries/clientpositive/ba_table_udfs.q\n  ql/src/test/queries/clientpositive/nonblock_op_deduplicate.q\n  ql/src/test/queries/clientpositive/partition_date.q\n  ql/src/test/queries/clientpositive/partition_date2.q\n  ql/src/test/queries/clientpositive/ppd_vc.q\n  ql/src/test/queries/clientpositive/schemeAuthority2.q\n  ql/src/test/queries/clientpositive/udf_sentences.q\n  ql/src/test/resources/orc-file-dump-dictionary-threshold.out\n  ql/src/test/resources/orc-file-dump.out\n  ql/src/test/results/clientnegative/fs_default_name1.q.out\n  ql/src/test/results/clientnegative/fs_default_name2.q.out\n  ql/src/test/results/clientpositive/auto_join14.q.out\n  ql/src/test/results/clientpositive/ba_table_udfs.q.out\n  ql/src/test/results/clientpositive/input12.q.out\n  ql/src/test/results/clientpositive/join14.q.out\n  ql/src/test/results/clientpositive/nonblock_op_deduplicate.q.out\n  ql/src/test/results/clientpositive/partition_date.q.out\n  ql/src/test/results/clientpositive/partition_date2.q.out\n  ql/src/test/results/clientpositive/ppd_vc.q.out\n  ql/src/test/results/clientpositive/schemeAuthority2.q.out\n  ql/src/test/results/clientpositive/show_functions.q.out\n  ql/src/test/results/clientpositive/udf_hex.q.out\n  ql/src/test/results/clientpositive/udf_sentences.q.out\n  ql/src/test/results/clientpositive/udf_unhex.q.out\n  ql/src/test/results/clientpositive/union_remove_19.q.out\n  ql/src/test/templates/TestCliDriver.vm\n  service/src/java/org/apache/hive/service/auth/CustomAuthenticationProviderImpl.java\n  service/src/test/org/apache/hive/service/auth/TestCustomAuthentication.java\n  shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java\n  shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java\n  shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java\n  shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java\n\nMANAGE HERALD RULES\n  https://reviews.facebook.net/herald/view/differential/\n\nWHY DID I GET THIS EMAIL?\n  https://reviews.facebook.net/herald/transcript/29163/\n\nTo: JIRA, azrael\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-13T15:36:48.682+0000","updated":"2013-08-13T15:36:48.682+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654105/comment/13738376","id":"13738376","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=seoeun25","name":"seoeun25","key":"seoeun25","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Azrael Seoeun","active":true,"timeZone":"Asia/Seoul"},"body":"I rebased wrong, I will update patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=seoeun25","name":"seoeun25","key":"seoeun25","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Azrael Seoeun","active":true,"timeZone":"Asia/Seoul"},"created":"2013-08-13T15:41:12.619+0000","updated":"2013-08-13T15:41:12.619+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654105/comment/13739034","id":"13739034","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"body":"azrael requested code review of \"HIVE-4778 [jira] hive.server2.authentication CUSTOM not working\".\n\nReviewers: JIRA\n\nHIVE-4778 : hive.server2.authentication CUSTOM not working\n\nTEST PLAN\n  unit test and manual test\n\nREVISION DETAIL\n  https://reviews.facebook.net/D12213\n\nAFFECTED FILES\n  service/src/java/org/apache/hive/service/auth/CustomAuthenticationProviderImpl.java\n  service/src/test/org/apache/hive/service/auth/TestCustomAuthentication.java\n\nMANAGE HERALD RULES\n  https://reviews.facebook.net/herald/view/differential/\n\nWHY DID I GET THIS EMAIL?\n  https://reviews.facebook.net/herald/transcript/29211/\n\nTo: JIRA, azrael\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phabricator%40reviews.facebook.net","name":"phabricator@reviews.facebook.net","key":"phabricator@reviews.facebook.net","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Phabricator","active":true,"timeZone":"Etc/UTC"},"created":"2013-08-13T23:48:48.249+0000","updated":"2013-08-13T23:48:48.249+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654105/comment/13739428","id":"13739428","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12597852/HIVE-4778.D12213.1.patch\n\n{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 2857 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_reducers_power_two\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/431/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/431/console\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests failed with: TestsFailedException: 1 tests failed\n{noformat}\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2013-08-14T08:57:08.387+0000","updated":"2013-08-14T08:57:08.387+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654105/comment/13741696","id":"13741696","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=seoeun25","name":"seoeun25","key":"seoeun25","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Azrael Seoeun","active":true,"timeZone":"Asia/Seoul"},"body":"The failing test is unrelated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=seoeun25","name":"seoeun25","key":"seoeun25","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Azrael Seoeun","active":true,"timeZone":"Asia/Seoul"},"created":"2013-08-15T23:53:44.045+0000","updated":"2013-08-15T23:53:44.045+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654105/comment/13755275","id":"13755275","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mantonov","name":"mantonov","key":"mantonov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mantonov&avatarId=18652","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mantonov&avatarId=18652","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mantonov&avatarId=18652","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mantonov&avatarId=18652"},"displayName":"Mikhail Antonov","active":true,"timeZone":"America/Los_Angeles"},"body":"I also encountered the same issue today, and obviously, simplest workaround is to use the following in hive-site.xml:\n\n<property>\n    <!--<name>hive.server2.custom.authentication.class</name>-->\n    <name>HIVE_SERVER2_CUSTOM_AUTHENTICATION_CLASS</name>\n    <value>com.zettaset.hive.security.auth.ZtsHiveAuthenticationProvider</value>\n</property>\n\nThat works.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mantonov","name":"mantonov","key":"mantonov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mantonov&avatarId=18652","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mantonov&avatarId=18652","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mantonov&avatarId=18652","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mantonov&avatarId=18652"},"displayName":"Mikhail Antonov","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-08-30T23:52:14.533+0000","updated":"2013-08-30T23:52:14.533+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654105/comment/13755277","id":"13755277","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mantonov","name":"mantonov","key":"mantonov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mantonov&avatarId=18652","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mantonov&avatarId=18652","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mantonov&avatarId=18652","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mantonov&avatarId=18652"},"displayName":"Mikhail Antonov","active":true,"timeZone":"America/Los_Angeles"},"body":"Also, one of the reasons for people to write custom authenticators is that default LDAP provider has limitations (bugs?) which prevent it from working with some OpenLDAP servers. Not sure if there's a bug opened for that (usage of \"uid\" is hardcoded)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mantonov","name":"mantonov","key":"mantonov","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=mantonov&avatarId=18652","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mantonov&avatarId=18652","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mantonov&avatarId=18652","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mantonov&avatarId=18652"},"displayName":"Mikhail Antonov","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-08-31T00:00:23.839+0000","updated":"2013-08-31T00:00:23.839+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654105/comment/13763850","id":"13763850","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"body":"+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"created":"2013-09-11T01:54:07.731+0000","updated":"2013-09-11T01:54:07.731+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654105/comment/13765083","id":"13765083","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"body":"Committed to trunk. Thanks Azrael!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"created":"2013-09-12T02:00:00.047+0000","updated":"2013-09-12T02:00:00.047+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654105/comment/13765118","id":"13765118","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hive-trunk-hadoop2 #423 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/423/])\nHIVE-4778 : hive.server2.authentication CUSTOM not working (Azrael via Navis) (navis: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1522100)\n* /hive/trunk/service/src/java/org/apache/hive/service/auth/CustomAuthenticationProviderImpl.java\n* /hive/trunk/service/src/test/org/apache/hive/service/auth/TestCustomAuthentication.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-09-12T02:57:24.697+0000","updated":"2013-09-12T02:57:24.697+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654105/comment/13765645","id":"13765645","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hive-trunk-hadoop2-ptest #96 (See [https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/96/])\nHIVE-4778 : hive.server2.authentication CUSTOM not working (Azrael via Navis) (navis: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1522100)\n* /hive/trunk/service/src/java/org/apache/hive/service/auth/CustomAuthenticationProviderImpl.java\n* /hive/trunk/service/src/test/org/apache/hive/service/auth/TestCustomAuthentication.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-09-12T17:21:14.984+0000","updated":"2013-09-12T17:21:14.984+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654105/comment/13765662","id":"13765662","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hive-trunk-hadoop1-ptest #163 (See [https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/163/])\nHIVE-4778 : hive.server2.authentication CUSTOM not working (Azrael via Navis) (navis: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1522100)\n* /hive/trunk/service/src/java/org/apache/hive/service/auth/CustomAuthenticationProviderImpl.java\n* /hive/trunk/service/src/test/org/apache/hive/service/auth/TestCustomAuthentication.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-09-12T17:30:06.283+0000","updated":"2013-09-12T17:30:06.283+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654105/comment/13765796","id":"13765796","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hive-trunk-h0.21 #2326 (See [https://builds.apache.org/job/Hive-trunk-h0.21/2326/])\nHIVE-4778 : hive.server2.authentication CUSTOM not working (Azrael via Navis) (navis: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1522100)\n* /hive/trunk/service/src/java/org/apache/hive/service/auth/CustomAuthenticationProviderImpl.java\n* /hive/trunk/service/src/test/org/apache/hive/service/auth/TestCustomAuthentication.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-09-12T19:24:51.644+0000","updated":"2013-09-12T19:24:51.644+0000"}],"maxResults":13,"total":13,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-4778/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1lojz:"}}