{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12503673","self":"https://issues.apache.org/jira/rest/api/2/issue/12503673","key":"HIVE-2099","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2011-11-23T14:07:29.846+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Aug 22 18:17:26 UTC 2016","customfield_12310420":"35811","customfield_12312320":null,"customfield_12310222":"1_*:*_2_*:*_169142450773_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_540880072","customfield_12312321":null,"resolutiondate":"2016-08-22T18:17:26.123+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2099/watchers","watchCount":2,"isWatching":false},"created":"2011-04-07T20:01:55.812+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314524","id":"12314524","description":"released","name":"0.6.0","archived":false,"released":true,"releaseDate":"2010-10-29"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12315150","id":"12315150","description":"released","name":"0.7.0","archived":false,"released":true,"releaseDate":"2011-03-29"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12316178","id":"12316178","description":"released","name":"0.8.0","archived":false,"released":true,"releaseDate":"2011-12-16"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12317742","id":"12317742","description":"released","name":"0.9.0","archived":false,"released":true,"releaseDate":"2012-04-30"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chinnalalam","name":"chinnalalam","key":"chinnalalam","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chinna Rao Lalam","active":true,"timeZone":"Asia/Kolkata"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-08-22T18:17:26.654+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312586","id":"12312586","name":"Query Processor","description":"Tracks issues dealing with query processing."}],"timeoriginalestimate":null,"description":"This fails as expected:\n\nselect foo, bar from pokes group by foo;\n\nThis succeeds, which is incorrect:\n\nselect * from pokes group by foo;\n\nI verified this as far back as 0.6, so maybe it has always been this way.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12504871","id":"12504871","filename":"HIVE-2099.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chinnalalam","name":"chinnalalam","key":"chinnalalam","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chinna Rao Lalam","active":true,"timeZone":"Asia/Kolkata"},"created":"2011-11-23T13:59:53.104+0000","size":67940,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12504871/HIVE-2099.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12483713","id":"12483713","filename":"HIVE-2099.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chinnalalam","name":"chinnalalam","key":"chinnalalam","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chinna Rao Lalam","active":true,"timeZone":"Asia/Kolkata"},"created":"2011-06-24T14:37:26.306+0000","size":40669,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12483713/HIVE-2099.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"123634","customfield_12312823":null,"summary":"GROUP BY rules not applied correctly for select *","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12503673/comment/13155885","id":"13155885","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chinnalalam","name":"chinnalalam","key":"chinnalalam","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chinna Rao Lalam","active":true,"timeZone":"Asia/Kolkata"},"body":"Select * case provided group by validation like select columns list is subset or equal to the group by columns list. If it violates this validation will throw exception.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chinnalalam","name":"chinnalalam","key":"chinnalalam","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chinna Rao Lalam","active":true,"timeZone":"Asia/Kolkata"},"created":"2011-11-23T14:07:29.846+0000","updated":"2011-11-23T14:07:29.846+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12503673/comment/13155886","id":"13155886","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/2922/\n-----------------------------------------------------------\n\nReview request for hive and John Sichi.\n\n\nSummary\n-------\n\nSelect * case provided group by validation like select columns list is subset or equal to the group by columns list. If it violates this validation will throw exception.\n\n\nThis addresses bug HIVE-2099.\n    https://issues.apache.org/jira/browse/HIVE-2099\n\n\nDiffs\n-----\n\n  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1203044 \n  trunk/ql/src/test/queries/clientnegative/groupby_select_all.q PRE-CREATION \n  trunk/ql/src/test/queries/clientnegative/groupby_select_all_alias.q PRE-CREATION \n  trunk/ql/src/test/queries/clientnegative/groupby_select_all_join.q PRE-CREATION \n  trunk/ql/src/test/queries/clientnegative/groupby_select_all_subquery.q PRE-CREATION \n  trunk/ql/src/test/queries/clientnegative/groupby_select_all_subquery_unionall.q PRE-CREATION \n  trunk/ql/src/test/queries/clientpositive/groupby_select_all.q PRE-CREATION \n  trunk/ql/src/test/results/clientnegative/groupby_select_all.q.out PRE-CREATION \n  trunk/ql/src/test/results/clientnegative/groupby_select_all_alias.q.out PRE-CREATION \n  trunk/ql/src/test/results/clientnegative/groupby_select_all_join.q.out PRE-CREATION \n  trunk/ql/src/test/results/clientnegative/groupby_select_all_subquery.q.out PRE-CREATION \n  trunk/ql/src/test/results/clientnegative/groupby_select_all_subquery_unionall.q.out PRE-CREATION \n  trunk/ql/src/test/results/clientpositive/groupby_select_all.q.out PRE-CREATION \n\nDiff: https://reviews.apache.org/r/2922/diff\n\n\nTesting\n-------\n\nAll unit tests passed and added new testcases\n\n\nThanks,\n\nchinna\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-11-23T14:07:39.885+0000","updated":"2011-11-23T14:07:39.885+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12503673/comment/13159043","id":"13159043","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/2922/#review3550\n-----------------------------------------------------------\n\n\n\ntrunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java\n<https://reviews.apache.org/r/2922/#comment7911>\n\n    Rather than adding special-case code to handle this, wouldn't it be better to make genColListRegex call genExprNodeDesc (which is what normally detects the error)?  This would avoid extra code, and would also make this apply to the other regex cases.\n    \n\n\n- John\n\n\nOn 2011-11-23 14:06:54, chinna wrote:\nbq.  \nbq.  -----------------------------------------------------------\nbq.  This is an automatically generated e-mail. To reply, visit:\nbq.  https://reviews.apache.org/r/2922/\nbq.  -----------------------------------------------------------\nbq.  \nbq.  (Updated 2011-11-23 14:06:54)\nbq.  \nbq.  \nbq.  Review request for hive and John Sichi.\nbq.  \nbq.  \nbq.  Summary\nbq.  -------\nbq.  \nbq.  Select * case provided group by validation like select columns list is subset or equal to the group by columns list. If it violates this validation will throw exception.\nbq.  \nbq.  \nbq.  This addresses bug HIVE-2099.\nbq.      https://issues.apache.org/jira/browse/HIVE-2099\nbq.  \nbq.  \nbq.  Diffs\nbq.  -----\nbq.  \nbq.    trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1203044 \nbq.    trunk/ql/src/test/queries/clientnegative/groupby_select_all.q PRE-CREATION \nbq.    trunk/ql/src/test/queries/clientnegative/groupby_select_all_alias.q PRE-CREATION \nbq.    trunk/ql/src/test/queries/clientnegative/groupby_select_all_join.q PRE-CREATION \nbq.    trunk/ql/src/test/queries/clientnegative/groupby_select_all_subquery.q PRE-CREATION \nbq.    trunk/ql/src/test/queries/clientnegative/groupby_select_all_subquery_unionall.q PRE-CREATION \nbq.    trunk/ql/src/test/queries/clientpositive/groupby_select_all.q PRE-CREATION \nbq.    trunk/ql/src/test/results/clientnegative/groupby_select_all.q.out PRE-CREATION \nbq.    trunk/ql/src/test/results/clientnegative/groupby_select_all_alias.q.out PRE-CREATION \nbq.    trunk/ql/src/test/results/clientnegative/groupby_select_all_join.q.out PRE-CREATION \nbq.    trunk/ql/src/test/results/clientnegative/groupby_select_all_subquery.q.out PRE-CREATION \nbq.    trunk/ql/src/test/results/clientnegative/groupby_select_all_subquery_unionall.q.out PRE-CREATION \nbq.    trunk/ql/src/test/results/clientpositive/groupby_select_all.q.out PRE-CREATION \nbq.  \nbq.  Diff: https://reviews.apache.org/r/2922/diff\nbq.  \nbq.  \nbq.  Testing\nbq.  -------\nbq.  \nbq.  All unit tests passed and added new testcases\nbq.  \nbq.  \nbq.  Thanks,\nbq.  \nbq.  chinna\nbq.  \nbq.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-11-29T02:13:40.026+0000","updated":"2011-11-29T02:13:40.026+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12503673/comment/15431346","id":"15431346","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chinnalalam","name":"chinnalalam","key":"chinnalalam","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chinna Rao Lalam","active":true,"timeZone":"Asia/Kolkata"},"body":"Please open new jira, still it is a problem on master.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=chinnalalam","name":"chinnalalam","key":"chinnalalam","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Chinna Rao Lalam","active":true,"timeZone":"Asia/Kolkata"},"created":"2016-08-22T18:17:26.489+0000","updated":"2016-08-22T18:17:26.489+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2099/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0lif3:"}}