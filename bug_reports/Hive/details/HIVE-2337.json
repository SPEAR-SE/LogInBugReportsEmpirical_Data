{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12517731","self":"https://issues.apache.org/jira/rest/api/2/issue/12517731","key":"HIVE-2337","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316178","id":"12316178","description":"released","name":"0.8.0","archived":false,"released":true,"releaseDate":"2011-12-16"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2011-08-03T01:22:27.317+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Sep 02 11:28:05 UTC 2011","customfield_12310420":"35797","customfield_12312320":null,"customfield_12310222":"10002_*:*_3_*:*_1797226525_*|*_1_*:*_3_*:*_802667101_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-09-02T03:27:43.264+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2337/watchers","watchCount":1,"isWatching":false},"created":"2011-08-03T01:16:09.711+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"7.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12341973","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12341973","type":{"id":"10032","name":"Blocker","inward":"is blocked by","outward":"blocks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"},"outwardIssue":{"id":"12498567","key":"HIVE-1989","self":"https://issues.apache.org/jira/rest/api/2/issue/12498567","fields":{"summary":"recognize transitivity of predicates on join keys","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}},{"id":"12380038","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12380038","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12414282","key":"HIVE-279","self":"https://issues.apache.org/jira/rest/api/2/issue/12414282","fields":{"summary":"Implement predicate push down for hive queries","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":21141}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-12-16T11:38:19.795+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312586","id":"12312586","name":"Query Processor","description":"Tracks issues dealing with query processing."}],"timeoriginalestimate":null,"description":"The predicate pushdown filter is not applying left associativity of joins correctly in determining possible aliases for pushing predicates.\n\nIn hive.ql.ppd.OpProcFactory.JoinPPD.getQualifiedAliases, the criteria for pushing aliases is specified as:\n{noformat}\n    /**\n     * Figures out the aliases for whom it is safe to push predicates based on\n     * ANSI SQL semantics For inner join, all predicates for all aliases can be\n     * pushed For full outer join, none of the predicates can be pushed as that\n     * would limit the number of rows for join For left outer join, all the\n     * predicates on the left side aliases can be pushed up For right outer\n     * join, all the predicates on the right side aliases can be pushed up Joins\n     * chain containing both left and right outer joins are treated as full\n     * outer join. [...]\n     *\n     * @param op\n     *          Join Operator\n     * @param rr\n     *          Row resolver\n     * @return set of qualified aliases\n     */\n{noformat}\n\nSince hive joins are left associative, something like \"a RIGHT OUTER JOIN b LEFT OUTER JOIN cÂ INNER JOIN d\" should be interpreted as \"((a RIGHT OUTER JOIN b) LEFT OUTER JOIN c) INNER JOIN d\", so there would be cases where joins with both left and right outer joins can have aliases that can be pushed.  Here, aliases b and d are eligible to be pushed up while the current criteria provide that none are eligible.\n\nUsing:\n{noformat}\ncreate table t1 (id int, key string, value string);\ncreate table t2 (id int, key string, value string);\ncreate table t3 (id int, key string, value string);\ncreate table t4 (id int, key string, value string);\n{noformat}\n\nFor example, the query\n{noformat}\nexplain select * from t1 full outer join t2 on t1.id=t2.id join t3 on t2.id=t3.id where t3.id=20; \n{noformat}\ncurrently gives\n{noformat}\nSTAGE DEPENDENCIES:\n  Stage-1 is a root stage\n  Stage-0 is a root stage\n\nSTAGE PLANS:\n  Stage: Stage-1\n    Map Reduce\n      Alias -> Map Operator Tree:\n        t1 \n          TableScan\n            alias: t1\n            Reduce Output Operator\n              key expressions:\n                    expr: id\n                    type: int\n              sort order: +\n              Map-reduce partition columns:\n                    expr: id\n                    type: int\n              tag: 0\n              value expressions:\n                    expr: id\n                    type: int\n                    expr: key\n                    type: string\n                    expr: value\n                    type: string\n        t2 \n          TableScan\n            alias: t2\n            Reduce Output Operator\n              key expressions:\n                    expr: id\n                    type: int\n              sort order: +\n              Map-reduce partition columns:\n                    expr: id\n                    type: int\n              tag: 1\n              value expressions:\n                    expr: id\n                    type: int\n                    expr: key\n                    type: string\n                    expr: value\n                    type: string\n        t3 \n          TableScan\n            alias: t3\n            Reduce Output Operator\n              key expressions:\n                    expr: id\n                    type: int\n              sort order: +\n              Map-reduce partition columns:\n                    expr: id\n                    type: int\n              tag: 2\n              value expressions:\n                    expr: id\n                    type: int\n                    expr: key\n                    type: string\n                    expr: value\n                    type: string\n      Reduce Operator Tree:\n        Join Operator\n          condition map:\n               Outer Join 0 to 1\n               Inner Join 1 to 2\n          condition expressions:\n            0 {VALUE._col0} {VALUE._col1} {VALUE._col2}\n            1 {VALUE._col0} {VALUE._col1} {VALUE._col2}\n            2 {VALUE._col0} {VALUE._col1} {VALUE._col2}\n          handleSkewJoin: false\n          outputColumnNames: _col0, _col1, _col2, _col5, _col6, _col7, _col10, _col11, _col12\n          Filter Operator\n            predicate:\n                expr: (_col10 = 20)\n                type: boolean\n            Select Operator\n              expressions:\n                    expr: _col0\n                    type: int\n                    expr: _col1\n                    type: string\n                    expr: _col2\n                    type: string\n                    expr: _col5\n                    type: int\n                    expr: _col6\n                    type: string\n                    expr: _col7\n                    type: string\n                    expr: _col10\n                    type: int\n                    expr: _col11\n                    type: string\n                    expr: _col12\n                    type: string\n              outputColumnNames: _col0, _col1, _col2, _col3, _col4, _col5, _col6, _col7, _col8\n              File Output Operator\n                compressed: false\n                GlobalTableId: 0\n                table:\n                    input format: org.apache.hadoop.mapred.TextInputFormat\n                    output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\n\n  Stage: Stage-0\n    Fetch Operator\n      limit: -1\n{noformat}\nwhile the correct behavior is to push the filter \"t3.id=20\" down:\n{noformat}\nSTAGE DEPENDENCIES:\n  Stage-1 is a root stage\n  Stage-0 is a root stage\n\nSTAGE PLANS:\n  Stage: Stage-1\n    Map Reduce\n      Alias -> Map Operator Tree:\n        t1 \n          TableScan\n            alias: t1\n            Reduce Output Operator\n              key expressions:\n                    expr: id\n                    type: int\n              sort order: +\n              Map-reduce partition columns:\n                    expr: id\n                    type: int\n              tag: 0\n              value expressions:\n                    expr: id\n                    type: int\n                    expr: key\n                    type: string\n                    expr: value\n                    type: string\n        t2 \n          TableScan\n            alias: t2\n            Reduce Output Operator\n              key expressions:\n                    expr: id\n                    type: int\n              sort order: +\n              Map-reduce partition columns:\n                    expr: id\n                    type: int\n              tag: 1\n              value expressions:\n                    expr: id\n                    type: int\n                    expr: key\n                    type: string\n                    expr: value\n                    type: string\n        t3 \n          TableScan\n            alias: t3\n            Filter Operator\n              predicate:\n                  expr: (id = 20)\n                  type: boolean\n              Reduce Output Operator\n                key expressions:\n                      expr: id\n                      type: int\n                sort order: +\n                Map-reduce partition columns:\n                      expr: id\n                      type: int\n                tag: 2\n                value expressions:\n                      expr: id\n                      type: int\n                      expr: key\n                      type: string\n                      expr: value\n                      type: string\n      Reduce Operator Tree:\n        Join Operator\n          condition map:\n               Outer Join 0 to 1\n               Inner Join 1 to 2\n          condition expressions:\n            0 {VALUE._col0} {VALUE._col1} {VALUE._col2}\n            1 {VALUE._col0} {VALUE._col1} {VALUE._col2}\n            2 {VALUE._col0} {VALUE._col1} {VALUE._col2}\n          handleSkewJoin: false\n          outputColumnNames: _col0, _col1, _col2, _col5, _col6, _col7, _col10, _col11, _col12\n          Select Operator\n            expressions:\n                  expr: _col0\n                  type: int\n                  expr: _col1\n                  type: string\n                  expr: _col2\n                  type: string\n                  expr: _col5\n                  type: int\n                  expr: _col6\n                  type: string\n                  expr: _col7\n                  type: string\n                  expr: _col10\n                  type: int\n                  expr: _col11\n                  type: string\n                  expr: _col12\n                  type: string\n            outputColumnNames: _col0, _col1, _col2, _col3, _col4, _col5, _col6, _col7, _col8\n            File Output Operator\n              compressed: false\n              GlobalTableId: 0\n              table:\n                  input format: org.apache.hadoop.mapred.TextInputFormat\n                  output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\n\n  Stage: Stage-0\n    Fetch Operator\n      limit: -1\n{noformat}\n\nThe current behavior is actually stranger than this: for a left outer join (similarly for a right outer join), hive finds the leftmost alias referred to in the *predicates* of left outer joins and rejects any alias to the right of it for pushdown.  So in this query the filter \"t2.id=20\" pushed down:\n{noformat}\nexplain select * from t1 join t2 on (t1.id=t2.id) left outer join t3 on (t2.id=t3.id) where t2.id=20;\n{noformat}\nwhile it isn't here:\n{noformat}\nexplain select * from t1 join t2 on (t1.id=t2.id) left outer join t3 on (t1.id=t3.id) where t2.id=20;\n{noformat}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12489149","id":"12489149","filename":"HIVE-2337v1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-08-03T01:21:11.730+0000","size":4329,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12489149/HIVE-2337v1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12489252","id":"12489252","filename":"HIVE-2337v2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-08-03T21:02:35.065+0000","size":20088,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12489252/HIVE-2337v2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12489255","id":"12489255","filename":"HIVE-2337v3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-08-03T21:13:30.894+0000","size":21061,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12489255/HIVE-2337v3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12492550","id":"12492550","filename":"HIVE-2337v4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-09-01T00:08:44.155+0000","size":26064,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12492550/HIVE-2337v4.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12492552","id":"12492552","filename":"HIVE-2337v5.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-09-01T00:19:26.152+0000","size":9413,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12492552/HIVE-2337v5.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12492573","id":"12492573","filename":"HIVE-2337v6.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-09-01T04:27:35.312+0000","size":25354,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12492573/HIVE-2337v6.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12492576","id":"12492576","filename":"HIVE-2337v7.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-09-01T04:43:30.288+0000","size":55058,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12492576/HIVE-2337v7.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"123818","customfield_12312823":null,"summary":"Predicate pushdown erroneously conservative with outer joins","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13078551","id":"13078551","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1275/\n-----------------------------------------------------------\n\nReview request for hive.\n\n\nSummary\n-------\n\nInitial patch\n\n\nThis addresses bug HIVE-2337.\n    https://issues.apache.org/jira/browse/HIVE-2337\n\n\nDiffs\n-----\n\n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java 1153293 \n\nDiff: https://reviews.apache.org/r/1275/diff\n\n\nTesting\n-------\n\n\nThanks,\n\nCharles\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-03T01:22:27.317+0000","updated":"2011-08-03T01:22:27.317+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13078688","id":"13078688","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"body":"Charles, Can you add a test case including explain plans?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=amareshwari","name":"amareshwari","key":"amareshwari","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Amareshwari Sriramadasu","active":true,"timeZone":"Asia/Kolkata"},"created":"2011-08-03T10:43:43.932+0000","updated":"2011-08-03T10:43:43.932+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13078906","id":"13078906","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"body":"Using:\n{noformat}\ncreate table t1 (id int, key string, value string);\ncreate table t2 (id int, key string, value string);\ncreate table t3 (id int, key string, value string);\ncreate table t4 (id int, key string, value string);\n{noformat}\n\nFor example, the query\n{noformat}\nexplain select * from t1 full outer join t2 on t1.id=t2.id join t3 on t2.id=t3.id where t3.id=20; \n{noformat}\ncurrently gives\n{noformat}\nSTAGE DEPENDENCIES:\n  Stage-1 is a root stage\n  Stage-0 is a root stage\n\nSTAGE PLANS:\n  Stage: Stage-1\n    Map Reduce\n      Alias -> Map Operator Tree:\n        t1 \n          TableScan\n            alias: t1\n            Reduce Output Operator\n              key expressions:\n                    expr: id\n                    type: int\n              sort order: +\n              Map-reduce partition columns:\n                    expr: id\n                    type: int\n              tag: 0\n              value expressions:\n                    expr: id\n                    type: int\n                    expr: key\n                    type: string\n                    expr: value\n                    type: string\n        t2 \n          TableScan\n            alias: t2\n            Reduce Output Operator\n              key expressions:\n                    expr: id\n                    type: int\n              sort order: +\n              Map-reduce partition columns:\n                    expr: id\n                    type: int\n              tag: 1\n              value expressions:\n                    expr: id\n                    type: int\n                    expr: key\n                    type: string\n                    expr: value\n                    type: string\n        t3 \n          TableScan\n            alias: t3\n            Reduce Output Operator\n              key expressions:\n                    expr: id\n                    type: int\n              sort order: +\n              Map-reduce partition columns:\n                    expr: id\n                    type: int\n              tag: 2\n              value expressions:\n                    expr: id\n                    type: int\n                    expr: key\n                    type: string\n                    expr: value\n                    type: string\n      Reduce Operator Tree:\n        Join Operator\n          condition map:\n               Outer Join 0 to 1\n               Inner Join 1 to 2\n          condition expressions:\n            0 {VALUE._col0} {VALUE._col1} {VALUE._col2}\n            1 {VALUE._col0} {VALUE._col1} {VALUE._col2}\n            2 {VALUE._col0} {VALUE._col1} {VALUE._col2}\n          handleSkewJoin: false\n          outputColumnNames: _col0, _col1, _col2, _col5, _col6, _col7, _col10, _col11, _col12\n          Filter Operator\n            predicate:\n                expr: (_col10 = 20)\n                type: boolean\n            Select Operator\n              expressions:\n                    expr: _col0\n                    type: int\n                    expr: _col1\n                    type: string\n                    expr: _col2\n                    type: string\n                    expr: _col5\n                    type: int\n                    expr: _col6\n                    type: string\n                    expr: _col7\n                    type: string\n                    expr: _col10\n                    type: int\n                    expr: _col11\n                    type: string\n                    expr: _col12\n                    type: string\n              outputColumnNames: _col0, _col1, _col2, _col3, _col4, _col5, _col6, _col7, _col8\n              File Output Operator\n                compressed: false\n                GlobalTableId: 0\n                table:\n                    input format: org.apache.hadoop.mapred.TextInputFormat\n                    output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\n\n  Stage: Stage-0\n    Fetch Operator\n      limit: -1\n{noformat}\nwhile the correct behavior is to push the filter \"t3.id=20\" down:\n{noformat}\nSTAGE DEPENDENCIES:\n  Stage-1 is a root stage\n  Stage-0 is a root stage\n\nSTAGE PLANS:\n  Stage: Stage-1\n    Map Reduce\n      Alias -> Map Operator Tree:\n        t1 \n          TableScan\n            alias: t1\n            Reduce Output Operator\n              key expressions:\n                    expr: id\n                    type: int\n              sort order: +\n              Map-reduce partition columns:\n                    expr: id\n                    type: int\n              tag: 0\n              value expressions:\n                    expr: id\n                    type: int\n                    expr: key\n                    type: string\n                    expr: value\n                    type: string\n        t2 \n          TableScan\n            alias: t2\n            Reduce Output Operator\n              key expressions:\n                    expr: id\n                    type: int\n              sort order: +\n              Map-reduce partition columns:\n                    expr: id\n                    type: int\n              tag: 1\n              value expressions:\n                    expr: id\n                    type: int\n                    expr: key\n                    type: string\n                    expr: value\n                    type: string\n        t3 \n          TableScan\n            alias: t3\n            Filter Operator\n              predicate:\n                  expr: (id = 20)\n                  type: boolean\n              Reduce Output Operator\n                key expressions:\n                      expr: id\n                      type: int\n                sort order: +\n                Map-reduce partition columns:\n                      expr: id\n                      type: int\n                tag: 2\n                value expressions:\n                      expr: id\n                      type: int\n                      expr: key\n                      type: string\n                      expr: value\n                      type: string\n      Reduce Operator Tree:\n        Join Operator\n          condition map:\n               Outer Join 0 to 1\n               Inner Join 1 to 2\n          condition expressions:\n            0 {VALUE._col0} {VALUE._col1} {VALUE._col2}\n            1 {VALUE._col0} {VALUE._col1} {VALUE._col2}\n            2 {VALUE._col0} {VALUE._col1} {VALUE._col2}\n          handleSkewJoin: false\n          outputColumnNames: _col0, _col1, _col2, _col5, _col6, _col7, _col10, _col11, _col12\n          Select Operator\n            expressions:\n                  expr: _col0\n                  type: int\n                  expr: _col1\n                  type: string\n                  expr: _col2\n                  type: string\n                  expr: _col5\n                  type: int\n                  expr: _col6\n                  type: string\n                  expr: _col7\n                  type: string\n                  expr: _col10\n                  type: int\n                  expr: _col11\n                  type: string\n                  expr: _col12\n                  type: string\n            outputColumnNames: _col0, _col1, _col2, _col3, _col4, _col5, _col6, _col7, _col8\n            File Output Operator\n              compressed: false\n              GlobalTableId: 0\n              table:\n                  input format: org.apache.hadoop.mapred.TextInputFormat\n                  output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\n\n  Stage: Stage-0\n    Fetch Operator\n      limit: -1\n{noformat}\n\nThe current behavior is actually stranger than this: for a left outer join (similarly for a right outer join), hive finds the leftmost alias referred to in the *predicates* of left outer joins and rejects any alias to the right of it for pushdown.  So in this query the filter \"t2.id=20\" pushed down:\n{noformat}\nexplain select * from t1 join t2 on (t1.id=t2.id) left outer join t3 on (t2.id=t3.id) where t2.id=20;\n{noformat}\nwhile it isn't here:\n{noformat}\nexplain select * from t1 join t2 on (t1.id=t2.id) left outer join t3 on (t1.id=t3.id) where t2.id=20;\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-08-03T18:31:58.070+0000","updated":"2011-08-03T18:31:58.070+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13079023","id":"13079023","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1275/\n-----------------------------------------------------------\n\n(Updated 2011-08-03 21:03:23.393902)\n\n\nReview request for hive.\n\n\nSummary (updated)\n-------\n\nhttps://issues.apache.org/jira/browse/HIVE-2337\n\n\nThis addresses bug HIVE-2337.\n    https://issues.apache.org/jira/browse/HIVE-2337\n\n\nDiffs\n-----\n\n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java 1153598 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/ppd_outer_join5.q.out PRE-CREATION \n\nDiff: https://reviews.apache.org/r/1275/diff\n\n\nTesting\n-------\n\n\nThanks,\n\nCharles\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-03T21:03:27.330+0000","updated":"2011-08-03T21:03:27.330+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13079024","id":"13079024","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1275/\n-----------------------------------------------------------\n\n(Updated 2011-08-03 21:02:11.625203)\n\n\nReview request for hive.\n\n\nChanges\n-------\n\nAdded test cases, fixed comment\n\n\nSummary\n-------\n\nInitial patch\n\n\nThis addresses bug HIVE-2337.\n    https://issues.apache.org/jira/browse/HIVE-2337\n\n\nDiffs (updated)\n-----\n\n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java 1153598 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/ppd_outer_join5.q.out PRE-CREATION \n\nDiff: https://reviews.apache.org/r/1275/diff\n\n\nTesting\n-------\n\n\nThanks,\n\nCharles\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-03T21:03:29.024+0000","updated":"2011-08-03T21:03:29.024+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13079030","id":"13079030","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1275/\n-----------------------------------------------------------\n\n(Updated 2011-08-03 21:13:25.076077)\n\n\nReview request for hive.\n\n\nChanges\n-------\n\nFix testcase\n\n\nSummary\n-------\n\nhttps://issues.apache.org/jira/browse/HIVE-2337\n\n\nThis addresses bug HIVE-2337.\n    https://issues.apache.org/jira/browse/HIVE-2337\n\n\nDiffs (updated)\n-----\n\n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java 1153598 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/ppd_outer_join5.q PRE-CREATION \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/ppd_outer_join5.q.out PRE-CREATION \n\nDiff: https://reviews.apache.org/r/1275/diff\n\n\nTesting\n-------\n\n\nThanks,\n\nCharles\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-03T21:13:27.146+0000","updated":"2011-08-03T21:13:27.146+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13081788","id":"13081788","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1275/\n-----------------------------------------------------------\n\n(Updated 2011-08-09 17:41:41.427733)\n\n\nReview request for hive.\n\n\nChanges\n-------\n\nUnit tests passed\n\n\nSummary\n-------\n\nhttps://issues.apache.org/jira/browse/HIVE-2337\n\n\nThis addresses bug HIVE-2337.\n    https://issues.apache.org/jira/browse/HIVE-2337\n\n\nDiffs\n-----\n\n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java 1153598 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/ppd_outer_join5.q PRE-CREATION \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/ppd_outer_join5.q.out PRE-CREATION \n\nDiff: https://reviews.apache.org/r/1275/diff\n\n\nTesting (updated)\n-------\n\nUnit tests passed\n\n\nThanks,\n\nCharles\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-08-09T17:43:27.373+0000","updated":"2011-08-09T17:43:27.373+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13089252","id":"13089252","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"@Charles: There's a test failure in ppd_outer_join4. Can you please take a look? Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-08-23T03:45:48.035+0000","updated":"2011-08-23T03:45:48.035+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13095013","id":"13095013","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1275/\n-----------------------------------------------------------\n\n(Updated 2011-09-01 00:08:37.474019)\n\n\nReview request for hive.\n\n\nChanges\n-------\n\nFixed ppd_outer_join4.q.out\n\n\nSummary\n-------\n\nhttps://issues.apache.org/jira/browse/HIVE-2337\n\n\nThis addresses bug HIVE-2337.\n    https://issues.apache.org/jira/browse/HIVE-2337\n\n\nDiffs (updated)\n-----\n\n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java 1163856 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/ppd_outer_join5.q PRE-CREATION \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/ppd_outer_join4.q.out 1163856 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/ppd_outer_join5.q.out PRE-CREATION \n\nDiff: https://reviews.apache.org/r/1275/diff\n\n\nTesting\n-------\n\nUnit tests passed\n\n\nThanks,\n\nCharles\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-01T00:09:10.567+0000","updated":"2011-09-01T00:09:10.567+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13095015","id":"13095015","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"body":"I've fixed the test output--it seems to be an improvement.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charleschen","name":"charleschen","key":"charleschen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Charles Chen","active":true,"timeZone":"America/Los_Angeles"},"created":"2011-09-01T00:10:37.979+0000","updated":"2011-09-01T00:10:37.979+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13095022","id":"13095022","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1275/\n-----------------------------------------------------------\n\n(Updated 2011-09-01 00:19:17.176704)\n\n\nReview request for hive.\n\n\nChanges\n-------\n\nRebased to current trunk\n\n\nSummary\n-------\n\nhttps://issues.apache.org/jira/browse/HIVE-2337\n\n\nThis addresses bug HIVE-2337.\n    https://issues.apache.org/jira/browse/HIVE-2337\n\n\nDiffs (updated)\n-----\n\n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java 1163875 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/ppd_outer_join4.q.out 1163875 \n\nDiff: https://reviews.apache.org/r/1275/diff\n\n\nTesting\n-------\n\nUnit tests passed\n\n\nThanks,\n\nCharles\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-01T00:21:09.728+0000","updated":"2011-09-01T00:21:09.728+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13095104","id":"13095104","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1275/#review1710\n-----------------------------------------------------------\n\n\n\nhttp://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java\n<https://reviews.apache.org/r/1275/#comment3884>\n\n    There is a weird non-ASCII character on this line.\n\n\n- John\n\n\nOn 2011-09-01 00:19:17, Charles Chen wrote:\nbq.  \nbq.  -----------------------------------------------------------\nbq.  This is an automatically generated e-mail. To reply, visit:\nbq.  https://reviews.apache.org/r/1275/\nbq.  -----------------------------------------------------------\nbq.  \nbq.  (Updated 2011-09-01 00:19:17)\nbq.  \nbq.  \nbq.  Review request for hive.\nbq.  \nbq.  \nbq.  Summary\nbq.  -------\nbq.  \nbq.  https://issues.apache.org/jira/browse/HIVE-2337\nbq.  \nbq.  \nbq.  This addresses bug HIVE-2337.\nbq.      https://issues.apache.org/jira/browse/HIVE-2337\nbq.  \nbq.  \nbq.  Diffs\nbq.  -----\nbq.  \nbq.    http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java 1163875 \nbq.    http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/ppd_outer_join4.q.out 1163875 \nbq.  \nbq.  Diff: https://reviews.apache.org/r/1275/diff\nbq.  \nbq.  \nbq.  Testing\nbq.  -------\nbq.  \nbq.  Unit tests passed\nbq.  \nbq.  \nbq.  Thanks,\nbq.  \nbq.  Charles\nbq.  \nbq.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-01T03:55:09.794+0000","updated":"2011-09-01T03:55:09.794+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13095105","id":"13095105","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"body":"Charles, did you intentionally omit the new ppd_outer_join5.q from the latest patch?\n\nAlso, there's a weird non-ASCII character in the Javadoc.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-01T03:58:27.222+0000","updated":"2011-09-01T03:58:27.222+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13095110","id":"13095110","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1275/\n-----------------------------------------------------------\n\n(Updated 2011-09-01 04:26:59.076177)\n\n\nReview request for hive.\n\n\nChanges\n-------\n\nOops fixed dropped unit test, javadoc character\n\n\nSummary\n-------\n\nhttps://issues.apache.org/jira/browse/HIVE-2337\n\n\nThis addresses bug HIVE-2337.\n    https://issues.apache.org/jira/browse/HIVE-2337\n\n\nDiffs (updated)\n-----\n\n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/ppd_outer_join5.q.out PRE-CREATION \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java 1163875 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/ppd_outer_join5.q PRE-CREATION \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/ppd_outer_join4.q.out 1163875 \n\nDiff: https://reviews.apache.org/r/1275/diff\n\n\nTesting\n-------\n\nUnit tests passed\n\n\nThanks,\n\nCharles\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-01T04:27:09.547+0000","updated":"2011-09-01T04:27:09.547+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13095116","id":"13095116","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"body":"\n-----------------------------------------------------------\nThis is an automatically generated e-mail. To reply, visit:\nhttps://reviews.apache.org/r/1275/\n-----------------------------------------------------------\n\n(Updated 2011-09-01 04:42:25.815081)\n\n\nReview request for hive.\n\n\nChanges\n-------\n\nAdded TestParse changes ??\n\n\nSummary\n-------\n\nhttps://issues.apache.org/jira/browse/HIVE-2337\n\n\nThis addresses bug HIVE-2337.\n    https://issues.apache.org/jira/browse/HIVE-2337\n\n\nDiffs (updated)\n-----\n\n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java 1163875 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/ppd_outer_join5.q PRE-CREATION \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/ppd_outer_join4.q.out 1163875 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/ppd_outer_join5.q.out PRE-CREATION \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/input4.q.xml 1163875 \n  http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/compiler/plan/join8.q.xml 1163875 \n\nDiff: https://reviews.apache.org/r/1275/diff\n\n\nTesting\n-------\n\nUnit tests passed\n\n\nThanks,\n\nCharles\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jiraposter%40reviews.apache.org","name":"jiraposter@reviews.apache.org","key":"jiraposter@reviews.apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"jiraposter@reviews.apache.org","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-01T04:43:10.305+0000","updated":"2011-09-01T04:43:10.305+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13095607","id":"13095607","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"body":"+1.  Will commit when tests pass.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-01T21:16:19.381+0000","updated":"2011-09-01T21:16:19.381+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13095744","id":"13095744","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"body":"Committed to trunk.  Thanks Charles!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jvs","name":"jvs","key":"jvs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"John Sichi","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-02T03:27:43.286+0000","updated":"2011-09-02T03:27:43.286+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12517731/comment/13095919","id":"13095919","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hive-trunk-h0.21 #928 (See [https://builds.apache.org/job/Hive-trunk-h0.21/928/])\n    HIVE-2337. Predicate pushdown erroneously conservative with outer joins\n(Charles Chen via jvs)\n\njvs : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1164340\nFiles : \n* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java\n* /hive/trunk/ql/src/test/queries/clientpositive/ppd_outer_join5.q\n* /hive/trunk/ql/src/test/results/clientpositive/ppd_outer_join4.q.out\n* /hive/trunk/ql/src/test/results/clientpositive/ppd_outer_join5.q.out\n* /hive/trunk/ql/src/test/results/compiler/plan/input4.q.xml\n* /hive/trunk/ql/src/test/results/compiler/plan/join8.q.xml\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2011-09-02T11:28:05.993+0000","updated":"2011-09-02T11:28:05.993+0000"}],"maxResults":18,"total":18,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2337/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0ljjz:"}}