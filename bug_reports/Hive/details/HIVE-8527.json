{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12749380","self":"https://issues.apache.org/jira/rest/api/2/issue/12749380","key":"HIVE-8527","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329363","id":"12329363","name":"1.1.0","archived":false,"released":true,"releaseDate":"2015-03-07"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2015-09-29T18:48:30.468+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Sep 29 18:48:30 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_29706333394_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2015-09-29T18:48:30.439+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-8527/watchers","watchCount":2,"isWatching":false},"created":"2014-10-20T23:02:57.104+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324986","id":"12324986","description":"released","name":"0.13.0","archived":false,"released":true,"releaseDate":"2014-04-21"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-09-29T18:48:30.483+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12314178","id":"12314178","name":"JDBC"}],"timeoriginalestimate":null,"description":"For the case:\n SELECT * FROM [table]\n\nJDBC direct reads the table backing data, versus cranking up a MR and creating a result set.  This report is another direct read JDBC issue with TIMESTAMPS, see HIVE-8297 also.\n\nAs in title, a succeeding row with no value corrupts the value read for the current row.  To reproduce using beeline:\n\n1) Create this file as follows in HDFS.\n\n$ cat > /tmp/ts2.txt\n2014-09-28 00:00:00,2014-09-28 00:00:00,\n,,\n <ctrl-D>\n$ hadoop fs -copyFromLocal /tmp/ts2.txt /tmp/ts2.txt\n\n2) In beeline load above HDFS data to a TEXTFILE table:\n $ beeline\n > !connect jdbc:hive2://<host>:<port>/<db> hive pass org.apache.hive.jdbc.HiveDriver\n > drop table `TIMESTAMP_TEXT2`;\n > CREATE TABLE `TIMESTAMP_TEXT2` (`ts1` TIMESTAMP, `ts2` TIMESTAMP) ROW FORMAT DELIMITED FIELDS TERMINATED BY '\\054' LINES TERMINATED BY '\\012' STORED AS TEXTFILE;\n > LOAD DATA INPATH '/tmp/ts2.txt' OVERWRITE INTO TABLE\n `TIMESTAMP_TEXT2`;\n\n3) To demonstrate the corrupt data read, in beeline: \n> select * from `TIMESTAMP_TEXT2`;\n\nNote 1: The incorrect conduct demonstrated above replicates with a standalone Java/JDBC program.\n\nNote 2: Don't know if this is an issue with any other data types, also don't know what releases affected, however this occurs in Hive 13. Hive CLI works fine. Also works fine if you force a MR:\n                     select * from `TIMESTAMP_TEXT2` where 1=1;","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Incorrect TIMESTAMP result on JDBC direct read when next row has no (null) value for the TIMESTAMP","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dougsedlak","name":"dougsedlak","key":"dougsedlak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Sedlak","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dougsedlak","name":"dougsedlak","key":"dougsedlak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Doug Sedlak","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Linux","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12749380/comment/14935628","id":"14935628","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dzanter","name":"dzanter","key":"dzanter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dzanter&avatarId=17545","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dzanter&avatarId=17545","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dzanter&avatarId=17545","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dzanter&avatarId=17545"},"displayName":"David Zanter","active":true,"timeZone":"America/New_York"},"body":"I can verify that this is fixed in Hive version 1.1.0.  (may have been fixed earlier than that as well.)\n\nSeems to have been fixed by the same thing that fixed HIVE-8297.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dzanter","name":"dzanter","key":"dzanter","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dzanter&avatarId=17545","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dzanter&avatarId=17545","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dzanter&avatarId=17545","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dzanter&avatarId=17545"},"displayName":"David Zanter","active":true,"timeZone":"America/New_York"},"created":"2015-09-29T18:48:30.468+0000","updated":"2015-09-29T18:48:30.468+0000"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-8527/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i21dpj:"}}