{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13067066","self":"https://issues.apache.org/jira/rest/api/2/issue/13067066","key":"HIVE-16538","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12340268","id":"12340268","name":"3.0.0","archived":false,"released":true,"releaseDate":"2018-05-21"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2017-04-27T17:53:21.472+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue May 22 23:59:44 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_76462749_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_35623021","customfield_12312321":null,"resolutiondate":"2017-04-27T20:48:27.383+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-16538/watchers","watchCount":3,"isWatching":false},"created":"2017-04-26T13:40:21.744+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12340268","id":"12340268","name":"3.0.0","archived":false,"released":true,"releaseDate":"2018-05-21"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yussufshaikh","name":"yussufshaikh","key":"yussufshaikh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yussuf Shaikh","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-05-22T23:59:44.596+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12317406","id":"12317406","name":"Tests"}],"timeoriginalestimate":null,"description":"Failed tests:\n  TestExecDriver.testMapPlan1:498->fileDiff:182 expected:<false> but was:<true>\n  TestExecDriver.testMapPlan2:506->fileDiff:182 expected:<false> but was:<true>\n  TestExecDriver.testMapRedPlan1:515->fileDiff:182 expected:<false> but was:<true>\n  TestExecDriver.testMapRedPlan2:524->fileDiff:182 expected:<false> but was:<true>\n  TestExecDriver.testMapRedPlan3:533->fileDiff:182 expected:<false> but was:<true>\n  TestExecDriver.testMapRedPlan4:542->fileDiff:182 expected:<false> but was:<true>\n  TestExecDriver.testMapRedPlan5:551->fileDiff:182 expected:<false> but was:<true>\n  TestExecDriver.testMapRedPlan6:560->fileDiff:182 expected:<false> but was:<true>\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12865334","id":"12865334","filename":"HIVE-16538.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yussufshaikh","name":"yussufshaikh","key":"yussufshaikh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yussuf Shaikh","active":true,"timeZone":"Etc/UTC"},"created":"2017-04-27T10:50:58.947+0000","size":1890,"mimeType":"text/x-diff","content":"https://issues.apache.org/jira/secure/attachment/12865334/HIVE-16538.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"TestExecDriver fails if run after TestOperators#testScriptOperator","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yussufshaikh","name":"yussufshaikh","key":"yussufshaikh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yussuf Shaikh","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yussufshaikh","name":"yussufshaikh","key":"yussufshaikh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yussuf Shaikh","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"\n# cat /etc/lsb-release\nDISTRIB_ID=Ubuntu\nDISTRIB_RELEASE=14.04\nDISTRIB_CODENAME=trusty\nDISTRIB_DESCRIPTION=\"Ubuntu 14.04.5 LTS\"\n# uname -a\nLinux 3b9700711ca1 3.19.0-37-generic #42-Ubuntu SMP Fri Nov 20 18:22:05 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux\n","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13067066/comment/15984866","id":"15984866","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yussufshaikh","name":"yussufshaikh","key":"yussufshaikh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yussuf Shaikh","active":true,"timeZone":"Etc/UTC"},"body":"In TestExecDriver for each test it fails to compare the result files with static files because the content of the result file is double then expected.\nOn further investigation found that the static initialization block in TestExecDriver is executed twice, hence for second run src table is updated 2 times.\n\nBelow are some log statements from hive.log:\n\n2017-04-26T06:34:04,699  INFO \\[main\\] hive.log: Updated size of table src to 5812\n2017-04-26T06:34:05,188  INFO \\[main\\] hive.log: Updated size of table src2 to 5791\n2017-04-26T06:34:33,996  INFO \\[main\\] hive.log: Updated size of table src to 5812\n*2017-04-26T06:34:35,510  INFO \\[main\\] hive.log: Updated size of table src to 11624*\n2017-04-26T06:34:35,695  INFO \\[main\\] hive.log: Updated size of table src2 to 5791\n*2017-04-26T06:34:35,934  INFO \\[main\\] hive.log: Updated size of table src2 to 11582*","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yussufshaikh","name":"yussufshaikh","key":"yussufshaikh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yussuf Shaikh","active":true,"timeZone":"Etc/UTC"},"created":"2017-04-26T14:04:22.630+0000","updated":"2017-04-26T14:04:22.630+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13067066/comment/15986274","id":"15986274","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yussufshaikh","name":"yussufshaikh","key":"yussufshaikh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yussuf Shaikh","active":true,"timeZone":"Etc/UTC"},"body":"Couple of probable fixes are:\n1. Not to use TestExecDriver reference in TestOperators class.\n2. Write the code for cleanup in TestExecDriver.class.\nThe second option will need an explicit call for cleanup from TestOperators as it is a static call. I am going with the first option as only code used is creating instance of ExprNodeColumnDesc.\n\nLet me know if any inputs.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yussufshaikh","name":"yussufshaikh","key":"yussufshaikh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yussuf Shaikh","active":true,"timeZone":"Etc/UTC"},"created":"2017-04-27T09:39:05.734+0000","updated":"2017-04-27T09:39:05.734+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13067066/comment/15986367","id":"15986367","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yussufshaikh","name":"yussufshaikh","key":"yussufshaikh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yussuf Shaikh","active":true,"timeZone":"Etc/UTC"},"body":"Changes made to move remove TestExecDriver references.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yussufshaikh","name":"yussufshaikh","key":"yussufshaikh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yussuf Shaikh","active":true,"timeZone":"Etc/UTC"},"created":"2017-04-27T10:50:58.957+0000","updated":"2017-04-27T10:50:58.957+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13067066/comment/15987150","id":"15987150","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-04-27T17:53:21.472+0000","updated":"2017-04-27T17:53:21.472+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13067066/comment/15987637","id":"15987637","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Pushed to master. Thanks, Yussuf!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-04-27T20:48:27.462+0000","updated":"2017-04-27T20:48:27.462+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13067066/comment/16486236","id":"16486236","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgarg","name":"vgarg","key":"vgarg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vgarg&avatarId=30430","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vgarg&avatarId=30430","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vgarg&avatarId=30430","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vgarg&avatarId=30430"},"displayName":"Vineet Garg","active":true,"timeZone":"America/Los_Angeles"},"body":"Hive 3.0.0 has been released so closing this jira.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vgarg","name":"vgarg","key":"vgarg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vgarg&avatarId=30430","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vgarg&avatarId=30430","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vgarg&avatarId=30430","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vgarg&avatarId=30430"},"displayName":"Vineet Garg","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-22T23:59:44.591+0000","updated":"2018-05-22T23:59:44.591+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-16538/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3e4t3:"}}