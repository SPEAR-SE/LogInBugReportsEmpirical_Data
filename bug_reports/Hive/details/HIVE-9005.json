{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12758823","self":"https://issues.apache.org/jira/rest/api/2/issue/12758823","key":"HIVE-9005","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2014-12-02T13:55:01.715+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Jun 03 01:05:43 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-9005/watchers","watchCount":7,"isWatching":false},"created":"2014-12-02T04:11:51.314+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326829","id":"12326829","description":"0.13 maintenance release 1","name":"0.13.1","archived":false,"released":true,"releaseDate":"2014-06-06"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-06-03T01:05:43.779+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/10002","description":"A patch for this issue has been uploaded to JIRA by a contributor.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/document.png","name":"Patch Available","id":"10002","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[],"timeoriginalestimate":null,"description":"{noformat}\n2014-12-02 11:25:40,855 WARN  [HiveServer2-Background-Pool: Thread-17]: ql.Driver (DriverContext.java:shutdown(137)) - Shutting down task : Stage-1:MAPRED\n2014-12-02 11:25:41,898 INFO  [HiveServer2-Background-Pool: Thread-30]: exec.Task (SessionState.java:printInfo(536)) - Hadoop job information for Stage-1: number of mappers: 0; number of reducers: 0\n2014-12-02 11:25:41,942 WARN  [HiveServer2-Background-Pool: Thread-30]: mapreduce.Counters (AbstractCounters.java:getGroup(234)) - Group org.apache.hadoop.mapred.Task$Counter is deprecated. Use org.apache.hadoop.mapreduce.TaskCounter instead\n2014-12-02 11:25:41,942 INFO  [HiveServer2-Background-Pool: Thread-30]: exec.Task (SessionState.java:printInfo(536)) - 2014-12-02 11:25:41,939 Stage-1 map = 0%,  reduce = 0%\n2014-12-02 11:25:41,945 WARN  [HiveServer2-Background-Pool: Thread-30]: mapreduce.Counters (AbstractCounters.java:getGroup(234)) - Group org.apache.hadoop.mapred.Task$Counter is deprecated. Use org.apache.hadoop.mapreduce.TaskCounter instead\n2014-12-02 11:25:41,952 ERROR [HiveServer2-Background-Pool: Thread-30]: exec.Task (SessionState.java:printError(545)) - Ended Job = job_1413717733669_207982 with errors\n2014-12-02 11:25:41,954 ERROR [Thread-39]: exec.Task (SessionState.java:printError(545)) - Error during job, obtaining debugging information...\n2014-12-02 11:25:41,957 ERROR [HiveServer2-Background-Pool: Thread-30]: ql.Driver (SessionState.java:printError(545)) - FAILED: Operation cancelled\n2014-12-02 11:25:41,957 INFO  [HiveServer2-Background-Pool: Thread-30]: ql.Driver (SessionState.java:printInfo(536)) - MapReduce Jobs Launched:\n2014-12-02 11:25:41,960 WARN  [HiveServer2-Background-Pool: Thread-30]: mapreduce.Counters (AbstractCounters.java:getGroup(234)) - Group FileSystemCounters is deprecated. Use org.apache.hadoop.mapreduce.FileSystemCounter instead\n2014-12-02 11:25:41,961 INFO  [HiveServer2-Background-Pool: Thread-30]: ql.Driver (SessionState.java:printInfo(536)) - Stage-Stage-1:  HDFS Read: 0 HDFS Write: 0 FAIL\n2014-12-02 11:25:41,961 INFO  [HiveServer2-Background-Pool: Thread-30]: ql.Driver (SessionState.java:printInfo(536)) - Total MapReduce CPU Time Spent: 0 msec\n2014-12-02 11:25:41,965 ERROR [HiveServer2-Background-Pool: Thread-30]: operation.Operation (SQLOperation.java:run(205)) - Error running hive query:\norg.apache.hive.service.cli.HiveSQLException: Illegal Operation state transition from CLOSED to ERROR\n\tat org.apache.hive.service.cli.OperationState.validateTransition(OperationState.java:91)\n\tat org.apache.hive.service.cli.OperationState.validateTransition(OperationState.java:97)\n\tat org.apache.hive.service.cli.operation.Operation.setState(Operation.java:116)\n\tat org.apache.hive.service.cli.operation.SQLOperation.runInternal(SQLOperation.java:161)\n\tat org.apache.hive.service.cli.operation.SQLOperation.access$000(SQLOperation.java:71)\n\tat org.apache.hive.service.cli.operation.SQLOperation$1$1.run(SQLOperation.java:202)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat javax.security.auth.Subject.doAs(Subject.java:396)\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1589)\n\tat org.apache.hadoop.hive.shims.HadoopShimsSecure.doAs(HadoopShimsSecure.java:504)\n\tat org.apache.hive.service.cli.operation.SQLOperation$1.run(SQLOperation.java:215)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439)\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:138)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n\tat java.lang.Thread.run(Thread.java:662)\n{noformat}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12684587","id":"12684587","filename":"HIVE-9005.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=decster","name":"decster","key":"decster","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Binglin Chang","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-12-02T07:44:11.430+0000","size":1086,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12684587/HIVE-9005.1.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"HiveSever2 error with \"Illegal Operation state transition from CLOSED to ERROR\"","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=decster","name":"decster","key":"decster","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Binglin Chang","active":true,"timeZone":"Asia/Shanghai"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=decster","name":"decster","key":"decster","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Binglin Chang","active":true,"timeZone":"Asia/Shanghai"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12758823/comment/14231122","id":"14231122","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=decster","name":"decster","key":"decster","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Binglin Chang","active":true,"timeZone":"Asia/Shanghai"},"body":"When server close a operation(for example because of session timeout), it set the state to CLOSED, then the background operation is canceled, hive driver failed and try to set the state to ERROR, but it is illegal to do that. So exception occurs. \nThe patch simply ignore driver error when the current state is CLOSED(or CANCELED).\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=decster","name":"decster","key":"decster","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Binglin Chang","active":true,"timeZone":"Asia/Shanghai"},"created":"2014-12-02T07:44:11.437+0000","updated":"2014-12-02T07:44:11.437+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12758823/comment/14231493","id":"14231493","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12684587/HIVE-9005.1.patch\n\n{color:red}ERROR:{color} -1 due to 3 failed/errored test(s), 6695 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_aggregate\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_mapjoin_mapjoin\norg.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority\n{noformat}\n\nTest results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1948/testReport\nConsole output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1948/console\nTest logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1948/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 3 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12684587 - PreCommit-HIVE-TRUNK-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2014-12-02T13:55:01.715+0000","updated":"2014-12-02T13:55:01.715+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12758823/comment/14492321","id":"14492321","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=suniluiit","name":"suniluiit","key":"suniluiit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Kumar","active":true,"timeZone":"Asia/Kolkata"},"body":"Hi, \nwe are getting below error on HIve 1.0.0. for log running query through JDBC client. While Same query get executed successfully from the beeline. Can please let me know the reason?? \n2015-04-13 11:32:41,622 INFO  [HiveServer2-Background-Pool: Thread-42]: ql.Driver (SessionState.java:printInfo(824)) - MapReduce Jobs Launched: \n2015-04-13 11:32:41,622 INFO  [HiveServer2-Background-Pool: Thread-42]: ql.Driver (SessionState.java:printInfo(824)) - Stage-Stage-1: Map: 100  Reduce: 1   Cumulative CPU: 288.74 sec   HDFS Read: 162865697 HDFS Write: 127 SUCCESS\n2015-04-13 11:32:41,622 INFO  [HiveServer2-Background-Pool: Thread-42]: ql.Driver (SessionState.java:printInfo(824)) - Stage-Stage-4: Map: 100  Reduce: 1   Cumulative CPU: 291.33 sec   HDFS Read: 162865697 HDFS Write: 127 SUCCESS\n2015-04-13 11:32:41,623 INFO  [HiveServer2-Background-Pool: Thread-42]: ql.Driver (SessionState.java:printInfo(824)) - Stage-Stage-7: Map: 100  Reduce: 1   Cumulative CPU: 290.74 sec   HDFS Read: 162865697 HDFS Write: 127 SUCCESS\n2015-04-13 11:32:41,623 INFO  [HiveServer2-Background-Pool: Thread-42]: ql.Driver (SessionState.java:printInfo(824)) - Stage-Stage-9: Map: 100  Reduce: 1   Cumulative CPU: 294.8 sec   HDFS Read: 162865697 HDFS Write: 127 SUCCESS\n2015-04-13 11:32:41,623 INFO  [HiveServer2-Background-Pool: Thread-42]: ql.Driver (SessionState.java:printInfo(824)) - Stage-Stage-10: Map: 100  Reduce: 1   Cumulative CPU: 71.42 sec   HDFS Read: 37431861 HDFS Write: 0 FAIL\n2015-04-13 11:32:41,623 INFO  [HiveServer2-Background-Pool: Thread-42]: ql.Driver (SessionState.java:printInfo(824)) - Total MapReduce CPU Time Spent: 20 minutes 37 seconds 30 msec\n2015-04-13 11:32:41,623 INFO  [HiveServer2-Background-Pool: Thread-42]: log.PerfLogger (PerfLogger.java:PerfLogBegin(108)) - <PERFLOG method=releaseLocks from=org.apache.hadoop.hive.ql.Driver>\n2015-04-13 11:32:41,623 INFO  [HiveServer2-Background-Pool: Thread-42]: log.PerfLogger (PerfLogger.java:PerfLogEnd(135)) - </PERFLOG method=releaseLocks start=1428904961623 end=1428904961623 duration=0 from=org.apache.hadoop.hive.ql.Driver>\n2015-04-13 11:32:41,657 ERROR [HiveServer2-Background-Pool: Thread-42]: operation.Operation (SQLOperation.java:run(199)) - Error running hive query: \norg.apache.hive.service.cli.HiveSQLException: Illegal Operation state transition from CLOSED to ERROR\n\tat org.apache.hive.service.cli.OperationState.validateTransition(OperationState.java:91)\n\tat org.apache.hive.service.cli.OperationState.validateTransition(OperationState.java:97)\n\tat org.apache.hive.service.cli.operation.Operation.setState(Operation.java:125)\n\tat org.apache.hive.service.cli.operation.SQLOperation.runQuery(SQLOperation.java:157)\n\tat org.apache.hive.service.cli.operation.SQLOperation.access$100(SQLOperation.java:69)\n\tat org.apache.hive.service.cli.operation.SQLOperation$1$1.run(SQLOperation.java:196)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat javax.security.auth.Subject.doAs(Subject.java:415)\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1628)\n\tat org.apache.hadoop.hive.shims.HadoopShimsSecure.doAs(HadoopShimsSecure.java:536)\n\tat org.apache.hive.service.cli.operation.SQLOperation$1.run(SQLOperation.java:208)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n\tat java.lang.Thread.run(Thread.java:744)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=suniluiit","name":"suniluiit","key":"suniluiit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Kumar","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-04-13T12:03:49.697+0000","updated":"2015-04-13T12:03:49.697+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12758823/comment/14492322","id":"14492322","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=suniluiit","name":"suniluiit","key":"suniluiit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Kumar","active":true,"timeZone":"Asia/Kolkata"},"body":"Exception at JDBC End is below for the same:\nCaused by: java.sql.SQLException: java.lang.NullPointerException\n\tat org.apache.hive.jdbc.HiveStatement.execute(HiveStatement.java:311)\n\tat org.apache.hive.jdbc.HiveStatement.executeQuery(HiveStatement.java:392)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=suniluiit","name":"suniluiit","key":"suniluiit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Kumar","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-04-13T12:05:15.451+0000","updated":"2015-04-13T12:05:15.451+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12758823/comment/14709851","id":"14709851","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"[~vgumashta] Would you like to review this?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-24T18:54:43.920+0000","updated":"2015-08-24T18:54:43.920+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12758823/comment/16035635","id":"16035635","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Hmm","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-06-02T23:42:39.528+0000","updated":"2017-06-02T23:42:39.528+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12758823/comment/16035733","id":"16035733","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12684587/HIVE-9005.1.patch\n\n{color:red}ERROR:{color} -1 due to build exiting with an error\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/5524/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/5524/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-5524/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nTests exited with: NonZeroExitCodeException\nCommand 'bash /data/hiveptest/working/scratch/source-prep.sh' failed with exit status 1 and output '+ date '+%Y-%m-%d %T.%3N'\n2017-06-03 01:05:39.738\n+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]\n+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\n+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\n+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games\n+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games\n+ export 'ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m '\n+ ANT_OPTS='-Xmx1g -XX:MaxPermSize=256m '\n+ export 'MAVEN_OPTS=-Xmx1g '\n+ MAVEN_OPTS='-Xmx1g '\n+ cd /data/hiveptest/working/\n+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-5524/source-prep.txt\n+ [[ false == \\t\\r\\u\\e ]]\n+ mkdir -p maven ivy\n+ [[ git = \\s\\v\\n ]]\n+ [[ git = \\g\\i\\t ]]\n+ [[ -z master ]]\n+ [[ -d apache-github-source-source ]]\n+ [[ ! -d apache-github-source-source/.git ]]\n+ [[ ! -d apache-github-source-source ]]\n+ date '+%Y-%m-%d %T.%3N'\n2017-06-03 01:05:39.741\n+ cd apache-github-source-source\n+ git fetch origin\n+ git reset --hard HEAD\nHEAD is now at 9a69169 HIVE-16744 : LLAP index update may be broken after ORC switch (Sergey Shelukhin, reviewed by Prasanth Jayachandran) ADDENDUM\n+ git clean -f -d\n+ git checkout master\nAlready on 'master'\nYour branch is up-to-date with 'origin/master'.\n+ git reset --hard origin/master\nHEAD is now at 9a69169 HIVE-16744 : LLAP index update may be broken after ORC switch (Sergey Shelukhin, reviewed by Prasanth Jayachandran) ADDENDUM\n+ git merge --ff-only origin/master\nAlready up-to-date.\n+ date '+%Y-%m-%d %T.%3N'\n2017-06-03 01:05:43.154\n+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh\n+ patchFilePath=/data/hiveptest/working/scratch/build.patch\n+ [[ -f /data/hiveptest/working/scratch/build.patch ]]\n+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh\n+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch\nerror: patch failed: service/src/java/org/apache/hive/service/cli/operation/SQLOperation.java:147\nerror: service/src/java/org/apache/hive/service/cli/operation/SQLOperation.java: patch does not apply\nThe patch does not appear to apply with p0, p1, or p2\n+ exit 1\n'\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12684587 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2017-06-03T01:05:43.779+0000","updated":"2017-06-03T01:05:43.779+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-9005/votes","votes":2,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i22yb3:"}}