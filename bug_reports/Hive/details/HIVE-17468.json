{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13100309","self":"https://issues.apache.org/jira/rest/api/2/issue/13100309","key":"HIVE-17468","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12340268","id":"12340268","name":"3.0.0","archived":false,"released":true,"releaseDate":"2018-05-21"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2017-09-06T22:11:27.858+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue May 22 23:14:20 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_65469_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_152142961","customfield_12312321":null,"resolutiondate":"2017-09-08T16:09:15.786+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-17468/watchers","watchCount":3,"isWatching":false},"created":"2017-09-06T21:52:27.431+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12515209","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12515209","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"13100700","key":"HIVE-17485","self":"https://issues.apache.org/jira/rest/api/2/issue/13100700","fields":{"summary":"Hive-Druid table on indexing for few segments- DruidRecordWriter.pushSegments throws ArrayIndexOutOfBoundsException","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12514236","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12514236","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"13100700","key":"HIVE-17485","self":"https://issues.apache.org/jira/rest/api/2/issue/13100700","fields":{"summary":"Hive-Druid table on indexing for few segments- DruidRecordWriter.pushSegments throws ArrayIndexOutOfBoundsException","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-05-22T23:14:20.820+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Currently we are excluding all the jackson core dependencies coming from druid. This is wrong in my opinion since this will lead to the packaging of unwanted jackson library from other projects.\nAs you can see the file hive-druid-deps.txt currently jacskon core is coming from calcite and the version is 2.6.3 which is very different from 2.4.6 used by druid. This patch exclude the unwanted jars and make sure to bring in druid jackson dependency from druid it self.\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12885824","id":"12885824","filename":"HIVE-17468.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"created":"2017-09-07T14:56:08.312+0000","size":4973,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12885824/HIVE-17468.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12885855","id":"12885855","filename":"HIVE-17468.3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"created":"2017-09-07T17:07:01.192+0000","size":26570,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12885855/HIVE-17468.3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12885868","id":"12885868","filename":"HIVE-17468.4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"created":"2017-09-07T18:12:11.443+0000","size":26832,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12885868/HIVE-17468.4.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12885683","id":"12885683","filename":"HIVE-17468.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"created":"2017-09-06T21:56:53.064+0000","size":2812,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12885683/HIVE-17468.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12885682","id":"12885682","filename":"hive-druid-deps.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"created":"2017-09-06T21:53:55.592+0000","size":17803,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12885682/hive-druid-deps.txt"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Shade and package appropriate jackson version for druid storage handler","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"subtasks":[{"id":"13104348","key":"HIVE-17581","self":"https://issues.apache.org/jira/rest/api/2/issue/13104348","fields":{"summary":"Replace some calcite dependencies with native ones","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":21146}}}],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16156105","id":"16156105","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"body":"[~bslim], for this fix wouldn't it be enough to exclude those coming from {{calcite-druid}}? Those three jackson dependencies that we exclude, we are including them into the uber jar via shading/renaming. As far as I remember, otherwise they might create conflicts with those used by Hive.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-06T22:11:27.858+0000","updated":"2017-09-06T22:11:27.858+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16156148","id":"16156148","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"body":"[~jcamachorodriguez] not sure am following your thought, if we exclude all the druid stuff then what is left is not what we want is going to be either hive jackson ones or from other transitive dependency. \nMy take on this is that the lib that are needed and brought by druid it will be shaded anyway so no druid-jackson will be on the class path.\nPlease let me know if that make sens ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"created":"2017-09-06T22:45:17.018+0000","updated":"2017-09-06T22:45:17.018+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16156170","id":"16156170","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"body":"{quote}\nif we exclude all the druid stuff then what is left is not what we want is going to be either hive jackson ones or from other transitive dependency. \n{quote}\n\n[~bslim], before we pulled the calcite-druid package, were we packing then the hive jackson dependencies into the uber jar? How was that ever working?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-06T23:04:05.929+0000","updated":"2017-09-06T23:04:24.004+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16156228","id":"16156228","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"body":"It was pulling random stuff from transitive dependencies \nbq. slim bouguerra, before we pulled the calcite-druid package, were we packing then the hive jackson dependencies into the uber jar? How was that ever working","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"created":"2017-09-07T00:06:12.448+0000","updated":"2017-09-07T00:06:12.448+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16156319","id":"16156319","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"body":"Hmm.. wouldn't this in turn break the calcite dependency, especially since it's using the newer version?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sershe","name":"sershe","key":"sershe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sergey Shelukhin","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-07T02:01:27.452+0000","updated":"2017-09-07T02:01:27.452+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16156449","id":"16156449","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12885683/HIVE-17468.patch\n\n{color:red}ERROR:{color} -1 due to no test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 7 failed/errored test(s), 11028 tests executed\n*Failed tests:*\n{noformat}\nTestAccumuloCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=230)\nTestDummy - did not produce a TEST-*.xml file (likely timed out) (batchId=230)\nTestTxnCommandsBase - did not produce a TEST-*.xml file (likely timed out) (batchId=280)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_values_orig_table_use_metadata] (batchId=61)\norg.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=100)\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=234)\norg.apache.hadoop.hive.druid.TestHiveDruidQueryBasedInputFormat.testTimeZone (batchId=247)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/6704/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/6704/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-6704/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 7 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12885683 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2017-09-07T04:41:00.641+0000","updated":"2017-09-07T04:41:00.641+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16156985","id":"16156985","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"body":"[~sershe] thanks good catch ! not sure why calcite is packaged within the uber jar. [~jcamachorodriguez] do we need the calcite dependency within the Uber jar ? thought it is on the hive server class path anyway right ? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"created":"2017-09-07T14:06:37.811+0000","updated":"2017-09-07T14:06:37.811+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16157004","id":"16157004","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"body":"[~jcamachorodriguez] looking at the code more am not sure why do we need the calcite and avatica dependencies ? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"created":"2017-09-07T14:23:41.472+0000","updated":"2017-09-07T14:23:41.472+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16157142","id":"16157142","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"body":"[~bslim], about the avatica dependency, I am not sure, I think it is not needed. About calcite, a quick check shows that it is used by the record writer, which is executed by the clients writing the records in Druid and thus might not have Calcite in their classpath. That must be the reason why it is included in the uber jar (you can double check if there are other classes that are not executed at HS2 side that need it, I did not check further).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-07T16:06:42.223+0000","updated":"2017-09-07T16:06:42.223+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16157147","id":"16157147","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"body":"[~jcamachorodriguez] i can see any ref to calcite in the druid record writer. Removing all the calcite the code still compile and run tests.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"created":"2017-09-07T16:10:35.998+0000","updated":"2017-09-07T16:10:35.998+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16157149","id":"16157149","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"body":"[~bslim], yes, the problem will be in a distributed environment, e.g., in Tez, when you have to send the jar around, right? In your local machine or if you run in a single node mode, Calcite will be indeed available.\n\nhttps://github.com/apache/hive/blob/master/druid-handler/src/java/org/apache/hadoop/hive/druid/io/DruidRecordWriter.java#L44","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-07T16:12:45.926+0000","updated":"2017-09-07T16:13:59.201+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16157180","id":"16157180","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"body":"[~jcamachorodriguez] \n1 looking at the deps i see calcite-druid is a dependency for hive exec anyway thus it is always on the classpath if am not wrong https://github.com/b-slim/hive/blob/453c8ed4ed17d215e367fbdd22fb082d1b0f48e4/ql/pom.xml#L397.\n2 that usage you pointed is actually very minimal (a constant) thus we can either remove it or and use the dependency from hive exec that is on the tez class path as well.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"created":"2017-09-07T16:27:23.727+0000","updated":"2017-09-07T16:27:23.727+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16157203","id":"16157203","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"body":"About 1), hive-exec bundle does not include calcite (https://github.com/b-slim/hive/blob/453c8ed4ed17d215e367fbdd22fb082d1b0f48e4/ql/pom.xml#L858), thus it seems it will not be necessarily available in the client classpath at execution time.\n\nAbout 2), that is OK, I think it is the way to go so we can get rid of the dependency. We just need to make sure there is no any other calcite dependency needed at execution time.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-07T16:39:30.479+0000","updated":"2017-09-07T16:39:30.479+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16157249","id":"16157249","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"body":"[~jcamachorodriguez] thanks please check the new patch i added a test to make sure both constants match.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"created":"2017-09-07T17:07:55.948+0000","updated":"2017-09-07T17:07:55.948+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16157254","id":"16157254","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"body":"actually my bad still see that Localtime is a calcite thingy, let me see if we can substitute this with java primitive.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"created":"2017-09-07T17:10:49.114+0000","updated":"2017-09-07T17:10:49.114+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16157386","id":"16157386","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"body":"[~jcamachorodriguez] fixed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bslim","name":"bslim","key":"bslim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=bslim&avatarId=29766","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bslim&avatarId=29766","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bslim&avatarId=29766","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bslim&avatarId=29766"},"displayName":"slim bouguerra","active":true,"timeZone":"Africa/Tunis"},"created":"2017-09-07T18:20:03.066+0000","updated":"2017-09-07T18:20:03.066+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16157759","id":"16157759","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12885868/HIVE-17468.4.patch\n\n{color:green}SUCCESS:{color} +1 due to 2 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 7 failed/errored test(s), 11031 tests executed\n*Failed tests:*\n{noformat}\nTestAccumuloCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=230)\nTestDummy - did not produce a TEST-*.xml file (likely timed out) (batchId=230)\nTestTxnCommandsBase - did not produce a TEST-*.xml file (likely timed out) (batchId=280)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_values_orig_table_use_metadata] (batchId=61)\norg.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[unionDistinct_1] (batchId=143)\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=234)\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=234)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/6719/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/6719/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-6719/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 7 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12885868 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2017-09-07T22:12:09.920+0000","updated":"2017-09-07T22:12:09.920+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16157824","id":"16157824","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"body":"+1","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-07T23:04:00.016+0000","updated":"2017-09-07T23:04:00.016+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16157859","id":"16157859","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12885868/HIVE-17468.4.patch\n\n{color:green}SUCCESS:{color} +1 due to 2 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 5 failed/errored test(s), 11031 tests executed\n*Failed tests:*\n{noformat}\nTestAccumuloCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=230)\nTestDummy - did not produce a TEST-*.xml file (likely timed out) (batchId=230)\nTestTxnCommandsBase - did not produce a TEST-*.xml file (likely timed out) (batchId=280)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_values_orig_table_use_metadata] (batchId=61)\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=234)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/6720/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/6720/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-6720/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 5 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12885868 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2017-09-07T23:32:50.543+0000","updated":"2017-09-07T23:32:50.543+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16158029","id":"16158029","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12885868/HIVE-17468.4.patch\n\n{color:green}SUCCESS:{color} +1 due to 2 test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 4 failed/errored test(s), 11031 tests executed\n*Failed tests:*\n{noformat}\nTestAccumuloCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=230)\nTestDummy - did not produce a TEST-*.xml file (likely timed out) (batchId=230)\nTestTxnCommandsBase - did not produce a TEST-*.xml file (likely timed out) (batchId=280)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_values_orig_table_use_metadata] (batchId=61)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/6722/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/6722/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-6722/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 4 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12885868 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2017-09-08T02:23:46.267+0000","updated":"2017-09-08T02:23:46.267+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16158850","id":"16158850","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"body":"Pushed to master, thanks [~bslim]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jcamachorodriguez","name":"jcamachorodriguez","key":"jcamachorodriguez","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jesus Camacho Rodriguez","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-08T16:09:15.846+0000","updated":"2017-09-08T16:09:15.846+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100309/comment/16485093","id":"16485093","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"This jira is resolved and released with Hive 3.0 If you find an issue with it, please create a new jira.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-22T23:14:20.816+0000","updated":"2018-05-22T23:14:20.816+0000"}],"maxResults":22,"total":22,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-17468/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3jqjj:"}}