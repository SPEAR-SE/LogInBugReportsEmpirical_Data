{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13045808","self":"https://issues.apache.org/jira/rest/api/2/issue/13045808","key":"HIVE-16029","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2017-02-24T11:13:09.015+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue May 23 07:16:51 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-16029/watchers","watchCount":6,"isWatching":false},"created":"2017-02-23T22:18:17.131+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12335838","id":"12335838","description":"Maintenance branch for 2.1 ","name":"2.1.1","archived":false,"released":true,"releaseDate":"2016-12-08"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-05-23T07:16:51.040+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/10002","description":"A patch for this issue has been uploaded to JIRA by a contributor.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/document.png","name":"Patch Available","id":"10002","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"components":[],"timeoriginalestimate":null,"description":"See the test case below:\n\n{code}\n0: jdbc:hive2://localhost:10000/default> select * from collect_set_test;\n+---------------------+\n| collect_set_test.a  |\n+---------------------+\n| 1                   |\n| 2                   |\n| NULL                |\n| 4                   |\n| NULL                |\n+---------------------+\n\n0: jdbc:hive2://localhost:10000/default> select collect_set(a) from collect_set_test;\n+---------------+\n|      _c0      |\n+---------------+\n| [1,2,4]  |\n+---------------+\n\n{code}\n\nThe correct result should be:\n\n{code}\n0: jdbc:hive2://localhost:10000/default> select collect_set(a) from collect_set_test;\n+---------------+\n|      _c0      |\n+---------------+\n| [1,2,null,4]  |\n+---------------+\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12863552","id":"12863552","filename":"HIVE-16029.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"created":"2017-04-15T11:50:20.225+0000","size":5830,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12863552/HIVE-16029.2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12869250","id":"12869250","filename":"HIVE-16029.3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"created":"2017-05-22T11:30:07.793+0000","size":12879,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12869250/HIVE-16029.3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12854312","id":"12854312","filename":"HIVE-16029.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"created":"2017-02-23T23:12:21.022+0000","size":826,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12854312/HIVE-16029.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"COLLECT_SET and COLLECT_LIST does not return NULL in the result","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13045808/comment/15881526","id":"15881526","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"body":"Adding first patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"created":"2017-02-23T23:12:21.031+0000","updated":"2017-02-23T23:12:21.031+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13045808/comment/15881671","id":"15881671","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"body":"Review request sent: https://reviews.apache.org/r/57009/","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"created":"2017-02-24T01:02:09.415+0000","updated":"2017-02-24T01:02:09.415+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13045808/comment/15882467","id":"15882467","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12854312/HIVE-16029.patch\n\n{color:red}ERROR:{color} -1 due to no test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 10258 tests executed\n*Failed tests:*\n{noformat}\nTestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)\norg.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/3749/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/3749/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-3749/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 2 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12854312 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2017-02-24T11:13:09.015+0000","updated":"2017-02-24T11:13:09.015+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13045808/comment/15882997","id":"15882997","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aihuaxu","name":"aihuaxu","key":"aihuaxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aihua Xu","active":true,"timeZone":"America/Los_Angeles"},"body":"[~csun] You worked on the original feature. Not sure if it makes sense to include NULL in the result. Can you take a look? The set in java actually will also remove null. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=aihuaxu","name":"aihuaxu","key":"aihuaxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Aihua Xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-02-24T16:11:00.612+0000","updated":"2017-02-24T16:11:00.612+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13045808/comment/15884347","id":"15884347","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=appodictic","name":"appodictic","key":"appodictic","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Edward Capriolo","active":true,"timeZone":"Etc/UTC"},"body":"I do not thin you should change this now. This will change the behavior of many applications. I am -1 in the current form.\n\nI suggest you do this.\n\nCollectSet(a) <- original behaivor\nCollectSet(a,true) <- allow nulls.\n\nThis way you get your feature and the result set you want and existing applications are not effected.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=appodictic","name":"appodictic","key":"appodictic","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Edward Capriolo","active":true,"timeZone":"Etc/UTC"},"created":"2017-02-25T19:25:24.426+0000","updated":"2017-02-25T19:25:24.426+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13045808/comment/15884595","id":"15884595","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmarkovitz","name":"dmarkovitz","key":"dmarkovitz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dmarkovitz&avatarId=31909","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dmarkovitz&avatarId=31909","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dmarkovitz&avatarId=31909","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dmarkovitz&avatarId=31909"},"displayName":"Dudu Markovitz","active":true,"timeZone":"Asia/Jerusalem"},"body":"Not a bug. NULL values are being ignored by all aggregate functions.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dmarkovitz","name":"dmarkovitz","key":"dmarkovitz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=dmarkovitz&avatarId=31909","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dmarkovitz&avatarId=31909","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dmarkovitz&avatarId=31909","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dmarkovitz&avatarId=31909"},"displayName":"Dudu Markovitz","active":true,"timeZone":"Asia/Jerusalem"},"created":"2017-02-26T07:49:21.252+0000","updated":"2017-02-26T07:49:21.252+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13045808/comment/15969928","id":"15969928","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"body":"Attaching new patch so that COLLECT_SET takes two arguments, first one is the same as before, second one is boolean value of true or false, which was suggested by Edward.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"created":"2017-04-15T11:50:20.234+0000","updated":"2017-04-15T11:50:20.234+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13045808/comment/15969931","id":"15969931","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"body":"Review is also updated: https://reviews.apache.org/r/57009/.\n\nPlease help to review and see if there is any other changes required.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"created":"2017-04-15T11:53:43.289+0000","updated":"2017-04-15T11:53:43.289+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13045808/comment/15969949","id":"15969949","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12863552/HIVE-16029.2.patch\n\n{color:red}ERROR:{color} -1 due to no test(s) being added or modified.\n\n{color:red}ERROR:{color} -1 due to 5 failed/errored test(s), 10579 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udaf_collect_set] (batchId=8)\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_order_null] (batchId=27)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[udaf_collect_set_2] (batchId=155)\norg.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=143)\norg.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[udaf_collect_set] (batchId=102)\n{noformat}\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/4704/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/4704/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-4704/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests exited with: TestsFailedException: 5 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12863552 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2017-04-15T13:03:59.323+0000","updated":"2017-04-15T13:03:59.323+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13045808/comment/15969952","id":"15969952","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=appodictic","name":"appodictic","key":"appodictic","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Edward Capriolo","active":true,"timeZone":"Etc/UTC"},"body":"Code looks look, but some of the q test files run the explain command:\nhttps://builds.apache.org/job/PreCommit-HIVE-Build/4704/testReport/org.apache.hadoop.hive.cli/TestCliDriver/testCliDriver_udaf_collect_set_/\n\nYou need to update the .q.out files so they do not fil\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=appodictic","name":"appodictic","key":"appodictic","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Edward Capriolo","active":true,"timeZone":"Etc/UTC"},"created":"2017-04-15T13:24:18.854+0000","updated":"2017-04-15T13:24:18.854+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13045808/comment/15974206","id":"15974206","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"body":"Hi [~appodictic],\n\nThanks for the suggestion. I am trying to run the test for TestCliDriver using below command under directory itests/qtest by following the documentation https://cwiki.apache.org/confluence/display/Hive/HiveDeveloperFAQ#HiveDeveloperFAQ-Testing:\n\n{code}\nmvn test -Dtest=TestCliDriver\n{code}\n\nHowever, it kept failing with below error:\n\n{code}\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.18.1:test (default-test) on project hive-it-qfile: ExecutionException: java.lang.RuntimeException: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\n[ERROR] Command was /bin/sh -c cd /hadoop/code/hive/itests/qtest && /hadoop/jdk1.8.0_91/jre/bin/java -Xmx1024m -XX:MaxPermSize=256M -jar /hadoop/code/hive/itests/qtest/target/surefire/surefirebooter7738443094919274008.jar /hadoop/code/hive/itests/qtest/target/surefire/surefire4160478088421683107tmp /hadoop/code/hive/itests/qtest/target/surefire/surefire_05453129517537389906tmp\n[ERROR] -> [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.18.1:test (default-test) on project hive-it-qfile: ExecutionException\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:414)\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:357)\nCaused by: org.apache.maven.plugin.MojoFailureException: ExecutionException\n\tat org.apache.maven.plugin.surefire.SurefirePlugin.assertNoException(SurefirePlugin.java:262)\n\tat org.apache.maven.plugin.surefire.SurefirePlugin.handleSummary(SurefirePlugin.java:252)\n\tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:854)\n\tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:722)\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\n\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n\t... 19 more\nCaused by: org.apache.maven.surefire.booter.SurefireBooterForkException: ExecutionException\n\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.runSuitesForkPerTestSet(ForkStarter.java:343)\n\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:178)\n\tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:990)\n\tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:824)\n\t... 22 more\nCaused by: java.util.concurrent.ExecutionException: java.lang.RuntimeException: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\nCommand was /bin/sh -c cd /hadoop/code/hive/itests/qtest && /hadoop/jdk1.8.0_91/jre/bin/java -Xmx1024m -XX:MaxPermSize=256M -jar /hadoop/code/hive/itests/qtest/target/surefire/surefirebooter7738443094919274008.jar /hadoop/code/hive/itests/qtest/target/surefire/surefire4160478088421683107tmp /hadoop/code/hive/itests/qtest/target/surefire/surefire_05453129517537389906tmp\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\n\tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\n\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.runSuitesForkPerTestSet(ForkStarter.java:327)\n\t... 25 more\nCaused by: java.lang.RuntimeException: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\nCommand was /bin/sh -c cd /hadoop/code/hive/itests/qtest && /hadoop/jdk1.8.0_91/jre/bin/java -Xmx1024m -XX:MaxPermSize=256M -jar /hadoop/code/hive/itests/qtest/target/surefire/surefirebooter7738443094919274008.jar /hadoop/code/hive/itests/qtest/target/surefire/surefire4160478088421683107tmp /hadoop/code/hive/itests/qtest/target/surefire/surefire_05453129517537389906tmp\n\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:515)\n\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:380)\n\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.access$300(ForkStarter.java:88)\n\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter$2.call(ForkStarter.java:315)\n\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter$2.call(ForkStarter.java:306)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat java.lang.Thread.run(Thread.java:745)\n[ERROR]\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n{code}\n\nIt hanged for a while before error was returned. \n\nQuick help would be much appreciated, thanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"created":"2017-04-19T07:08:31.126+0000","updated":"2017-04-19T07:08:31.126+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13045808/comment/16019465","id":"16019465","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"body":"providing latest patch to update *.q.out files","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"created":"2017-05-22T11:30:07.802+0000","updated":"2017-05-22T11:30:07.802+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13045808/comment/16019525","id":"16019525","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12869250/HIVE-16029.3.patch\n\n{color:red}ERROR:{color} -1 due to no test(s) being added or modified.\n\n{color:green}SUCCESS:{color} +1 due to 10742 tests passed\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/5381/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/5381/console\nTest logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-5381/\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.TestCheckPhase\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12869250 - PreCommit-HIVE-Build","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2017-05-22T12:31:30.644+0000","updated":"2017-05-22T12:31:30.644+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13045808/comment/16020747","id":"16020747","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"body":"Hi [~appodictic],\n\nI have modified test so that it passes, please help to review the code at https://reviews.apache.org/r/57009/.\n\nThanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ericlin","name":"ericlin","key":"ericlin","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Lin","active":true,"timeZone":"Australia/Melbourne"},"created":"2017-05-23T07:16:51.040+0000","updated":"2017-05-23T07:16:51.040+0000"}],"maxResults":14,"total":14,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-16029/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3ajl3:"}}