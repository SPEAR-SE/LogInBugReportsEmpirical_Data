{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12827179","self":"https://issues.apache.org/jira/rest/api/2/issue/12827179","key":"HIVE-10610","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329345","id":"12329345","description":"Hive 1.2.0","name":"1.2.0","archived":false,"released":true,"releaseDate":"2015-05-18"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2015-05-05T20:18:27.973+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Nov 23 10:11:31 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_120652702_*|*_1_*:*_1_*:*_245422_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2015-05-06T17:59:51.475+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-10610/watchers","watchCount":4,"isWatching":false},"created":"2015-05-05T08:24:53.410+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shwethags","name":"shwethags","key":"shwethags","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shwetha G S","active":true,"timeZone":"Asia/Kolkata"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-11-23T10:11:31.350+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"NO PRECOMMIT TESTS\n\nIf debug level logging is enabled, hive command fails with the following exception:\n{noformat}\napache-hive-1.2.0-SNAPSHOT-bin$ ./bin/hive\nUnable to determine Hadoop version information from 13:54:07,683\n'hadoop version' returned:\n2015-05-05 13:54:08,014 DEBUG - [main:] ~ version: 2.5.0-cdh5.3.3 (VersionInfo:171) Hadoop 2.5.0-cdh5.3.3 Subversion http://github.com/cloudera/hadoop -r 82a65209d6e9e4a2b41fdbcd8190c7ea38730627 Compiled by jenkins on 2015-04-08T22:00Z Compiled with protoc 2.5.0 From source with checksum 1531e104cdad7489656f44875f3334b This command was run using /Users/sshivalingamurthy/installs/hadoop-2.5.0-cdh5.3.3/share/hadoop/common/hadoop-common-2.5.0-cdh5.3.3.jar\n{noformat}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12730393","id":"12730393","filename":"HIVE-10610.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shwethags","name":"shwethags","key":"shwethags","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shwetha G S","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-05-05T08:28:43.979+0000","size":454,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12730393/HIVE-10610.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"hive command fails to get hadoop version","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shwethags","name":"shwethags","key":"shwethags","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shwetha G S","active":true,"timeZone":"Asia/Kolkata"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shwethags","name":"shwethags","key":"shwethags","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shwetha G S","active":true,"timeZone":"Asia/Kolkata"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12827179/comment/14529202","id":"14529202","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sushanth","name":"sushanth","key":"sushanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sushanth&avatarId=26812","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sushanth&avatarId=26812","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sushanth&avatarId=26812","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sushanth&avatarId=26812"},"displayName":"Sushanth Sowmyan","active":true,"timeZone":"America/Los_Angeles"},"body":"+1.\n\nAlso approved for 1.2, since this is a trivial patch. Editing description to note \"NO PRECOMMIT TESTS\"","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sushanth","name":"sushanth","key":"sushanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sushanth&avatarId=26812","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sushanth&avatarId=26812","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sushanth&avatarId=26812","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sushanth&avatarId=26812"},"displayName":"Sushanth Sowmyan","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-05T20:18:27.973+0000","updated":"2015-05-05T20:18:27.973+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12827179/comment/14531050","id":"14531050","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sushanth","name":"sushanth","key":"sushanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sushanth&avatarId=26812","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sushanth&avatarId=26812","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sushanth&avatarId=26812","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sushanth&avatarId=26812"},"displayName":"Sushanth Sowmyan","active":true,"timeZone":"America/Los_Angeles"},"body":"Committed to master and 1.2. Thanks, Shwetha!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sushanth","name":"sushanth","key":"sushanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sushanth&avatarId=26812","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sushanth&avatarId=26812","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sushanth&avatarId=26812","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sushanth&avatarId=26812"},"displayName":"Sushanth Sowmyan","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-06T17:59:41.553+0000","updated":"2015-05-06T17:59:41.553+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12827179/comment/14549049","id":"14549049","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sushanth","name":"sushanth","key":"sushanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sushanth&avatarId=26812","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sushanth&avatarId=26812","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sushanth&avatarId=26812","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sushanth&avatarId=26812"},"displayName":"Sushanth Sowmyan","active":true,"timeZone":"America/Los_Angeles"},"body":"This issue has been fixed and released as part of the 1.2.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sushanth","name":"sushanth","key":"sushanth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=sushanth&avatarId=26812","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=sushanth&avatarId=26812","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=sushanth&avatarId=26812","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=sushanth&avatarId=26812"},"displayName":"Sushanth Sowmyan","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-18T19:55:57.683+0000","updated":"2015-05-18T19:55:57.683+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12827179/comment/15021879","id":"15021879","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qiuzhuang.lian","name":"qiuzhuang.lian","key":"qiuzhuang.lian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Qiuzhuang Lian","active":true,"timeZone":"Asia/Shanghai"},"body":"We still run into this issue in hive-1.2.1 with parallelly running hive shell embedded in Java, e.g. in sqoop hive import. Somtimes it throws error as follows per sqoop. According to log, it seems that Java shell process executing hive command is under non-existing linux dir. \n\n[20151123 14:29:24-DEBUG][HiveImport.java:334][RMI TCP Connection(60)-172.17.209.254]-- Using external Hive process.\n[20151123 14:29:24-INFO][LoggingAsyncSink.java:85][Thread-441]-- shell-init: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory\n[20151123 14:29:24-INFO][LoggingAsyncSink.java:85][Thread-441]-- chdir: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory\n[20151123 14:29:24-INFO][LoggingAsyncSink.java:85][Thread-441]-- chdir: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory\n[20151123 14:29:24-INFO][LoggingAsyncSink.java:85][Thread-441]-- shell-init: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory\n[20151123 14:29:24-INFO][LoggingAsyncSink.java:85][Thread-441]-- chdir: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory\n[20151123 14:29:24-INFO][LoggingAsyncSink.java:85][Thread-441]-- chdir: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory\n[20151123 14:29:24-INFO][LoggingAsyncSink.java:85][Thread-441]-- chdir: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory\n[20151123 14:29:24-INFO][LoggingAsyncSink.java:85][Thread-440]-- Unable to determine Hadoop version information.\n[20151123 14:29:24-INFO][LoggingAsyncSink.java:85][Thread-440]-- 'hadoop version' returned:\n[20151123 14:29:24-INFO][LoggingAsyncSink.java:85][Thread-441]-- shell-init: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory\n[20151123 14:29:24-INFO][LoggingAsyncSink.java:85][Thread-441]-- chdir: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory\n[20151123 14:29:24-INFO][LoggingAsyncSink.java:85][Thread-441]-- chdir: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory\n[20151123 14:29:24-INFO][LoggingAsyncSink.java:85][Thread-441]-- chdir: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory\n[20151123 14:29:24-INFO][LoggingAsyncSink.java:85][Thread-440]-- Error occurred during initialization of VM java.lang.Error: Properties init: Could not determine current working directory. at java.lang.System.initProperties(Native Method) at java.lang.System.initializeSystemClass(System.java:1119)\n[20151123 14:29:24-ERROR][ImportTool.java:609][RMI TCP Connection(60)-172.17.209.254]-- Encountered IOException running import job: java.io.IOException: Hive exited with status 5","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qiuzhuang.lian","name":"qiuzhuang.lian","key":"qiuzhuang.lian","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Qiuzhuang Lian","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-11-23T10:11:31.350+0000","updated":"2015-11-23T10:11:31.350+0000"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-10610/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2eaef:"}}