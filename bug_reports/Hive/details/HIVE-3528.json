{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12610154","self":"https://issues.apache.org/jira/rest/api/2/issue/12610154","key":"HIVE-3528","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323587","id":"12323587","description":"Hive 0.11.0","name":"0.11.0","archived":false,"released":true,"releaseDate":"2013-05-15"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-10-05T20:44:01.272+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Feb 20 23:35:22 UTC 2013","customfield_12310420":"240664","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_9708234200_*|*_1_*:*_1_*:*_121758220_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-01-25T17:25:30.922+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-3528/watchers","watchCount":9,"isWatching":false},"created":"2012-10-03T22:52:18.543+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["avro"],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-05-16T21:10:08.307+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312585","id":"12312585","name":"Serializers/Deserializers","description":"Tracks issues dealing with serdes"}],"timeoriginalestimate":null,"description":"Deserialization properly handles hiding Nullable Avro types, including complex types like record, map, array, etc. However, when Serialization attempts to write out these types it erroneously makes use of the UNION schema that contains NULL and the other type.\n\nThis results in Schema mis-match errors for Record, Array, Enum, Fixed, and Bytes.\n\nHere's a [review board of unit tests that express the problem|https://reviews.apache.org/r/7431/], as well as one that supports the case that it's only when the schema is needed.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12547889","id":"12547889","filename":"HIVE-3528.1.patch.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"created":"2012-10-05T08:40:55.965+0000","size":10654,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12547889/HIVE-3528.1.patch.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12564039","id":"12564039","filename":"HIVE-3528.2.patch.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"created":"2013-01-09T21:04:39.812+0000","size":40724,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12564039/HIVE-3528.2.patch.txt"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"4482","customfield_12312823":null,"summary":"Avro SerDe doesn't handle serializing Nullable types that require access to a Schema","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13470108","id":"13470108","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"body":"Patch with proposed fix and unit tests. Also on [review board #7431|https://reviews.apache.org/r/7431/]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"created":"2012-10-05T08:40:55.967+0000","updated":"2012-10-05T08:40:55.967+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13470635","id":"13470635","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"body":"This looks good.  Let me test the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-10-05T20:44:01.272+0000","updated":"2012-10-05T20:44:01.272+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13472023","id":"13472023","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"body":"Looks good.  Added a couple comments to reviewboard.  Also, it would be great to add a .q test that the Avro Serde can handle null records (with a proper nullable Avro schema) from other formats from Hive.  Had meant to do that during the Apachification.  If you'd like to add that to this patch, that'd be great.  If not, I'll spin up a quick test after this gets committed.  ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-10-09T01:08:32.466+0000","updated":"2012-10-09T01:08:32.466+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13480056","id":"13480056","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"body":"FYI, I'm working on the .q test, just building off of the example [on the using the Avro Serde page|https://cwiki.apache.org/confluence/display/Hive/AvroSerDe+-+working+with+Avro+from+Hive]. Ran into some difficulty, trying to work back from the test logs to figure out what I'm doing wrong.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"created":"2012-10-19T14:32:37.352+0000","updated":"2012-10-19T14:32:37.352+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13480115","id":"13480115","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"body":"Great.  Happy to help either here or email me.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-10-19T16:35:18.962+0000","updated":"2012-10-19T16:35:18.962+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13542533","id":"13542533","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"body":"Update with clientpositive .q test and subsumed enum handling (HIVE-3538) to [review board #7431|https://reviews.apache.org/r/7431/]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"created":"2013-01-02T23:13:56.490+0000","updated":"2013-01-02T23:13:56.490+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13547431","id":"13547431","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"body":"Did a review on rb, but it doesn't seem to be showing up.  +1.  Great tests.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-01-08T23:46:12.009+0000","updated":"2013-01-08T23:46:12.009+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13548953","id":"13548953","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"body":"Sean, can you attach the RB patch to the JIRA?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-01-09T20:25:14.749+0000","updated":"2013-01-09T20:25:14.749+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13548999","id":"13548999","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"body":"Updated patch from review board.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"created":"2013-01-09T21:04:39.816+0000","updated":"2013-01-09T21:04:39.816+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13562323","id":"13562323","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 running tests.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-01-25T03:14:55.816+0000","updated":"2013-01-25T03:14:55.816+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13562850","id":"13562850","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks, Sean for fix. Thanks, Jakob for review!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-01-25T17:25:30.951+0000","updated":"2013-01-25T17:25:30.951+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13562871","id":"13562871","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"body":"If there's a 10.1 release, it'd be good to get this in there.  Can it be committed to the 10 branch?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jghoman","name":"jghoman","key":"jghoman","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=jghoman&avatarId=10318","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jghoman&avatarId=10318","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jghoman&avatarId=10318","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jghoman&avatarId=10318"},"displayName":"Jakob Homan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-01-25T17:47:46.438+0000","updated":"2013-01-25T17:47:46.438+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13562909","id":"13562909","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in hive-trunk-hadoop1 #43 (See [https://builds.apache.org/job/hive-trunk-hadoop1/43/])\n    HIVE-3528 : Avro SerDe doesn't handle serializing Nullable types that require access to a Schema (Sean Busbey via Ashutosh Chauhan) (Revision 1438599)\n\n     Result = ABORTED\nhashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1438599\nFiles : \n* /hive/trunk/ql/src/test/queries/clientpositive/avro_nullable_fields.q\n* /hive/trunk/ql/src/test/results/clientpositive/avro_nullable_fields.q.out\n* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroSerializer.java\n* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroDeserializer.java\n* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroObjectInspectorGenerator.java\n* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroSerializer.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-01-25T18:59:26.521+0000","updated":"2013-01-25T18:59:26.521+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13563504","id":"13563504","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hive-trunk-hadoop2 #88 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/88/])\n    HIVE-3528 : Avro SerDe doesn't handle serializing Nullable types that require access to a Schema (Sean Busbey via Ashutosh Chauhan) (Revision 1438599)\n\n     Result = FAILURE\nhashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1438599\nFiles : \n* /hive/trunk/ql/src/test/queries/clientpositive/avro_nullable_fields.q\n* /hive/trunk/ql/src/test/results/clientpositive/avro_nullable_fields.q.out\n* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroSerializer.java\n* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroDeserializer.java\n* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroObjectInspectorGenerator.java\n* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroSerializer.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-01-26T14:38:44.003+0000","updated":"2013-01-26T14:38:44.003+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13563524","id":"13563524","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in Hive-trunk-h0.21 #1937 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1937/])\n    HIVE-3528 : Avro SerDe doesn't handle serializing Nullable types that require access to a Schema (Sean Busbey via Ashutosh Chauhan) (Revision 1438599)\n\n     Result = FAILURE\nhashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1438599\nFiles : \n* /hive/trunk/ql/src/test/queries/clientpositive/avro_nullable_fields.q\n* /hive/trunk/ql/src/test/results/clientpositive/avro_nullable_fields.q.out\n* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroSerializer.java\n* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroDeserializer.java\n* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroObjectInspectorGenerator.java\n* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroSerializer.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-01-26T15:36:00.794+0000","updated":"2013-01-26T15:36:00.794+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13578523","id":"13578523","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michaelmalak","name":"michaelmalak","key":"michaelmalak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=michaelmalak&avatarId=22349","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=michaelmalak&avatarId=22349","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=michaelmalak&avatarId=22349","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=michaelmalak&avatarId=22349"},"displayName":"Michael Malak","active":true,"timeZone":"America/Denver"},"body":"I've tried the latest Avro SerDe from GitHub, and it allows me to write NULLs with a simple schema, but not with anything involving STRUCTs.  If a STRUCT contains NULLable fields, or the entire STRUCT is NULLable (optional), Hive throws exceptions.  Should I create new JIRA item(s)?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michaelmalak","name":"michaelmalak","key":"michaelmalak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=michaelmalak&avatarId=22349","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=michaelmalak&avatarId=22349","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=michaelmalak&avatarId=22349","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=michaelmalak&avatarId=22349"},"displayName":"Michael Malak","active":true,"timeZone":"America/Denver"},"created":"2013-02-14T17:48:03.392+0000","updated":"2013-02-14T17:48:03.392+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13578534","id":"13578534","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"body":"Hi Michael,\n\nDo you mean [Haivvreo|https://github.com/jghoman/haivvreo]? I don't believe this fix has been backported. Issues with that project should be filed [against its issue tracker|https://github.com/jghoman/haivvreo/issues]. I believe that project is only maintained on a best effort basis now, in favor of the integrated support within Hive.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"created":"2013-02-14T18:05:30.162+0000","updated":"2013-02-14T18:05:30.162+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13578538","id":"13578538","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michaelmalak","name":"michaelmalak","key":"michaelmalak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=michaelmalak&avatarId=22349","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=michaelmalak&avatarId=22349","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=michaelmalak&avatarId=22349","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=michaelmalak&avatarId=22349"},"displayName":"Michael Malak","active":true,"timeZone":"America/Denver"},"body":"Sean:\n\nI mean\nhttps://github.com/apache/hive/tree/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro\n\nwhich has:\n\tAvroSerializer.java\t20 days ago\tHIVE-3528 : Avro SerDe doesn't handle serializing Nullable types that\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michaelmalak","name":"michaelmalak","key":"michaelmalak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=michaelmalak&avatarId=22349","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=michaelmalak&avatarId=22349","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=michaelmalak&avatarId=22349","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=michaelmalak&avatarId=22349"},"displayName":"Michael Malak","active":true,"timeZone":"America/Denver"},"created":"2013-02-14T18:11:16.319+0000","updated":"2013-02-14T18:11:16.319+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13578545","id":"13578545","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"body":"In that case, since 0.11 hasn't gone out yet, either including error information here or starting another JIRA is fine.\n\nI'd recommend including the error information here until we can determine if your problem is the one that this patch is supposed to fix.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=busbey","name":"busbey","key":"busbey","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=busbey&avatarId=13233","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=busbey&avatarId=13233","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=busbey&avatarId=13233","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=busbey&avatarId=13233"},"displayName":"Sean Busbey","active":true,"timeZone":"America/Chicago"},"created":"2013-02-14T18:23:02.254+0000","updated":"2013-02-14T18:23:02.254+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13578783","id":"13578783","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michaelmalak","name":"michaelmalak","key":"michaelmalak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=michaelmalak&avatarId=22349","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=michaelmalak&avatarId=22349","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=michaelmalak&avatarId=22349","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=michaelmalak&avatarId=22349"},"displayName":"Michael Malak","active":true,"timeZone":"America/Denver"},"body":"Sean:\n\nOK, I've researched the problem further.\n\nThere is in fact a null-struct test case in line 14 of\nhttps://github.com/apache/hive/blob/15cc604bf10f4c2502cb88fb8bb3dcd45647cf2c/data/files/csv.txt\n\nThe test script at\nhttps://github.com/apache/hive/blob/12d6f3e7d21f94e8b8490b7c6d291c9f4cac8a4f/ql/src/test/queries/clientpositive/avro_nullable_fields.q\n\ndoes indeed work when I tested it locally.  But in that test, the query gets all of its data from a test table verbatim:\n\nINSERT OVERWRITE TABLE as_avro SELECT * FROM test_serializer;\n\nIf instead we stick in a hard-coded null for the struct directly into the query, it fails:\n\nINSERT OVERWRITE TABLE as_avro SELECT string1, int1, tinyint1, smallint1, bigint1, boolean1, float1, double1, list1, map1, null, enum1, nullableint, bytes1, fixed1 FROM test_serializer;\n\nwith the following error:\n\nFAILED: SemanticException [Error 10044]: Line 1:23 Cannot insert into target table because column number/types are different 'as_avro': Cannot convert column 10 from void to struct<sint:int,sboolean:boolean,sstring:string>.\n\nNote, though, that substituting a hard-coded null for string1 (and restoring struct1 to the query) does work:\n\nINSERT OVERWRITE TABLE as_avro SELECT null, int1, tinyint1, smallint1, bigint1, boolean1, float1, double1, list1, map1, struct1, enum1, nullableint, bytes1, fixed1 FROM test_serializer;\n\nI will be entering an all-new JIRA for this.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michaelmalak","name":"michaelmalak","key":"michaelmalak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=michaelmalak&avatarId=22349","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=michaelmalak&avatarId=22349","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=michaelmalak&avatarId=22349","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=michaelmalak&avatarId=22349"},"displayName":"Michael Malak","active":true,"timeZone":"America/Denver"},"created":"2013-02-14T22:56:59.194+0000","updated":"2013-02-14T22:56:59.194+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13582617","id":"13582617","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fwiffo","name":"fwiffo","key":"fwiffo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fwiffo&avatarId=19954","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fwiffo&avatarId=19954","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fwiffo&avatarId=19954","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fwiffo&avatarId=19954"},"displayName":"Joey Echeverria","active":true,"timeZone":"America/Los_Angeles"},"body":"Hey Michael,\n\nAs a work around, did you try casting the null to the type of the column that you're inserting into? It's not ideal, but might be a workable interim solution.\n\n-Joey","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fwiffo","name":"fwiffo","key":"fwiffo","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fwiffo&avatarId=19954","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fwiffo&avatarId=19954","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fwiffo&avatarId=19954","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fwiffo&avatarId=19954"},"displayName":"Joey Echeverria","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-20T22:48:15.092+0000","updated":"2013-02-20T22:48:15.092+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610154/comment/13582664","id":"13582664","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michaelmalak","name":"michaelmalak","key":"michaelmalak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=michaelmalak&avatarId=22349","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=michaelmalak&avatarId=22349","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=michaelmalak&avatarId=22349","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=michaelmalak&avatarId=22349"},"displayName":"Michael Malak","active":true,"timeZone":"America/Denver"},"body":"As noted in the first comment from https://issues.apache.org/jira/browse/HIVE-1287, casting to a STRUCT is not currently supported.\n\nHowever, I did just now try casting individual fields of a STRUCT and that indeed does work.\n\nI just now added details to the JIRA that I created last week.\nhttps://issues.apache.org/jira/browse/HIVE-4022\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michaelmalak","name":"michaelmalak","key":"michaelmalak","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=michaelmalak&avatarId=22349","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=michaelmalak&avatarId=22349","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=michaelmalak&avatarId=22349","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=michaelmalak&avatarId=22349"},"displayName":"Michael Malak","active":true,"timeZone":"America/Denver"},"created":"2013-02-20T23:35:22.577+0000","updated":"2013-02-20T23:35:22.577+0000"}],"maxResults":22,"total":22,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-3528/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i014ef:"}}