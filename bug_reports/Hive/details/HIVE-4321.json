{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12641741","self":"https://issues.apache.org/jira/rest/api/2/issue/12641741","key":"HIVE-4321","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2013-04-09T23:26:58.553+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Dec 09 09:18:33 UTC 2014","customfield_12310420":"322156","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_52567891472_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-12-09T09:18:32.992+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-4321/watchers","watchCount":8,"isWatching":false},"created":"2013-04-09T23:07:01.584+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12373946","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12373946","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"12659475","key":"HIVE-4923","self":"https://issues.apache.org/jira/rest/api/2/issue/12659475","fields":{"summary":"Provide compile + run method for HiveServer2","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/10002","description":"A patch for this issue has been uploaded to JIRA by a contributor.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/document.png","name":"Patch Available","id":"10002","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/5","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/trivial.svg","name":"Trivial","id":"5"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}},{"id":"12369529","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12369529","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12647890","key":"HIVE-4569","self":"https://issues.apache.org/jira/rest/api/2/issue/12647890","fields":{"summary":"GetQueryPlan api in Hive Server2","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12369532","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12369532","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12647892","key":"HIVE-4570","self":"https://issues.apache.org/jira/rest/api/2/issue/12647892","fields":{"summary":"More information to user on GetOperationStatus in Hive Server2 when query is still executing","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}},{"id":"12369531","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12369531","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12649545","key":"HIVE-4617","self":"https://issues.apache.org/jira/rest/api/2/issue/12649545","fields":{"summary":"Asynchronous execution in HiveServer2 to run a query in non-blocking mode","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarahparra","name":"sarahparra","key":"sarahparra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sarah Parra","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-12-09T09:18:33.051+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12320408","id":"12320408","name":"HiveServer2","description":"Tracks issues related to HiveServer2"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12314332","id":"12314332","name":"Thrift API","description":"Tracks changes to the Hive Thrift APIs"}],"timeoriginalestimate":null,"description":"Adds support for query compilation in Hive Server 2 and adds Thrift support for compile/execute APIs.\n\nThis enables scenarios that need to compile a query before it is executed, e.g. and ODBC driver that implements SQLPrepare/SQLExecute. This is commonly used for a client that needs metadata for the query before it is executed.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12578318","id":"12578318","filename":"CompileExecute.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarahparra","name":"sarahparra","key":"sarahparra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sarah Parra","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-04-11T23:30:55.526+0000","size":10124,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12578318/CompileExecute.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"322501","customfield_12312823":null,"summary":"Add Compile/Execute support to Hive Server","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarahparra","name":"sarahparra","key":"sarahparra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sarah Parra","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarahparra","name":"sarahparra","key":"sarahparra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sarah Parra","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12641741/comment/13627252","id":"13627252","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"body":"[~sarahparra]: Can you post a review request on phabricator or review board? Please remove the files that are auto generated by the thrift compiler in the review request. Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"created":"2013-04-09T23:26:58.553+0000","updated":"2013-04-09T23:26:58.553+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12641741/comment/13628381","id":"13628381","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarahparra","name":"sarahparra","key":"sarahparra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sarah Parra","active":true,"timeZone":"America/Los_Angeles"},"body":"Removed the patch attachment because I am updating it, and will then post a review request as noted above. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarahparra","name":"sarahparra","key":"sarahparra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sarah Parra","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-04-10T22:46:18.783+0000","updated":"2013-04-10T22:46:18.783+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12641741/comment/13629573","id":"13629573","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarahparra","name":"sarahparra","key":"sarahparra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sarah Parra","active":true,"timeZone":"America/Los_Angeles"},"body":"Updated patch being sent to review board.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarahparra","name":"sarahparra","key":"sarahparra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sarah Parra","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-04-11T23:30:55.529+0000","updated":"2013-04-11T23:30:55.529+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12641741/comment/13629605","id":"13629605","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarahparra","name":"sarahparra","key":"sarahparra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sarah Parra","active":true,"timeZone":"America/Los_Angeles"},"body":"Submitted review to Review Board: https://reviews.apache.org/r/10425/","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarahparra","name":"sarahparra","key":"sarahparra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sarah Parra","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-04-12T00:02:55.366+0000","updated":"2013-04-12T00:02:55.366+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12641741/comment/13633644","id":"13633644","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"@Sarah: are you planning to add some test coverage?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-04-17T01:19:47.585+0000","updated":"2013-04-17T01:19:47.585+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12641741/comment/13642055","id":"13642055","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarahparra","name":"sarahparra","key":"sarahparra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sarah Parra","active":true,"timeZone":"America/Los_Angeles"},"body":"Yes, I will add tests soon. We just didn't have them completed yet and still wanted to get this posted for review to get some initial feedback.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sarahparra","name":"sarahparra","key":"sarahparra","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sarah Parra","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-04-25T18:29:29.515+0000","updated":"2013-04-25T18:29:29.515+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12641741/comment/13642133","id":"13642133","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thejas","name":"thejas","key":"thejas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thejas&avatarId=15902","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thejas&avatarId=15902","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thejas&avatarId=15902","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thejas&avatarId=15902"},"displayName":"Thejas M Nair","active":true,"timeZone":"America/Los_Angeles"},"body":"The thrift api change looks good to me. [~cwsteinbach] do you have any comments on the new API ?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thejas","name":"thejas","key":"thejas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thejas&avatarId=15902","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thejas&avatarId=15902","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thejas&avatarId=15902","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thejas&avatarId=15902"},"displayName":"Thejas M Nair","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-04-25T19:57:45.666+0000","updated":"2013-04-25T19:57:45.666+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12641741/comment/13642186","id":"13642186","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"The Thrift API, as well as the CLIService API, is closely modeled on the ODBC API (and by extension JDBC). ODBC uses the term \"Prepare\" instead of \"Compile\", and I think we should do the same thing here. In other words, the new Thrift method should be called PrepareStatement() instead of Compile().\n\nI think we also need to consider how this will impact OperationState and TOperationState. For example, do we need to add additional states? ODBC and JDBC allow a prepared statement to be executed multiple times, and they also support the ability to bind input parameters after the statement has been compiled. We don't have to support that right now, but any API changes we make should take this use case into account.\n\nI plan to look at this more closely over the weekend and will probably have some more feedback at that point.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-04-25T20:41:15.638+0000","updated":"2013-04-25T20:41:15.638+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12641741/comment/13642418","id":"13642418","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thejas","name":"thejas","key":"thejas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thejas&avatarId=15902","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thejas&avatarId=15902","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thejas&avatarId=15902","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thejas&avatarId=15902"},"displayName":"Thejas M Nair","active":true,"timeZone":"America/Los_Angeles"},"body":"bq.  ODBC uses the term \"Prepare\" instead of \"Compile\", and I think we should do the same thing here.\n\nIt would make sense to use 'prepare' if we are trying to address the 'prepare' + 'executePrepared' use case. Unlike OLTP oriented databases, where prepare+executePrepared are going to be useful for doing things like large number of single row inserts, it is not going to be as useful in hive. \nMy main worry is that this use case would add more state to be stored in hive server. Once we add support for high-availability, maintaining additional state on hive server 2 would come at additional costs (I am worried about costs of storing the whole plan in something like an rdbms or zookeeper).\nAlso, calling it 'prepare' without supporting 'prepare' + 'executePrepared' use case is going to be misleading. I think the feature supported by this api is better conveyed by 'compile'.\n\nHS2 is now a single point of failure in the system, I think we should start considering high-availability issues while adding features. Keeping state in client instead of server will help with that.\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=thejas","name":"thejas","key":"thejas","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=thejas&avatarId=15902","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=thejas&avatarId=15902","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=thejas&avatarId=15902","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=thejas&avatarId=15902"},"displayName":"Thejas M Nair","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-04-26T00:18:39.192+0000","updated":"2013-04-26T00:18:39.192+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12641741/comment/13653318","id":"13653318","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. It would make sense to use 'prepare' if we are trying to address the 'prepare' + 'executePrepared' use case. Unlike OLTP oriented databases, where prepare+executePrepared are going to be useful for doing things like large number of single row inserts, it is not going to be as useful in hive. \n\nIn the ODBC/JDBC world \"prepare\" is synonymous with \"compile\", e.g. here's a direct quote from Microsoft's ODBC docs:\n\n{quote}\nPrepared execution is an efficient way to execute a statement more than once. The statement is first compiled, or prepared, into an access plan. The access plan is then executed one or more times at a later time. For more information about access plans, see Processing an SQL Statement.\n{quote}\nRef: http://msdn.microsoft.com/en-us/library/windows/desktop/ms716365(v=vs.85).aspx\n\nIn case I didn't make this clear I'm not suggesting that we support a BindParameter() call, but I also don't think we should use Compile() instead of Prepare() just because we don't plan on supporting parameter binding.\n\nbq. My main worry is that this use case would add more state to be stored in hive server. Once we add support for high-availability, maintaining additional state on hive server 2 would come at additional costs (I am worried about costs of storing the whole plan in something like an rdbms or zookeeper).\n\nHow much additional state we plan to maintain is entirely up to us. Supporting the ability to execute a prepared statement multiple times does not mean that we have to save the query plan in between calls to execute(). I think the Hive JDBC driver already supports PreparedStatements, and we're basically just faking it. The fact that we're faking it doesn't matter because, as you mentioned, Hive is not an OLTP database.\n\nAnyway, I'm getting a little off topic. The main reason I think we should call this \"Prepare\" instead of \"Compile\" is so that we maintain the close relationship between the CLIService API and the ODBC API. I designed it this way for the following reasons:\n\n# People who are familiar with ODBC can look at the CLIService API and quickly understand how it works.\n# We can reference the ODBC documentation instead of having to write our own. We already take advantage of this in the TCliService.thrift IDL file (though in some cases we also reference JDBC).\n# Getting APIs right is tough. ODBC has gone through a bunch of revisions for precisely this reason. It still has bugs, but at least those bugs are well understood. As soon as we diverge significantly from ODBC we risk inventing new bugs, and then we will have the added challenge of figuring out how to reconcile our API bugs with the ODBC API bugs.\n\nbq. HS2 is now a single point of failure in the system, I think we should start considering high-availability issues while adding features. Keeping state in client instead of server will help with that.\n\nI agree that we should start thinking about HA, but I don't understand the part about maintaining state in the client. Wouldn't that imply that the client has to be HA as well? There are some security problems with this as well.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwsteinbach","name":"cwsteinbach","key":"cwsteinbach","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Carl Steinbach","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-09T22:21:37.242+0000","updated":"2013-05-09T22:21:37.242+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12641741/comment/14239178","id":"14239178","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"body":"HiveServer1 will be deprecated in next major release (hive-0.15.0 or hive-1.0)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"created":"2014-12-09T09:18:33.028+0000","updated":"2014-12-09T09:18:33.028+0000"}],"maxResults":11,"total":11,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-4321/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1jl0v:"}}