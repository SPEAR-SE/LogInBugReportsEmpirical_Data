{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12614491","self":"https://issues.apache.org/jira/rest/api/2/issue/12614491","key":"HIVE-3653","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2014-09-03T23:43:07.560+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Sep 03 23:43:07 UTC 2014","customfield_12310420":"253966","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-3653/watchers","watchCount":2,"isWatching":false},"created":"2012-11-02T10:05:29.103+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316336","id":"12316336","description":"released","name":"0.7.1","archived":false,"released":true,"releaseDate":"2011-06-21"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shreepadma","name":"shreepadma","key":"shreepadma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shreepadma Venugopalan","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-09-03T23:43:07.560+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312587","id":"12312587","name":"Clients","description":"Tracks issues dealing with CLI, Webclient, JDBC clients or other such clients."}],"timeoriginalestimate":null,"description":"A client had a simple transient failure in polling the JT for job status (which it does for HIVECOUNTERSPULLINTERVAL for each currently running job).\n\n{code}\njava.io.IOException: Call to HOST/IP:PORT failed on local exception: java.io.IOException: Connection reset by peer \nat org.apache.hadoop.ipc.Client.wrapException(Client.java:1142) \nat org.apache.hadoop.ipc.Client.call(Client.java:1110) \nat org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:226) \nat org.apache.hadoop.mapred.$Proxy10.getJobStatus(Unknown Source) \nat org.apache.hadoop.mapred.JobClient.getJob(JobClient.java:1053) \nat org.apache.hadoop.mapred.JobClient.getJob(JobClient.java:1065) \nat org.apache.hadoop.hive.ql.exec.ExecDriver.progress(ExecDriver.java:351) \nat org.apache.hadoop.hive.ql.exec.ExecDriver.execute(ExecDriver.java:686) \nat org.apache.hadoop.hive.ql.exec.MapRedTask.execute(MapRedTask.java:123) \nat org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:131) \nat org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:57) \nat org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1063) \nat org.apache.hadoop.hive.ql.Driver.execute(Driver.java:900) \nat org.apache.hadoop.hive.ql.Driver.run(Driver.java:748) \nat org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:209) \nat org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:286) \nat org.apache.hadoop.hive.cli.CliDriver.processReader(CliDriver.java:310) \nat org.apache.hadoop.hive.cli.CliDriver.processFile(CliDriver.java:317) \nat org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:490) \nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) \nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) \nat java.lang.reflect.Method.invoke(Method.java:597) \nat org.apache.hadoop.util.RunJar.main(RunJar.java:197) \n{code}\n\nThis lead to Hive thinking the running job itself has failed, and it failed the query run, although the running job progressed to completion in the background.\n\nWe should not let transient IOExceptions in counter polling cause query termination, and should instead just retry.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"81986","customfield_12312823":null,"summary":"Failure in a counter poller run should not be considered as a job failure","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=qwertymaniac","name":"qwertymaniac","key":"qwertymaniac","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=qwertymaniac&avatarId=16780","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=qwertymaniac&avatarId=16780","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=qwertymaniac&avatarId=16780","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=qwertymaniac&avatarId=16780"},"displayName":"Harsh J","active":true,"timeZone":"Asia/Kolkata"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12614491/comment/14120694","id":"14120694","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dareonion","name":"dareonion","key":"dareonion","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Darren Yin","active":true,"timeZone":"Etc/UTC"},"body":"The jobtracker RPC server is dropping your connection -- you could consider tracking rpc latency stats, and/or upping the number of threads in the RPC server, or possibly upping the max idle time for handler threads before they get killed/reclaimed by the rpc server. There may also be other options.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=dareonion","name":"dareonion","key":"dareonion","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Darren Yin","active":true,"timeZone":"Etc/UTC"},"created":"2014-09-03T23:43:07.560+0000","updated":"2014-09-03T23:43:07.560+0000"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-3653/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0edq7:"}}