{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12559519","self":"https://issues.apache.org/jira/rest/api/2/issue/12559519","key":"HIVE-3093","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/6","id":"6","description":"The problem isn't valid and it can't be fixed.","name":"Invalid"},"customfield_12312322":null,"customfield_12310220":"2012-06-06T12:02:53.994+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Jun 06 12:16:14 UTC 2012","customfield_12310420":"259064","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_62875892_*|*_5_*:*_2_*:*_748384909_*|*_4_*:*_1_*:*_8394","customfield_12312321":null,"resolutiondate":"2012-06-15T21:01:07.607+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-3093/watchers","watchCount":0,"isWatching":false},"created":"2012-06-06T11:39:58.461+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-06-15T21:01:07.651+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"SELECT * FROM (table1) a LEFT OUTER JOIN (table2) b ON (a.j1 = b.j2) TABLESAMPLE (BUCKET 1 OUT OF 512 ON a.col1) GROUP BY a.col1, b.col1 \n\nGot the error below.\nError in QueryHive::query_via_thrift after 1 retries. error=Query returned non-zero code: 11, cause: FAILED: Parse Error: line 1:418 mismatched input 'tablesample' expecting EOF near ')'\n\nAlso tried the below for enfancing sub query 'x'.\nSELECT * FROM (SELECT * FROM (table1) a LEFT OUTER JOIN (table2) b ON (a.j1 = b.j2) GROUP BY a.col1, b.col1) x TABLESAMPLE (BUCKET 1 OUT OF 512 ON a.col1) \n\nFaild as below...\nError in QueryHive::query_via_thrift after 1 retries. error=Query returned non-zero code: 11, cause: FAILED: Parse Error: line 1:100 cannot recognize input near '(' 'select' in subquery source\n\nAnyone help for it?\nI dont know how to open any attachment here, would be appriciated it if you fill in your comments directly here...\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"124310","customfield_12312823":null,"summary":"TABLESAMPLE doesnt work with LEFT OUTER JOIN","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mtanaka","name":"mtanaka","key":"mtanaka","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Miki Tanaka","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mtanaka","name":"mtanaka","key":"mtanaka","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Miki Tanaka","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12559519/comment/13290089","id":"13290089","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"body":"You mean something like..\n\nSELECT * FROM (SELECT * FROM src TABLESAMPLE (BUCKET 1 OUT OF 512 ON key) a LEFT OUTER JOIN src b ON (a.key = b.key) GROUP BY a.key, b.key) x;\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=navis","name":"navis","key":"navis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=navis&avatarId=19885","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=navis&avatarId=19885","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=navis&avatarId=19885","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=navis&avatarId=19885"},"displayName":"Navis","active":true,"timeZone":"Asia/Seoul"},"created":"2012-06-06T12:02:53.994+0000","updated":"2012-06-06T12:02:53.994+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12559519/comment/13290093","id":"13290093","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mtanaka","name":"mtanaka","key":"mtanaka","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Miki Tanaka","active":true,"timeZone":"Etc/UTC"},"body":"Thanks Navis.\nTried as your advice, but...\nError in QueryHive::query_via_thrift after 1 retries. error=Query returned non-zero code: 11, cause: FAILED: Parse Error: line 1:282 mismatched input 'tablesample' expecting Identifier near ')' in subquery source\n\nDo you have another ideas?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mtanaka","name":"mtanaka","key":"mtanaka","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Miki Tanaka","active":true,"timeZone":"Etc/UTC"},"created":"2012-06-06T12:16:14.738+0000","updated":"2012-06-06T12:16:14.738+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-3093/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0lmlb:"}}