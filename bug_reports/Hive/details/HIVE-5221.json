{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12667081","self":"https://issues.apache.org/jira/rest/api/2/issue/12667081","key":"HIVE-5221","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2013-09-12T07:52:38.113+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Nov 09 15:51:03 UTC 2013","customfield_12310420":"347018","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-5221/watchers","watchCount":4,"isWatching":false},"created":"2013-09-05T10:11:43.398+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-11-09T15:51:13.730+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"description":"Hi,\nI am using Hive 10. When I create an external table with column type as Binary, the query result on the table is showing some junk values for the column with binary datatype.\n\nPlease find below the query I have used to create the table:\n\nCREATE EXTERNAL TABLE BOOL1(NB BOOLEAN,email STRING, bitfld BINARY)\n ROW FORMAT DELIMITED\n   FIELDS TERMINATED BY '^'\n   LINES TERMINATED BY '\\n'\nSTORED AS TEXTFILE\nLOCATION '/user/hivetables/testbinary';\n\nThe query I have used is : select * from bool1\n\nThe sample data in the hdfs file is:\n\n0^arun@abc.com^001\n1^arun@abc.com^010\n ^arun@abc.com^011\n ^arun@abc.com^100\nt^arun@abc.com^101\nf^arun@abc.com^110\ntrue^arun@abc.com^111\nfalse^arun@abc.com^001\n123^    ^01100010\n12344^    ^01100001\n\nPlease share your inputs if it is possible.\n\nThanks,\nArun","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12602980","id":"12602980","filename":"HIVE-5221.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-13T08:50:25.546+0000","size":20925,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12602980/HIVE-5221.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12611731","id":"12611731","filename":"HIVE-5221.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-11-02T01:30:59.071+0000","size":1420,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12611731/HIVE-5221.2.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"347317","customfield_12312823":null,"summary":"Issue in column type with data type as BINARY","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arunvpy","name":"arunvpy","key":"arunvpy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun Vasu","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arunvpy","name":"arunvpy","key":"arunvpy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun Vasu","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667081/comment/13765251","id":"13765251","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"body":"What is the expected values for 'bitfld'?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-12T07:52:38.113+0000","updated":"2013-09-12T07:52:38.113+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667081/comment/13766341","id":"13766341","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"body":"WIP Patch.\nCan be reviewed at : https://reviews.apache.org/r/14121/\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-13T08:50:25.549+0000","updated":"2013-09-13T08:50:25.549+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667081/comment/13767434","id":"13767434","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 no tests executed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12602980/HIVE-5221.1.patch\n\nTest results: https://builds.apache.org/job/PreCommit-HIVE-Build/731/testReport\nConsole output: https://builds.apache.org/job/PreCommit-HIVE-Build/731/console\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nTests failed with: NonZeroExitCodeException: Command 'bash /data/hive-ptest/working/scratch/source-prep.sh' failed with exit status 1 and output '+ [[ -n '' ]]\n+ export 'ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128'\n+ ANT_OPTS='-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128'\n+ cd /data/hive-ptest/working/\n+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-731/source-prep.txt\n+ mkdir -p maven ivy\n+ [[ svn = \\s\\v\\n ]]\n+ [[ -n '' ]]\n+ [[ -d apache-svn-trunk-source ]]\n+ [[ ! -d apache-svn-trunk-source/.svn ]]\n+ [[ ! -d apache-svn-trunk-source ]]\n+ cd apache-svn-trunk-source\n+ svn revert -R .\nReverted 'data/files/datatypes.txt'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyPrimitiveObjectInspectorFactory.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryFactory.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoFactory.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/ParameterizedPrimitiveTypeUtils.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfo.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoUtils.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/PrimitiveObjectInspector.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorFactory.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/io/DoubleWritable.java'\nReverted 'serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroObjectInspectorGenerator.java'\nReverted 'serde/src/gen/thrift/gen-py/org_apache_hadoop_hive_serde/constants.py'\nReverted 'serde/src/gen/thrift/gen-cpp/serde_constants.cpp'\nReverted 'serde/src/gen/thrift/gen-cpp/serde_constants.h'\nReverted 'serde/src/gen/thrift/gen-rb/serde_constants.rb'\nReverted 'serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/test/ThriftTestObj.java'\nReverted 'serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/serdeConstants.java'\nReverted 'serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/Complex.java'\nReverted 'serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MegaStruct.java'\nReverted 'serde/src/gen/thrift/gen-php/org/apache/hadoop/hive/serde/Types.php'\nReverted 'serde/if/serde.thrift'\nReverted 'ql/src/test/org/apache/hadoop/hive/ql/exec/TestFunctionRegistry.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableDesc.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeConstantDesc.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/parse/HiveLexer.g'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/parse/ParseUtils.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/udf/GenericUDFEncode.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFStringToMap.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFComputeStats.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFUtils.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFToDate.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFConcatWS.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBaseCompare.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFReflect2.java'\nReverted 'ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToString.java'\n++ awk '{print $2}'\n++ egrep -v '^X|^Performing status on external'\n++ svn status --no-ignore\n+ rm -rf build data/files/vc1.txt hcatalog/build hcatalog/core/build hcatalog/storage-handlers/hbase/build hcatalog/server-extensions/build hcatalog/webhcat/svr/build hcatalog/webhcat/java-client/build hcatalog/hcatalog-pig-adapter/build common/src/gen common/src/test/org/apache/hadoop/hive/common/type common/src/java/org/apache/hadoop/hive/common/type/HiveVarchar.java common/src/java/org/apache/hadoop/hive/common/type/HiveBaseChar.java serde/src/test/org/apache/hadoop/hive/serde2/typeinfo serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyHiveVarchar.java serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyHiveVarcharObjectInspector.java serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryHiveVarchar.java serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/VarcharTypeParams.java serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableHiveVarcharObjectInspector.java serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/HiveVarcharObjectInspector.java serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaHiveVarcharObjectInspector.java serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableHiveVarcharObjectInspector.java serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableConstantHiveVarcharObjectInspector.java serde/src/java/org/apache/hadoop/hive/serde2/io/HiveVarcharWritable.java ql/src/test/results/clientnegative/invalid_varchar_length_3.q.out ql/src/test/results/clientnegative/invalid_varchar_length_1.q.out ql/src/test/results/clientnegative/invalid_varchar_length_2.q.out ql/src/test/results/clientpositive/varchar_union1.q.out ql/src/test/results/clientpositive/varchar_cast.q.out ql/src/test/results/clientpositive/alter_varchar1.q.out ql/src/test/results/clientpositive/varchar_udf1.q.out ql/src/test/results/clientpositive/varchar_2.q.out ql/src/test/results/clientpositive/partition_varchar1.q.out ql/src/test/results/clientpositive/varchar_nested_types.q.out ql/src/test/results/clientpositive/varchar_join1.q.out ql/src/test/results/clientpositive/varchar_comparison.q.out ql/src/test/results/clientpositive/ctas_varchar.q.out ql/src/test/results/clientpositive/varchar_1.q.out ql/src/test/queries/clientnegative/invalid_varchar_length_1.q ql/src/test/queries/clientnegative/invalid_varchar_length_2.q ql/src/test/queries/clientnegative/invalid_varchar_length_3.q ql/src/test/queries/clientpositive/varchar_cast.q ql/src/test/queries/clientpositive/varchar_join1.q ql/src/test/queries/clientpositive/alter_varchar1.q ql/src/test/queries/clientpositive/varchar_1.q ql/src/test/queries/clientpositive/partition_varchar1.q ql/src/test/queries/clientpositive/varchar_comparison.q ql/src/test/queries/clientpositive/ctas_varchar.q ql/src/test/queries/clientpositive/varchar_2.q ql/src/test/queries/clientpositive/varchar_nested_types.q ql/src/test/queries/clientpositive/varchar_udf1.q ql/src/test/queries/clientpositive/varchar_union1.q ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFToVarchar.java\n+ svn update\n\nFetching external item into 'hcatalog/src/test/e2e/harness'\nExternal at revision 1523203.\n\nAt revision 1523203.\n+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh\n+ patchFilePath=/data/hive-ptest/working/scratch/build.patch\n+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]\n+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh\n+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch\nThe patch does not appear to apply with p0 to p2\n+ exit 1\n'\n{noformat}\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2013-09-14T10:13:52.182+0000","updated":"2013-09-14T10:13:52.182+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667081/comment/13767868","id":"13767868","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"Thinking more about this. I think better approach here is to never do encoding or decoding in serdes. Further, on second thought even serde properties doesnt look like a good idea. I think, serdes should never deal with encoding, they should just read raw bytes. If user has data in some specific encoding which he wants to decode, he should be using a udf (which we already have in our software).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-15T18:11:52.026+0000","updated":"2013-09-15T18:11:52.026+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667081/comment/13768092","id":"13768092","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"body":"So you are asking not to decode/encode by default. Give the raw bytes.\nIn this case, we need to just remove the conditional decoding, right?\n\nWill it break any backward compatibility?\n\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-16T06:03:51.758+0000","updated":"2013-09-16T06:03:51.758+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667081/comment/13774270","id":"13774270","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"yup.. No default decoding. Just remove conditional decoding. This will break backward compat, but user can just use udf to get the desired behavior. We currently we have a bug, I don't think there is any advantage of being backward-bug-compatible. That is just backwards : )","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-23T03:31:29.312+0000","updated":"2013-09-23T03:31:29.312+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667081/comment/13774323","id":"13774323","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"body":"ok. I will update the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-23T06:22:39.290+0000","updated":"2013-09-23T06:22:39.290+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667081/comment/13811836","id":"13811836","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"body":"Updated with Ashutosh's comment.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kamrul","name":"kamrul","key":"kamrul","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Kamrul Islam","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-11-02T01:30:59.075+0000","updated":"2013-11-02T01:30:59.075+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667081/comment/13813334","id":"13813334","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brocknoland","name":"brocknoland","key":"brocknoland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brock Noland","active":true,"timeZone":"America/Los_Angeles"},"body":"We can wait for HiveQA but it looks like a test in TestLazySimpleSerDe might fail as it's encoding base 64 data and expecting it to be decoded?\n\nOne more question, which perhaps isn't related, but it looks like LazyUtils.writePrimitiveUTF8 is also encoding data as Base64.  Thinking about it... doesn't Lazy Serde have to use base64 to store BINARY data?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brocknoland","name":"brocknoland","key":"brocknoland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brock Noland","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-11-04T21:49:13.734+0000","updated":"2013-11-04T21:49:13.734+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667081/comment/13813335","id":"13813335","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brocknoland","name":"brocknoland","key":"brocknoland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brock Noland","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. doesn't Lazy Serde have to use base64 to store BINARY data?\n\nmeaning when dealing with text files isn't base64 required for BINARY.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=brocknoland","name":"brocknoland","key":"brocknoland","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Brock Noland","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-11-04T21:50:01.732+0000","updated":"2013-11-04T21:50:01.732+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667081/comment/13813537","id":"13813537","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"body":"\n\n{color:red}Overall{color}: -1 at least one tests failed\n\nHere are the results of testing the latest attachment:\nhttps://issues.apache.org/jira/secure/attachment/12611731/HIVE-5221.2.patch\n\n{color:red}ERROR:{color} -1 due to 16 failed/errored test(s), 4551 tests executed\n*Failed tests:*\n{noformat}\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ba_table1\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ba_table2\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ba_table3\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ba_table_udfs\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ba_table_union\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_binary_table_bincolserde\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_binary_table_colserde\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_compute_stats_binary\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_binary_data\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_printf\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_reflect2\norg.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_substr\norg.apache.hadoop.hive.serde2.lazy.TestLazyPrimitive.testLazyBinary\norg.apache.hcatalog.pig.TestHCatStorer.testStoreFuncAllSimpleTypes\norg.apache.hive.hcatalog.pig.TestHCatStorer.testStoreFuncAllSimpleTypes\norg.apache.hive.jdbc.TestJdbcDriver2.testDataTypes\n{noformat}\n\nTest results: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/134/testReport\nConsole output: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/134/console\n\nMessages:\n{noformat}\nExecuting org.apache.hive.ptest.execution.PrepPhase\nExecuting org.apache.hive.ptest.execution.ExecutionPhase\nExecuting org.apache.hive.ptest.execution.ReportingPhase\nTests failed with: TestsFailedException: 16 tests failed\n{noformat}\n\nThis message is automatically generated.\n\nATTACHMENT ID: 12611731","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hiveqa","name":"hiveqa","key":"hiveqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hiveqa&avatarId=17060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hiveqa&avatarId=17060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hiveqa&avatarId=17060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hiveqa&avatarId=17060"},"displayName":"Hive QA","active":true,"timeZone":"America/Chicago"},"created":"2013-11-05T01:46:11.633+0000","updated":"2013-11-05T01:46:11.633+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667081/comment/13818176","id":"13818176","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"body":"[~brocknoland] I think you have a valid point. I think we should do same on write side as we are now doing on read side, ie if user wants to store binary data in text file (which is weird, but anyways) he need to use an udf to encode it before passing it to serde. Than, we are consistent on both read and write side, asking user to use appropriate udfs for encoding/decoding and setting serde free from any assumptions.\n[~kamrul] Can you make changes in LazyUtils.writePrimitiveUtf8 so that it doesn't do any encoding?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashutoshc","name":"ashutoshc","key":"ashutoshc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashutosh Chauhan","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-11-09T15:51:03.880+0000","updated":"2013-11-09T15:51:03.880+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-5221/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1nu7r:"}}