{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12547178","self":"https://issues.apache.org/jira/rest/api/2/issue/12547178","key":"HIVE-2882","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310843","id":"12310843","key":"HIVE","name":"Hive","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2012-04-25T08:34:52.085+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Apr 25 08:34:52 UTC 2012","customfield_12310420":"232336","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_25485282893_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-01-09T10:36:59.789+0000","workratio":0,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2882/watchers","watchCount":1,"isWatching":false},"created":"2012-03-20T11:22:16.929+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":["hadoop","hive"],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":604800,"aggregatetimeoriginalestimate":604800,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316336","id":"12316336","description":"released","name":"0.7.1","archived":false,"released":true,"releaseDate":"2011-06-21"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-01-09T10:36:59.815+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12314178","id":"12314178","name":"JDBC"}],"timeoriginalestimate":604800,"description":"I am trying to implement a task in Hive (Similar to Stored Procedure in SQL (Block of queries)).\nIn SQL, when we write cursor, first we execute select query and then fetching the records we perform some actions.\n\nLikely I have fired a select query in Hive as:\n\nString driverName = \"org.apache.hadoop.hive.jdbc.HiveDriver\";\nClass.forName(driverName);\nConnection con = DriverManager.getConnection(\"jdbc:hive://localhost:10000/default\", \"\", \"\");\nString sql=null;\nStatement stmt = con.createStatement();\nStatement stmt1 = con.createStatement();\nResultSet res=null;\nResultSet rs1=null;\n\nsql=\"select a,c,b from tbl_name\";\nres=stmt.executeQuery();    -----------> CONTAINS 30 RECORDS\nwhile(res.next())\n{\n     sql=\"select d,e,f, from t1\";\n     rs1=stmt1.executeQuery();\n     like wise many queries are there.....\n\n.\n.\n.\n..\n}\nBut the problem is that while loop executes only once instead of 30 times when the inner query (inside while) gets execute.\n\nAnd If I create two different connection for both the queries then all works fine.\nLike:\nString driverName = \"org.apache.hadoop.hive.jdbc.HiveDriver\";\nClass.forName(driverName);\nConnection con = DriverManager.getConnection(\"jdbc:hive://localhost:10000/default\", \"\", \"\");\nConnection con1 = DriverManager.getConnection(\"jdbc:hive://localhost:10000/default\", \"\", \"\");\nString sql=null;\nStatement stmt = con.createStatement();\nStatement stmt1 = con1.createStatement();\nResultSet res=null;\nResultSet rs1=null;\n\nTo sum up, when I iterate through a result set do I need to use a different connection(and statement object) to\nexecute other queries????","customfield_10010":null,"timetracking":{"originalEstimate":"168h","remainingEstimate":"168h","originalEstimateSeconds":604800,"remainingEstimateSeconds":604800},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":604800,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"124206","customfield_12312823":null,"summary":"Problem with Hive using JDBC","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhavesh25shah","name":"bhavesh25shah","key":"bhavesh25shah","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bhavesh Shah","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhavesh25shah","name":"bhavesh25shah","key":"bhavesh25shah","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Bhavesh Shah","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":604800,"percent":0},"customfield_12311024":null,"environment":"Operating System - Ubuntu 11.10\nSoftwares - Hadoop-0.20.2, Hive-0.7.1","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":604800,"percent":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12547178/comment/13261399","id":"13261399","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gemini5201314","name":"gemini5201314","key":"gemini5201314","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"alex gemini","active":true,"timeZone":"Asia/Shanghai"},"body":"hive didn't support cursor in JDBC world.if you intend iterate through a result set,maybe you should first execute the query and store it,and using your client logic to generate second query .this maybe a more PIG GENERATE case.I suggest close this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gemini5201314","name":"gemini5201314","key":"gemini5201314","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"alex gemini","active":true,"timeZone":"Asia/Shanghai"},"created":"2012-04-25T08:34:52.085+0000","updated":"2012-04-25T08:34:52.085+0000"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/HIVE-2882/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0lly7:"}}