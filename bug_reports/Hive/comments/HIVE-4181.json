[navis requested code review of "HIVE-4181 [jira] Star argument without table alias for UDTF is not working".

Reviewers: JIRA

HIVE-4181 Star argument without table alias for UDTF is not working

select explode as x from src; thorws

java.lang.NullPointerException
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genUDTFPlan(SemanticAnalyzer.java:5344)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:2526)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:2284)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPostGroupByBodyPlan(SemanticAnalyzer.java:7079)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genBodyPlan(SemanticAnalyzer.java:7050)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:7792)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:8462)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:259)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:433)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:337)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:902)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:259)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:216)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:413)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:756)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:614)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:186)

TEST PLAN
  EMPTY

REVISION DETAIL
  https://reviews.facebook.net/D9453

AFFECTED FILES
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java
  ql/src/test/queries/clientpositive/allcolref_in_udf.q
  ql/src/test/results/clientpositive/allcolref_in_udf.q.out

MANAGE HERALD RULES
  https://reviews.facebook.net/herald/view/differential/

WHY DID I GET THIS EMAIL?
  https://reviews.facebook.net/herald/transcript/22641/

To: JIRA, navis
, njain has accepted the revision "HIVE-4181 [jira] Star argument without table alias for UDTF is not working".

REVISION DETAIL
  https://reviews.facebook.net/D9453

BRANCH
  HIVE-4181

ARCANIST PROJECT
  hive

To: JIRA, njain, navis
, Committed. Thanks Navis, Integrated in Hive-trunk-hadoop2 #174 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/174/])
    HIVE-4181 Star argument without table alias for UDTF is not working
(Navis via namit) (Revision 1471553)

     Result = FAILURE
namit : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1471553
Files : 
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java
* /hive/trunk/ql/src/test/queries/clientpositive/allcolref_in_udf.q
* /hive/trunk/ql/src/test/results/clientpositive/allcolref_in_udf.q.out
, Integrated in Hive-trunk-h0.21 #2078 (See [https://builds.apache.org/job/Hive-trunk-h0.21/2078/])
    HIVE-4181 Star argument without table alias for UDTF is not working
(Navis via namit) (Revision 1471553)

     Result = FAILURE
namit : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1471553
Files : 
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java
* /hive/trunk/ql/src/test/queries/clientpositive/allcolref_in_udf.q
* /hive/trunk/ql/src/test/results/clientpositive/allcolref_in_udf.q.out
, This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.]