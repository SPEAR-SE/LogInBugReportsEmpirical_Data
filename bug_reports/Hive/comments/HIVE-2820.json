[navis requested code review of "HIVE-2820 [jira] Invalid tag is used for MapJoinProcessor".
Reviewers: JIRA

  DPAL-889 Invalid tag is used for MapJoinProcessor

  Testing HIVE-2810, I've found tag and alias are used in very confusing manner. For example, query below fails..

  hive> set hive.auto.convert.join=true;
  hive> select /*+ STREAMTABLE(a) */ * from myinput1 a join myinput1 b on a.key=b.key join myinput1 c on a.key=c.key;
  Total MapReduce jobs = 4
  Ended Job = 1667415037, job is filtered out (removed at runtime).
  Ended Job = 1739566906, job is filtered out (removed at runtime).
  Ended Job = 1113337780, job is filtered out (removed at runtime).
  12/02/24 10:27:14 WARN conf.HiveConf: DEPRECATED: Ignoring hive-default.xml found on the CLASSPATH at /home/navis/hive/conf/hive-default.xml
  Execution log at: /tmp/navis/navis_20120224102727_cafe0d8d-9b21-441d-bd4e-b83303b31cdc.log
  2012-02-24 10:27:14	Starting to launch local task to process map join;	maximum memory = 932118528
  java.lang.NullPointerException
  	at org.apache.hadoop.hive.ql.exec.HashTableSinkOperator.processOp(HashTableSinkOperator.java:312)
  	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)
  	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:762)
  	at org.apache.hadoop.hive.ql.exec.TableScanOperator.processOp(TableScanOperator.java:83)
  	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)
  	at org.apache.hadoop.hive.ql.exec.MapredLocalTask.startForward(MapredLocalTask.java:325)
  	at org.apache.hadoop.hive.ql.exec.MapredLocalTask.executeFromChildJVM(MapredLocalTask.java:272)
  	at org.apache.hadoop.hive.ql.exec.ExecDriver.main(ExecDriver.java:685)
  	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
  	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
  	at java.lang.reflect.Method.invoke(Method.java:597)
  	at org.apache.hadoop.util.RunJar.main(RunJar.java:186)
  Execution failed with exit status: 2
  Obtaining error information

  Failed task has a plan which doesn't make sense.

    Stage: Stage-8
      Map Reduce Local Work
        Alias -> Map Local Tables:
          b
            Fetch Operator
              limit: -1
          c
            Fetch Operator
              limit: -1
        Alias -> Map Local Operator Tree:
          b
            TableScan
              alias: b
              HashTable Sink Operator
                condition expressions:
                  0 {key} {value}
                  1 {key} {value}
                  2 {key} {value}
                handleSkewJoin: false
                keys:
                  0 [Column[key]]
                  1 [Column[key]]
                  2 [Column[key]]
                Position of Big Table: 0
          c
            TableScan
              alias: c
              Map Join Operator
                condition map:
                     Inner Join 0 to 1
                     Inner Join 0 to 2
                condition expressions:
                  0 {key} {value}
                  1 {key} {value}
                  2 {key} {value}
                handleSkewJoin: false
                keys:
                  0 [Column[key]]
                  1 [Column[key]]
                  2 [Column[key]]
                outputColumnNames: _col0, _col1, _col4, _col5, _col8, _col9
                Position of Big Table: 0
                Select Operator
                  expressions:
                        expr: _col0
                        type: int
                        expr: _col1
                        type: int
                        expr: _col4
                        type: int
                        expr: _col5
                        type: int
                        expr: _col8
                        type: int
                        expr: _col9
                        type: int
                  outputColumnNames: _col0, _col1, _col2, _col3, _col4, _col5
                  File Output Operator
                    compressed: false
                    GlobalTableId: 0
                    table:
                        input format: org.apache.hadoop.mapred.TextInputFormat
                        output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat

    Stage: Stage-4
      Map Reduce
        Alias -> Map Operator Tree:
          a
            TableScan
              alias: a
              HashTable Sink Operator
                condition expressions:
                  0 {key} {value}
                  1 {key} {value}
                  2 {key} {value}
                handleSkewJoin: false
                keys:
                  0 [Column[key]]
                  1 [Column[key]]
                  2 [Column[key]]
                Position of Big Table: 0
        Local Work:
          Map Reduce Local Work

TEST PLAN
  EMPTY

REVISION DETAIL
  https://reviews.facebook.net/D1935

AFFECTED FILES
  ql/src/java/org/apache/hadoop/hive/ql/exec/AbstractMapJoinOperator.java
  ql/src/java/org/apache/hadoop/hive/ql/exec/HashTableSinkOperator.java
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinOperator.java
  ql/src/java/org/apache/hadoop/hive/ql/exec/SMBMapJoinOperator.java
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java
  ql/src/java/org/apache/hadoop/hive/ql/plan/HashTableSinkDesc.java
  ql/src/java/org/apache/hadoop/hive/ql/plan/JoinDesc.java
  ql/src/test/queries/clientpositive/join_reorder2.q
  ql/src/test/results/clientpositive/join_reorder2.q.out

MANAGE HERALD DIFFERENTIAL RULES
  https://reviews.facebook.net/herald/view/differential/

WHY DID I GET THIS EMAIL?
  https://reviews.facebook.net/herald/transcript/4101/

Tip: use the X-Herald-Rules header to filter Herald messages in your client.
, navis has commented on the revision "HIVE-2820 [jira] Invalid tag is used for MapJoinProcessor".

  Passed all the *join* tests in client-positive. Full test result would be posted shortly.

REVISION DETAIL
  https://reviews.facebook.net/D1935
, navis updated the revision "HIVE-2820 [jira] Invalid tag is used for MapJoinProcessor".
Reviewers: JIRA

  unified to use pos/alias instead of tag.

REVISION DETAIL
  https://reviews.facebook.net/D1935

AFFECTED FILES
  ql/src/java/org/apache/hadoop/hive/ql/exec/AbstractMapJoinOperator.java
  ql/src/java/org/apache/hadoop/hive/ql/exec/HashTableSinkOperator.java
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinOperator.java
  ql/src/java/org/apache/hadoop/hive/ql/exec/SMBMapJoinOperator.java
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/LocalMapJoinProcFactory.java
  ql/src/java/org/apache/hadoop/hive/ql/plan/HashTableSinkDesc.java
  ql/src/java/org/apache/hadoop/hive/ql/plan/JoinDesc.java
  ql/src/test/queries/clientpositive/join_reorder2.q
  ql/src/test/results/clientpositive/join_reorder2.q.out
, Confirmed that the patch have passed all the tests., njain has commented on the revision "HIVE-2820 [jira] Invalid tag is used for MapJoinProcessor".

  Thanks Navis, I will take a look

REVISION DETAIL
  https://reviews.facebook.net/D1935
, Still cannot execute query like,
{code}
select /*+ MAPJOIN(a) */ * from src a right outer join src b on a.key=b.key AND concat(b.key, '0') < '10000' limit 10;
{code}
I'll check it out., The problem above was caused by HIVE-2839. Patch seemed to be still valid., navis updated the revision "HIVE-2820 [jira] Invalid tag is used for MapJoinProcessor".
Reviewers: JIRA

  1. minimized modifications
  2. added one more test case
  3. rebase on trunk and passed all tests

REVISION DETAIL
  https://reviews.facebook.net/D1935

AFFECTED FILES
  ql/src/java/org/apache/hadoop/hive/ql/exec/AbstractMapJoinOperator.java
  ql/src/java/org/apache/hadoop/hive/ql/exec/HashTableSinkOperator.java
  ql/src/java/org/apache/hadoop/hive/ql/exec/JoinUtil.java
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinOperator.java
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/LocalMapJoinProcFactory.java
  ql/src/test/queries/clientpositive/join_reorder2.q
  ql/src/test/results/clientpositive/join_reorder2.q.out
, Unlinking from 0.9, Verified that bug still exists on trunk. Navis sorry for letting this patch going stale. Please update the jira, I will take a look at it., I was able to resolve conflict and apply the patch. Than ran the tests. All the tests passed except TestCliDriver_join_reorder2.q which failed with following stack:
{code}
[junit] java.lang.IndexOutOfBoundsException: Index: 1, Size: 1
    [junit]     at java.util.ArrayList.RangeCheck(ArrayList.java:547)
    [junit]     at java.util.ArrayList.get(ArrayList.java:322)
    [junit]     at org.apache.hadoop.hive.serde2.objectinspector.StandardStructObjectInspector.init(StandardStructObjectInspector.java:118)
    [junit]     at org.apache.hadoop.hive.serde2.objectinspector.StandardStructObjectInspector.<init>(StandardStructObjectInspector.java:106)
    [junit]     at org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorFactory.getStandardStructObjectInspector(ObjectInspectorFactory.java:280)
    [junit]     at org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorFactory.getStandardStructObjectInspector(ObjectInspectorFactory.java:265)
    [junit]     at org.apache.hadoop.hive.ql.exec.JoinUtil.getRowContainer(JoinUtil.java:405)
    [junit]     at org.apache.hadoop.hive.ql.exec.AbstractMapJoinOperator.initializeOp(AbstractMapJoinOperator.java:101)
    [junit]     at org.apache.hadoop.hive.ql.exec.MapJoinOperator.initializeOp(MapJoinOperator.java:80)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:360)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:436)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.initializeChildren(Operator.java:392)
    [junit]     at org.apache.hadoop.hive.ql.exec.HashTableDummyOperator.initializeOp(HashTableDummyOperator.java:39)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:360)
    [junit]     at org.apache.hadoop.hive.ql.exec.ExecMapper.configure(ExecMapper.java:110)
    [junit]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    [junit]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    [junit]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    [junit]     at java.lang.reflect.Method.invoke(Method.java:597)
    [junit]     at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:88)
    [junit]     at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:64)
    [junit]     at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:117)
    [junit]     at org.apache.hadoop.mapred.MapRunner.configure(MapRunner.java:34)
    [junit]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    [junit]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    [junit]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    [junit]     at java.lang.reflect.Method.invoke(Method.java:597)
    [junit]     at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:88)
    [junit]     at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:64)
    [junit]     at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:117)
    [junit]     at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:354)
    [junit]     at org.apache.hadoop.mapred.MapTask.run(MapTask.java:307)
    [junit]     at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:177)
    [junit] java.lang.NullPointerException
    [junit]     at org.apache.hadoop.hive.ql.exec.FileSinkOperator.createBucketFiles(FileSinkOperator.java:530)
    [junit]     at org.apache.hadoop.hive.ql.exec.FileSinkOperator.closeOp(FileSinkOperator.java:859)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:558)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:567)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:567)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:567)
    [junit]     at org.apache.hadoop.hive.ql.exec.ExecMapper.close(ExecMapper.java:200)
    [junit]     at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:57)
    [junit]     at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:358)
    [junit]     at org.apache.hadoop.mapred.MapTask.run(MapTask.java:307)
    [junit]     at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:177)
    [junit] org.apache.hadoop.hive.ql.metadata.HiveException: java.lang.NullPointerException
    [junit]     at org.apache.hadoop.hive.ql.exec.FileSinkOperator.createBucketFiles(FileSinkOperator.java:536)
    [junit]     at org.apache.hadoop.hive.ql.exec.FileSinkOperator.closeOp(FileSinkOperator.java:859)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:558)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:567)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:567)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:567)
    [junit]     at org.apache.hadoop.hive.ql.exec.ExecMapper.close(ExecMapper.java:200)
    [junit]     at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:57)
    [junit]     at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:358)
    [junit]     at org.apache.hadoop.mapred.MapTask.run(MapTask.java:307)
    [junit]     at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:177)
    [junit] Caused by: java.lang.NullPointerException
    [junit]     at org.apache.hadoop.hive.ql.exec.FileSinkOperator.createBucketFiles(FileSinkOperator.java:530)
    [junit]     ... 10 more
    [junit] org.apache.hadoop.hive.ql.metadata.HiveException: java.lang.NullPointerException
    [junit]     at org.apache.hadoop.hive.ql.exec.FileSinkOperator.createBucketFiles(FileSinkOperator.java:536)
    [junit]     at org.apache.hadoop.hive.ql.exec.FileSinkOperator.closeOp(FileSinkOperator.java:859)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:558)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:567)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:567)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:567)
    [junit]     at org.apache.hadoop.hive.ql.exec.ExecMapper.close(ExecMapper.java:200)
    [junit]     at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:57)
    [junit]     at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:358)
    [junit]     at org.apache.hadoop.mapred.MapTask.run(MapTask.java:307)
    [junit]     at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:177)
    [junit] Caused by: java.lang.NullPointerException
    [junit]     at org.apache.hadoop.hive.ql.exec.FileSinkOperator.createBucketFiles(FileSinkOperator.java:530)
    [junit]     ... 10 more
    [junit] org.apache.hadoop.hive.ql.metadata.HiveException: java.lang.NullPointerException
    [junit]     at org.apache.hadoop.hive.ql.exec.FileSinkOperator.createBucketFiles(FileSinkOperator.java:536)
    [junit]     at org.apache.hadoop.hive.ql.exec.FileSinkOperator.closeOp(FileSinkOperator.java:859)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:558)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:567)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:567)
    [junit]     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:567)
    [junit]     at org.apache.hadoop.hive.ql.exec.ExecMapper.close(ExecMapper.java:200)
    [junit]     at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:57)
    [junit]     at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:358)
    [junit]     at org.apache.hadoop.mapred.MapTask.run(MapTask.java:307)
    [junit]     at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:177)
    [junit] Caused by: java.lang.NullPointerException
    [junit]     at org.apache.hadoop.hive.ql.exec.FileSinkOperator.createBucketFiles(FileSinkOperator.java:530)
    [junit]     ... 10 more
    [junit] Ended Job = job_local_0001 with errors
{code}

Its possible that I didn't resolve conflicts correctly., navis updated the revision "HIVE-2820 [jira] Invalid tag is used for MapJoinProcessor".
Reviewers: JIRA

  Rebased and tested only join_reorder*.q (and passed)
  I also need code review to remind what this was


REVISION DETAIL
  https://reviews.facebook.net/D1935

AFFECTED FILES
  ql/src/java/org/apache/hadoop/hive/ql/exec/AbstractMapJoinOperator.java
  ql/src/java/org/apache/hadoop/hive/ql/exec/CommonJoinOperator.java
  ql/src/java/org/apache/hadoop/hive/ql/exec/HashTableSinkOperator.java
  ql/src/java/org/apache/hadoop/hive/ql/exec/JoinUtil.java
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinOperator.java
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/LocalMapJoinProcFactory.java
  ql/src/test/queries/clientpositive/join_reorder4.q
  ql/src/test/results/clientpositive/join_reorder4.q.out

To: JIRA, navis
Cc: njain
, Thanks, Navis for the update. I will take a look at this one soon., +1 will commit if tests pass., Committed to trunk. Thanks, Navis!, Integrated in hive-trunk-hadoop1 #18 (See [https://builds.apache.org/job/hive-trunk-hadoop1/18/])
    HIVE-2820 : Invalid tag is used for MapJoinProcessor (Navis via Ashutosh Chauhan) (Revision 1434012)

     Result = ABORTED
hashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1434012
Files : 
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/AbstractMapJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/CommonJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/HashTableSinkOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/JoinUtil.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/LocalMapJoinProcFactory.java
* /hive/trunk/ql/src/test/queries/clientpositive/join_reorder4.q
* /hive/trunk/ql/src/test/results/clientpositive/join_reorder4.q.out
, Integrated in Hive-trunk-h0.21 #1917 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1917/])
    HIVE-2820 : Invalid tag is used for MapJoinProcessor (Navis via Ashutosh Chauhan) (Revision 1434012)

     Result = FAILURE
hashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1434012
Files : 
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/AbstractMapJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/CommonJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/HashTableSinkOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/JoinUtil.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/LocalMapJoinProcFactory.java
* /hive/trunk/ql/src/test/queries/clientpositive/join_reorder4.q
* /hive/trunk/ql/src/test/results/clientpositive/join_reorder4.q.out
, navis has abandoned the revision "HIVE-2820 [jira] Invalid tag is used for MapJoinProcessor".

  committed

REVISION DETAIL
  https://reviews.facebook.net/D1935

To: JIRA, navis
Cc: njain
, [~navis], Sorry for the late response - but I had some questions on this patch.

I can understand tag is not needed for mapjoin, but aren't you mixing the data.
Let me try to reproduce., Integrated in Hive-trunk-hadoop2 #69 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/69/])
    HIVE-2820 : Invalid tag is used for MapJoinProcessor (Navis via Ashutosh Chauhan) (Revision 1434012)

     Result = FAILURE
hashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1434012
Files : 
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/AbstractMapJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/CommonJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/HashTableSinkOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/JoinUtil.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/LocalMapJoinProcFactory.java
* /hive/trunk/ql/src/test/queries/clientpositive/join_reorder4.q
* /hive/trunk/ql/src/test/results/clientpositive/join_reorder4.q.out
, Integrated in hive-trunk-hadoop1 #25 (See [https://builds.apache.org/job/hive-trunk-hadoop1/25/])
    HIVE-3909 Wrong data due to HIVE-2820
(Navis via namit) (Revision 1435281)

     Result = ABORTED
namit : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1435281
Files : 
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/AbstractMapJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/CommonJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ConditionalTask.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SMBMapJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/LocalMapJoinProcFactory.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/JoinDesc.java
* /hive/trunk/ql/src/test/queries/clientpositive/join_reorder4.q
* /hive/trunk/ql/src/test/results/clientpositive/join_reorder4.q.out
, Integrated in Hive-trunk-hadoop2 #73 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/73/])
    HIVE-3909 Wrong data due to HIVE-2820
(Navis via namit) (Revision 1435281)

     Result = FAILURE
namit : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1435281
Files : 
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/AbstractMapJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/CommonJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ConditionalTask.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SMBMapJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/LocalMapJoinProcFactory.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/JoinDesc.java
* /hive/trunk/ql/src/test/queries/clientpositive/join_reorder4.q
* /hive/trunk/ql/src/test/results/clientpositive/join_reorder4.q.out
, Integrated in Hive-trunk-h0.21 #1922 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1922/])
    HIVE-3909 Wrong data due to HIVE-2820
(Navis via namit) (Revision 1435281)

     Result = FAILURE
namit : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1435281
Files : 
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/AbstractMapJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/CommonJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ConditionalTask.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SMBMapJoinOperator.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/LocalMapJoinProcFactory.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/JoinDesc.java
* /hive/trunk/ql/src/test/queries/clientpositive/join_reorder4.q
* /hive/trunk/ql/src/test/results/clientpositive/join_reorder4.q.out
]