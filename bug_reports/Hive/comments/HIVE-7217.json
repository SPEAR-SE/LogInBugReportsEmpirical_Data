[If you build hive from source with -Phadoop-1, it would not be happened. I think this is fixed in HIVE-6037 but it's failed to get in to trunk. Will make separate patch for this., [~navis] Could you share more details about the issue.  Appreciate if you could create a separate patch for 0.13, I could help in testing the patch.

Thanks,
Muthu, Ah, sorry. I've confused with other issue. Seemed this need a new investigation., [~muthunivas] I'm curious if you are using CDH5 with mr1. Here is what cloudera did to fix the problem https://github.com/cloudera/hive/commit/7af9de2e45ba503a6b1b962e720e13c3a413f1ee Though this is somewhat still an issue because their isMR2 check relies on if a class is loaded https://github.com/cloudera/hive/blob/cdh5-0.13.1_5.2.1/shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java#L102 which isn't quite correct because by default the yarn jars are loaded but not used.]