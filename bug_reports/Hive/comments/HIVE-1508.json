[Did two things here. First random can generate the same result if called twice in the same millisecond. We guard against that with a while condition. Secondly leverage a finalizer to deal with clean up. Might be a nicer way, but not sure what is the best way to go about that. No easy way to unit test here, but you could run with lsof and determine if handles are ever closing., +1, Committed. Thanks Edward, Great finding, but how do we curtail(or put the limit to) the number of these files generated, since I don't see any mechanism of deleting such files (say deleting the files older than an hour or so), they may eventually pile up to the extent of consuming significant disk space.
I don't see any significance of these files once session expires or keeping too old session information within such files.
Kindly suggest.]