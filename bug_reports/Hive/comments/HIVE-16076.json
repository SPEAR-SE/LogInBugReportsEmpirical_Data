[The patch. cc [~sseth] [~gopalv], 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12855970/HIVE-16076.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 26 failed/errored test(s), 10285 tests executed
*Failed tests:*
{noformat}
TestCommandProcessorFactory - did not produce a TEST-*.xml file (likely timed out) (batchId=272)
TestDbTxnManager - did not produce a TEST-*.xml file (likely timed out) (batchId=272)
TestDummyTxnManager - did not produce a TEST-*.xml file (likely timed out) (batchId=272)
TestHiveInputSplitComparator - did not produce a TEST-*.xml file (likely timed out) (batchId=272)
TestIndexType - did not produce a TEST-*.xml file (likely timed out) (batchId=272)
TestSplitFilter - did not produce a TEST-*.xml file (likely timed out) (batchId=272)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[escape_comments] (batchId=229)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_table] (batchId=147)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=224)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_between_in] (batchId=119)
org.apache.hive.beeline.TestSchemaTool.testNestedScriptsForDerby (batchId=212)
org.apache.hive.beeline.TestSchemaTool.testNestedScriptsForMySQL (batchId=212)
org.apache.hive.beeline.TestSchemaTool.testNestedScriptsForOracle (batchId=212)
org.apache.hive.beeline.TestSchemaTool.testPostgresFilter (batchId=212)
org.apache.hive.beeline.TestSchemaTool.testSchemaInit (batchId=212)
org.apache.hive.beeline.TestSchemaTool.testSchemaInitDryRun (batchId=212)
org.apache.hive.beeline.TestSchemaTool.testSchemaUpgrade (batchId=212)
org.apache.hive.beeline.TestSchemaTool.testSchemaUpgradeDryRun (batchId=212)
org.apache.hive.beeline.TestSchemaTool.testScriptMultiRowComment (batchId=212)
org.apache.hive.beeline.TestSchemaTool.testScriptWithDelimiter (batchId=212)
org.apache.hive.beeline.TestSchemaTool.testScripts (batchId=212)
org.apache.hive.beeline.TestSchemaTool.testValidateLocations (batchId=212)
org.apache.hive.beeline.TestSchemaTool.testValidateNullValues (batchId=212)
org.apache.hive.beeline.TestSchemaTool.testValidateSchemaTables (batchId=212)
org.apache.hive.beeline.TestSchemaTool.testValidateSchemaVersions (batchId=212)
org.apache.hive.beeline.TestSchemaTool.testValidateSequences (batchId=212)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/3935/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/3935/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-3935/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 26 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12855970 - PreCommit-HIVE-Build, Again. [~prasanth_j] can you please review? A small patch, {code}
addAuxJarsToSet(auxJars, Utilities.getResourceFiles(conf, SessionState.ResourceType.JAR));
{code}
These are jars added to session. Not sure if this will qualify as AUX jars. There is a separate config for this HIVEADDEDJARS. Should there be separate llap service driver option for added jars?

For the actual aux jars (not added jars), SessionState.get().getReloadableAuxJars() can be used.

{code}
addAuxJarsToSet(auxJars, HiveConf.getVar(conf, HiveConf.ConfVars.HIVEAUXJARS));
{code}
From a quick look, this conf object seems to be HiveConf. If so conf.getAuxJars() can be used.
, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12856362/HIVE-16076.01.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 40 failed/errored test(s), 10328 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[escape_comments] (batchId=229)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_table] (batchId=147)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=224)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_between_in] (batchId=119)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testAlterPartition (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testAlterTable (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testAlterViewParititon (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testColumnStatistics (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testComplexTable (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testComplexTypeApi (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testConcurrentMetastores (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testDBOwner (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testDBOwnerChange (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testDatabase (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testDatabaseLocation (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testDatabaseLocationWithPermissionProblems (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testDropTable (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testFilterLastPartition (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testFilterSinglePartition (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testFunctionWithResources (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testGetConfigValue (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testGetTableObjects (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testJDOPersistanceManagerCleanup (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testListPartitionNames (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testListPartitions (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testListPartitionsWihtLimitEnabled (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testNameMethods (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testPartition (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testPartitionFilter (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testRenamePartition (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testRetriableClientWithConnLifetime (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testSimpleFunction (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testSimpleTable (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testSimpleTypeApi (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testStatsFastTrivial (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testSynchronized (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testTableDatabase (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testTableFilter (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testTransactionalValidation (batchId=198)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testValidateTableCols (batchId=198)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/3979/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/3979/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-3979/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 40 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12856362 - PreCommit-HIVE-Build, [~prasanth_j] ADDEDJARS is actually set via Utilities.getResourceFiles(conf, SessionState.ResourceType.JAR). Fixing the rest, Updated the patch., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12856679/HIVE-16076.02.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 3 failed/errored test(s), 10332 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_table] (batchId=147)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=224)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_between_in] (batchId=119)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/4012/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/4012/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-4012/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12856679 - PreCommit-HIVE-Build, Utilities.getResourceFiles(conf, SessionState.ResourceType.JAR) will likely be a no-op since we won't have added jars in session when llap service driver is invoked. I think this can be removed on commit.

+1 otherwise, Committed to master with changes on commit as discussed. Thanks for the review!]