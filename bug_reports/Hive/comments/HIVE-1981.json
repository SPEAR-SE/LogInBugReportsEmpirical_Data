[Devaraj, can you please take a look?, This is probably caused by my patch for HIVE-1970. I'll take a look., I will take a look., Review request: https://reviews.apache.org/r/412/
, I am on latest trunk. Test fails both with or without the patch with exception:
{code}
$ ant package
$ ant test -Dtestcase=TestHadoop20SAuthBridge

  <testcase classname="org.apache.hadoop.hive.thrift.TestHadoop20SAuthBridge" name="testSaslWithHiveMetaStore" time="70.145">
    <error message="SOCKS: address type not supported" type="java.net.SocketException">java.net.SocketException: SOCKS: address type not supported
        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:613)
        at java.net.Socket.connect(Socket.java:529)
        at org.apache.hadoop.hive.thrift.TestHadoop20SAuthBridge.loopUntilHMSReady(TestHadoop20SAuthBridge.java:171)
        at org.apache.hadoop.hive.thrift.TestHadoop20SAuthBridge.testSaslWithHiveMetaStore(TestHadoop20SAuthBridge.java:98)
{code}, Carl's patch fixes it for me.  Ashutosh, I think you must be hitting something else.
, So, is the exception same which I posted here (without the patch) or that was something different?, Something different., +1.  Will commit.
, +1. It was failing on my mac. Passed successfully on my linux box. Probably my environment on mac is messed up., Carl, I'm getting a bunch of failures in TestJdbcDriver, all of the form:

{noformat}
java.sql.SQLException: Query returned non-zero code: 12, cause: FAILED: Hive Internal Error: java.lang.ClassNotFoundException(org.apache.hadoop.hive.ql.hooks.PreExecutePrinter) 

junit.framework.AssertionFailedError: java.sql.SQLException: Query returned non-zero code: 12, cause: FAILED: Hive Internal Error: java.lang.ClassNotFoundException(org.apache.hadoop.hive.ql.hooks.PreExecutePrinter)
at junit.framework.Assert.fail(Assert.java:47)
at org.apache.hadoop.hive.jdbc.TestJdbcDriver.setUp(TestJdbcDriver.java:92)
at junit.framework.TestCase.runBare(TestCase.java:125)
at junit.framework.TestResult$1.protect(TestResult.java:106)
at junit.framework.TestResult.runProtected(TestResult.java:124)
at junit.framework.TestResult.run(TestResult.java:109)
at junit.framework.TestCase.run(TestCase.java:118)
at junit.framework.TestSuite.runTest(TestSuite.java:208)
at junit.framework.TestSuite.run(TestSuite.java:203)
at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:422)
at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:931)
at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:785)
{noformat}
, Fixed as part of another commit (HIVE-1817).
]