[This patch adds a new thrift call to add partitions after they are moved in the MoveTask.  It is called by Hive.loadDynamicPartitions.  It also fixes the Initiator to not attempt to compact temp tables or partitioned tables when no partitions are present., 

{color:green}Overall{color}: +1 all checks pass

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12704984/HIVE-9977.patch

{color:green}SUCCESS:{color} +1 7774 tests passed

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3054/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3054/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3054/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12704984 - PreCommit-HIVE-TRUNK-Build, A few minor nits:
TestTxnHandler - unsed import
TestCompactor - unused iimport each of the new tests have "List<String> names = new ArrayList<>(partNames);" in each of them.  My IDE complains about empty <>.

+1
, Patch checked in.  I fixed the nits noted by Eugene.  I also fixed one of the tests that was updating a bucketing column as I believe Eugene is making that illegal (which it should be).  Thanks Eugene for the review., This issue has been fixed and released as part of the 1.2.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.]