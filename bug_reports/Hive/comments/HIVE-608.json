[+1

looks good - will commit if the tests pass, Added a test case. Also fixed the conversion order: For IF, we should convert double to string, instead of string to double.
, Committed. Thanks Zheng]