[From [~deepesh]

Steps to reproduce:
# Login as admin user (eg hrt_qa) and create a new role.
{noformat}
0: jdbc:hive2://hor8n19.gq1.ygridcore.net:100> set role ADMIN;
No rows affected (0.048 seconds)
0: jdbc:hive2://:10> create role TESTROLE;
No rows affected (0.081 seconds)
0: jdbc:hive2://:10> grant role TESTROLE to user hrt_1;
No rows affected (0.086 seconds)
0: jdbc:hive2://:10> show roles;
+-----------+
|   role    |
+-----------+
| ADMIN     |
| PUBLIC    |
| TESTROLE  |
|           |
+-----------+
4 rows selected (0.05 seconds)
{noformat}
# Login as public user hrt_1 and assume above role.
{noformat}
beeline> !connect jdbc:hive2://:10000 hrt_1 pwd
Connected to: Apache Hive (version 0.13.0.2.1.1.0-261)
Driver: Hive JDBC (version 0.13.0.2.1.1.0-261)
Transaction isolation: TRANSACTION_REPEATABLE_READ
0: jdbc:hive2://:10> show current roles;
+-----------+
|   role    |
+-----------+
| PUBLIC    |
| TESTROLE  |
|           |
+-----------+
3 rows selected (0.096 seconds)
0: jdbc:hive2://:10> set role testrole;
No rows affected (0.025 seconds)
0: jdbc:hive2://:10> show current roles;
+-----------+
|   role    |
+-----------+
| TESTROLE  |
|           |
+-----------+
2 rows selected (0.019 seconds)
{noformat}
This seems convenient as to not worry about case-sensitivity.
# But here is the problem. Try to create role "testrole" (earlier we created TESTROLE). On admin session (hrt_qa):
{noformat}
0: jdbc:hive2://:10> create role testrole;
No rows affected (0.15 seconds)
0: jdbc:hive2://:10> show roles;
+-----------+
|   role    |
+-----------+
| ADMIN     |
| PUBLIC    |
| TESTROLE  |
| testrole  |
|           |
+-----------+
5 rows selected (0.026 seconds)
0: jdbc:hive2://:10> drop role TESTROLE;
No rows affected (0.094 seconds)
0: jdbc:hive2://:10> show roles;
+-----------+
|   role    |
+-----------+
| ADMIN     |
| PUBLIC    |
| testrole  |
|           |
+-----------+
4 rows selected (0.026 seconds)
{noformat}

Above shows that create/drop role is case sensitive but "set role" is not. They should be all consistent (either they all are case sensitive or they are all case insensitive)., https://reviews.apache.org/r/19889/, 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12638137/HIVE-6796.patch

{color:red}ERROR:{color} -1 due to 3 failed/errored test(s), 5539 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_roles
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testShowRoleGrant
org.apache.hive.jdbc.TestJdbcDriver2.testShowRoleGrant
{noformat}

Test results: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2076/testReport
Console output: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2076/console

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12638137, 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12638430/HIVE-6796.3.patch

{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 5543 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketizedhiveinputformat
{noformat}

Test results: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2094/testReport
Console output: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2094/console

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12638430, +1, Committed to 0.13 & trunk.]