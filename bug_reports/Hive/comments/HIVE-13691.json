[Test results.
{noformat}
Test Name Duration Age
 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_memcheck	3.9 sec	1
 org.apache.hive.jdbc.TestSSL.testSSLConnectionWithURL	40 sec	1
 org.apache.hive.spark.client.TestSparkClient.testJobSubmission	2.1 sec	1
 org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testPreemptionQueueComparator	5 sec	1
 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ivyDownload	3.8 sec	2
 org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_queries	5 min 20 sec	3
 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_values_orig_table_use_metadata	51 sec	8
 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join32	6.1 sec	8
 org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static	1 min 40 sec	9
 org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_dynamic	1 min 21 sec	9
 org.apache.hive.minikdc.TestHiveAuthFactory.testStartTokenManagerForMemoryTokenStore	1.7 sec	9
 org.apache.hive.minikdc.TestHiveAuthFactory.testStartTokenManagerForDBTokenStore	0.45 sec	9
 org.apache.hive.minikdc.TestMiniHiveKdc.testLogin	1 min 38 sec	9
 org.apache.hadoop.hive.llap.tez.TestConverters.testFragmentSpecToTaskSpec	36 ms	29
 org.apache.hive.service.cli.session.TestHiveSessionImpl.testLeakOperationHandle	33 sec	29
 org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskCommunicator.testFinishableStateUpdateFailure	4 sec	42
 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_selectindate	17 sec	61
 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_avrocountemptytbl	12 sec	61
 org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_order_null	39 sec	61
 org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_join_with_different_encryption_keys	1 min 31 sec	61
 org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3	7.4 sec	61
 org.apache.hadoop.hive.cli.TestMinimrCliDriver.org.apache.hadoop.hive.cli.TestMinimrCliDriver	51 sec	61
{noformat}

Failures not related to the change.

[~wzheng] could you review please, Nit: there're some unnecessary imports in TxnHandler.java and TestTxnCommands2. Otherwise looks good. +1., patch 3 removes unused imports - no other changes, committed to branch-1 and master
thanks Wei for the review]