[The issue is in ext/cli.sh file

The single quotes in the following section of script is what is causing the issue
{noformat}
# Set old CLI as the default client
if [ -n '$USE_DEPRECATED_CLI' ]; then
  USE_DEPRECATED_CLI="true"
fi
{noformat}

In order to confirm

{noformat}
$ echo $USE_DEPRECATED_CLI
false
$ echo '$USE_DEPRECATED_CLI'
$USE_DEPRECATED_CLI
$
{noformat}

The fix should be to remove the single quotes around USE_DEPRECATED_CLI, Looks good.
+1, I don't think there is a test case that executes cli.sh, and tests were not executed either way. 
[~vihangk1] Should I commit this patch now?, Hi [~spena] I have tested the change manually it should work fine. There are anyways no tests which run cli.sh so I guess you can go ahead and commit it if it looks good to you. Thanks!]