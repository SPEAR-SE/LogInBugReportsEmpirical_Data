[This happens with JDK6. In JDK7, the following is returned:
{code}
FAILED: IllegalArgumentException Illegal character in scheme name at index 0: 'http://www.example.com
{code}

However, the tests (fs_default_name1/2.q) fail because of the diff., Problem found to be that getMessage() returns null from IllegalArgumentException instance, which is fixed in JDK7. The attached fix provides a workaround that gets the error msg from the underlying URISytntaxException. 

While the patch isn't elegant, it fixes the problem. The workaround is also needed to allow the two test cases to pass with both JDK6 and JDK7., Review board link: https://reviews.apache.org/r/12788/., 

{color:green}Overall{color}: +1 all checks pass

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12593301/HIVE-4899.patch

{color:green}SUCCESS:{color} +1 2646 tests passed

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/104/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/104/console

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
{noformat}

This message is automatically generated., +1, I committed this to trunk. Thanks Xuefu for the patch and Ashutosh for the review!, FAILURE: Integrated in Hive-trunk-hadoop2-ptest #55 (See [https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/55/])
HIVE-4899 - Hive returns non-meanful error message for ill-formed fs.default.name (Xuefu Zhang, Reviewed By: Ashutosh Chauhan) (brock: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1513229)
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java
* /hive/trunk/ql/src/test/results/clientnegative/fs_default_name1.q.out
* /hive/trunk/ql/src/test/results/clientnegative/fs_default_name2.q.out
, FAILURE: Integrated in Hive-trunk-hadoop1-ptest #125 (See [https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/125/])
HIVE-4899 - Hive returns non-meanful error message for ill-formed fs.default.name (Xuefu Zhang, Reviewed By: Ashutosh Chauhan) (brock: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1513229)
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java
* /hive/trunk/ql/src/test/results/clientnegative/fs_default_name1.q.out
* /hive/trunk/ql/src/test/results/clientnegative/fs_default_name2.q.out
, FAILURE: Integrated in Hive-trunk-hadoop2 #355 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/355/])
HIVE-4899 - Hive returns non-meanful error message for ill-formed fs.default.name (Xuefu Zhang, Reviewed By: Ashutosh Chauhan) (brock: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1513229)
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java
* /hive/trunk/ql/src/test/results/clientnegative/fs_default_name1.q.out
* /hive/trunk/ql/src/test/results/clientnegative/fs_default_name2.q.out
, SUCCESS: Integrated in Hive-trunk-h0.21 #2264 (See [https://builds.apache.org/job/Hive-trunk-h0.21/2264/])
HIVE-4899 - Hive returns non-meanful error message for ill-formed fs.default.name (Xuefu Zhang, Reviewed By: Ashutosh Chauhan) (brock: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1513229)
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java
* /hive/trunk/ql/src/test/results/clientnegative/fs_default_name1.q.out
* /hive/trunk/ql/src/test/results/clientnegative/fs_default_name2.q.out
, This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.]