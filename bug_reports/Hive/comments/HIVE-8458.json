[I think null check logic from  && to || 

So I changed.., "&&" part looks right. You can fix this by checking null prior to do something with mapPath and reducePath., Agree with Navis's suggestion.]