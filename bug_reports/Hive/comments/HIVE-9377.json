[This problem arises from because of what happens after PredicatePushDown. {{OpProcFactory.FilterPPD}} causes the Filter-operator to be replaced with a cloned instance, via {{FunctionRegistry.cloneGenericUDF()}}. Here's an excerpt:

{code:title=FunctionRegistry.java|borderStyle=solid}
    if (clonedUDF != null) {
      // Copy info that may be required in the new copy.
      // The SettableUDF calls below could be replaced using this mechanism as well.
      try {
        genericUDF.copyToNewInstance(clonedUDF);
      } catch (UDFArgumentException err) {
        throw new IllegalArgumentException(err);
      }
...
{code}

{{GenericUDFInFile}} doesn't implement {{copyToNewInstance()}}, so the clone remains uninitialized. When the next optimizer (after PPD, in this case the {{ConstantPropagate}}), we get an NPE.

The fix introduces an implementation for {{copyToNewInstance()}} that adopts/clones the members of GenericUDFInFile. I think it's safe to adopt the underlying ObjectInspector members, since the old Filter operator (and hence the Predicate/UDF) is discarded as part of PPD... but I'd like confirmation.
, Tentative fix., 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12692320/HIVE-9377.1.patch

{color:red}ERROR:{color} -1 due to 3 failed/errored test(s), 7315 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_histogram_numeric
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_percentile_approx_23
org.apache.hadoop.hive.ql.TestMTQueries.testMTQueries1
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2382/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2382/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2382/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12692320 - PreCommit-HIVE-TRUNK-Build, [~mithun] your assessment makes sense. +1, Committed to trunk. Thanks, Mithun!, Including fix to branch-1.0]