[[~Feng Yuan] I encountered the exactly same problem, how did you fix it at last? , {quote}diff --git a/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-nativetask/src/main/native/src/util/WritableUtils.cc b/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-nativetask/src/main/native/src/util/WritableUtils.cc
index 243668117b..0b120e1ac9 100644
--- a/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-nativetask/src/main/native/src/util/WritableUtils.cc
+++ b/hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-nativetask/src/main/native/src/util/WritableUtils.cc
@@ -29,6 +29,9 @@ KeyValueType JavaClassToKeyValueType(const std::string & clazz) {
 if (clazz == "org.apache.hadoop.io.BytesWritable") {
 return BytesType;
 }
+ if (clazz == "org.apache.hadoop.hive.ql.io.HiveKey") {
+ return BytesType;
+ }
 if (clazz == "org.apache.hadoop.io.ByteWritable") {
 return ByteType;
 }
{quote}
 

 

the patch works for me~ , !image-2018-04-08-20-00-58-680.png!]