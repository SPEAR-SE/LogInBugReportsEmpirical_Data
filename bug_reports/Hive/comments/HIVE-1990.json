[Adjust logging path to new class location., For Hadoop 0.20.100 see HADOOP-7108, Joep,

This will fix your problem with 0.20.100, but won't it result in exact same problem on other hadoop versions?, Good point Ashutosh. This change does not seem to break unit tests, but would indeed break when running with Hadoop 0.17, 0.18, 0.29, or plain 0.20.

I see three options:
1) Leave this as a standalone for who wants to run against 0.20.100. In those cases it is unlikely that they'll ever run against the other shimmed in versions anyway. Your cluster is more likely to be either one of the other.

2) File a bug against Hadoop 0.20.100 to see if there is apetite to move Metrics back to o.a.h.metrics.jvm

3) Build in more sophistication into the build to be able to pick one config file or the other, depending on the version of Hadoop.

(options are in increasing level of effort).

, This is kind of tricky. It has been stated that Hive trunk currently supports only 20 and 20-secure (someone can correct me here if its not correct). Since there was no official apache release for hadoop-0.20 yet, Hive relied on 0.20.3-CDH3-SNAPSHOT for security integration which didn't have this issue. But, now with official Apache release knocking on door (0.20.100) we should probably switch over to that and then we need to commit this fix. , I meant no official apache release for hadoop-0.20-secure yet., One potential solution is to use shims mechanism to specify different logging settings for different hadoop versions., With this patch we've been able to run Hive successfully in production against Hadoop 0.20-security for a while. I'll have to see if the same change is needed to make Hive run against Hadoop 0.22 as well., Fixed via HIVE-3428]