[This patch fixes the problem. It also adds a serialization interface for SearchArguments, which is needed for testing the fix., 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12638338/HIVE-6818.patch

{color:red}ERROR:{color} -1 due to 3 failed/errored test(s), 5543 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_smb_mapjoin_8
{noformat}

Test results: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2099/testReport
Console output: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2099/console

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12638338, Is new argument solely for testing? It seems like a bad idea to add to production code, Sergey,
  My intention is to replace the current xml ast with the serialized SearchArgument. The serialized SearchArgument is much more compact and focused on predicate pushdown. However, in order for that to happen, we need to transition the clients from the old format to the new one. So, yes, the immediate patch only uses it for testing, but it should over time become the mainline path., Can you add comment about that on commit? Otherwise +1, The three failures are unrelated and pass when I run it locally. I'll commit this after the 24 hours., Thanks for the review, Sergey!

I just committed this.]