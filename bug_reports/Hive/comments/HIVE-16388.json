[Note: 
1) Time based GC log rotation is not natively supported by JVM. So for the GC logs, only size based rotation can set the timestamp on the filenames. For all other log4j generated files, files get rotated every hour or every 256MB whichever happens first.
2) The configuration is written to STDERR. The same can be achieved with log4j's marker filter + appender ref but doing it in code is easier (also attach the timezone info to log line).
3) History logs are now rotated every hour instead of every day

[~sseth] can you please review?, Hmm... why (3)?, For easier time based log retrieval. We can look for file patterns for a specific hour using yarn logs command., Heh, my previous experience was that when there were issues in log aggregation, the files that were the most useful were the history logs because they survived thanks to their monolithic nature. They are pretty small so I'm not sure it's a problem to have a file per day .I guess it may make sense for some specific use cases. 
+1 pending tests, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12862169/HIVE-16388.1.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 4 failed/errored test(s), 10579 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[drop_with_concurrency] (batchId=235)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[escape_comments] (batchId=235)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=143)
org.apache.hive.jdbc.TestJdbcDriver2.testResultSetMetaData (batchId=221)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/4570/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/4570/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-4570/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12862169 - PreCommit-HIVE-Build, Is it possible to use a custom log level instead of WARN for the daemon startup message? WARN can be confused for an error. (Nice to have more than anything else)., Adding LlapDaemon to INFO level in log4j properties. So even if we configure the root logger with WARN, configuration logs will end up being written to log file. , 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12862561/HIVE-16388.2.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 3 failed/errored test(s), 10561 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[drop_with_concurrency] (batchId=234)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[escape_comments] (batchId=234)
org.apache.hive.jdbc.TestJdbcDriver2.testResultSetMetaData (batchId=221)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/4615/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/4615/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-4615/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12862561 - PreCommit-HIVE-Build, [~sseth] does the new changes look good to you? , +1, Test failures are unrelated and are already happening in master.
Committed to master. Thanks for the reviews!, Hive 3.0.0 has been released so closing this jira.]