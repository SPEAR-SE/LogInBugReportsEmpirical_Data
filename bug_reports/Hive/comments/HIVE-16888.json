[

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12872818/HIVE-16888.01.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 295 failed/errored test(s), 10830 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_index] (batchId=228)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_predicate_pushdown] (batchId=228)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_queries] (batchId=228)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[annotate_stats_filter] (batchId=8)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[annotate_stats_part] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join12] (batchId=23)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join16] (batchId=38)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join4] (batchId=67)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join5] (batchId=69)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join8] (batchId=81)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[avro_date] (batchId=9)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cast_on_constant] (batchId=23)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_input26] (batchId=2)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_annotate_stats_groupby] (batchId=80)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_auto_join17] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_auto_join1] (batchId=3)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_cross_product_check_2] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_gby2_map_multi_distinct] (batchId=78)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_groupby3_noskew_multi_distinct] (batchId=37)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_join0] (batchId=47)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_outer_join_ppr] (batchId=7)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_union_view] (batchId=20)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[char_cast] (batchId=84)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[char_nested_types] (batchId=62)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[column_pruner_multiple_children] (batchId=21)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[constantPropagateForSubQuery] (batchId=60)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[constprog_dp] (batchId=18)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[create_genericudf] (batchId=32)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ctas_date] (batchId=1)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_1] (batchId=81)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_2] (batchId=52)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_3] (batchId=33)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_4] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_6] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_mat_1] (batchId=31)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_mat_2] (batchId=45)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_mat_3] (batchId=23)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_mat_4] (batchId=6)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_mat_5] (batchId=2)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[date_1] (batchId=76)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[date_4] (batchId=46)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[date_udf] (batchId=30)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[druid_basic2] (batchId=11)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[druid_intervals] (batchId=22)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[druid_timeseries] (batchId=56)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[druid_topn] (batchId=3)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dynamic_rdd_cache] (batchId=51)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[explain_logical] (batchId=62)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[extrapolate_part_stats_date] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[fold_case] (batchId=14)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[fold_eq_with_case_when] (batchId=76)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[fold_when] (batchId=26)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[fouter_join_ppr] (batchId=30)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_position] (batchId=37)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_ppr_multi_distinct] (batchId=55)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_sort_1_23] (batchId=74)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_sort_skew_1_23] (batchId=8)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_auto_mult_tables] (batchId=81)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_auto_mult_tables_compact] (batchId=34)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_auto_unused] (batchId=37)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_stale_partitioned] (batchId=17)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input23] (batchId=44)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input25] (batchId=43)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input26] (batchId=78)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input42] (batchId=71)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input6] (batchId=84)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part0] (batchId=22)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part1] (batchId=8)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part3] (batchId=84)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part4] (batchId=63)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part5] (batchId=37)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part8] (batchId=29)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part9] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[interval_3] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[interval_alt] (batchId=4)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[interval_arithmetic] (batchId=45)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join12] (batchId=39)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join16] (batchId=29)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join4] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join5] (batchId=66)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join8] (batchId=45)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join_filters_overlap] (batchId=33)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join_view] (batchId=76)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[json_serde1] (batchId=33)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[keyword_3] (batchId=69)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[limit_partition_metadataonly] (batchId=59)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_11] (batchId=18)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_12] (batchId=47)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_13] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_14] (batchId=18)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_1] (batchId=17)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_2] (batchId=12)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_3] (batchId=14)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_4] (batchId=14)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_5] (batchId=36)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_6] (batchId=30)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_7] (batchId=52)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_8] (batchId=69)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_9] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_query_multiskew_1] (batchId=43)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_query_multiskew_2] (batchId=66)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_query_multiskew_3] (batchId=75)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[louter_join_ppr] (batchId=41)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_4] (batchId=25)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[merge_dynamic_partition] (batchId=40)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[nonmr_fetch] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[nonmr_fetch_threshold] (batchId=77)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_ppd_char] (batchId=10)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[outer_join_ppr] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_char] (batchId=9)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_date] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_decimal] (batchId=9)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_varchar] (batchId=11)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[partition_date] (batchId=14)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[partition_type_check] (batchId=74)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[partition_type_in_plan] (batchId=67)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[pcr] (batchId=57)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[pointlookup2] (batchId=77)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[pointlookup3] (batchId=6)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_gby2] (batchId=82)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_gby] (batchId=36)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_gby_join] (batchId=35)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_join] (batchId=35)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_outer_join1] (batchId=41)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_outer_join2] (batchId=30)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_outer_join3] (batchId=44)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_outer_join4] (batchId=63)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_udf_case] (batchId=41)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_udf_col] (batchId=32)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_union] (batchId=45)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_vc] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[query_result_fileformat] (batchId=20)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[quote1] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[quotedid_basic] (batchId=57)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[quotedid_partition] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[rand_partitionpruner2] (batchId=52)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[rand_partitionpruner3] (batchId=75)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[rcfile_null_value] (batchId=26)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[router_join_ppr] (batchId=75)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[selectindate] (batchId=59)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[set_variable_sub] (batchId=25)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[stats1] (batchId=14)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[stats_empty_partition] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[truncate_column_list_bucket] (batchId=80)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf1] (batchId=80)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf5] (batchId=10)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf6] (batchId=50)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf9] (batchId=76)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_10_trims] (batchId=66)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_concat_insert2] (batchId=16)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_lower] (batchId=18)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_parse_url] (batchId=18)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union17] (batchId=68)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union18] (batchId=16)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union19] (batchId=57)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union20] (batchId=5)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union32] (batchId=27)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union33] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union6] (batchId=29)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_offcbo] (batchId=43)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_remove_25] (batchId=83)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_view] (batchId=14)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[updateBasicStats] (batchId=59)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[varchar_cast] (batchId=56)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[varchar_nested_types] (batchId=78)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_char_mapjoin1] (batchId=31)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_date_1] (batchId=20)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_decimal_1] (batchId=75)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_decimal_expressions] (batchId=50)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_elt] (batchId=34)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_interval_1] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_interval_arithmetic] (batchId=4)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_outer_join3] (batchId=32)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_string_concat] (batchId=31)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_varchar_mapjoin1] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorized_casts] (batchId=78)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorized_date_funcs] (batchId=72)
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver[udf_example_format] (batchId=231)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[hbase_ppd_key_range] (batchId=93)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[hbase_queries] (batchId=94)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[ppd_key_ranges] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[cte_2] (batchId=141)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[cte_4] (batchId=142)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[explainuser_2] (batchId=142)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=140)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[unionDistinct_1] (batchId=141)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[autoColumnStats_1] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[autoColumnStats_2] (batchId=160)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[auto_smb_mapjoin_14] (batchId=155)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[auto_sortmerge_join_9] (batchId=157)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[bucket_map_join_tez2] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[bucketpruning1] (batchId=160)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cbo_rp_lineage2] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cbo_rp_unionDistinct_2] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cbo_rp_windowing_2] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cte_1] (batchId=160)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[current_date_timestamp] (batchId=153)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[dynamic_partition_pruning] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[dynpart_sort_optimization] (batchId=154)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_ppd_date] (batchId=152)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_ppd_decimal] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_ppd_varchar] (batchId=157)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[partition_multilevels] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[partition_shared_scan] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[ppd_union_view] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[semijoin_hint] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[smb_mapjoin_14] (batchId=156)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[stats_based_fetch_decision] (batchId=158)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[subquery_in] (batchId=156)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[subquery_notin] (batchId=157)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[subquery_scalar] (batchId=152)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[tez_self_join] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[tez_union_multiinsert] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[union6] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_auto_smb_mapjoin_14] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_between_in] (batchId=155)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_char_mapjoin1] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_date_1] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_decimal_1] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_decimal_2] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_decimal_expressions] (batchId=154)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_elt] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_interval_1] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_interval_2] (batchId=157)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_interval_arithmetic] (batchId=144)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_outer_join3] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_string_concat] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_udf1] (batchId=155)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_varchar_mapjoin1] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorization_0] (batchId=160)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorized_casts] (batchId=160)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorized_date_funcs] (batchId=158)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorized_dynamic_partition_pruning] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[constprog_semijoin] (batchId=168)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[vector_outer_join3] (batchId=167)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=99)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_map_operators] (batchId=86)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query16] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query1] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query30] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query6] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query81] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query94] (batchId=232)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join12] (batchId=110)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join16] (batchId=116)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join4] (batchId=130)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join5] (batchId=131)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join8] (batchId=136)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_smb_mapjoin_14] (batchId=125)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_9] (batchId=128)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[bucket_map_join_tez2] (batchId=105)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[date_udf] (batchId=114)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[dynamic_rdd_cache] (batchId=123)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[groupby_position] (batchId=116)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[groupby_ppr_multi_distinct] (batchId=124)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[groupby_sort_1_23] (batchId=134)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[groupby_sort_skew_1_23] (batchId=104)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join12] (batchId=117)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join16] (batchId=113)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join4] (batchId=127)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join5] (batchId=129)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join8] (batchId=120)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join_filters_overlap] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join_view] (batchId=135)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[limit_partition_metadataonly] (batchId=126)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[list_bucket_dml_2] (batchId=105)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[louter_join_ppr] (batchId=118)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[outer_join_ppr] (batchId=109)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[pcr] (batchId=125)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_gby_join] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_join] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_outer_join1] (batchId=118)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_outer_join2] (batchId=114)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_outer_join3] (batchId=119)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_outer_join4] (batchId=128)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[router_join_ppr] (batchId=134)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[smb_mapjoin_14] (batchId=126)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[stats1] (batchId=106)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[subquery_in] (batchId=127)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union17] (batchId=130)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union18] (batchId=107)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union19] (batchId=125)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union20] (batchId=102)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union32] (batchId=113)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union33] (batchId=111)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union6] (batchId=113)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union_remove_25] (batchId=138)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union_view] (batchId=106)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_between_in] (batchId=124)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_elt] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_string_concat] (batchId=114)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vectorization_0] (batchId=135)
org.apache.hive.jdbc.TestJdbcDriver2.testPrepareSetDate (batchId=224)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/5635/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/5635/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-5635/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 295 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12872818 - PreCommit-HIVE-Build, [~rusanu], are all those errors something we should worry about? I will be pushing a couple of issues today and then we should be ready to release 1.13, but it would be good to know if there is any blocker. Thanks, [~jcamachorodriguez] I will look into it asap. I was side-tracked with the on-call rotation stuff and did not find time to investigate these failures., The diffs I looked at seem legit, eg:
{noformat}
-              predicate: ((UDFToDouble(key) < 100.0) and (UDFToDouble(key) < 80.0)) (type: boolean)
-              Statistics: Num rows: 55 Data size: 584 Basic stats: COMPLETE Column stats: NONE
+              predicate: (UDFToDouble(key) < 80.0) (type: boolean)
+              Statistics: Num rows: 166 Data size: 1763 Basic stats: COMPLETE Column stats: NONE
{noformat}
I'll update some golden files and do a new run, Another frequent diff is:
{noformat}
-              expressions: _col0 (type: string), '11' (type: string)
+              expressions: _col0 (type: string), '11' (type: varchar(65535))
{noformat}
Looks like string literals are now recognized as {{VARCHAR(65535)}}, [~jcamachorodriguez] this failure seems more serious:

{noformat}
2017-06-20T06:09:25,430 ERROR [a85d0a12-3cb2-451b-b09a-b0ee528d6af9 main] parse.CalcitePlanner: CBO failed, skipping CBO. 
org.apache.hadoop.hive.ql.exec.UDFArgumentTypeException: Only numeric or string type arguments are accepted but varchar(65535) is passed.
	at org.apache.hadoop.hive.ql.udf.generic.GenericUDAFStdSample.getEvaluator(GenericUDAFStdSample.java:65) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.udf.generic.AbstractGenericUDAFResolver.getEvaluator(AbstractGenericUDAFResolver.java:47) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.exec.FunctionRegistry.getGenericUDAFEvaluator(FunctionRegistry.java:982) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.getGenericUDAFEvaluator(SemanticAnalyzer.java:4640) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.optimizer.calcite.translator.HiveGBOpConvUtil.getGBInfo(HiveGBOpConvUtil.java:269) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.optimizer.calcite.translator.HiveGBOpConvUtil.translateGB(HiveGBOpConvUtil.java:289) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
{noformat}
This is the {{string}}->{{VARCHAR(65535)}} type change having Hive side effects
, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12873663/HIVE-16888.02.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 311 failed/errored test(s), 10833 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_index] (batchId=228)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_predicate_pushdown] (batchId=228)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_queries] (batchId=228)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[create_merge_compressed] (batchId=237)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[escape_comments] (batchId=237)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[insert_overwrite_local_directory_1] (batchId=237)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[mapjoin2] (batchId=237)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[materialized_view_create_rewrite] (batchId=237)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[smb_mapjoin_7] (batchId=237)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[udf_unix_timestamp] (batchId=237)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[annotate_stats_filter] (batchId=8)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[annotate_stats_part] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join12] (batchId=23)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join16] (batchId=38)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join4] (batchId=67)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join5] (batchId=69)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join8] (batchId=81)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[avro_date] (batchId=9)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cast_on_constant] (batchId=23)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_input26] (batchId=2)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_annotate_stats_groupby] (batchId=80)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_auto_join17] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_auto_join1] (batchId=3)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_cross_product_check_2] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_gby2_map_multi_distinct] (batchId=78)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_groupby3_noskew_multi_distinct] (batchId=37)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_join0] (batchId=47)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_outer_join_ppr] (batchId=7)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_union_view] (batchId=20)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[char_cast] (batchId=84)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[char_nested_types] (batchId=63)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[column_pruner_multiple_children] (batchId=21)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[constantPropagateForSubQuery] (batchId=60)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[constprog_dp] (batchId=18)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[create_genericudf] (batchId=32)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ctas_date] (batchId=1)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_1] (batchId=81)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_2] (batchId=52)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_3] (batchId=33)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_4] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_6] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_mat_1] (batchId=31)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_mat_2] (batchId=45)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_mat_3] (batchId=23)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_mat_4] (batchId=6)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cte_mat_5] (batchId=2)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[date_1] (batchId=76)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[date_4] (batchId=46)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[date_udf] (batchId=30)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[druid_basic2] (batchId=11)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[druid_intervals] (batchId=22)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[druid_timeseries] (batchId=56)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[druid_topn] (batchId=3)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dynamic_rdd_cache] (batchId=51)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[explain_logical] (batchId=62)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[extrapolate_part_stats_date] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[fold_case] (batchId=14)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[fold_eq_with_case_when] (batchId=77)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[fold_when] (batchId=26)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[fouter_join_ppr] (batchId=30)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_position] (batchId=38)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_ppr_multi_distinct] (batchId=55)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_sort_1_23] (batchId=74)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_sort_skew_1_23] (batchId=8)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_auto_mult_tables] (batchId=81)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_auto_mult_tables_compact] (batchId=34)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_auto_unused] (batchId=37)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_stale_partitioned] (batchId=17)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input23] (batchId=44)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input25] (batchId=43)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input26] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input42] (batchId=71)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input6] (batchId=84)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part0] (batchId=22)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part1] (batchId=8)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part3] (batchId=84)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part4] (batchId=63)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part5] (batchId=37)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part8] (batchId=29)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part9] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[interval_3] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[interval_alt] (batchId=4)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[interval_arithmetic] (batchId=45)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join12] (batchId=39)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join16] (batchId=29)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join4] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join5] (batchId=66)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join8] (batchId=45)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join_filters_overlap] (batchId=33)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join_view] (batchId=76)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[json_serde1] (batchId=33)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[keyword_3] (batchId=69)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[limit_partition_metadataonly] (batchId=59)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_11] (batchId=18)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_12] (batchId=47)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_13] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_14] (batchId=18)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_1] (batchId=17)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_2] (batchId=12)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_3] (batchId=14)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_4] (batchId=14)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_5] (batchId=36)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_6] (batchId=30)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_7] (batchId=52)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_8] (batchId=69)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_9] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_query_multiskew_1] (batchId=43)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_query_multiskew_2] (batchId=66)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_query_multiskew_3] (batchId=75)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[louter_join_ppr] (batchId=41)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_4] (batchId=25)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[materialized_view_create_rewrite] (batchId=2)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[materialized_view_create_rewrite_multi_db] (batchId=64)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[merge_dynamic_partition] (batchId=40)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[nonmr_fetch] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[nonmr_fetch_threshold] (batchId=77)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_ppd_char] (batchId=10)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[outer_join_ppr] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_char] (batchId=9)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_date] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_decimal] (batchId=9)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_varchar] (batchId=11)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[partition_date] (batchId=14)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[partition_type_check] (batchId=74)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[partition_type_in_plan] (batchId=67)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[pcr] (batchId=57)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[pointlookup2] (batchId=77)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[pointlookup3] (batchId=6)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_gby2] (batchId=82)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_gby] (batchId=36)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_gby_join] (batchId=35)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_join] (batchId=35)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_outer_join1] (batchId=41)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_outer_join2] (batchId=30)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_outer_join3] (batchId=44)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_outer_join4] (batchId=63)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_udf_case] (batchId=41)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_udf_col] (batchId=32)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_union] (batchId=45)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_vc] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[query_result_fileformat] (batchId=20)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[quote1] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[quotedid_basic] (batchId=57)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[quotedid_partition] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[rand_partitionpruner2] (batchId=52)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[rand_partitionpruner3] (batchId=75)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[rcfile_null_value] (batchId=26)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[router_join_ppr] (batchId=76)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[selectindate] (batchId=59)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[set_variable_sub] (batchId=25)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[stats1] (batchId=14)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[stats_empty_partition] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[truncate_column_list_bucket] (batchId=80)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf1] (batchId=80)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf5] (batchId=10)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf6] (batchId=50)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf9] (batchId=76)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_10_trims] (batchId=66)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_concat_insert2] (batchId=16)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_lower] (batchId=18)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_parse_url] (batchId=18)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union17] (batchId=68)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union18] (batchId=16)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union19] (batchId=57)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union20] (batchId=5)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union32] (batchId=27)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union33] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union6] (batchId=29)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_offcbo] (batchId=43)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_remove_25] (batchId=83)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_view] (batchId=14)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[updateBasicStats] (batchId=59)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[varchar_cast] (batchId=56)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[varchar_nested_types] (batchId=78)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_char_mapjoin1] (batchId=31)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_date_1] (batchId=20)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_decimal_1] (batchId=75)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_decimal_expressions] (batchId=50)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_elt] (batchId=34)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_interval_1] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_interval_arithmetic] (batchId=4)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_outer_join3] (batchId=32)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_string_concat] (batchId=31)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_varchar_mapjoin1] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorized_casts] (batchId=78)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorized_date_funcs] (batchId=72)
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver[udf_example_format] (batchId=231)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[hbase_ppd_key_range] (batchId=93)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[hbase_queries] (batchId=94)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[ppd_key_ranges] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[cte_2] (batchId=141)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[cte_4] (batchId=142)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[explainuser_2] (batchId=142)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=140)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[unionDistinct_1] (batchId=141)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[autoColumnStats_1] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[autoColumnStats_2] (batchId=160)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[auto_smb_mapjoin_14] (batchId=155)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[auto_sortmerge_join_9] (batchId=157)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[bucket_map_join_tez2] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[bucketpruning1] (batchId=160)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cbo_rp_lineage2] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cbo_rp_unionDistinct_2] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cbo_rp_windowing_2] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cte_1] (batchId=160)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[current_date_timestamp] (batchId=153)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[dynamic_partition_pruning] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[dynpart_sort_optimization] (batchId=154)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_ppd_date] (batchId=152)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_ppd_decimal] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_ppd_varchar] (batchId=157)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[partition_multilevels] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[partition_shared_scan] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[ppd_union_view] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[semijoin_hint] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[smb_mapjoin_14] (batchId=156)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[stats_based_fetch_decision] (batchId=158)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[subquery_in] (batchId=156)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[subquery_notin] (batchId=157)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[subquery_scalar] (batchId=152)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[tez_self_join] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[tez_smb_main] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[tez_union_multiinsert] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[union6] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_auto_smb_mapjoin_14] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_between_in] (batchId=155)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_char_mapjoin1] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_date_1] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_decimal_1] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_decimal_2] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_decimal_expressions] (batchId=154)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_elt] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_interval_1] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_interval_2] (batchId=157)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_interval_arithmetic] (batchId=144)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_outer_join3] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_string_concat] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_udf1] (batchId=155)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_varchar_mapjoin1] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorization_0] (batchId=160)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorized_casts] (batchId=160)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorized_date_funcs] (batchId=158)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorized_dynamic_partition_pruning] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[constprog_semijoin] (batchId=168)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[vector_outer_join3] (batchId=167)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=99)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_map_operators] (batchId=86)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query16] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query1] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query30] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query6] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query81] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query94] (batchId=232)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join12] (batchId=110)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join16] (batchId=116)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join4] (batchId=130)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join5] (batchId=131)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join8] (batchId=136)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_smb_mapjoin_14] (batchId=125)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_9] (batchId=128)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[bucket_map_join_tez2] (batchId=105)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[date_udf] (batchId=114)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[dynamic_rdd_cache] (batchId=123)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[groupby_position] (batchId=116)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[groupby_ppr_multi_distinct] (batchId=124)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[groupby_sort_1_23] (batchId=134)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[groupby_sort_skew_1_23] (batchId=104)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join12] (batchId=117)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join16] (batchId=113)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join4] (batchId=127)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join5] (batchId=129)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join8] (batchId=120)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join_filters_overlap] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join_view] (batchId=135)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[limit_partition_metadataonly] (batchId=126)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[list_bucket_dml_2] (batchId=105)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[louter_join_ppr] (batchId=118)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[outer_join_ppr] (batchId=109)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[pcr] (batchId=125)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_gby_join] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_join] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_outer_join1] (batchId=118)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_outer_join2] (batchId=114)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_outer_join3] (batchId=119)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_outer_join4] (batchId=128)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[router_join_ppr] (batchId=134)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[smb_mapjoin_14] (batchId=126)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[stats1] (batchId=106)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[subquery_in] (batchId=127)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union17] (batchId=130)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union18] (batchId=107)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union19] (batchId=125)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union20] (batchId=102)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union32] (batchId=113)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union33] (batchId=111)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union6] (batchId=113)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union_remove_25] (batchId=138)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union_view] (batchId=106)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_between_in] (batchId=124)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_elt] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_string_concat] (batchId=114)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vectorization_0] (batchId=135)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testBootstrapFunctionReplication (batchId=216)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testCreateFunctionIncrementalReplication (batchId=216)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testCreateFunctionWithFunctionBinaryJarsOnHDFS (batchId=216)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionRegistrationWithCustomSchema (batchId=177)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionSpecRegistrationWithCustomSchema (batchId=177)
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation (batchId=177)
org.apache.hive.jdbc.TestJdbcDriver2.testPrepareSetDate (batchId=224)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/5691/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/5691/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-5691/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 311 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12873663 - PreCommit-HIVE-Build, [~rusanu], indeed that one seems more serious. I do not know exactly where the change originates, but probably we should not be transforming that type.

If it turns out to be positive for some cases (maybe constant folding?), a possible fix would be translating the type VARCHAR(65535) into STRING when we move go from Calcite to Hive., Change of type string -> varchar(65535) cannot be assume to be safe. They are different types. Calcite doesn't have a String type. So, Hive has special logic on how to represent String type in Calcite. See, RexNodeConverter.java, ExprNodeConverter and TypeConverter.
It should be investigated why this change occurred., Patch.03 is considering VARCHAR(HiveTypeSystemImpl.MAX_VARCHAR_PRECISION)  as TOK_STRING in TypeConverter.hiveToken
The Calcite 1.13 literals now come as a CAST(... AS VARCHAR()) and the existing type conversion only considered TOK_STRING for VARCHAR(Integer.MAX_VALUE), 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12874085/HIVE-16888.03.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 155 failed/errored test(s), 10846 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_index] (batchId=229)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_predicate_pushdown] (batchId=229)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_queries] (batchId=229)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[create_merge_compressed] (batchId=238)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[escape_comments] (batchId=238)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[insert_overwrite_local_directory_1] (batchId=238)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[mapjoin2] (batchId=238)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[materialized_view_create_rewrite] (batchId=238)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[smb_mapjoin_7] (batchId=238)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[udf_unix_timestamp] (batchId=238)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join12] (batchId=23)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join16] (batchId=38)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join4] (batchId=67)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join5] (batchId=69)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join8] (batchId=81)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[avro_date] (batchId=9)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cast_on_constant] (batchId=23)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_annotate_stats_groupby] (batchId=80)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_auto_join17] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_auto_join1] (batchId=3)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_cross_product_check_2] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_gby2_map_multi_distinct] (batchId=78)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_groupby3_noskew_multi_distinct] (batchId=37)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_join0] (batchId=47)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_outer_join_ppr] (batchId=7)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[char_cast] (batchId=84)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ctas_date] (batchId=1)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[date_1] (batchId=76)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[date_4] (batchId=46)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[date_udf] (batchId=30)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[druid_basic2] (batchId=11)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[druid_intervals] (batchId=22)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[druid_timeseries] (batchId=56)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[druid_topn] (batchId=3)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[extrapolate_part_stats_date] (batchId=20)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[filter_union] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[fold_eq_with_case_when] (batchId=77)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[fouter_join_ppr] (batchId=31)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_position] (batchId=38)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_ppr_multi_distinct] (batchId=55)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_auto_mult_tables] (batchId=81)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_auto_mult_tables_compact] (batchId=34)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[interval_3] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[interval_alt] (batchId=4)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[interval_arithmetic] (batchId=45)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join12] (batchId=39)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join16] (batchId=29)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join4] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join5] (batchId=66)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join8] (batchId=45)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join_filters_overlap] (batchId=33)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[json_serde1] (batchId=33)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[louter_join_ppr] (batchId=41)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_4] (batchId=25)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[materialized_view_create_rewrite] (batchId=2)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[materialized_view_create_rewrite_multi_db] (batchId=64)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_ppd_char] (batchId=10)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[outer_join_ppr] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_char] (batchId=9)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_date] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_decimal] (batchId=9)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_varchar] (batchId=11)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[partition_date] (batchId=14)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[partition_type_check] (batchId=74)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[partition_type_in_plan] (batchId=67)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_gby2] (batchId=82)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_gby] (batchId=36)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_gby_join] (batchId=35)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_join] (batchId=35)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_outer_join1] (batchId=41)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_outer_join2] (batchId=30)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_outer_join3] (batchId=44)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_outer_join4] (batchId=63)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_union] (batchId=45)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_vc] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[rcfile_null_value] (batchId=26)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[router_join_ppr] (batchId=76)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[selectindate] (batchId=59)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf5] (batchId=10)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf9] (batchId=76)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[varchar_cast] (batchId=57)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_date_1] (batchId=20)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_interval_1] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_interval_arithmetic] (batchId=4)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorized_date_funcs] (batchId=72)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[hbase_ppd_key_range] (batchId=93)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[hbase_queries] (batchId=94)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[ppd_key_ranges] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[auto_smb_mapjoin_14] (batchId=156)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[auto_sortmerge_join_9] (batchId=158)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[bucket_map_join_tez2] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cbo_rp_lineage2] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cbo_rp_unionDistinct_2] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cbo_rp_windowing_2] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[columnstats_part_coltype] (batchId=158)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[current_date_timestamp] (batchId=154)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[filter_union] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_ppd_date] (batchId=153)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_ppd_decimal] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_ppd_varchar] (batchId=158)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[semijoin_hint] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[smb_mapjoin_14] (batchId=157)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[subquery_scalar] (batchId=153)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[tez_smb_main] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_auto_smb_mapjoin_14] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_between_in] (batchId=156)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_date_1] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_interval_1] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_interval_2] (batchId=158)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_interval_arithmetic] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorized_date_funcs] (batchId=159)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query16] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query1] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query30] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query6] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query81] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query94] (batchId=233)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join12] (batchId=110)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join16] (batchId=116)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join4] (batchId=130)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join5] (batchId=131)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join8] (batchId=137)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_smb_mapjoin_14] (batchId=125)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_9] (batchId=128)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[bucket_map_join_tez2] (batchId=105)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[date_udf] (batchId=114)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[groupby_position] (batchId=116)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[groupby_ppr_multi_distinct] (batchId=124)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join12] (batchId=117)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join16] (batchId=113)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join4] (batchId=127)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join5] (batchId=129)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join8] (batchId=120)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join_filters_overlap] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[louter_join_ppr] (batchId=118)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[outer_join_ppr] (batchId=109)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_gby_join] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_join] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_outer_join1] (batchId=118)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_outer_join2] (batchId=114)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_outer_join3] (batchId=119)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_outer_join4] (batchId=128)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[router_join_ppr] (batchId=134)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[smb_mapjoin_14] (batchId=126)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union24] (batchId=125)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_between_in] (batchId=124)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testBootstrapFunctionReplication (batchId=217)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testCreateFunctionIncrementalReplication (batchId=217)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testCreateFunctionWithFunctionBinaryJarsOnHDFS (batchId=217)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionRegistrationWithCustomSchema (batchId=178)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionSpecRegistrationWithCustomSchema (batchId=178)
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation (batchId=178)
org.apache.hive.jdbc.TestJdbcDriver2.testPrepareSetDate (batchId=225)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/5732/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/5732/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-5732/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 155 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12874085 - PreCommit-HIVE-Build, I'm going through safe golden files updates (ie. better reduced predicates) and I'll put a new patch soon to see only more problematic diffs (result difs and some Tez graph diffs), patch 04 rebased to current master and updated ~50 GF with diffs only in more aggressive predicate reduction ({{key > 10 and key > 15}} -> {{key > 15}}), Patch 05 user 1.13.0-RC0, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12874230/HIVE-16888.05.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 105 failed/errored test(s), 10846 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_index] (batchId=229)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_predicate_pushdown] (batchId=229)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_queries] (batchId=229)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[create_merge_compressed] (batchId=238)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[escape_comments] (batchId=238)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[insert_overwrite_local_directory_1] (batchId=238)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[mapjoin2] (batchId=238)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[materialized_view_create_rewrite] (batchId=238)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[smb_mapjoin_7] (batchId=238)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[udf_unix_timestamp] (batchId=238)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[avro_date] (batchId=9)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cast_on_constant] (batchId=23)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_annotate_stats_groupby] (batchId=80)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_auto_join17] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_auto_join1] (batchId=3)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_cross_product_check_2] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_gby2_map_multi_distinct] (batchId=78)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_groupby3_noskew_multi_distinct] (batchId=37)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_join0] (batchId=47)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[char_cast] (batchId=84)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ctas_date] (batchId=1)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[date_1] (batchId=76)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[date_4] (batchId=46)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[date_udf] (batchId=30)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[druid_basic2] (batchId=11)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[druid_intervals] (batchId=22)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[druid_timeseries] (batchId=56)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[druid_topn] (batchId=3)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[extrapolate_part_stats_date] (batchId=20)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[filter_union] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[fold_eq_with_case_when] (batchId=77)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_ppr_multi_distinct] (batchId=55)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[interval_3] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[interval_alt] (batchId=4)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[interval_arithmetic] (batchId=45)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join_filters_overlap] (batchId=33)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[json_serde1] (batchId=33)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[materialized_view_create_rewrite] (batchId=2)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[materialized_view_create_rewrite_multi_db] (batchId=64)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_ppd_char] (batchId=10)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[outer_join_ppr] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_char] (batchId=9)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_date] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_decimal] (batchId=9)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parquet_ppd_varchar] (batchId=11)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[partition_date] (batchId=14)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[partition_type_check] (batchId=74)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[partition_type_in_plan] (batchId=67)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_union] (batchId=45)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[selectindate] (batchId=59)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf5] (batchId=10)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf9] (batchId=76)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[varchar_cast] (batchId=57)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_date_1] (batchId=20)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_interval_1] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_interval_arithmetic] (batchId=4)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorized_date_funcs] (batchId=72)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[hbase_ppd_key_range] (batchId=93)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[hbase_queries] (batchId=94)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[ppd_key_ranges] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[auto_smb_mapjoin_14] (batchId=156)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[auto_sortmerge_join_9] (batchId=158)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[bucket_map_join_tez2] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cbo_rp_lineage2] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cbo_rp_unionDistinct_2] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cbo_rp_windowing_2] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[current_date_timestamp] (batchId=154)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[filter_union] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_ppd_date] (batchId=153)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_ppd_decimal] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_ppd_varchar] (batchId=158)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[semijoin_hint] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[smb_mapjoin_14] (batchId=157)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[subquery_scalar] (batchId=153)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[tez_smb_main] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_auto_smb_mapjoin_14] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_between_in] (batchId=156)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_date_1] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_interval_1] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_interval_2] (batchId=158)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_interval_arithmetic] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorized_date_funcs] (batchId=159)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query16] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query1] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query30] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query6] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query81] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query94] (batchId=233)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[date_udf] (batchId=114)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[groupby_ppr_multi_distinct] (batchId=124)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join_filters_overlap] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[louter_join_ppr] (batchId=118)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[outer_join_ppr] (batchId=109)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[router_join_ppr] (batchId=134)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union24] (batchId=125)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_between_in] (batchId=124)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testBootstrapFunctionReplication (batchId=217)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testCreateFunctionIncrementalReplication (batchId=217)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testCreateFunctionWithFunctionBinaryJarsOnHDFS (batchId=217)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionRegistrationWithCustomSchema (batchId=178)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionSpecRegistrationWithCustomSchema (batchId=178)
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation (batchId=178)
org.apache.hive.jdbc.TestJdbcDriver2.testPrepareSetDate (batchId=225)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/5746/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/5746/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-5746/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 105 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12874230 - PreCommit-HIVE-Build, MiniLlapLocal/tez_smb_join fails with exception:
{noformat}
2017-06-23T05:07:55,395  INFO [TezTaskEventRouter{attempt_1498219646456_0001_38_01_000003_0}] impl.LlapRecordReader: Received fragment id: 1498219646456_0001_38_01_000003_0
2017-06-23T05:07:55,390  WARN [TezTaskEventRouter{attempt_1498219646456_0001_38_01_000001_0}] runtime.LogicalIOProcessorRuntimeTask: Failed to handle event
java.lang.RuntimeException: java.io.IOException: java.io.IOException: java.io.IOException: cannot find dir = file:/Users/rrusanu/hive/itests/qtest/target/localfs/warehouse/tab/ds=2008-04-08/000001_0 in pathToPartitionInfo: [file:/Users/rrusanu/hive/itests/qtest/target/localfs/warehouse/tab_part/ds=2008-04-08]
	at org.apache.hadoop.mapred.split.TezGroupedSplitsInputFormat$TezGroupedSplitsRecordReader.initNextRecordReader(TezGroupedSplitsInputFormat.java:206) ~[tez-mapreduce-0.8.4.jar:0.8.4]
	at org.apache.hadoop.mapred.split.TezGroupedSplitsInputFormat$TezGroupedSplitsRecordReader.<init>(TezGroupedSplitsInputFormat.java:145) ~[tez-mapreduce-0.8.4.jar:0.8.4]
	at org.apache.hadoop.mapred.split.TezGroupedSplitsInputFormat.getRecordReader(TezGroupedSplitsInputFormat.java:111) ~[tez-mapreduce-0.8.4.jar:0.8.4]
	at org.apache.tez.mapreduce.lib.MRReaderMapred.setupOldRecordReader(MRReaderMapred.java:157) ~[tez-mapreduce-0.8.4.jar:0.8.4]
	at org.apache.tez.mapreduce.lib.MRReaderMapred.<init>(MRReaderMapred.java:76) ~[tez-mapreduce-0.8.4.jar:0.8.4]
	at org.apache.tez.mapreduce.input.MultiMRInput.initFromEvent(MultiMRInput.java:195) ~[tez-mapreduce-0.8.4.jar:0.8.4]
	at org.apache.tez.mapreduce.input.MultiMRInput.handleEvents(MultiMRInput.java:154) ~[tez-mapreduce-0.8.4.jar:0.8.4]
	at org.apache.tez.runtime.LogicalIOProcessorRuntimeTask.handleEvent(LogicalIOProcessorRuntimeTask.java:715) [tez-runtime-internals-0.8.4.jar:0.8.4]
	at org.apache.tez.runtime.LogicalIOProcessorRuntimeTask.access$600(LogicalIOProcessorRuntimeTask.java:105) [tez-runtime-internals-0.8.4.jar:0.8.4]
	at org.apache.tez.runtime.LogicalIOProcessorRuntimeTask$1.runInternal(LogicalIOProcessorRuntimeTask.java:792) [tez-runtime-internals-0.8.4.jar:0.8.4]
	at org.apache.tez.common.RunnableWithNdc.run(RunnableWithNdc.java:35) [tez-common-0.8.4.jar:0.8.4]
	at java.lang.Thread.run(Thread.java:745) [?:1.8.0_112]
{noformat}
I suspect this is caused by time offsets, [~jcamachorodriguez] can you tell if the druid* ptests diffs are ok in the latest test run?, {{druid_basic2}} falls with exception:

{noformat}
2017-06-23T05:18:31,795 DEBUG [ecae368c-2c5d-46af-b4b3-4da8b9c0d23b main] parse.CalcitePlanner: Created Table Plan for druid_table_1 TS[0]
2017-06-23T05:18:31,795 DEBUG [ecae368c-2c5d-46af-b4b3-4da8b9c0d23b main] exec.FunctionRegistry: Method didn't match: passed = [string] accepted = [timestamp] method = public org.apache.hadoop.hive.serde2.io.TimestampWritable org.apache.hadoop.hive.ql.udf.UDFDateFloor.evaluate(org.apache.hadoop.hive.serde2.io.TimestampWritable)
2017-06-23T05:18:31,796 ERROR [ecae368c-2c5d-46af-b4b3-4da8b9c0d23b main] parse.CalcitePlanner: CBO failed, skipping CBO. 
org.apache.hadoop.hive.ql.parse.SemanticException: Line 0:-1 Wrong arguments 'extract': No matching method for class org.apache.hadoop.hive.ql.udf.UDFDateFloorDay with (string). Possible choices: _FUNC_(timestamp)  
	at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory$DefaultExprProcessor.process(TypeCheckProcFactory.java:1363) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:90) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatchAndReturn(DefaultGraphWalker.java:105) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:89) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.lib.ExpressionWalker.walk(ExpressionWalker.java:76) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.startWalking(DefaultGraphWalker.java:120) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory.genExprNode(TypeCheckProcFactory.java:229) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory.genExprNode(TypeCheckProcFactory.java:176) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genAllExprNodeDesc(SemanticAnalyzer.java:11746) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:11701) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:11669) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genFilterPlan(SemanticAnalyzer.java:3325) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genFilterPlan(SemanticAnalyzer.java:3305) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genBodyPlan(SemanticAnalyzer.java:9695) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:10652) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:10530) ~[hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.parse.CalcitePlanner.genOPTree(CalcitePlanner.java:433) [hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:11269) [hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.parse.CalcitePlanner.analyzeInternal(CalcitePlanner.java:294) [hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:261) [hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
	at org.apache.hadoop.hive.ql.parse.ExplainSemanticAnalyzer.analyzeInternal(ExplainSemanticAnalyzer.java:169) [hive-exec-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]
{noformat}
on this plan:
{noformat}
2017-06-23T05:18:31,790 DEBUG [ecae368c-2c5d-46af-b4b3-4da8b9c0d23b main] translator.PlanModifierForASTConv: Final plan after modifier
 HiveSortLimit(sort0=[$0], dir0=[ASC-nulls-first], fetch=[10])
  HiveProject(robot=[$1], __time=[$0])
    HiveFilter(condition=[BETWEEN(false, FLOOR_DAY($0, FLAG(DAY)), CAST(1999-11-01 08:00:00):TIMESTAMP(9), CAST(1999-11-10 08:00:00):TIMESTAMP(9))])
      DruidQuery(table=[[default.druid_table_1]], intervals=[[1900-01-01T00:00:00.000/3000-01-01T00:00:00.000]], groups=[{0, 1}], aggs=[[]])
{noformat}, Some changes look fine, e.g., more computation pushed to Druid.

About {{druid_basic2}}, could you let me know if the patch in HIVE-16751 fixes the issue? It might be related to that., [~jcamachorodriguez] yes, with HIVE-16751 it passes. It also updates, similar to other HIVE-16888 druid changes:

{noformat}
-            druid.query.json {"queryType":"groupBy","dataSource":"wikipedia","granularity":"all","dimensions":["robot"],"limitSpec":{"type":"default"},"filter":{"type":"selector","dimension":"language","value":"en"},"aggregations":[{"type":"longSum","name":"dummy_agg","fieldName":"dummy_agg"}],"intervals":["1900-01-01T00:00:00.000/3000-01-01T00:00:00.000"]}
+            druid.query.json {"queryType":"groupBy","dataSource":"wikipedia","granularity":"all","dimensions":[{"type":"default","dimension":"robot"}],"limitSpec":{"type":"default"},"filter":{"type":"selector","dimension":"language","value":"en"},"aggregations":[{"type":"longSum","name":"dummy_agg","fieldName":"dummy_agg"}],"intervals":["1900-01-01T00:00:00.000/3000-01-01T00:00:00.000"]}
{noformat}, Great! Sorry I did not mention it, I completely forgot about that one., So should I include HIVE-16751? Or it will be committed separately?, No worries, I will push it shortly, waiting for QA., Btw, {{tez_smb_main}} seems to be failing for the last x runs, so maybe it is not related to this patch., [~rusanu], I have pushed HIVE-16751 to master., Patch 06 rebased to current master, druid GF updated, .07 picks up the final Calcite 1.13 release.

A couple of notes on the patch:
- Fixed the issues with new version of timestamp. Internal representation in Calcite has changed in Calcite 1.13 to support larger precision than millis, thus we needed to adapt to it.
- Set VARCHAR max precision to Integer.MAX_VALUE. Otherwise, Calcite will reduce the precision of a VARCHAR when we translate the STRING type, as we represent it in Calcite as VARCHAR(Integer.MAX_VALUE). The change was introduced as part of the work on timestamp representation with nano precision.
https://github.com/apache/calcite/blob/205af8134857ba312415b9a5b4a48020fe0ce888/core/src/main/java/org/apache/calcite/sql/type/SqlTypeFactoryImpl.java#L59
- Includes workaround for an issue in the {{validate}} method of the VolcanoPlanner that causes a NPE (recall that VolcanoPlanner is used in MV rewriting).
As part of CALCITE-1812, there were some changes in the planner and the RelMetadataQuery object is taken from the cluster of the root in the {{validate}} method:
https://github.com/apache/calcite/blob/master/core/src/main/java/org/apache/calcite/plan/volcano/VolcanoPlanner.java#L891
However, when we register the first expression, the root of the VolcanoPlanner is null. Thus, we get the NPE.
Instead, we should take the RelMetadataQuery from the cluster of the subexpressions:
https://github.com/apache/calcite/blob/master/core/src/main/java/org/apache/calcite/plan/volcano/VolcanoPlanner.java#L905
The workaround is setting the LOG level to INFO for the Calcite planner in the tests, since the {{validate}} method is only called at DEBUG level. I created CALCITE-1859 to fix this issue.
, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12874697/HIVE-16888.07.patch

{color:green}SUCCESS:{color} +1 due to 2 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 26 failed/errored test(s), 10850 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_predicate_pushdown] (batchId=229)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_queries] (batchId=229)
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[materialized_view_create_rewrite] (batchId=238)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_outer_join_ppr] (batchId=7)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[materialized_view_create] (batchId=67)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[materialized_view_create_rewrite] (batchId=2)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[hbase_ppd_key_range] (batchId=93)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[hbase_queries] (batchId=94)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[ppd_key_ranges] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[tez_smb_main] (batchId=150)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query16] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query94] (batchId=233)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[groupby_ppr_multi_distinct] (batchId=124)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join_filters_overlap] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[louter_join_ppr] (batchId=118)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[outer_join_ppr] (batchId=109)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_gby_join] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[router_join_ppr] (batchId=134)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testBootstrapFunctionReplication (batchId=217)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testCreateFunctionIncrementalReplication (batchId=217)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testCreateFunctionWithFunctionBinaryJarsOnHDFS (batchId=217)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionRegistrationWithCustomSchema (batchId=178)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionSpecRegistrationWithCustomSchema (batchId=178)
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation (batchId=178)
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testHttpRetryOnServerIdleTimeout (batchId=227)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/5793/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/5793/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-5793/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 26 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12874697 - PreCommit-HIVE-Build, Regenerated remaining q files. [~ashutoshc], could you take a look? Thanks
https://reviews.apache.org/r/60468/, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12874820/HIVE-16888.08.patch

{color:green}SUCCESS:{color} +1 due to 2 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 12 failed/errored test(s), 10850 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[columnstats_part_coltype] (batchId=158)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[tez_smb_main] (batchId=150)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query16] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=233)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query94] (batchId=233)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testBootstrapFunctionReplication (batchId=217)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testCreateFunctionIncrementalReplication (batchId=217)
org.apache.hadoop.hive.ql.parse.TestReplicationScenariosAcrossInstances.testCreateFunctionWithFunctionBinaryJarsOnHDFS (batchId=217)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionRegistrationWithCustomSchema (batchId=178)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionSpecRegistrationWithCustomSchema (batchId=178)
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation (batchId=178)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/5806/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/5806/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-5806/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 12 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12874820 - PreCommit-HIVE-Build, [~bslim] Can you please also review plan changes for druid test cases as I am not sure about some of them., [~ashutoshc], went through all points in RB, removed the couple of comments and some legacy Druid rule that could be replaced by the original one from Calcite now that we are upgrading., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12877055/HIVE-16888.09.patch

{color:green}SUCCESS:{color} +1 due to 2 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 7 failed/errored test(s), 10889 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[materialized_view_create_rewrite] (batchId=237)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[llap_smb] (batchId=143)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=232)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=232)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionRegistrationWithCustomSchema (batchId=177)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionSpecRegistrationWithCustomSchema (batchId=177)
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation (batchId=177)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/6007/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/6007/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-6007/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12877055 - PreCommit-HIVE-Build, +1, Pushed to master, thanks for reviewing [~ashutoshc]!, Hive 3.0.0 has been released so closing this jira.]