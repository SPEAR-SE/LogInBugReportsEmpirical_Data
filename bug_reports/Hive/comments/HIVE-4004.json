[Code review at https://reviews.facebook.net/D8481, HIVE-3938 touches the same part of the code, but does not fix the issue., +1
, Committed. Thanks Dilip, Integrated in hive-trunk-hadoop1 #93 (See [https://builds.apache.org/job/hive-trunk-hadoop1/93/])
    HIVE-4004 Incorrect status for AddPartition metastore event if RawStore commit fails
(Dilip Joseph via namit) (Revision 1448101)

     Result = ABORTED
namit : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1448101
Files : 
* /hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java
* /hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyListener.java
* /hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyRawStoreControlledCommit.java
* /hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListenerOnlyOnCommit.java
, Integrated in Hive-trunk-hadoop2 #130 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/130/])
    HIVE-4004 Incorrect status for AddPartition metastore event if RawStore commit fails
(Dilip Joseph via namit) (Revision 1448101)

     Result = FAILURE
namit : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1448101
Files : 
* /hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java
* /hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyListener.java
* /hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyRawStoreControlledCommit.java
* /hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListenerOnlyOnCommit.java
, Integrated in Hive-trunk-h0.21 #1978 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1978/])
    HIVE-4004 Incorrect status for AddPartition metastore event if RawStore commit fails
(Dilip Joseph via namit) (Revision 1448101)

     Result = SUCCESS
namit : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1448101
Files : 
* /hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java
* /hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyListener.java
* /hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyRawStoreControlledCommit.java
* /hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListenerOnlyOnCommit.java
, This is a good fix. Could we please have this checked into branch-0.10/ as well?]