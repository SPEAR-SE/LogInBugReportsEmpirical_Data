[Committed to both trunk and branch-0.5. Thanks Paul!]