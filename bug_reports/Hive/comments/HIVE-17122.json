[All I've found out so far is that when I revert HIVE-16273 locally, this test starts to work. The issue is probably with HoS usage of vectorization because the same query works on Hive-on-Tez., [~stakiar]:  I also found the same problem on spark_vectorized_dynamic_partition_pruning.q in HIVE-16823. Also interested in why HIVE-16273 blocked HOS in vectorization. , Thanks for pointing that out [~kellyzly]. Sounds we have been hitting this issue for a while. I tried debugging the code a bit, and didn't find anything obvious. Will update this JIRA if I find something.

CC: [~vihangk1] if you have any idea on this, let us know., I will spend some time today to look into this and update if I find anything., Test has been working successfully for a while now.]