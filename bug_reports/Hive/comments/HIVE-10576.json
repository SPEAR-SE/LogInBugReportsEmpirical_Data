[Looks like a regression caused by HIVE-9664. cc-ing [~sushanth] / [~thejas] to review.

Thanks
Hari, Tested the patch in Windows OS and it works good. cc-ing [~thejas] for review.

Thanks
Hari, Using org.apache.hadoop.fs.Path to normalize the path names is the practice followed in earlier fixes for windows file name handling (see HIVE-3319 for example).
I looked at how Path and File normalizes. It looks like File would be calling the native local file system for normalization, and would result in a system call. So sticking to using Path seems better to me.

Also, this results in exception being thrown in a normal (not really an error) code path. We should avoid that. We can just use (new Path(pathstr).toUri()) in all cases on windows. It does not seem to add much of an overhead.
, [~thejas] Thanks for the review, using Path() is a much simpler and cleaner change! Made the change as suggested and tested it successfully in Windows OS.

Thanks
Hari, +1
Thanks Hari!, 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12730319/HIVE-10576.3.patch

{color:red}ERROR:{color} -1 due to 4 failed/errored test(s), 8895 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.ql.security.authorization.plugin.sqlstd.TestSQLStdHiveAccessControllerHS2.testConfigProcessing
org.apache.hadoop.hive.ql.security.authorization.plugin.sqlstd.TestSQLStdHiveAccessControllerHS2.testConfigProcessingCustomSetWhitelistAppend
org.apache.hive.jdbc.TestJdbcWithLocalClusterSpark.testTempTable
org.apache.hive.jdbc.TestSSL.testSSLConnectionWithProperty
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3734/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3734/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3734/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12730319 - PreCommit-HIVE-TRUNK-Build, All test failures are unrelated. verified  TestJdbcWithLocalClusterSpark is unrelated by running tests locally.
, Patch committed to master and 1.2 branch.
Thanks Hari!
, This issue has been fixed and released as part of the 1.2.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.]