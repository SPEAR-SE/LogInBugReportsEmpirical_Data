[[~sseth] can you take a look?, +1. Looks good.
One thing you may want to check. I believe there's already a mechanism in place to prevent certain client side configs (mainly used for security). May be possible to re-use that here?

Nit: Validation of the values for the hive.server2.tez.sessions.custom.queue.allowed value. Better to throw an exception with a proper error message, instead of whatever error is thrown from an enum lookup on an invalid key., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12849408/HIVE-15732.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 8 failed/errored test(s), 10984 tests executed
*Failed tests:*
{noformat}
TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=120)
	[groupby4_noskew.q,groupby3_map_skew.q,join_cond_pushdown_2.q,union19.q,union24.q,union_remove_5.q,groupby7_noskew_multi_single_reducer.q,vectorization_1.q,index_auto_self_join.q,auto_smb_mapjoin_14.q,script_env_var2.q,pcr.q,auto_join_filters.q,join0.q,join37.q]
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=140)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3] (batchId=93)
org.apache.hadoop.hive.ql.exec.tez.TestTezSessionPool.testGetNonDefaultSession (batchId=268)
org.apache.hadoop.hive.ql.exec.tez.TestTezSessionPool.testSessionReopen (batchId=268)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/3189/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/3189/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-3189/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12849408 - PreCommit-HIVE-Build, HIVE-15732.patch:

#  Please spell out "configuration parameters" instead of "configs" in the description of *hive.server2.tez.sessions.restricted.configs* (at least the first time).  You could also change "server config" to "server configuration".
#  Also spell out HiveServer2 in the description.
#  Nits:  There's an extra space before "HS2" in that parameter description, and you don't need any blank lines after the second new config (*hive.server2.tez.sessions.custom.queue.allowed*)., [~sseth] that's hive.conf.restricted.list, and is entirely immutable, Updated the patch to address the feedback, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12849640/HIVE-15732.01.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 7 failed/errored test(s), 11003 tests executed
*Failed tests:*
{noformat}
TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[schemeAuthority] (batchId=161)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3] (batchId=93)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=223)
org.apache.hadoop.hive.ql.exec.tez.TestTezSessionPool.testGetNonDefaultSession (batchId=268)
org.apache.hadoop.hive.ql.exec.tez.TestTezSessionPool.testSessionReopen (batchId=268)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/3225/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/3225/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-3225/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12849640 - PreCommit-HIVE-Build, Fixing the unit tests (that don't call setupPool and so don't initialize the new configs)., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12849795/HIVE-15732.02.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 7 failed/errored test(s), 10999 tests executed
*Failed tests:*
{noformat}
TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=140)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3] (batchId=93)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=223)
org.apache.hadoop.hive.cli.TestSparkNegativeCliDriver.org.apache.hadoop.hive.cli.TestSparkNegativeCliDriver (batchId=230)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/3239/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/3239/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-3239/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12849795 - PreCommit-HIVE-Build, Committed to master.
Thanks for the review!, Doc note:  This adds *hive.server2.tez.sessions.restricted.configs* and *hive.server2.tez.sessions.custom.queue.allowed* to HiveConf.java, so they need to be documented in the HiveServer2 section of Configuration Properties with crossreferences in the Tez section.

* [Configuration Properties -- HiveServer2 | https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-HiveServer2]
* [Configuration Properties -- Tez | https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-Tez]

Should they also be documented in the HiveServer2 doc or the Tez doc?

Added a TODOC2.2 label.]