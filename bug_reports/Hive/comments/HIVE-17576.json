[Hmm... Looks like the {{ProgressHelper}} is only available in Tez 0.9. This might need to go only to {{master}}. :/, Patch for {{master}}., Submitting for tests., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12888406/HIVE-17576.1.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 6 failed/errored test(s), 11051 tests executed
*Failed tests:*
{noformat}
TestAccumuloCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=231)
TestDummy - did not produce a TEST-*.xml file (likely timed out) (batchId=231)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[union_fast_stats] (batchId=156)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[spark_explainuser_1] (batchId=170)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=235)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=235)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/6938/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/6938/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-6938/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12888406 - PreCommit-HIVE-Build, bq. Looks like the ProgressHelper is only available in Tez 0.9.
If this helps, the change was checked in all the way from 0.7.2 to 0.9 release., bq. the change was checked in all the way from 0.7.2 to 0.9 release.

Hmm... That's odd. Hive {{branch-2}} depends on Tez 0.8.4, and didn't seemed to break compile on references to {{ProgressHelper}}. I'll try again., Perhaps we should be using this API via reflection. That way, the code in {{branch-2}} will be identical to {{master}}, and will work when Tez is bumped. I just tested this version., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12888631/HIVE-17576.2-branch-2.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 12 failed/errored test(s), 10612 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[comments] (batchId=35)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[explaindenpendencydiffengs] (batchId=38)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[llap_smb] (batchId=142)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=139)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[columnstats_part_coltype] (batchId=156)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[join_acid_non_acid] (batchId=158)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[union_fast_stats] (batchId=153)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=144)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[merge_negative_5] (batchId=88)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[explaindenpendencydiffengs] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vectorized_ptf] (batchId=125)
org.apache.hive.hcatalog.api.TestHCatClient.testTransportFailure (batchId=176)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/6962/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/6962/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-6962/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 12 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12888631 - PreCommit-HIVE-Build, The test failures are unrelated. [~owen.omalley], [~thejas], what might be the best version of this patch to go in? With or without reflection? (It is foreseeable that there might be deploys with outdated Tez versions that don't include the {{ProgressHelper}} API.), It should look like the HadoopShims and use reflection to find out if the class is there. You probably should put the test in HadoopShims to be consistent with the rest of the features., Hey, [~owen.omalley]. I'm trying to move the {{ReflectiveProgressHelper}} to the shims layer, as per your suggestion. It looks like I'll have to add a {{ProgressHelper}} interface to {{HadoopShims}}, and a {{ReflectiveProgressHelperImpl}} in {{HadoopShimsSecure}}. It's beginning to look a little convoluted, to go through a Shim, and then reflection, for this one call. Add to this the fact that we're mixing concerns by putting Tez stuff in {{HadoopShims}}. 

Edit: We should also consider that the reflection will likely be changed to a direct call, once Hive {{branch-2x}} is switched to a more current Tez version.

I can post a patch to illustrate, but I'm beginning to wonder if this is overkill. :/ , As per discussion with [~owen.omalley], we'll leave the reflection-based solution in place for the moment. We'll revisit moving this utility to Shims if another Tez abstraction is required in the future.

I'll commit this shortly., Committed to {{master}}, {{branch-2}}, and {{branch-2.2}}. Thanks for the reviews and advice, [~owen.omalley]!, This jira is resolved and released with Hive 3.0 If you find an issue with it, please create a new jira.]