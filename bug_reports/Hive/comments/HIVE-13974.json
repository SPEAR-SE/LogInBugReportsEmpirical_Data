[

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12809025/HIVE-13974.01.patch

{color:green}SUCCESS:{color} +1 due to 6 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 22 failed/errored test(s), 10223 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_globallimit
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_schema_evol_stats
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_constprog_partitioner
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3
org.apache.hadoop.hive.ql.io.orc.TestInputOutputFormat.testVectorizationWithAcid
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderDelta
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderIncompleteDelta
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderNewBaseAndDelta
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderOldBaseAndDelta
org.apache.hive.hcatalog.streaming.TestStreaming.testInterleavedTransactionBatchCommits
org.apache.hive.hcatalog.streaming.TestStreaming.testMultipleTransactionBatchCommits
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchAbortAndCommit
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Delimited
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Json
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testMulti
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testTransactionBatchCommitPartitioned
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testTransactionBatchCommitUnpartitioned
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testUpdatesAndDeletes
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/69/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/69/console
Test logs: http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-69/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 22 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12809025 - PreCommit-HIVE-MASTER-Build, Test failures look related. I'd look at the patch later today., Some comments on RB, [~sershe] Thank you Sergey for the review.  I added comments for the items and also added a unit test case that Eugene found was failing in ACID that is fixed by this change., [~mmccline], here is the complete ACID test.  
The version currently included in the patch is only to help repro the issue.  That test won't fail regardless if compaction succeeds.
One below will.
{noformat}
  @Test
  public void testCompactWithDelete() throws Exception {
    int[][] tableData = {{1,2},{3,4}};
    runStatementOnDriver("insert into " + Table.ACIDTBL + "(a,b) " + makeValuesClause(tableData));
    runStatementOnDriver("alter table "+ Table.ACIDTBL + " compact 'MAJOR'");
    Worker t = new Worker();
    t.setThreadId((int) t.getId());
    t.setHiveConf(hiveConf);
    AtomicBoolean stop = new AtomicBoolean();
    AtomicBoolean looped = new AtomicBoolean();
    stop.set(true);
    t.init(stop, looped);
    t.run();
    runStatementOnDriver("delete from " + Table.ACIDTBL + " where b = 4");
    runStatementOnDriver("update " + Table.ACIDTBL + " set b = -2 where b = 2");
    runStatementOnDriver("alter table "+ Table.ACIDTBL + " compact 'MINOR'");
    t.run();
    TxnStore txnHandler = TxnUtils.getTxnStore(hiveConf);
    ShowCompactResponse resp = txnHandler.showCompact(new ShowCompactRequest());
    Assert.assertEquals("Unexpected number of compactions in history", 2, resp.getCompactsSize());
    Assert.assertEquals("Unexpected 0 compaction state", TxnStore.CLEANING_RESPONSE, resp.getCompacts().get(0).getState());
    Assert.assertEquals("Unexpected 1 compaction state", TxnStore.CLEANING_RESPONSE, resp.getCompacts().get(1).getState());
  }

{noformat}, +1 pending tests and a resolution of [~ekoifman]'s last comment., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12810985/HIVE-13974.04.patch

{color:green}SUCCESS:{color} +1 due to 7 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 22 failed/errored test(s), 10218 tests executed
*Failed tests:*
{noformat}
TestMiniTezCliDriver-auto_sortmerge_join_13.q-tez_bmj_schema_evolution.q-load_dyn_part2.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_globallimit
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_schema_evol_stats
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3
org.apache.hadoop.hive.ql.TestTxnCommands2.testNonAcidToAcidConversion2
org.apache.hadoop.hive.ql.TestTxnCommands2.testNonAcidToAcidConversion3
org.apache.hadoop.hive.ql.io.orc.TestInputOutputFormat.testVectorizationWithAcid
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderDelta
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderIncompleteDelta
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderNewBaseAndDelta
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderOldBaseAndDelta
org.apache.hive.hcatalog.streaming.TestStreaming.testInterleavedTransactionBatchCommits
org.apache.hive.hcatalog.streaming.TestStreaming.testMultipleTransactionBatchCommits
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchAbortAndCommit
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Delimited
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Json
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testMulti
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testTransactionBatchCommitPartitioned
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testTransactionBatchCommitUnpartitioned
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testUpdatesAndDeletes
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/134/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/134/console
Test logs: http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-134/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 22 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12810985 - PreCommit-HIVE-MASTER-Build, Lots of related unit test failures -- clearly this change has broken some major assumptions in the unit tests.  I don't understand the schema_evol_stats.q Q file failure.  But otherwise, no other Q file failures???, [~mmccline] fyi, patch 4 doesn't include the version of in testCompactWithDelete()
https://issues.apache.org/jira/browse/HIVE-13974?focusedCommentId=15332304&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15332304
, Patch #5 is Work-In-Progress and isn't finished / still has issues., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12815960/HIVE-13974.06.patch

{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 620 failed/errored test(s), 10293 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_table_stats
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_llap_acid
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_vector_complex_all
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_vector_complex_join
org.apache.hadoop.hive.ql.TestTxnCommands2.testOrcPPD
org.apache.hadoop.hive.ql.io.orc.TestOrcFile.testBitPack64Large[0]
org.apache.hadoop.hive.ql.io.orc.TestOrcFile.testBitPack64Large[1]
org.apache.hadoop.hive.ql.io.orc.TestOrcFile.testTimestamp[0]
org.apache.hadoop.hive.ql.io.orc.TestOrcFile.testTimestamp[1]
org.apache.hadoop.hive.ql.io.orc.TestOrcRecordUpdater.testUpdates
org.apache.hadoop.hive.ql.io.orc.TestOrcRecordUpdater.testWriter
org.apache.hadoop.hive.ql.io.orc.TestOrcRecordUpdater.testWriterTblProperties
org.apache.hive.hcatalog.streaming.TestStreaming.testBucketing
org.apache.hive.hcatalog.streaming.TestStreaming.testFileDump
org.apache.hive.hcatalog.streaming.TestStreaming.testFileDumpCorruptDataFiles
org.apache.hive.hcatalog.streaming.TestStreaming.testFileDumpCorruptSideFiles
org.apache.orc.TestNewIntegerEncoding.testBasicDelta1[0]
org.apache.orc.TestNewIntegerEncoding.testBasicDelta1[1]
org.apache.orc.TestNewIntegerEncoding.testBasicDelta2[0]
org.apache.orc.TestNewIntegerEncoding.testBasicDelta2[1]
org.apache.orc.TestNewIntegerEncoding.testBasicDelta3[0]
org.apache.orc.TestNewIntegerEncoding.testBasicDelta3[1]
org.apache.orc.TestNewIntegerEncoding.testBasicDelta4[0]
org.apache.orc.TestNewIntegerEncoding.testBasicDelta4[1]
org.apache.orc.TestNewIntegerEncoding.testBasicNew[0]
org.apache.orc.TestNewIntegerEncoding.testBasicNew[1]
org.apache.orc.TestNewIntegerEncoding.testBasicOld[0]
org.apache.orc.TestNewIntegerEncoding.testBasicOld[1]
org.apache.orc.TestNewIntegerEncoding.testDeltaOverflow2[0]
org.apache.orc.TestNewIntegerEncoding.testDeltaOverflow2[1]
org.apache.orc.TestNewIntegerEncoding.testDeltaOverflow3[0]
org.apache.orc.TestNewIntegerEncoding.testDeltaOverflow3[1]
org.apache.orc.TestNewIntegerEncoding.testDeltaOverflow[0]
org.apache.orc.TestNewIntegerEncoding.testDeltaOverflow[1]
org.apache.orc.TestNewIntegerEncoding.testDirectLargeNegatives[0]
org.apache.orc.TestNewIntegerEncoding.testDirectLargeNegatives[1]
org.apache.orc.TestNewIntegerEncoding.testIntegerMax[0]
org.apache.orc.TestNewIntegerEncoding.testIntegerMax[1]
org.apache.orc.TestNewIntegerEncoding.testIntegerMin[0]
org.apache.orc.TestNewIntegerEncoding.testIntegerMin[1]
org.apache.orc.TestNewIntegerEncoding.testLongMax[0]
org.apache.orc.TestNewIntegerEncoding.testLongMax[1]
org.apache.orc.TestNewIntegerEncoding.testLongMin[0]
org.apache.orc.TestNewIntegerEncoding.testLongMin[1]
org.apache.orc.TestNewIntegerEncoding.testPatchedBase510[0]
org.apache.orc.TestNewIntegerEncoding.testPatchedBase510[1]
org.apache.orc.TestNewIntegerEncoding.testPatchedBase511[0]
org.apache.orc.TestNewIntegerEncoding.testPatchedBase511[1]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseAt0[0]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseAt0[1]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseAt1[0]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseAt1[1]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseAt255[0]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseAt255[1]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseAt256[0]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseAt256[1]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseMax1[0]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseMax1[1]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseMax2[0]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseMax2[1]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseMax3[0]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseMax3[1]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseMax4[0]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseMax4[1]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseNegativeMin2[0]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseNegativeMin2[1]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseNegativeMin3[0]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseNegativeMin3[1]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseNegativeMin4[0]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseNegativeMin4[1]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseNegativeMin[0]
org.apache.orc.TestNewIntegerEncoding.testPatchedBaseNegativeMin[1]
org.apache.orc.TestNewIntegerEncoding.testRandomInt[0]
org.apache.orc.TestNewIntegerEncoding.testRandomInt[1]
org.apache.orc.TestNewIntegerEncoding.testRandomLong[0]
org.apache.orc.TestNewIntegerEncoding.testRandomLong[1]
org.apache.orc.TestNewIntegerEncoding.testSeek[0]
org.apache.orc.TestNewIntegerEncoding.testSeek[1]
org.apache.orc.TestOrcTimezone1.testTimestampWriter[0]
org.apache.orc.TestOrcTimezone1.testTimestampWriter[10]
org.apache.orc.TestOrcTimezone1.testTimestampWriter[11]
org.apache.orc.TestOrcTimezone1.testTimestampWriter[1]
org.apache.orc.TestOrcTimezone1.testTimestampWriter[2]
org.apache.orc.TestOrcTimezone1.testTimestampWriter[3]
org.apache.orc.TestOrcTimezone1.testTimestampWriter[4]
org.apache.orc.TestOrcTimezone1.testTimestampWriter[5]
org.apache.orc.TestOrcTimezone1.testTimestampWriter[6]
org.apache.orc.TestOrcTimezone1.testTimestampWriter[7]
org.apache.orc.TestOrcTimezone1.testTimestampWriter[8]
org.apache.orc.TestOrcTimezone1.testTimestampWriter[9]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[0]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[100]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[101]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[102]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[103]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[104]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[105]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[106]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[107]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[108]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[109]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[10]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[110]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[111]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[112]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[113]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[114]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[115]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[116]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[117]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[118]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[119]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[11]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[120]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[121]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[122]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[123]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[124]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[125]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[126]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[127]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[128]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[129]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[12]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[130]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[131]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[132]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[133]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[134]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[135]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[136]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[137]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[138]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[139]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[13]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[140]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[141]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[142]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[143]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[144]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[145]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[146]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[147]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[148]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[149]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[14]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[150]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[151]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[152]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[153]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[154]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[155]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[156]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[157]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[158]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[159]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[15]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[160]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[161]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[162]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[163]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[164]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[165]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[166]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[167]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[168]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[169]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[16]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[170]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[171]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[172]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[173]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[174]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[175]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[176]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[177]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[178]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[179]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[17]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[180]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[181]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[182]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[183]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[184]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[185]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[186]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[187]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[188]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[189]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[18]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[190]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[191]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[192]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[193]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[194]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[195]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[196]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[197]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[198]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[199]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[19]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[1]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[200]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[201]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[202]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[203]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[204]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[205]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[206]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[207]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[208]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[209]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[20]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[210]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[211]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[212]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[213]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[214]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[215]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[216]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[217]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[218]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[219]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[21]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[220]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[221]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[222]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[223]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[224]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[225]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[226]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[227]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[228]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[229]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[22]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[230]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[231]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[232]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[233]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[234]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[235]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[236]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[237]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[238]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[239]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[23]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[240]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[241]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[242]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[243]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[244]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[245]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[246]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[247]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[248]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[249]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[24]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[250]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[251]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[252]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[253]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[254]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[255]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[256]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[257]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[258]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[259]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[25]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[260]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[261]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[262]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[263]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[264]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[265]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[266]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[267]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[268]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[269]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[26]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[270]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[271]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[272]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[273]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[274]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[275]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[276]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[277]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[278]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[279]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[27]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[280]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[281]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[282]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[283]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[284]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[285]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[286]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[287]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[288]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[289]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[28]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[290]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[291]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[292]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[293]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[294]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[295]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[296]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[297]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[298]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[299]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[29]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[2]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[300]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[301]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[302]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[303]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[304]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[305]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[306]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[307]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[308]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[309]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[30]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[310]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[311]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[312]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[313]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[314]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[315]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[316]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[317]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[318]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[319]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[31]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[320]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[321]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[322]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[323]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[324]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[325]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[326]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[327]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[328]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[329]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[32]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[330]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[331]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[332]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[333]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[334]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[335]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[336]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[337]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[338]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[339]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[33]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[340]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[341]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[342]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[343]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[344]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[345]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[346]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[347]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[348]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[349]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[34]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[350]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[351]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[352]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[353]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[354]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[355]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[356]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[357]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[358]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[359]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[35]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[360]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[361]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[362]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[363]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[364]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[365]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[366]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[367]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[368]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[369]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[36]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[370]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[371]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[372]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[373]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[374]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[375]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[376]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[377]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[378]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[379]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[37]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[380]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[381]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[382]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[383]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[384]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[385]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[386]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[387]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[388]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[389]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[38]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[390]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[391]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[392]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[393]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[394]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[395]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[396]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[397]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[398]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[399]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[39]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[3]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[400]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[401]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[402]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[403]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[404]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[405]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[406]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[407]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[408]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[409]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[40]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[410]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[411]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[412]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[413]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[414]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[415]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[416]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[417]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[418]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[419]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[41]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[420]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[421]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[422]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[423]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[424]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[425]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[426]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[427]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[428]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[429]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[42]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[430]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[431]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[432]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[433]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[434]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[435]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[436]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[437]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[438]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[439]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[43]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[440]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[441]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[442]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[443]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[444]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[445]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[446]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[447]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[448]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[449]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[44]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[450]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[451]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[452]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[453]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[454]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[455]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[456]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[457]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[458]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[459]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[45]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[460]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[461]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[462]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[463]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[464]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[465]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[466]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[467]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[468]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[469]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[46]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[470]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[471]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[472]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[473]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[474]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[475]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[476]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[477]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[478]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[479]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[47]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[480]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[481]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[482]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[483]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[484]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[485]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[486]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[487]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[488]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[489]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[48]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[490]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[491]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[492]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[493]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[494]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[495]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[496]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[497]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[498]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[499]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[49]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[4]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[50]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[51]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[52]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[53]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[54]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[55]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[56]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[57]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[58]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[59]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[5]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[60]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[61]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[62]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[63]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[64]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[65]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[66]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[67]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[68]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[69]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[6]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[70]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[71]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[72]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[73]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[74]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[75]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[76]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[77]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[78]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[79]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[7]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[80]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[81]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[82]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[83]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[84]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[85]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[86]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[87]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[88]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[89]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[8]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[90]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[91]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[92]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[93]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[94]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[95]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[96]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[97]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[98]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[99]
org.apache.orc.TestOrcTimezone2.testTimestampWriter[9]
org.apache.orc.TestStringDictionary.testHalfDistinct
org.apache.orc.TestStringDictionary.testHalfDistinctCheckDisabled
org.apache.orc.TestStringDictionary.testTooManyDistinct
org.apache.orc.TestStringDictionary.testTooManyDistinctCheckDisabled
org.apache.orc.TestStringDictionary.testTooManyDistinctV11AlwaysDictionary
org.apache.orc.TestUnrolledBitPack.testBitPacking[0]
org.apache.orc.TestUnrolledBitPack.testBitPacking[10]
org.apache.orc.TestUnrolledBitPack.testBitPacking[1]
org.apache.orc.TestUnrolledBitPack.testBitPacking[2]
org.apache.orc.TestUnrolledBitPack.testBitPacking[3]
org.apache.orc.TestUnrolledBitPack.testBitPacking[4]
org.apache.orc.TestUnrolledBitPack.testBitPacking[5]
org.apache.orc.TestUnrolledBitPack.testBitPacking[6]
org.apache.orc.TestUnrolledBitPack.testBitPacking[7]
org.apache.orc.TestUnrolledBitPack.testBitPacking[8]
org.apache.orc.TestUnrolledBitPack.testBitPacking[9]
org.apache.orc.TestVectorOrcFile.testTimestamp
org.apache.orc.impl.TestRLEv2.testDeltaUnknownSign
org.apache.orc.impl.TestRLEv2.testFixedDeltaLarge
org.apache.orc.impl.TestRLEv2.testFixedDeltaLargeDescending
org.apache.orc.impl.TestRLEv2.testFixedDeltaOne
org.apache.orc.impl.TestRLEv2.testFixedDeltaOneDescending
org.apache.orc.impl.TestRLEv2.testFixedDeltaZero
org.apache.orc.impl.TestRLEv2.testPatchedBase
org.apache.orc.impl.TestRLEv2.testShortRepeat
org.apache.orc.impl.TestRecordReaderImpl.testClose
org.apache.orc.impl.TestRecordReaderImpl.testCloseWithException
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/357/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/357/console
Test logs: http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-357/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 620 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12815960 - PreCommit-HIVE-MASTER-Build, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12815962/HIVE-13974.07.patch

{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 16 failed/errored test(s), 10293 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_table_stats
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_llap_acid
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_vector_complex_all
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_vector_complex_join
org.apache.hadoop.hive.ql.TestTxnCommands2.testOrcPPD
org.apache.hadoop.hive.ql.io.orc.TestOrcRecordUpdater.testUpdates
org.apache.hadoop.hive.ql.io.orc.TestOrcRecordUpdater.testWriter
org.apache.hadoop.hive.ql.io.orc.TestOrcRecordUpdater.testWriterTblProperties
org.apache.hive.hcatalog.streaming.TestStreaming.testBucketing
org.apache.hive.hcatalog.streaming.TestStreaming.testFileDump
org.apache.hive.hcatalog.streaming.TestStreaming.testFileDumpCorruptDataFiles
org.apache.hive.hcatalog.streaming.TestStreaming.testFileDumpCorruptSideFiles
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/358/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/358/console
Test logs: http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-358/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 16 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12815962 - PreCommit-HIVE-MASTER-Build, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12815971/HIVE-13974.08.patch

{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 6 failed/errored test(s), 10293 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_vector_complex_all
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_vector_complex_join
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/359/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/359/console
Test logs: http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-359/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12815971 - PreCommit-HIVE-MASTER-Build, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12815985/HIVE-13974.09.patch

{color:green}SUCCESS:{color} +1 due to 2 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 9 failed/errored test(s), 10293 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_table_stats
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_vector_complex_all
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_vector_complex_join
org.apache.hadoop.hive.ql.io.orc.TestOrcRecordUpdater.testUpdates
org.apache.hadoop.hive.ql.io.orc.TestOrcRecordUpdater.testWriter
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/360/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/360/console
Test logs: http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-360/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12815985 - PreCommit-HIVE-MASTER-Build, Patch #091 includes HIVE-14004 patch #3., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12817072/HIVE-13974.091.patch

{color:green}SUCCESS:{color} +1 due to 6 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 9 failed/errored test(s), 10296 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_globallimit
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_vector_complex_all
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_vector_complex_join
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_acid_globallimit
org.apache.hadoop.hive.cli.TestMinimrCliDriver.org.apache.hadoop.hive.cli.TestMinimrCliDriver
org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/462/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/462/console
Test logs: http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-462/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12817072 - PreCommit-HIVE-MASTER-Build, No related test failures for patch #091, First pass comments on the ORC changes:

* You *must* include unit tests in the ORC module for changes there.
* Don't move checkAcidSchema around and certainly don't make it a public API. We should probably have ReaderImpl pass a boolean to the constructor of SchemaEvolution saying that the file is Acid. Using the column names is bad and we should probably move over to use the acid stats property as the check.
* SameCategoryAndAttributes is a duplication of TypeDescription.equals.
* We need to integrate this with ORC-54 too.
* I like pulling the include logic into SchemaEvolution.
* Please use 'reader' instead of 'logical' in the names in SchemaEvolution.

I'm still going through the SchemaEvolution changes., [~owen.omalley] Thanks for looking at this.

No, the semantics of sameCategoryAndAttributes is different than equals.  The TypeDescription.equals method compares (type) id and maximumId which does not work when there is an interior STRUCT column with a different number of columns.  It makes it seem like a type conversion is needed when one is not needed and other parts of the code throw exceptions complaining "no need to convert a STRING to a STRING".

There are 3 kinds of schema not 2.  Part of the problem I'm trying to solve is the ambiguity at different parts of the code as to which schema is being used.  It is the one being returned by the input file format, is it the schema being fed back to the ORC raw merger that included ACID columns, or is it the unconverted file schema.  I don't care what the first 2 schemas are called as long as the names are distinct.  Maybe the names could be reader, internalReader, and file.

About ORC-54 -- it is not practical right now in terms of time.  We have got to get Erie out the door.  We have so little runway left.  I've had 10+ JIRAs for weeks.  Whenever I knock some down more appear.  Also, there really needs to be a parallel HIVE JIRA for it and we must make sure name mapping is fully supported for HIVE.  Given how *difficult* Schema Evolution has been I simply don't believe it will *just work* with ORC only unit tests.

FYI [~hagleitn] [~ekoifman], Sorry, I seem to have edited your comment instead of leaving a new comment. Sorry!, {quote}
No, the semantics of sameCategoryAndAttributes is different than equals.
{quote}

*Sigh* Ok, I forgot that I had only fixed that on the ORC side of the world as part of ORC-53. Hive will get that as soon as HIVE-14007 goes in (or is a negative patch of 2MB "going out"?). In any case, do not add the new method. ORC-53's impact on orc-core is pretty small outside of TypeDescription. Would you like a back port of that patch?

{quote}
There are 3 kinds of schema not 2.
{quote}

Ugh. That seems unnecessary. The 'file' schema is pretty clear. The 'reader' schema is the one that the user asked for. I don't think we need anything else.

{quote}
About ORC-54 -- it is not practical right now in terms of time.
{quote}

ORC-54 is closer to going in. It has unit tests and I believe handles this as a sub-case. I'm trying to figure out what we gain out of the HIVE-13974 patch.

{quote}
Also, there really needs to be a parallel HIVE JIRA for it and we must make sure name mapping is fully supported for
{quote}

Uh no. The Hive ORC code is about to disappear with HIVE-14007. Continuing to maintain two versions of ORC with a forked code base is a bad thing.

{quote}
Given how *difficult* Schema Evolution has been I simply don't believe it will *just work* with ORC only unit tests.
{quote}
That is not an excuse. Unit tests are MUCH more likely to be correct because the errors aren't hidden under layers of the execution engine. Being difficult to get right is why not having unit tests is unacceptable., *No it is not an excuse*.  I'll defer my cussing., Ok, restarting with Owen's new HIVE-14004 patch as a base., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12817591/HIVE-13974.092.patch

{color:green}SUCCESS:{color} +1 due to 6 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 12 failed/errored test(s), 10318 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_globallimit
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_acid_globallimit
org.apache.hadoop.hive.cli.TestMinimrCliDriver.org.apache.hadoop.hive.cli.TestMinimrCliDriver
org.apache.hadoop.hive.llap.daemon.impl.TestLlapTokenChecker.testCheckPermissions
org.apache.hadoop.hive.llap.daemon.impl.TestLlapTokenChecker.testGetToken
org.apache.hive.minikdc.TestJdbcWithDBTokenStore.testConnection
org.apache.hive.minikdc.TestJdbcWithDBTokenStore.testNegativeTokenAuth
org.apache.hive.minikdc.TestJdbcWithDBTokenStore.testProxyAuth
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/502/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/502/console
Test logs: http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-502/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 12 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12817591 - PreCommit-HIVE-MASTER-Build, Good run.  Test failures appear unrelated., Some comments on RB. Someone else can continue the review too, I will be away for a little bit after today., [~sershe] Thank you for the review.  It helped move things forward.  I'm making changes., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12817872/HIVE-13974.093.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/516/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/516/console
Test logs: http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-516/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command 'bash /data/hive-ptest/working/scratch/source-prep.sh' failed with exit status 1 and output '+ [[ -n /usr/java/jdk1.8.0_25 ]]
+ export JAVA_HOME=/usr/java/jdk1.8.0_25
+ JAVA_HOME=/usr/java/jdk1.8.0_25
+ export PATH=/usr/java/jdk1.8.0_25/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/java/jdk1.8.0_25/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export 'ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m '
+ ANT_OPTS='-Xmx1g -XX:MaxPermSize=256m '
+ export 'M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128'
+ M2_OPTS='-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128'
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-MASTER-Build-516/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 29a259b HIVE-14222 : PTF: Operator initialization does not clean state (Wei Zheng, reviewed by Gunther Hagleitner)
+ git clean -f -d
+ git checkout master
Already on 'master'
Your branch is up-to-date with 'origin/master'.
+ git reset --hard origin/master
HEAD is now at 29a259b HIVE-14222 : PTF: Operator initialization does not clean state (Wei Zheng, reviewed by Gunther Hagleitner)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12817872 - PreCommit-HIVE-MASTER-Build, Cratered., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12818074/HIVE-13974.094.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/529/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/529/console
Test logs: http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-529/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command 'bash /data/hive-ptest/working/scratch/source-prep.sh' failed with exit status 1 and output '+ [[ -n /usr/java/jdk1.8.0_25 ]]
+ export JAVA_HOME=/usr/java/jdk1.8.0_25
+ JAVA_HOME=/usr/java/jdk1.8.0_25
+ export PATH=/usr/java/jdk1.8.0_25/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/java/jdk1.8.0_25/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export 'ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m '
+ ANT_OPTS='-Xmx1g -XX:MaxPermSize=256m '
+ export 'M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128'
+ M2_OPTS='-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128'
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-MASTER-Build-529/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
From https://github.com/apache/hive
   a1d6b2d..8c11d37  master     -> origin/master
   2bda91a..f2b5564  branch-1   -> origin/branch-1
   a177473..6ba22f4  branch-2.1 -> origin/branch-2.1
+ git reset --hard HEAD
HEAD is now at a1d6b2d HIVE-14241 Acid clashes with ConfVars.HIVEFETCHTASKCONVERSION <> none (Eugene Koifman, reviewed by Ashutosh Chauhan)
+ git clean -f -d
+ git checkout master
Already on 'master'
Your branch is behind 'origin/master' by 2 commits, and can be fast-forwarded.
  (use "git pull" to update your local branch)
+ git reset --hard origin/master
HEAD is now at 8c11d37 HIVE-14253: Fix MinimrCliDriver test failure (Prasanth Jayachandran reviewed by Ashutosh Chauhan)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12818074 - PreCommit-HIVE-MASTER-Build, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12818467/HIVE-13974.095.patch

{color:green}SUCCESS:{color} +1 due to 5 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 139 failed/errored test(s), 10333 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_globallimit
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_join
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_table_stats
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_vectorization
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_vectorization_partition
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_acid_vectorization_project
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_autoColumnStats_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_delete_all_non_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_delete_all_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_delete_orig_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_delete_tmp_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_delete_where_no_match
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_delete_where_non_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_delete_where_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_delete_whole_partition
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynpart_sort_optimization_acid
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_acid_dynamic_partition
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_nonacid_from_acid
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_orig_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_update_delete
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_values_dynamic_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_values_non_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_values_orig_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_values_orig_table_use_metadata
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_values_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_values_tmp_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_llap_acid
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_ppd_exception
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_schema_evol_orc_acid_mapwork_part
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_schema_evol_orc_acid_mapwork_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_schema_evol_orc_acidvec_mapwork_part
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_schema_evol_orc_acidvec_mapwork_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_schema_evol_orc_vec_mapwork_part
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_schema_evol_orc_vec_mapwork_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_transform_acid
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_update_after_multiple_inserts
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_update_after_multiple_inserts_special_characters
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_update_all_non_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_update_all_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_update_all_types
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_update_orig_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_update_tmp_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_update_two_cols
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_update_where_no_match
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_update_where_non_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_update_where_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_acid3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_partition_diff_num_cols
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_dynamic
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_vector_join_part_col_char
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_acid_globallimit
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_all_non_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_all_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_orig_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_tmp_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_where_no_match
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_where_non_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_where_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_whole_partition
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_orig_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_update_delete
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_values_dynamic_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_values_non_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_values_tmp_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_acid_mapwork_part
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_acid_mapwork_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_acidvec_mapwork_part
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_acidvec_mapwork_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_vec_mapwork_part
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_vec_mapwork_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_after_multiple_inserts
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_all_non_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_all_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_all_types
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_orig_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_tmp_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_two_cols
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_where_no_match
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_where_non_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_where_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_acid3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_join_part_col_char
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_partition_diff_num_cols
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_join_acid_non_acid
org.apache.hadoop.hive.llap.daemon.impl.TestLlapTokenChecker.testCheckPermissions
org.apache.hadoop.hive.llap.daemon.impl.TestLlapTokenChecker.testGetToken
org.apache.hadoop.hive.metastore.TestMetaStoreMetrics.testConnections
org.apache.hadoop.hive.ql.TestTxnCommands.testDelete
org.apache.hadoop.hive.ql.TestTxnCommands.testDeleteIn
org.apache.hadoop.hive.ql.TestTxnCommands.testErrors
org.apache.hadoop.hive.ql.TestTxnCommands.testImplicitRollback
org.apache.hadoop.hive.ql.TestTxnCommands.testMultipleDelete
org.apache.hadoop.hive.ql.TestTxnCommands.testMultipleInserts
org.apache.hadoop.hive.ql.TestTxnCommands.testReadMyOwnInsert
org.apache.hadoop.hive.ql.TestTxnCommands.testSimpleAcidInsert
org.apache.hadoop.hive.ql.TestTxnCommands.testUpdateDeleteOfInserts
org.apache.hadoop.hive.ql.TestTxnCommands.testUpdateOfInserts
org.apache.hadoop.hive.ql.TestTxnCommands2.testAlterTable
org.apache.hadoop.hive.ql.TestTxnCommands2.testBucketizedInputFormat
org.apache.hadoop.hive.ql.TestTxnCommands2.testCompactWithDelete
org.apache.hadoop.hive.ql.TestTxnCommands2.testDeleteIn
org.apache.hadoop.hive.ql.TestTxnCommands2.testNonAcidToAcidConversion1
org.apache.hadoop.hive.ql.TestTxnCommands2.testNonAcidToAcidConversion2
org.apache.hadoop.hive.ql.TestTxnCommands2.testNonAcidToAcidConversion3
org.apache.hadoop.hive.ql.TestTxnCommands2.testOrcNoPPD
org.apache.hadoop.hive.ql.TestTxnCommands2.testOrcPPD
org.apache.hadoop.hive.ql.TestTxnCommands2.testSimpleRead
org.apache.hadoop.hive.ql.TestTxnCommands2.testUpdateMixedCase
org.apache.hadoop.hive.ql.TestTxnCommands2.updateDeletePartitioned
org.apache.hadoop.hive.ql.TestTxnCommands2.writeBetweenWorkerAndCleaner
org.apache.hadoop.hive.ql.io.orc.TestInputOutputFormat.testVectorizationWithAcid
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderDelta
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderIncompleteDelta
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderNewBaseAndDelta
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderOldBaseAndDelta
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.dynamicPartitioningDelete
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.dynamicPartitioningUpdate
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.schemaEvolutionAddColDynamicPartitioningInsert
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.schemaEvolutionAddColDynamicPartitioningUpdate
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.testStatsAfterCompactionPartTbl
org.apache.hive.hcatalog.mapreduce.TestHCatExternalPartitioned.testHCatPartitionedTable[3]
org.apache.hive.hcatalog.mapreduce.TestHCatMutablePartitioned.testHCatPartitionedTable[3]
org.apache.hive.hcatalog.mapreduce.TestHCatPartitioned.testHCatPartitionedTable[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreFuncAllSimpleTypes[3]
org.apache.hive.hcatalog.streaming.TestStreaming.testInterleavedTransactionBatchCommits
org.apache.hive.hcatalog.streaming.TestStreaming.testMultipleTransactionBatchCommits
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchAbortAndCommit
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Delimited
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_DelimitedUGI
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Json
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testMulti
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testTransactionBatchCommitPartitioned
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testTransactionBatchCommitUnpartitioned
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testUpdatesAndDeletes
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/557/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/557/console
Test logs: http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-557/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 139 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12818467 - PreCommit-HIVE-MASTER-Build, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12818519/HIVE-13974.096.patch

{color:green}SUCCESS:{color} +1 due to 9 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 25 failed/errored test(s), 10322 tests executed
*Failed tests:*
{noformat}
TestMiniTezCliDriver-tez_union_group_by.q-schema_evol_text_nonvec_mapwork_part_all_primitive.q-vector_left_outer_join2.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_schema_evol_orc_acid_mapwork_part_all_primitive
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_schema_evol_orc_acidvec_mapwork_part_all_complex
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_schema_evol_orc_acidvec_mapwork_part_all_primitive
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_acid_globallimit
org.apache.hadoop.hive.llap.daemon.impl.TestLlapTokenChecker.testCheckPermissions
org.apache.hadoop.hive.llap.daemon.impl.TestLlapTokenChecker.testGetToken
org.apache.hadoop.hive.metastore.TestMetaStoreMetrics.testConnections
org.apache.hadoop.hive.ql.io.orc.TestInputOutputFormat.testVectorizationWithAcid
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderDelta
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderIncompleteDelta
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderNewBaseAndDelta
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testRecordReaderOldBaseAndDelta
org.apache.hive.hcatalog.streaming.TestStreaming.testInterleavedTransactionBatchCommits
org.apache.hive.hcatalog.streaming.TestStreaming.testMultipleTransactionBatchCommits
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchAbortAndCommit
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Delimited
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_DelimitedUGI
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Json
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testMulti
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testTransactionBatchCommitPartitioned
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testTransactionBatchCommitUnpartitioned
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testUpdatesAndDeletes
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/564/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/564/console
Test logs: http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-564/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 25 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12818519 - PreCommit-HIVE-MASTER-Build, Comments:
* This is looking much better, thanks.
* This still needs comprehensive unit tests.
* The new RecordReaderImpl.isStructCategory() should be replaced with the negation of TypeDescription.Category.isPrimitive().
* The new RecordReaderImpl.primitiveTypeNeedsConversion is the same as TypeDescription.equals() after HIVE-14242.
* Don't use guava in the ORC module.
* The SchemaEvolution.fake field got left in after debugging.
* Instead of using OrcUtils.getOrcTypes to convert TypeDescription into List<OrcProto.Type>, use the TypeDescription directly in genIncludedColumns and setSearchArgument., Build #904, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12824028/HIVE-13974.097.patch

{color:green}SUCCESS:{color} +1 due to 12 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 34 failed/errored test(s), 10458 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[alter_merge_orc]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_udf_udaf]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dynpart_sort_opt_vectorization]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dynpart_sort_optimization]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_1]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_2]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_3]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_4]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_5]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_6]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_7]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_8]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[list_bucket_dml_9]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_merge10]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_merge1]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_ppd_schema_evol_3a]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[schema_evol_orc_acid_mapwork_part_all_complex]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[schema_evol_orc_acid_mapwork_part_all_primitive]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[schema_evol_orc_acidvec_mapwork_part_all_complex]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[schema_evol_orc_acidvec_mapwork_part_all_primitive]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[schema_evol_orc_acid_mapwork_part_all_complex]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[schema_evol_orc_acid_mapwork_part_all_primitive]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[schema_evol_orc_acidvec_mapwork_part_all_complex]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[schema_evol_orc_acidvec_mapwork_part_all_primitive]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[alter_merge_2_orc]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_1]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_2]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[load_dyn_part1]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[transform_ppr1]
org.apache.hive.beeline.TestBeeLineWithArgs.testEmbeddedBeelineOutputs
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testSelectThriftSerializeInTasks
org.apache.hive.service.cli.operation.TestOperationLoggingLayout.testSwitchLogLayout
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/904/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/904/console
Test logs: http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-904/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 34 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12824028 - PreCommit-HIVE-MASTER-Build, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12824257/HIVE-13974.098.patch

{color:green}SUCCESS:{color} +1 due to 12 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 8 failed/errored test(s), 10454 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_mapjoin]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_1]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_2]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[load_dyn_part1]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[transform_ppr1]
org.apache.hive.beeline.TestBeeLineWithArgs.testEmbeddedBeelineOutputs
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testSelectThriftSerializeInTasks
org.apache.hive.service.cli.operation.TestOperationLoggingLayout.testSwitchLogLayout
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/923/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/923/console
Test logs: http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-923/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12824257 - PreCommit-HIVE-MASTER-Build, Test failures are unrelated, except for acid_mapjoin.q
It has EXPLAIN statistics differences -- usually we don't use EXPLAIN with ACID because the transaction id is different during the long ptest run..., I believe this patch is already handled by ORC-54, which was committed already.

In particular, look in https://github.com/apache/orc/blob/master/java/core/src/test/org/apache/orc/impl/TestSchemaEvolution.java 
for testAddFieldEndOfStruct and testAcidPositionSubstructure.

It also fixed the case that a user hit where the SARG columns weren't being mapped properly.

Are there still gaps or bugs? Can you make a unit test case for ORC that demonstrates the gap or bug in ORC's master branch?, ORC-54, Has ORC-54 been ported to Hive / is there a ticket for updating Hive to depend on the ORC project? ]