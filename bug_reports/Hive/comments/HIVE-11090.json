[Various Q files need "ordering" to produce stable query results., 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12741560/HIVE-11090.01.patch

{color:red}ERROR:{color} -1 due to 17 failed/errored test(s), 9015 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_0
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_1
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_10
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_11
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_12
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_13
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_14
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_15
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_2
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_3
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_4
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_5
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_6
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_9
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_short_regress
org.apache.hadoop.hive.thrift.TestHadoop20SAuthBridge.testSaslWithHiveMetaStore
org.apache.hive.jdbc.TestSSL.testSSLFetchHttp
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4363/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4363/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4363/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 17 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12741560 - PreCommit-HIVE-TRUNK-Build,    * Cutting the limit off in all these cases causes the results to be another 10mb in size. Is that really necessary? I understand it's painful to do a limit and produce stable results, but does adding the required order instead change the test?
   * In vectorization_9 you took out the a bunch of udfs and simplified one of the queries. Why was that necessary?
   * Finally - seems you need to update the spark driver tests as well, [~mmccline] Can't you add order by followed by limit. That should produce stable results., Verified the query results match when the Q files are run with vectorization off for Spark, Tez, and MR.

Except for one query result line in vectorization_short_regress.q

Looks like it is an old decimal precision issue...

{code}
1785c1797
< 1969-12-31 16:00:04.063	04XP4DrTCblC7885	15601.0	79.553	-1452617198	15601	-407009.58195572987	-15858	-511684.9	-15601.0	158740.17500000002	-6432.000015344526	-79.553	NULL	-15601.0	-2.43391201E8
---
> 1969-12-31 16:00:04.063	04XP4DrTCblC7885	15601.0	79.553	-1452617198	15601	-407009.58195572987	-15858	-511684.9	-15601.0	158740.17500000002	-6432.0	-79.553	NULL	-15601.0	-2.43391201E8
1886a1899
{code}

(see newly created HIVE-11101), +1 assuming test pass., 

{color:green}Overall{color}: +1 all checks pass

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12741699/HIVE-11090.02.patch

{color:green}SUCCESS:{color} +1 9024 tests passed

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4374/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4374/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4374/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12741699 - PreCommit-HIVE-TRUNK-Build, Nudge:  This was committed to branch-1 (1.3.0) and master (2.0.0) so the Status, Resolution, and Fix Version need to be updated.

Commits 440c91c979226ddc970536f70ff0769c651483c1 & 63deec40731c709f84b23525dc68a7cec3307052.]