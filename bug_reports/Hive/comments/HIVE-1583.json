[Same is the case with CLASSPATH, its being reset.

CLASSPATH="${HIVE_CONF_DIR}", Attaching patch.

What users set on the shell for CLASSPATH or HADOOP_CLASSPATH will be picked up first. I guess thats OK., Patch looks fine to me., +1 on HADOOP_CLASSPATH.

i am not sure about CLASSPATH. Hadoop itself does not allow users to supply pre-existing value for CLASSPATH. here's snippet from 0.20 conf:

# CLASSPATH initially contains $HADOOP_CONF_DIR                                                                                
CLASSPATH="${HADOOP_CONF_DIR}"

, Have removed the changes for CLASSPATH., Making it Patch available., +1, Committed. Thanks Thiruvel]