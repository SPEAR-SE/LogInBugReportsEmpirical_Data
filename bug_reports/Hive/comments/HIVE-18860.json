[fyi [~gopalv], on a second taugh....it might not be HIVE-18665.... what that cause is an NPE - but lately the test fails with an IOException...
https://builds.apache.org/job/PreCommit-HIVE-Build/9482/testReport/org.apache.hadoop.hive.ql/TestAcidOnTez/testGetSplitsLocks/, cc [~sankarh], Already have a ticket HIVE-18751 to track this test failure with IOException after HIVE-18192.

I noticed, this test was failing even before I merge HIVE-18192 but for different reasons which I'm not sure about., HIVE-18751 is fixed now for IOException. So, now we are getting the NPE as before HIVE-18192 merge. , FYI latest patch on HIVE-17645 should fix this, anyone interested in reviewing.]