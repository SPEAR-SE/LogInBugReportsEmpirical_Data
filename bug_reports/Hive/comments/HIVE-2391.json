[Can you give more details on what dependencies are missing and etc?, As a reference, I'm attaching the dependencies that CDH Hive POMs have.

Ignoring the versions, they should be pretty much the same. Also note that the ones to be declared are the first level ones only, the deeper ones come transitively.

{code}
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive common 0.7.1-cdh3u2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ hive-common ---
[INFO] org.apache.hadoop.hive:hive-common:pom:0.7.1-cdh3u2-SNAPSHOT
[INFO] +- com.cloudera.cdh:hive-ant:pom:3.0-u2-SNAPSHOT:compile
[INFO] +- commons-cli:commons-cli:jar:1.2:compile
[INFO] +- org.apache.thrift:libfb303:jar:0.5.0-cdh:compile
[INFO] +- org.apache.thrift:libthrift:jar:0.5.0-cdh:compile
[INFO] +- org.json:json:jar:20090211:compile
[INFO] +- javax.jdo:jdo2-api:jar:2.3-ec:compile
[INFO] |  \- javax.transaction:jta:jar:1.1:compile
[INFO] +- org.antlr:antlr-runtime:jar:3.0.1:compile
[INFO] |  \- org.antlr:stringtemplate:jar:3.1-b1:compile
[INFO] +- asm:asm:jar:3.1:compile
[INFO] +- commons-codec:commons-codec:jar:1.4:compile
[INFO] +- commons-collections:commons-collections:jar:3.2.1:compile
[INFO] +- commons-lang:commons-lang:jar:2.5:compile
[INFO] +- commons-logging:commons-logging:jar:1.0.4:compile
[INFO] +- commons-logging:commons-logging-api:jar:1.0.4:compile
[INFO] +- org.datanucleus:datanucleus-core:jar:2.0.3:compile
[INFO] +- org.datanucleus:datanucleus-enhancer:jar:2.0.3:compile
[INFO] +- org.datanucleus:datanucleus-rdbms:jar:2.0.3:compile
[INFO] +- org.apache.derby:derby:jar:10.6.1.0:compile
[INFO] +- jline:jline:jar:0.9.94:compile
[INFO] +- junit:junit:jar:4.8.1:test (scope not updated to compile)
[INFO] +- log4j:log4j:jar:1.2.16:compile
[INFO] +- org.apache.velocity:velocity:jar:1.5:compile
[INFO] +- com.google.guava:guava:jar:r06:compile
[INFO] \- com.cloudera.cdh:hadoop-root:pom:3.0-u2-SNAPSHOT:compile
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive anttasks 0.7.1-cdh3u2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ hive-anttasks ---
[INFO] org.apache.hadoop.hive:hive-anttasks:pom:0.7.1-cdh3u2-SNAPSHOT
[INFO] +- com.cloudera.cdh:hive-ant:pom:3.0-u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-common:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile
[INFO] |  +- org.apache.thrift:libfb303:jar:0.5.0-cdh:compile
[INFO] |  +- org.apache.thrift:libthrift:jar:0.5.0-cdh:compile
[INFO] |  +- org.json:json:jar:20090211:compile
[INFO] |  +- javax.jdo:jdo2-api:jar:2.3-ec:compile
[INFO] |  |  \- javax.transaction:jta:jar:1.1:compile
[INFO] |  +- org.antlr:antlr-runtime:jar:3.0.1:compile
[INFO] |  |  \- org.antlr:stringtemplate:jar:3.1-b1:compile
[INFO] |  +- asm:asm:jar:3.1:compile
[INFO] |  +- commons-codec:commons-codec:jar:1.4:compile
[INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile
[INFO] |  +- commons-lang:commons-lang:jar:2.5:compile
[INFO] |  +- commons-logging:commons-logging:jar:1.0.4:compile
[INFO] |  +- commons-logging:commons-logging-api:jar:1.0.4:compile
[INFO] |  +- org.datanucleus:datanucleus-core:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-enhancer:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-rdbms:jar:2.0.3:compile
[INFO] |  +- org.apache.derby:derby:jar:10.6.1.0:compile
[INFO] |  +- jline:jline:jar:0.9.94:compile
[INFO] |  |  \- junit:junit:jar:4.8.1:compile (version managed from 3.8.1)
[INFO] |  +- log4j:log4j:jar:1.2.16:compile
[INFO] |  +- org.apache.velocity:velocity:jar:1.5:compile
[INFO] |  \- com.google.guava:guava:jar:r06:compile
[INFO] \- com.cloudera.cdh:hadoop-root:pom:3.0-u2-SNAPSHOT:compile
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive contrib 0.7.1-cdh3u2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ hive-contrib ---
[INFO] org.apache.hadoop.hive:hive-contrib:pom:0.7.1-cdh3u2-SNAPSHOT
[INFO] +- com.cloudera.cdh:hive-ant:pom:3.0-u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-common:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile
[INFO] |  +- org.apache.thrift:libfb303:jar:0.5.0-cdh:compile
[INFO] |  +- org.apache.thrift:libthrift:jar:0.5.0-cdh:compile
[INFO] |  +- org.json:json:jar:20090211:compile
[INFO] |  +- javax.jdo:jdo2-api:jar:2.3-ec:compile
[INFO] |  |  \- javax.transaction:jta:jar:1.1:compile
[INFO] |  +- org.antlr:antlr-runtime:jar:3.0.1:compile
[INFO] |  |  \- org.antlr:stringtemplate:jar:3.1-b1:compile
[INFO] |  +- asm:asm:jar:3.1:compile
[INFO] |  +- commons-codec:commons-codec:jar:1.4:compile
[INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile
[INFO] |  +- commons-lang:commons-lang:jar:2.5:compile
[INFO] |  +- commons-logging:commons-logging:jar:1.0.4:compile
[INFO] |  +- commons-logging:commons-logging-api:jar:1.0.4:compile
[INFO] |  +- org.datanucleus:datanucleus-core:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-enhancer:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-rdbms:jar:2.0.3:compile
[INFO] |  +- org.apache.derby:derby:jar:10.6.1.0:compile
[INFO] |  +- jline:jline:jar:0.9.94:compile
[INFO] |  |  \- junit:junit:jar:4.8.1:compile (version managed from 3.8.1)
[INFO] |  +- log4j:log4j:jar:1.2.16:compile
[INFO] |  +- org.apache.velocity:velocity:jar:1.5:compile
[INFO] |  \- com.google.guava:guava:jar:r06:compile
[INFO] \- com.cloudera.cdh:hadoop-root:pom:3.0-u2-SNAPSHOT:compile
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive exec 0.7.1-cdh3u2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ hive-exec ---
[INFO] org.apache.hadoop.hive:hive-exec:pom:0.7.1-cdh3u2-SNAPSHOT
[INFO] +- com.cloudera.cdh:hive-ant:pom:3.0-u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-common:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile
[INFO] |  +- org.apache.thrift:libfb303:jar:0.5.0-cdh:compile
[INFO] |  +- org.apache.thrift:libthrift:jar:0.5.0-cdh:compile
[INFO] |  +- org.json:json:jar:20090211:compile
[INFO] |  +- javax.jdo:jdo2-api:jar:2.3-ec:compile
[INFO] |  |  \- javax.transaction:jta:jar:1.1:compile
[INFO] |  +- org.antlr:antlr-runtime:jar:3.0.1:compile
[INFO] |  |  \- org.antlr:stringtemplate:jar:3.1-b1:compile
[INFO] |  +- asm:asm:jar:3.1:compile
[INFO] |  +- commons-codec:commons-codec:jar:1.4:compile
[INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile
[INFO] |  +- commons-lang:commons-lang:jar:2.5:compile
[INFO] |  +- commons-logging:commons-logging:jar:1.0.4:compile
[INFO] |  +- commons-logging:commons-logging-api:jar:1.0.4:compile
[INFO] |  +- org.datanucleus:datanucleus-core:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-enhancer:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-rdbms:jar:2.0.3:compile
[INFO] |  +- org.apache.derby:derby:jar:10.6.1.0:compile
[INFO] |  +- jline:jline:jar:0.9.94:compile
[INFO] |  |  \- junit:junit:jar:4.8.1:compile (version managed from 3.8.1)
[INFO] |  +- log4j:log4j:jar:1.2.16:compile
[INFO] |  +- org.apache.velocity:velocity:jar:1.5:compile
[INFO] |  \- com.google.guava:guava:jar:r06:compile
[INFO] \- com.cloudera.cdh:hadoop-root:pom:3.0-u2-SNAPSHOT:compile
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive hwi 0.7.1-cdh3u2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ hive-hwi ---
[INFO] org.apache.hadoop.hive:hive-hwi:pom:0.7.1-cdh3u2-SNAPSHOT
[INFO] +- com.cloudera.cdh:hive-ant:pom:3.0-u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-common:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile
[INFO] |  +- org.apache.thrift:libfb303:jar:0.5.0-cdh:compile
[INFO] |  +- org.apache.thrift:libthrift:jar:0.5.0-cdh:compile
[INFO] |  +- org.json:json:jar:20090211:compile
[INFO] |  +- javax.jdo:jdo2-api:jar:2.3-ec:compile
[INFO] |  |  \- javax.transaction:jta:jar:1.1:compile
[INFO] |  +- org.antlr:antlr-runtime:jar:3.0.1:compile
[INFO] |  |  \- org.antlr:stringtemplate:jar:3.1-b1:compile
[INFO] |  +- asm:asm:jar:3.1:compile
[INFO] |  +- commons-codec:commons-codec:jar:1.4:compile
[INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile
[INFO] |  +- commons-lang:commons-lang:jar:2.5:compile
[INFO] |  +- commons-logging:commons-logging:jar:1.0.4:compile
[INFO] |  +- commons-logging:commons-logging-api:jar:1.0.4:compile
[INFO] |  +- org.datanucleus:datanucleus-core:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-enhancer:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-rdbms:jar:2.0.3:compile
[INFO] |  +- org.apache.derby:derby:jar:10.6.1.0:compile
[INFO] |  +- jline:jline:jar:0.9.94:compile
[INFO] |  |  \- junit:junit:jar:4.8.1:compile (version managed from 3.8.1)
[INFO] |  +- log4j:log4j:jar:1.2.16:compile
[INFO] |  +- org.apache.velocity:velocity:jar:1.5:compile
[INFO] |  \- com.google.guava:guava:jar:r06:compile
[INFO] \- com.cloudera.cdh:hadoop-root:pom:3.0-u2-SNAPSHOT:compile
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive jdbc 0.7.1-cdh3u2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ hive-jdbc ---
[INFO] org.apache.hadoop.hive:hive-jdbc:pom:0.7.1-cdh3u2-SNAPSHOT
[INFO] +- com.cloudera.cdh:hive-ant:pom:3.0-u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-common:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile
[INFO] |  +- org.apache.thrift:libfb303:jar:0.5.0-cdh:compile
[INFO] |  +- org.apache.thrift:libthrift:jar:0.5.0-cdh:compile
[INFO] |  +- org.json:json:jar:20090211:compile
[INFO] |  +- javax.jdo:jdo2-api:jar:2.3-ec:compile
[INFO] |  |  \- javax.transaction:jta:jar:1.1:compile
[INFO] |  +- org.antlr:antlr-runtime:jar:3.0.1:compile
[INFO] |  |  \- org.antlr:stringtemplate:jar:3.1-b1:compile
[INFO] |  +- asm:asm:jar:3.1:compile
[INFO] |  +- commons-codec:commons-codec:jar:1.4:compile
[INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile
[INFO] |  +- commons-lang:commons-lang:jar:2.5:compile
[INFO] |  +- commons-logging:commons-logging:jar:1.0.4:compile
[INFO] |  +- commons-logging:commons-logging-api:jar:1.0.4:compile
[INFO] |  +- org.datanucleus:datanucleus-core:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-enhancer:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-rdbms:jar:2.0.3:compile
[INFO] |  +- org.apache.derby:derby:jar:10.6.1.0:compile
[INFO] |  +- jline:jline:jar:0.9.94:compile
[INFO] |  |  \- junit:junit:jar:4.8.1:compile (version managed from 3.8.1)
[INFO] |  +- log4j:log4j:jar:1.2.16:compile
[INFO] |  +- org.apache.velocity:velocity:jar:1.5:compile
[INFO] |  \- com.google.guava:guava:jar:r06:compile
[INFO] \- com.cloudera.cdh:hadoop-root:pom:3.0-u2-SNAPSHOT:compile
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive metastore 0.7.1-cdh3u2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ hive-metastore ---
[INFO] org.apache.hadoop.hive:hive-metastore:pom:0.7.1-cdh3u2-SNAPSHOT
[INFO] +- com.cloudera.cdh:hive-ant:pom:3.0-u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-common:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile
[INFO] |  +- org.apache.thrift:libfb303:jar:0.5.0-cdh:compile
[INFO] |  +- org.apache.thrift:libthrift:jar:0.5.0-cdh:compile
[INFO] |  +- org.json:json:jar:20090211:compile
[INFO] |  +- javax.jdo:jdo2-api:jar:2.3-ec:compile
[INFO] |  |  \- javax.transaction:jta:jar:1.1:compile
[INFO] |  +- org.antlr:antlr-runtime:jar:3.0.1:compile
[INFO] |  |  \- org.antlr:stringtemplate:jar:3.1-b1:compile
[INFO] |  +- asm:asm:jar:3.1:compile
[INFO] |  +- commons-codec:commons-codec:jar:1.4:compile
[INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile
[INFO] |  +- commons-lang:commons-lang:jar:2.5:compile
[INFO] |  +- commons-logging:commons-logging:jar:1.0.4:compile
[INFO] |  +- commons-logging:commons-logging-api:jar:1.0.4:compile
[INFO] |  +- org.datanucleus:datanucleus-core:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-enhancer:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-rdbms:jar:2.0.3:compile
[INFO] |  +- org.apache.derby:derby:jar:10.6.1.0:compile
[INFO] |  +- jline:jline:jar:0.9.94:compile
[INFO] |  |  \- junit:junit:jar:4.8.1:compile (version managed from 3.8.1)
[INFO] |  +- log4j:log4j:jar:1.2.16:compile
[INFO] |  +- org.apache.velocity:velocity:jar:1.5:compile
[INFO] |  \- com.google.guava:guava:jar:r06:compile
[INFO] \- com.cloudera.cdh:hadoop-root:pom:3.0-u2-SNAPSHOT:compile
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive serde 0.7.1-cdh3u2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ hive-serde ---
[INFO] org.apache.hadoop.hive:hive-serde:pom:0.7.1-cdh3u2-SNAPSHOT
[INFO] +- com.cloudera.cdh:hive-ant:pom:3.0-u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-common:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile
[INFO] |  +- org.apache.thrift:libfb303:jar:0.5.0-cdh:compile
[INFO] |  +- org.apache.thrift:libthrift:jar:0.5.0-cdh:compile
[INFO] |  +- org.json:json:jar:20090211:compile
[INFO] |  +- javax.jdo:jdo2-api:jar:2.3-ec:compile
[INFO] |  |  \- javax.transaction:jta:jar:1.1:compile
[INFO] |  +- org.antlr:antlr-runtime:jar:3.0.1:compile
[INFO] |  |  \- org.antlr:stringtemplate:jar:3.1-b1:compile
[INFO] |  +- asm:asm:jar:3.1:compile
[INFO] |  +- commons-codec:commons-codec:jar:1.4:compile
[INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile
[INFO] |  +- commons-lang:commons-lang:jar:2.5:compile
[INFO] |  +- commons-logging:commons-logging:jar:1.0.4:compile
[INFO] |  +- commons-logging:commons-logging-api:jar:1.0.4:compile
[INFO] |  +- org.datanucleus:datanucleus-core:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-enhancer:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-rdbms:jar:2.0.3:compile
[INFO] |  +- org.apache.derby:derby:jar:10.6.1.0:compile
[INFO] |  +- jline:jline:jar:0.9.94:compile
[INFO] |  |  \- junit:junit:jar:4.8.1:compile (version managed from 3.8.1)
[INFO] |  +- log4j:log4j:jar:1.2.16:compile
[INFO] |  +- org.apache.velocity:velocity:jar:1.5:compile
[INFO] |  \- com.google.guava:guava:jar:r06:compile
[INFO] \- com.cloudera.cdh:hadoop-root:pom:3.0-u2-SNAPSHOT:compile
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive service 0.7.1-cdh3u2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ hive-service ---
[INFO] org.apache.hadoop.hive:hive-service:pom:0.7.1-cdh3u2-SNAPSHOT
[INFO] +- com.cloudera.cdh:hive-ant:pom:3.0-u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-common:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile
[INFO] |  +- org.apache.thrift:libfb303:jar:0.5.0-cdh:compile
[INFO] |  +- org.apache.thrift:libthrift:jar:0.5.0-cdh:compile
[INFO] |  +- org.json:json:jar:20090211:compile
[INFO] |  +- javax.jdo:jdo2-api:jar:2.3-ec:compile
[INFO] |  |  \- javax.transaction:jta:jar:1.1:compile
[INFO] |  +- org.antlr:antlr-runtime:jar:3.0.1:compile
[INFO] |  |  \- org.antlr:stringtemplate:jar:3.1-b1:compile
[INFO] |  +- asm:asm:jar:3.1:compile
[INFO] |  +- commons-codec:commons-codec:jar:1.4:compile
[INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile
[INFO] |  +- commons-lang:commons-lang:jar:2.5:compile
[INFO] |  +- commons-logging:commons-logging:jar:1.0.4:compile
[INFO] |  +- commons-logging:commons-logging-api:jar:1.0.4:compile
[INFO] |  +- org.datanucleus:datanucleus-core:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-enhancer:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-rdbms:jar:2.0.3:compile
[INFO] |  +- org.apache.derby:derby:jar:10.6.1.0:compile
[INFO] |  +- jline:jline:jar:0.9.94:compile
[INFO] |  |  \- junit:junit:jar:4.8.1:compile (version managed from 3.8.1)
[INFO] |  +- log4j:log4j:jar:1.2.16:compile
[INFO] |  +- org.apache.velocity:velocity:jar:1.5:compile
[INFO] |  \- com.google.guava:guava:jar:r06:compile
[INFO] \- com.cloudera.cdh:hadoop-root:pom:3.0-u2-SNAPSHOT:compile
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive shims 0.7.1-cdh3u2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ hive-shims ---
[INFO] org.apache.hadoop.hive:hive-shims:pom:0.7.1-cdh3u2-SNAPSHOT
[INFO] +- com.cloudera.cdh:hive-ant:pom:3.0-u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-common:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile
[INFO] |  +- org.apache.thrift:libfb303:jar:0.5.0-cdh:compile
[INFO] |  +- org.apache.thrift:libthrift:jar:0.5.0-cdh:compile
[INFO] |  +- org.json:json:jar:20090211:compile
[INFO] |  +- javax.jdo:jdo2-api:jar:2.3-ec:compile
[INFO] |  |  \- javax.transaction:jta:jar:1.1:compile
[INFO] |  +- org.antlr:antlr-runtime:jar:3.0.1:compile
[INFO] |  |  \- org.antlr:stringtemplate:jar:3.1-b1:compile
[INFO] |  +- asm:asm:jar:3.1:compile
[INFO] |  +- commons-codec:commons-codec:jar:1.4:compile
[INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile
[INFO] |  +- commons-lang:commons-lang:jar:2.5:compile
[INFO] |  +- commons-logging:commons-logging:jar:1.0.4:compile
[INFO] |  +- commons-logging:commons-logging-api:jar:1.0.4:compile
[INFO] |  +- org.datanucleus:datanucleus-core:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-enhancer:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-rdbms:jar:2.0.3:compile
[INFO] |  +- org.apache.derby:derby:jar:10.6.1.0:compile
[INFO] |  +- jline:jline:jar:0.9.94:compile
[INFO] |  |  \- junit:junit:jar:4.8.1:compile (version managed from 3.8.1)
[INFO] |  +- log4j:log4j:jar:1.2.16:compile
[INFO] |  +- org.apache.velocity:velocity:jar:1.5:compile
[INFO] |  \- com.google.guava:guava:jar:r06:compile
[INFO] \- com.cloudera.cdh:hadoop-root:pom:3.0-u2-SNAPSHOT:compile
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive cli 0.7.1-cdh3u2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ hive-cli ---
[INFO] org.apache.hadoop.hive:hive-cli:pom:0.7.1-cdh3u2-SNAPSHOT
[INFO] +- com.cloudera.cdh:hive-ant:pom:3.0-u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-contrib:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-common:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile
[INFO] |  +- org.apache.thrift:libfb303:jar:0.5.0-cdh:compile
[INFO] |  +- org.apache.thrift:libthrift:jar:0.5.0-cdh:compile
[INFO] |  +- org.json:json:jar:20090211:compile
[INFO] |  +- javax.jdo:jdo2-api:jar:2.3-ec:compile
[INFO] |  |  \- javax.transaction:jta:jar:1.1:compile
[INFO] |  +- org.antlr:antlr-runtime:jar:3.0.1:compile
[INFO] |  |  \- org.antlr:stringtemplate:jar:3.1-b1:compile
[INFO] |  +- asm:asm:jar:3.1:compile
[INFO] |  +- commons-codec:commons-codec:jar:1.4:compile
[INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile
[INFO] |  +- commons-lang:commons-lang:jar:2.5:compile
[INFO] |  +- commons-logging:commons-logging:jar:1.0.4:compile
[INFO] |  +- commons-logging:commons-logging-api:jar:1.0.4:compile
[INFO] |  +- org.datanucleus:datanucleus-core:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-enhancer:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-rdbms:jar:2.0.3:compile
[INFO] |  +- org.apache.derby:derby:jar:10.6.1.0:compile
[INFO] |  +- jline:jline:jar:0.9.94:compile
[INFO] |  |  \- junit:junit:jar:4.8.1:compile (version managed from 3.8.1)
[INFO] |  +- log4j:log4j:jar:1.2.16:compile
[INFO] |  +- org.apache.velocity:velocity:jar:1.5:compile
[INFO] |  \- com.google.guava:guava:jar:r06:compile
[INFO] +- org.apache.hadoop.hive:hive-anttasks:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-exec:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-hwi:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-jdbc:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-metastore:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-serde:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-service:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-shims:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] \- com.cloudera.cdh:hadoop-root:pom:3.0-u2-SNAPSHOT:compile
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive hbase-handler 0.7.1-cdh3u2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ hive-hbase-handler ---
[INFO] org.apache.hadoop.hive:hive-hbase-handler:pom:0.7.1-cdh3u2-SNAPSHOT
[INFO] +- com.cloudera.cdh:hive-ant:pom:3.0-u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-common:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile
[INFO] |  +- org.apache.thrift:libfb303:jar:0.5.0-cdh:compile
[INFO] |  +- org.apache.thrift:libthrift:jar:0.5.0-cdh:compile
[INFO] |  +- org.json:json:jar:20090211:compile
[INFO] |  +- javax.jdo:jdo2-api:jar:2.3-ec:compile
[INFO] |  |  \- javax.transaction:jta:jar:1.1:compile
[INFO] |  +- org.antlr:antlr-runtime:jar:3.0.1:compile
[INFO] |  |  \- org.antlr:stringtemplate:jar:3.1-b1:compile
[INFO] |  +- asm:asm:jar:3.1:compile
[INFO] |  +- commons-codec:commons-codec:jar:1.4:compile
[INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile
[INFO] |  +- commons-lang:commons-lang:jar:2.5:compile
[INFO] |  +- commons-logging:commons-logging-api:jar:1.0.4:compile
[INFO] |  +- org.datanucleus:datanucleus-core:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-enhancer:jar:2.0.3:compile
[INFO] |  +- org.datanucleus:datanucleus-rdbms:jar:2.0.3:compile
[INFO] |  +- org.apache.derby:derby:jar:10.6.1.0:compile
[INFO] |  +- jline:jline:jar:0.9.94:compile
[INFO] |  |  \- junit:junit:jar:4.8.1:compile (version managed from 3.8.1)
[INFO] |  +- log4j:log4j:jar:1.2.16:compile
[INFO] |  +- org.apache.velocity:velocity:jar:1.5:compile
[INFO] |  \- com.google.guava:guava:jar:r06:compile
[INFO] +- org.apache.hadoop.hive:hive-serde:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop.hive:hive-exec:jar:0.7.1-cdh3u2-SNAPSHOT:compile
[INFO] +- org.apache.hadoop:hadoop-core:jar:0.20.2-cdh3u2-SNAPSHOT:compile
[INFO] |  +- com.cloudera.cdh:hadoop-ant:pom:3.0-u2-SNAPSHOT:compile
[INFO] |  +- xmlenc:xmlenc:jar:0.52:compile
[INFO] |  +- commons-httpclient:commons-httpclient:jar:3.1:compile
[INFO] |  +- commons-net:commons-net:jar:1.4.1:compile
[INFO] |  +- org.mortbay.jetty:jetty:jar:6.1.26:compile
[INFO] |  |  \- org.mortbay.jetty:servlet-api:jar:2.5-20081211:compile
[INFO] |  +- org.mortbay.jetty:jetty-util:jar:6.1.26:compile
[INFO] |  +- tomcat:jasper-runtime:jar:5.5.23:compile
[INFO] |  +- tomcat:jasper-compiler:jar:5.5.23:compile
[INFO] |  |  +- javax.servlet:jsp-api:jar:2.0:compile
[INFO] |  |  \- ant:ant:jar:1.6.5:compile
[INFO] |  +- org.codehaus.jackson:jackson-core-asl:jar:1.5.2:compile
[INFO] |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.5.2:compile
[INFO] |  +- javax.servlet.jsp:jsp-api:jar:2.1:compile
[INFO] |  +- commons-el:commons-el:jar:1.0:compile
[INFO] |  +- net.java.dev.jets3t:jets3t:jar:0.6.1:compile
[INFO] |  +- javax.servlet:servlet-api:jar:2.5:compile
[INFO] |  +- hsqldb:hsqldb:jar:1.8.0.7:compile
[INFO] |  +- oro:oro:jar:2.0.8:compile
[INFO] |  \- org.eclipse.jdt:core:jar:3.1.1:compile
[INFO] +- org.apache.hbase:hbase:jar:0.90.3-cdh3u2-SNAPSHOT:compile
[INFO] |  +- org.apache.hadoop:avro:jar:1.3.2:compile (version managed from 1.3.3)
[INFO] |  +- org.apache.zookeeper:zookeeper:jar:3.3.3-cdh3u2-SNAPSHOT:compile
[INFO] |  |  \- com.cloudera.cdh:zookeeper-ant:pom:3.0-u2-SNAPSHOT:compile
[INFO] |  +- org.apache.thrift:thrift:jar:0.2.0:compile
[INFO] |  +- org.jruby:jruby-complete:jar:1.0.3:compile (version managed from 1.6.0)
[INFO] |  +- org.mortbay.jetty:jsp-2.1:jar:6.1.14:compile
[INFO] |  +- org.mortbay.jetty:jsp-api-2.1:jar:6.1.14:compile
[INFO] |  +- org.mortbay.jetty:servlet-api-2.5:jar:6.1.14:compile
[INFO] |  +- org.slf4j:slf4j-api:jar:1.5.8:compile
[INFO] |  +- org.slf4j:slf4j-log4j12:jar:1.5.8:runtime
[INFO] |  +- org.jamon:jamon-runtime:jar:2.3.1:compile
[INFO] |  +- com.google.protobuf:protobuf-java:jar:2.3.0:compile
[INFO] |  +- com.sun.jersey:jersey-core:jar:1.4:compile
[INFO] |  +- com.sun.jersey:jersey-json:jar:1.4:compile
[INFO] |  |  +- org.codehaus.jettison:jettison:jar:1.1:compile
[INFO] |  |  +- com.sun.xml.bind:jaxb-impl:jar:2.1.12:compile
[INFO] |  |  +- org.codehaus.jackson:jackson-jaxrs:jar:1.5.5:compile
[INFO] |  |  \- org.codehaus.jackson:jackson-xc:jar:1.5.5:compile
[INFO] |  +- com.sun.jersey:jersey-server:jar:1.4:compile
[INFO] |  +- javax.ws.rs:jsr311-api:jar:1.1.1:compile
[INFO] |  +- javax.xml.bind:jaxb-api:jar:2.1:compile
[INFO] |  |  \- javax.activation:activation:jar:1.1:compile
[INFO] |  \- stax:stax-api:jar:1.0.1:compile
[INFO] +- commons-logging:commons-logging:jar:1.0.4:compile
[INFO] \- com.cloudera.cdh:hadoop-root:pom:3.0-u2-SNAPSHOT:compile
[INFO] ------------------------------------------------------------------------
{code}, I tried the following (correct me if I'm wrong here):
  * Removed all the jar from lib/ directory
  * Tried to build each artifact with proper ivy dependencies.

Could build some modules properly after adding missing ivy dependencies. But I think we need to wait for HIVE-2376 to bump up thrift version from 0.5, I did not find any repo for thrift 0.5. , Amareshwari,

I'm not following why you worry about building Hive, that is working fine. Unless you want to see what JARs end up in each build/lib directory of every module (in case Hive build does that).

You don't need Thrift 0.5, you need the correct version of Thrift used by Hive. CDH Hive uses v0.5 because at the time the Thrift JAR was unversioned and we needed a version number.
, bq. You don't need Thrift 0.5, you need the correct version of Thrift used by Hive. CDH Hive uses v0.5 because at the time the Thrift JAR was unversioned and we needed a version number.
Hive currently uses Thrift 0.5 as far as I know. I could confirm the same from ivy/library.properties and lib/ directory. Also, there is an open issue HIVE-2376 to move it up. Correct me if I'm wrong.

bq. I'm not following why you worry about building Hive, that is working fine. 
Could not find any other way to test this. By removing the jars from lib/ directory and build each hive artifact from ivy dependencies, I thought I could add/test the missing dependencies properly. Do you know any other way of testing/reproducing this?, What you could do to easily test this is to checkout the Oozie branch with the patch for Hive action.

You'll need Java6 and Maven3.

GitHub repo: https://github.com/tucu00/oozie

Branch: GH-0022bp23

Edit Oozie's main POM to use Apache Hive version:

{code}
            <dependency>
                <groupId>org.apache.hadoop.hive</groupId>
                <artifactId>hive-cli</artifactId>
                <version>0.6.0-CDH3B4-SNAPSHOT</version>
            </dependency>
{code}

Then run 'mvn test -Dtest=TestHiveActionExecutor"


, Getting this to work will require a major refactoring of the Ant build files.
Right now if you try to let Ivy resolve all of the dependencies you'll find that
the build fails with a OOM PermGen space error. Apparently this is because we
define some taskdefs in build-common.xml, and these are effectively
redefined in each subant call., @Carl, What does that mean from the resolution of this bug? Will this be addressed or not by Apache Hive?, @Alejandro: It means that the work required to resolve this ticket involves a lot more
than simply updating the list of dependencies in the various ivy.xml files., Once all the missing dependencies are updated in ivy.xml files, I'm seeing the error OOM PermGen space error as Carl stated above. Can you point me to any discussion around this, about the cause and alternative fixes?  , @Amareshwari: The OOM exception is a result of
taskdefs being repeatedly defined in subant calls. It turns out that these
taskdefs eat up memory since Ant does not free them when the subant call
completes. The solution is to move these taskdefs out of build-common.xml
(which gets sourced by each subant call) and into the top-level build.xml
file. In fact, I was able to eliminate the OOM exception by moving the
getversionpref taskdef into build.xml. Please see the attached patch for more
details., Thanks Carl for the patch. I'm able to compile without any OOM problems now.
One question though, what's the significance of the new directory deps? It seems difficult to make sure the content in deps directory is correct.

I'm trying to test the patch by the way Alejandro described above. Will update results soon.

Minor comment in the patch: ql/build.xml, use velocity version property for velocity jar., I wish this should go into 0.8, @Amareshwari: sorry for the confusion. I was planning to
remove the deps/ directory before the final patch, hence
the work-in-progress patch name. I generated the files
in deps by greping through each of the project subdirectories
for imported packages. I think the resulting lists provide
a pretty good first-approximation of the actual dependencies,
but I agree that they are not completely accurate. Also,
I didn't finish updating the list of dependencies in each
of the subprojects., 
-----------------------------------------------------------
This is an automatically generated e-mail. To reply, visit:
https://reviews.apache.org/r/2529/
-----------------------------------------------------------

Review request for hive and John Sichi.


Summary
-------

Review request for HIVE-2391.


This addresses bug HIVE-2391.
    https://issues.apache.org/jira/browse/HIVE-2391


Diffs
-----

  ant/build.xml c4351d0 
  ant/ivy.xml deb96f0 
  build-common.xml 37b32ec 
  build.properties fc80b03 
  build.xml 20494ca 
  cli/ivy.xml 0595d94 
  cli/lib/README 446b0e6 
  cli/lib/jline-0.9.94.LICENSE 246f54f 
  cli/lib/jline-0.9.94.jar dafca7c 
  common/ivy.xml 722249e 
  contrib/build.xml 14e1e20 
  contrib/ivy.xml 100cc03 
  contrib/src/test/queries/clientpositive/dboutput.q dbbcfcb 
  hbase-handler/build.xml f45dbfc 
  hbase-handler/ivy.xml 9b4b38f 
  hwi/build.xml 4919570 
  hwi/ivy.xml 1860b66 
  ivy/libraries.properties 8d88562 
  jdbc/build.xml 641938a 
  jdbc/ivy.xml bc9c69e 
  lib/README 6e993ee 
  lib/asm-3.1.LICENSE 75ad085 
  lib/asm-3.1.jar b3baf3f 
  lib/commons-collections-3.2.1.LICENSE 261eeb9 
  lib/commons-collections-3.2.1.jar c35fa1f 
  lib/commons-lang-2.4.LICENSE 261eeb9 
  lib/commons-lang-2.4.jar 532939e 
  lib/commons-logging-1.0.4.jar b73a80f 
  lib/commons-logging-api-1.0.4.jar ade9a13 
  lib/derby.LICENSE 261eeb9 
  lib/derby.jar dbdc454 
  lib/json-LICENSE.txt a8c1705 
  lib/json-README.txt 67b8909 
  lib/json.jar 219760c 
  lib/log4j-1.2.15.jar c930a6a 
  lib/velocity-1.5.jar 7c7f2c4 
  lib/velocity.LICENSE 261eeb9 
  metastore/build.xml af46bc9 
  metastore/ivy.xml 7d90b25 
  odbc/ivy.xml PRE-CREATION 
  pdk/build.xml 374e5d1 
  pdk/ivy.xml 411e126 
  ql/build.xml 8b22508 
  ql/ivy.xml a09e970 
  ql/lib/README d11400e 
  ql/lib/antlr-2.7.7.LICENSE 1d1d5d6 
  ql/lib/antlr-2.7.7.jar 5e5f14b 
  ql/lib/antlr-3.0.1.LICENSE 1d1d5d6 
  ql/lib/antlr-3.0.1.jar 7d37952 
  ql/lib/antlr-runtime-3.0.1.LICENSE 1d1d5d6 
  ql/lib/antlr-runtime-3.0.1.jar b2efb5b 
  ql/lib/stringtemplate-3.1b1.LICENSE 1d1d5d6 
  ql/lib/stringtemplate-3.1b1.jar 096f863 
  serde/build.xml 471c43d 
  serde/ivy.xml 290cb6c 
  service/build.xml 10e8cf1 
  service/ivy.xml c37efdc 
  shims/build.xml 3930ca2 
  shims/ivy.xml c1785aa 

Diff: https://reviews.apache.org/r/2529/diff


Testing
-------

Verified that 'ant clean package' works. Also ran some testcases. Currently running full regression tests.


Thanks,

Carl

, Review request: https://reviews.apache.org/r/2529/

Directions for applying patch:
1) apply the patch
2) svn remove everything in lib/ except javaewah* and README
3) svn remove everything in cli/lib
4) svn remove everything in ql/lib
, HIVE-2391.2.patch.txt:

* Bump ivy.version to 2.2.0 in order work around IVY-1148., 
-----------------------------------------------------------
This is an automatically generated e-mail. To reply, visit:
https://reviews.apache.org/r/2529/
-----------------------------------------------------------

(Updated 2011-10-21 22:02:10.187459)


Review request for hive and John Sichi.


Changes
-------

Updating the diff with new Ivy version number.


Summary
-------

Review request for HIVE-2391.


This addresses bug HIVE-2391.
    https://issues.apache.org/jira/browse/HIVE-2391


Diffs (updated)
-----

  ant/build.xml c4351d0 
  ant/ivy.xml deb96f0 
  build-common.xml 37b32ec 
  build.properties fc80b03 
  build.xml 20494ca 
  cli/ivy.xml 0595d94 
  cli/lib/README 446b0e6 
  cli/lib/jline-0.9.94.LICENSE 246f54f 
  cli/lib/jline-0.9.94.jar dafca7c 
  common/ivy.xml 722249e 
  contrib/build.xml 14e1e20 
  contrib/ivy.xml 100cc03 
  contrib/src/test/queries/clientpositive/dboutput.q dbbcfcb 
  hbase-handler/build.xml f45dbfc 
  hbase-handler/ivy.xml 9b4b38f 
  hwi/build.xml 4919570 
  hwi/ivy.xml 1860b66 
  ivy/libraries.properties 8d88562 
  jdbc/build.xml 641938a 
  jdbc/ivy.xml bc9c69e 
  lib/README 6e993ee 
  lib/asm-3.1.LICENSE 75ad085 
  lib/asm-3.1.jar b3baf3f 
  lib/commons-collections-3.2.1.LICENSE 261eeb9 
  lib/commons-collections-3.2.1.jar c35fa1f 
  lib/commons-lang-2.4.LICENSE 261eeb9 
  lib/commons-lang-2.4.jar 532939e 
  lib/commons-logging-1.0.4.jar b73a80f 
  lib/commons-logging-api-1.0.4.jar ade9a13 
  lib/derby.LICENSE 261eeb9 
  lib/derby.jar dbdc454 
  lib/json-LICENSE.txt a8c1705 
  lib/json-README.txt 67b8909 
  lib/json.jar 219760c 
  lib/log4j-1.2.15.jar c930a6a 
  lib/velocity-1.5.jar 7c7f2c4 
  lib/velocity.LICENSE 261eeb9 
  metastore/build.xml af46bc9 
  metastore/ivy.xml 7d90b25 
  odbc/ivy.xml PRE-CREATION 
  pdk/build.xml 374e5d1 
  pdk/ivy.xml 411e126 
  ql/build.xml 8b22508 
  ql/ivy.xml a09e970 
  ql/lib/README d11400e 
  ql/lib/antlr-2.7.7.LICENSE 1d1d5d6 
  ql/lib/antlr-2.7.7.jar 5e5f14b 
  ql/lib/antlr-3.0.1.LICENSE 1d1d5d6 
  ql/lib/antlr-3.0.1.jar 7d37952 
  ql/lib/antlr-runtime-3.0.1.LICENSE 1d1d5d6 
  ql/lib/antlr-runtime-3.0.1.jar b2efb5b 
  ql/lib/stringtemplate-3.1b1.LICENSE 1d1d5d6 
  ql/lib/stringtemplate-3.1b1.jar 096f863 
  serde/build.xml 471c43d 
  serde/ivy.xml 290cb6c 
  service/build.xml 10e8cf1 
  service/ivy.xml c37efdc 
  shims/build.xml 3930ca2 
  shims/ivy.xml c1785aa 

Diff: https://reviews.apache.org/r/2529/diff


Testing
-------

Verified that 'ant clean package' works. Also ran some testcases. Currently running full regression tests.


Thanks,

Carl

, Thanks Carl. Patch looks good. But, Alejandro was expecting the individual poms to contain dependencies within other hive artifacts also. For example, pom for cli would contain shims, serde, exec, metastore etc.  But, the current patch is not so. Alejandro, are you fine with the current patch, to resolve external dependencies?, 
-----------------------------------------------------------
This is an automatically generated e-mail. To reply, visit:
https://reviews.apache.org/r/2529/#review2783
-----------------------------------------------------------



build.xml
<https://reviews.apache.org/r/2529/#comment6244>

    Minor : Can you remove the commented code, if not required?


- Amareshwari


On 2011-10-21 22:02:10, Carl Steinbach wrote:
bq.  
bq.  -----------------------------------------------------------
bq.  This is an automatically generated e-mail. To reply, visit:
bq.  https://reviews.apache.org/r/2529/
bq.  -----------------------------------------------------------
bq.  
bq.  (Updated 2011-10-21 22:02:10)
bq.  
bq.  
bq.  Review request for hive and John Sichi.
bq.  
bq.  
bq.  Summary
bq.  -------
bq.  
bq.  Review request for HIVE-2391.
bq.  
bq.  
bq.  This addresses bug HIVE-2391.
bq.      https://issues.apache.org/jira/browse/HIVE-2391
bq.  
bq.  
bq.  Diffs
bq.  -----
bq.  
bq.    ant/build.xml c4351d0 
bq.    ant/ivy.xml deb96f0 
bq.    build-common.xml 37b32ec 
bq.    build.properties fc80b03 
bq.    build.xml 20494ca 
bq.    cli/ivy.xml 0595d94 
bq.    cli/lib/README 446b0e6 
bq.    cli/lib/jline-0.9.94.LICENSE 246f54f 
bq.    cli/lib/jline-0.9.94.jar dafca7c 
bq.    common/ivy.xml 722249e 
bq.    contrib/build.xml 14e1e20 
bq.    contrib/ivy.xml 100cc03 
bq.    contrib/src/test/queries/clientpositive/dboutput.q dbbcfcb 
bq.    hbase-handler/build.xml f45dbfc 
bq.    hbase-handler/ivy.xml 9b4b38f 
bq.    hwi/build.xml 4919570 
bq.    hwi/ivy.xml 1860b66 
bq.    ivy/libraries.properties 8d88562 
bq.    jdbc/build.xml 641938a 
bq.    jdbc/ivy.xml bc9c69e 
bq.    lib/README 6e993ee 
bq.    lib/asm-3.1.LICENSE 75ad085 
bq.    lib/asm-3.1.jar b3baf3f 
bq.    lib/commons-collections-3.2.1.LICENSE 261eeb9 
bq.    lib/commons-collections-3.2.1.jar c35fa1f 
bq.    lib/commons-lang-2.4.LICENSE 261eeb9 
bq.    lib/commons-lang-2.4.jar 532939e 
bq.    lib/commons-logging-1.0.4.jar b73a80f 
bq.    lib/commons-logging-api-1.0.4.jar ade9a13 
bq.    lib/derby.LICENSE 261eeb9 
bq.    lib/derby.jar dbdc454 
bq.    lib/json-LICENSE.txt a8c1705 
bq.    lib/json-README.txt 67b8909 
bq.    lib/json.jar 219760c 
bq.    lib/log4j-1.2.15.jar c930a6a 
bq.    lib/velocity-1.5.jar 7c7f2c4 
bq.    lib/velocity.LICENSE 261eeb9 
bq.    metastore/build.xml af46bc9 
bq.    metastore/ivy.xml 7d90b25 
bq.    odbc/ivy.xml PRE-CREATION 
bq.    pdk/build.xml 374e5d1 
bq.    pdk/ivy.xml 411e126 
bq.    ql/build.xml 8b22508 
bq.    ql/ivy.xml a09e970 
bq.    ql/lib/README d11400e 
bq.    ql/lib/antlr-2.7.7.LICENSE 1d1d5d6 
bq.    ql/lib/antlr-2.7.7.jar 5e5f14b 
bq.    ql/lib/antlr-3.0.1.LICENSE 1d1d5d6 
bq.    ql/lib/antlr-3.0.1.jar 7d37952 
bq.    ql/lib/antlr-runtime-3.0.1.LICENSE 1d1d5d6 
bq.    ql/lib/antlr-runtime-3.0.1.jar b2efb5b 
bq.    ql/lib/stringtemplate-3.1b1.LICENSE 1d1d5d6 
bq.    ql/lib/stringtemplate-3.1b1.jar 096f863 
bq.    serde/build.xml 471c43d 
bq.    serde/ivy.xml 290cb6c 
bq.    service/build.xml 10e8cf1 
bq.    service/ivy.xml c37efdc 
bq.    shims/build.xml 3930ca2 
bq.    shims/ivy.xml c1785aa 
bq.  
bq.  Diff: https://reviews.apache.org/r/2529/diff
bq.  
bq.  
bq.  Testing
bq.  -------
bq.  
bq.  Verified that 'ant clean package' works. Also ran some testcases. Currently running full regression tests.
bq.  
bq.  
bq.  Thanks,
bq.  
bq.  Carl
bq.  
bq.

, Carl, I tried running ant tar, and got an error

{noformat}
...
docs:
     [echo] Project: hive

ivy-init-settings:
     [echo] Project: hive

ivy-docs:
     [echo] Project: hive
[ivy:resolve] :: loading settings :: file = /data/users/jsichi/open/test-trunk/ivy/ivysettings.xml

BUILD FAILED
/data/users/jsichi/open/test-trunk/build.xml:614: The following error occurred while executing this line:
/data/users/jsichi/open/test-trunk/build.xml:800: impossible to configure ivy:settings with given file: /data/users/jsichi/open/test-trunk/ivy/ivysettings.xml : java.text.ParseException: failed to load settings from file:/data/users/jsichi/open/test-trunk/ivy/ivysettings.xml: unknown cache manager ${ivy.cache.name}
	at org.apache.ivy.core.settings.XmlSettingsParser.doParse(XmlSettingsParser.java:165)
	at org.apache.ivy.core.settings.XmlSettingsParser.parse(XmlSettingsParser.java:150)
	at org.apache.ivy.core.settings.IvySettings.load(IvySettings.java:388)
...
{noformat}
, 

bq.  On 2011-10-23 09:56:59, Amareshwari Sriramadasu wrote:
bq.  > build.xml, line 719
bq.  > <https://reviews.apache.org/r/2529/diff/2/?file=52288#file52288line719>
bq.  >
bq.  >     Minor : Can you remove the commented code, if not required?

Done.


- Carl


-----------------------------------------------------------
This is an automatically generated e-mail. To reply, visit:
https://reviews.apache.org/r/2529/#review2783
-----------------------------------------------------------


On 2011-10-21 22:02:10, Carl Steinbach wrote:
bq.  
bq.  -----------------------------------------------------------
bq.  This is an automatically generated e-mail. To reply, visit:
bq.  https://reviews.apache.org/r/2529/
bq.  -----------------------------------------------------------
bq.  
bq.  (Updated 2011-10-21 22:02:10)
bq.  
bq.  
bq.  Review request for hive and John Sichi.
bq.  
bq.  
bq.  Summary
bq.  -------
bq.  
bq.  Review request for HIVE-2391.
bq.  
bq.  
bq.  This addresses bug HIVE-2391.
bq.      https://issues.apache.org/jira/browse/HIVE-2391
bq.  
bq.  
bq.  Diffs
bq.  -----
bq.  
bq.    ant/build.xml c4351d0 
bq.    ant/ivy.xml deb96f0 
bq.    build-common.xml 37b32ec 
bq.    build.properties fc80b03 
bq.    build.xml 20494ca 
bq.    cli/ivy.xml 0595d94 
bq.    cli/lib/README 446b0e6 
bq.    cli/lib/jline-0.9.94.LICENSE 246f54f 
bq.    cli/lib/jline-0.9.94.jar dafca7c 
bq.    common/ivy.xml 722249e 
bq.    contrib/build.xml 14e1e20 
bq.    contrib/ivy.xml 100cc03 
bq.    contrib/src/test/queries/clientpositive/dboutput.q dbbcfcb 
bq.    hbase-handler/build.xml f45dbfc 
bq.    hbase-handler/ivy.xml 9b4b38f 
bq.    hwi/build.xml 4919570 
bq.    hwi/ivy.xml 1860b66 
bq.    ivy/libraries.properties 8d88562 
bq.    jdbc/build.xml 641938a 
bq.    jdbc/ivy.xml bc9c69e 
bq.    lib/README 6e993ee 
bq.    lib/asm-3.1.LICENSE 75ad085 
bq.    lib/asm-3.1.jar b3baf3f 
bq.    lib/commons-collections-3.2.1.LICENSE 261eeb9 
bq.    lib/commons-collections-3.2.1.jar c35fa1f 
bq.    lib/commons-lang-2.4.LICENSE 261eeb9 
bq.    lib/commons-lang-2.4.jar 532939e 
bq.    lib/commons-logging-1.0.4.jar b73a80f 
bq.    lib/commons-logging-api-1.0.4.jar ade9a13 
bq.    lib/derby.LICENSE 261eeb9 
bq.    lib/derby.jar dbdc454 
bq.    lib/json-LICENSE.txt a8c1705 
bq.    lib/json-README.txt 67b8909 
bq.    lib/json.jar 219760c 
bq.    lib/log4j-1.2.15.jar c930a6a 
bq.    lib/velocity-1.5.jar 7c7f2c4 
bq.    lib/velocity.LICENSE 261eeb9 
bq.    metastore/build.xml af46bc9 
bq.    metastore/ivy.xml 7d90b25 
bq.    odbc/ivy.xml PRE-CREATION 
bq.    pdk/build.xml 374e5d1 
bq.    pdk/ivy.xml 411e126 
bq.    ql/build.xml 8b22508 
bq.    ql/ivy.xml a09e970 
bq.    ql/lib/README d11400e 
bq.    ql/lib/antlr-2.7.7.LICENSE 1d1d5d6 
bq.    ql/lib/antlr-2.7.7.jar 5e5f14b 
bq.    ql/lib/antlr-3.0.1.LICENSE 1d1d5d6 
bq.    ql/lib/antlr-3.0.1.jar 7d37952 
bq.    ql/lib/antlr-runtime-3.0.1.LICENSE 1d1d5d6 
bq.    ql/lib/antlr-runtime-3.0.1.jar b2efb5b 
bq.    ql/lib/stringtemplate-3.1b1.LICENSE 1d1d5d6 
bq.    ql/lib/stringtemplate-3.1b1.jar 096f863 
bq.    serde/build.xml 471c43d 
bq.    serde/ivy.xml 290cb6c 
bq.    service/build.xml 10e8cf1 
bq.    service/ivy.xml c37efdc 
bq.    shims/build.xml 3930ca2 
bq.    shims/ivy.xml c1785aa 
bq.  
bq.  Diff: https://reviews.apache.org/r/2529/diff
bq.  
bq.  
bq.  Testing
bq.  -------
bq.  
bq.  Verified that 'ant clean package' works. Also ran some testcases. Currently running full regression tests.
bq.  
bq.  
bq.  Thanks,
bq.  
bq.  Carl
bq.  
bq.

, 
-----------------------------------------------------------
This is an automatically generated e-mail. To reply, visit:
https://reviews.apache.org/r/2529/
-----------------------------------------------------------

(Updated 2011-11-04 07:30:29.507801)


Review request for hive and John Sichi.


Changes
-------

Updated patch:
* Include cross-project dependencies.
* Remove commented code in build.xml
* Updated Eclipse classpath template

Verified that the following Ant targets work: jar, package, tar, binary, checkstyle, eclipse-files, maven-build, maven-publish.


Summary
-------

Review request for HIVE-2391.


This addresses bug HIVE-2391.
    https://issues.apache.org/jira/browse/HIVE-2391


Diffs (updated)
-----

  ant/build.xml c4351d0 
  ant/ivy.xml deb96f0 
  build-common.xml 37b32ec 
  build.properties fc80b03 
  build.xml a3a95a5 
  cli/build.xml 958cfe7 
  cli/ivy.xml 0595d94 
  cli/lib/README 446b0e6 
  cli/lib/jline-0.9.94.LICENSE 246f54f 
  cli/lib/jline-0.9.94.jar dafca7c 
  common/build.xml 66322dc 
  common/ivy.xml 722249e 
  contrib/build.xml 14e1e20 
  contrib/ivy.xml 100cc03 
  contrib/src/test/queries/clientpositive/dboutput.q dbbcfcb 
  eclipse-templates/.classpath 1b97ae9 
  hbase-handler/build.xml f45dbfc 
  hbase-handler/ivy.xml 9b4b38f 
  hwi/build.xml 4919570 
  hwi/ivy.xml 1860b66 
  ivy.xml 566bb40 
  ivy/common-configurations.xml PRE-CREATION 
  ivy/ivysettings.xml a2587c7 
  ivy/libraries.properties 8d88562 
  jdbc/build.xml 641938a 
  jdbc/ivy.xml bc9c69e 
  lib/README 6e993ee 
  lib/asm-3.1.LICENSE 75ad085 
  lib/asm-3.1.jar b3baf3f 
  lib/commons-collections-3.2.1.LICENSE 261eeb9 
  lib/commons-collections-3.2.1.jar c35fa1f 
  lib/commons-lang-2.4.LICENSE 261eeb9 
  lib/commons-lang-2.4.jar 532939e 
  lib/commons-logging-1.0.4.jar b73a80f 
  lib/commons-logging-api-1.0.4.jar ade9a13 
  lib/derby.LICENSE 261eeb9 
  lib/derby.jar dbdc454 
  lib/json-LICENSE.txt a8c1705 
  lib/json-README.txt 67b8909 
  lib/json.jar 219760c 
  lib/log4j-1.2.15.jar c930a6a 
  lib/velocity-1.5.jar 7c7f2c4 
  lib/velocity.LICENSE 261eeb9 
  metastore/build.xml af46bc9 
  metastore/ivy.xml 7d90b25 
  odbc/ivy.xml PRE-CREATION 
  pdk/build.xml 374e5d1 
  pdk/ivy.xml 411e126 
  ql/build.xml 8b22508 
  ql/ivy.xml a09e970 
  ql/lib/README d11400e 
  ql/lib/antlr-2.7.7.LICENSE 1d1d5d6 
  ql/lib/antlr-2.7.7.jar 5e5f14b 
  ql/lib/antlr-3.0.1.LICENSE 1d1d5d6 
  ql/lib/antlr-3.0.1.jar 7d37952 
  ql/lib/antlr-runtime-3.0.1.LICENSE 1d1d5d6 
  ql/lib/antlr-runtime-3.0.1.jar b2efb5b 
  ql/lib/stringtemplate-3.1b1.LICENSE 1d1d5d6 
  ql/lib/stringtemplate-3.1b1.jar 096f863 
  serde/build.xml 471c43d 
  serde/ivy.xml 290cb6c 
  service/build.xml 10e8cf1 
  service/ivy.xml c37efdc 
  shims/build.xml 3930ca2 
  shims/ivy.xml c1785aa 

Diff: https://reviews.apache.org/r/2529/diff


Testing
-------

Verified that 'ant clean package' works. Also ran some testcases. Currently running full regression tests.


Thanks,

Carl

, I got a couple diffs when running query tests. , Ok, the new version of the patch fixes the test failures I encountered. Running full tests now.

Please review. Thanks!, 
-----------------------------------------------------------
This is an automatically generated e-mail. To reply, visit:
https://reviews.apache.org/r/2529/
-----------------------------------------------------------

(Updated 2011-11-04 22:36:42.714354)


Review request for hive and John Sichi.


Changes
-------

Updated patch. Fixes test failures caused by classpath issue affecting stats db, and set_processor_namespaces.q


Summary
-------

Review request for HIVE-2391.


This addresses bug HIVE-2391.
    https://issues.apache.org/jira/browse/HIVE-2391


Diffs (updated)
-----

  ant/build.xml c4351d0 
  ant/ivy.xml deb96f0 
  build-common.xml 37b32ec 
  build.properties fc80b03 
  build.xml a3a95a5 
  cli/build.xml 958cfe7 
  cli/ivy.xml 0595d94 
  cli/lib/README 446b0e6 
  cli/lib/jline-0.9.94.LICENSE 246f54f 
  cli/lib/jline-0.9.94.jar dafca7c 
  common/build.xml 66322dc 
  common/ivy.xml 722249e 
  contrib/build.xml 14e1e20 
  contrib/ivy.xml 100cc03 
  contrib/src/test/queries/clientpositive/dboutput.q dbbcfcb 
  eclipse-templates/.classpath 1b97ae9 
  hbase-handler/build.xml f45dbfc 
  hbase-handler/ivy.xml 9b4b38f 
  hwi/build.xml 4919570 
  hwi/ivy.xml 1860b66 
  ivy.xml 566bb40 
  ivy/common-configurations.xml PRE-CREATION 
  ivy/ivysettings.xml a2587c7 
  ivy/libraries.properties 8d88562 
  jdbc/build.xml 641938a 
  jdbc/ivy.xml bc9c69e 
  lib/README 6e993ee 
  lib/asm-3.1.LICENSE 75ad085 
  lib/asm-3.1.jar b3baf3f 
  lib/commons-collections-3.2.1.LICENSE 261eeb9 
  lib/commons-collections-3.2.1.jar c35fa1f 
  lib/commons-lang-2.4.LICENSE 261eeb9 
  lib/commons-lang-2.4.jar 532939e 
  lib/commons-logging-1.0.4.jar b73a80f 
  lib/commons-logging-api-1.0.4.jar ade9a13 
  lib/derby.LICENSE 261eeb9 
  lib/derby.jar dbdc454 
  lib/json-LICENSE.txt a8c1705 
  lib/json-README.txt 67b8909 
  lib/json.jar 219760c 
  lib/log4j-1.2.15.jar c930a6a 
  lib/velocity-1.5.jar 7c7f2c4 
  lib/velocity.LICENSE 261eeb9 
  metastore/build.xml af46bc9 
  metastore/ivy.xml 7d90b25 
  odbc/ivy.xml PRE-CREATION 
  pdk/build.xml 374e5d1 
  pdk/ivy.xml 411e126 
  ql/build.xml 8b22508 
  ql/ivy.xml a09e970 
  ql/lib/README d11400e 
  ql/lib/antlr-2.7.7.LICENSE 1d1d5d6 
  ql/lib/antlr-2.7.7.jar 5e5f14b 
  ql/lib/antlr-3.0.1.LICENSE 1d1d5d6 
  ql/lib/antlr-3.0.1.jar 7d37952 
  ql/lib/antlr-runtime-3.0.1.LICENSE 1d1d5d6 
  ql/lib/antlr-runtime-3.0.1.jar b2efb5b 
  ql/lib/stringtemplate-3.1b1.LICENSE 1d1d5d6 
  ql/lib/stringtemplate-3.1b1.jar 096f863 
  ql/src/test/queries/clientpositive/set_processor_namespaces.q 8fe2eb8 
  ql/src/test/results/clientpositive/set_processor_namespaces.q.out a365e2c 
  serde/build.xml 471c43d 
  serde/ivy.xml 290cb6c 
  service/build.xml 10e8cf1 
  service/ivy.xml c37efdc 
  shims/build.xml 3930ca2 
  shims/ivy.xml c1785aa 

Diff: https://reviews.apache.org/r/2529/diff


Testing
-------

Verified that 'ant clean package' works. Also ran some testcases. Currently running full regression tests.


Thanks,

Carl

, Running through tests again now.
, I'm trying to test the Maven artifacts created by the patch, but I don't see an Ant target to install the JARs/POms in the local Maven cache. Am I missing something?, Tests passed cleanly on trunk.  I tried applying HIVE-2391.5.patch.txt on 0.8 and got conflicts; Carl, do you want to give me a backport for that and then I can commit both?, John, Carl, any answer to my previous comment? Thxs, @John: Please go ahead and commit this to trunk. I will handle doing the backport myself next week.

@Alejandro: The target you're looking for does not exist. Please file a ticket if you think we need one. Thanks., OK, +1, committed to trunk.  I'll leave this open and you can mark it resolved once you commit the backport?
, Integrated in Hive-trunk-h0.21 #1069 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1069/])
    HIVE-2391. Published POMs in Maven repo are incorrect
(Carl Steinbach via jvs)

jvs : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1199399
Files : 
* /hive/trunk/ant/build.xml
* /hive/trunk/ant/ivy.xml
* /hive/trunk/build-common.xml
* /hive/trunk/build.properties
* /hive/trunk/build.xml
* /hive/trunk/cli/build.xml
* /hive/trunk/cli/ivy.xml
* /hive/trunk/cli/lib/README
* /hive/trunk/cli/lib/jline-0.9.94.LICENSE
* /hive/trunk/cli/lib/jline-0.9.94.jar
* /hive/trunk/common/build.xml
* /hive/trunk/common/ivy.xml
* /hive/trunk/contrib/build.xml
* /hive/trunk/contrib/ivy.xml
* /hive/trunk/contrib/src/test/queries/clientpositive/dboutput.q
* /hive/trunk/eclipse-templates/.classpath
* /hive/trunk/hbase-handler/build.xml
* /hive/trunk/hbase-handler/ivy.xml
* /hive/trunk/hwi/build.xml
* /hive/trunk/hwi/ivy.xml
* /hive/trunk/ivy.xml
* /hive/trunk/ivy/common-configurations.xml
* /hive/trunk/ivy/ivysettings.xml
* /hive/trunk/ivy/libraries.properties
* /hive/trunk/jdbc/build.xml
* /hive/trunk/jdbc/ivy.xml
* /hive/trunk/lib/README
* /hive/trunk/lib/asm-3.1.LICENSE
* /hive/trunk/lib/asm-3.1.jar
* /hive/trunk/lib/commons-collections-3.2.1.LICENSE
* /hive/trunk/lib/commons-collections-3.2.1.jar
* /hive/trunk/lib/commons-lang-2.4.LICENSE
* /hive/trunk/lib/commons-lang-2.4.jar
* /hive/trunk/lib/commons-logging-1.0.4.jar
* /hive/trunk/lib/commons-logging-api-1.0.4.jar
* /hive/trunk/lib/derby.LICENSE
* /hive/trunk/lib/derby.jar
* /hive/trunk/lib/json-LICENSE.txt
* /hive/trunk/lib/json-README.txt
* /hive/trunk/lib/json.jar
* /hive/trunk/lib/velocity-1.5.jar
* /hive/trunk/lib/velocity.LICENSE
* /hive/trunk/metastore/build.xml
* /hive/trunk/metastore/ivy.xml
* /hive/trunk/odbc/ivy.xml
* /hive/trunk/pdk/build.xml
* /hive/trunk/pdk/ivy.xml
* /hive/trunk/ql/build.xml
* /hive/trunk/ql/ivy.xml
* /hive/trunk/ql/lib/README
* /hive/trunk/ql/lib/antlr-2.7.7.LICENSE
* /hive/trunk/ql/lib/antlr-2.7.7.jar
* /hive/trunk/ql/lib/antlr-3.0.1.LICENSE
* /hive/trunk/ql/lib/antlr-3.0.1.jar
* /hive/trunk/ql/lib/antlr-runtime-3.0.1.LICENSE
* /hive/trunk/ql/lib/antlr-runtime-3.0.1.jar
* /hive/trunk/ql/lib/stringtemplate-3.1b1.LICENSE
* /hive/trunk/ql/lib/stringtemplate-3.1b1.jar
* /hive/trunk/ql/src/test/queries/clientpositive/set_processor_namespaces.q
* /hive/trunk/ql/src/test/results/clientpositive/set_processor_namespaces.q.out
* /hive/trunk/serde/build.xml
* /hive/trunk/serde/ivy.xml
* /hive/trunk/service/build.xml
* /hive/trunk/service/ivy.xml
* /hive/trunk/shims/build.xml
* /hive/trunk/shims/ivy.xml
, Sorry to pop the ballon but the published POMs (in Apache snapshots repo) are still wrong. Including hive-cli should pull all necessary dependencies to run Hive programmatically.

However:

* somewhere a hadoop:core artifact is being referenced (it should be org.apache.hadoop:hadoop-core)

* hive-cli does not depend on other Hive JARs, thus things fail (building Oozie Hive action) with:

-------
[ERROR] /Users/tucu/src/apache/oozie/git/core/src/test/java/org/apache/oozie/action/hadoop/TestHiveMain.java:[30,44] package org.apache.hadoop.hive.contrib.serde2 does not exist
[ERROR] /Users/tucu/src/apache/oozie/git/core/src/test/java/org/apache/oozie/action/hadoop/TestHiveMain.java:[40,30] package org.apache.velocity.app does not exist
[ERROR] /Users/tucu/src/apache/oozie/git/core/src/test/java/org/apache/oozie/action/hadoop/TestHiveActionExecutor.java:[45,44] package org.apache.hadoop.hive.contrib.serde2 does not exist
[ERROR] /Users/tucu/src/apache/oozie/git/core/src/test/java/org/apache/oozie/action/hadoop/TestHiveActionExecutor.java:[67,30] package org.apache.velocity.app does not exist
[ERROR] /Users/tucu/src/apache/oozie/git/core/src/test/java/org/apache/oozie/action/hadoop/TestHiveMain.java:[121,51] cannot find symbol
[ERROR] symbol  : class VelocityEngine
[ERROR] location: class org.apache.oozie.action.hadoop.TestHiveMain
[ERROR] /Users/tucu/src/apache/oozie/git/core/src/test/java/org/apache/oozie/action/hadoop/TestHiveMain.java:[131,55] cannot find symbol
[ERROR] symbol  : class RegexSerDe
[ERROR] location: class org.apache.oozie.action.hadoop.TestHiveMain
[ERROR] /Users/tucu/src/apache/oozie/git/core/src/test/java/org/apache/oozie/action/hadoop/TestHiveActionExecutor.java:[271,47] cannot find symbol
[ERROR] symbol  : class VelocityEngine
[ERROR] location: class org.apache.oozie.action.hadoop.TestHiveActionExecutor
[ERROR] /Users/tucu/src/apache/oozie/git/core/src/test/java/org/apache/oozie/action/hadoop/TestHiveActionExecutor.java:[279,51] cannot find symbol
[ERROR] symbol  : class RegexSerDe
[ERROR] location: class org.apache.oozie.action.hadoop.TestHiveActionExecutor
-------

If I use the Hive artifacts from Cloudera's maven repo things work as expected.
, @Alejandro: Which snapshot POM did you look at? I'm looking at the one here:

https://repository.apache.org/service/local/repositories/snapshots/content/org/apache/hive/hive-cli/0.9.0-SNAPSHOT/hive-cli-0.9.0-20111111.234949-97.pom

It seems to have the correct Hive dependencies.

Also, hive-contrib, which contains the RegexSerDe, is not on the Hive classpath by default. You have to add this manually. If an Oozie testcase references this directly then you need to add hive-contrib as one of your dependencies., @Alejandro: Also, it doesn't look like Apache Oozie includes the HiveActionExecutor. Which repo/branch do I need to look in to find this code?, Adding 'hive-contrib' as an explicit dependency fixes things and I'm able to use Hive 0.9.0-SNAPSHOT, THXS!!!!!

Still, hive POMs refer to an invalid dependency, groupId=hadoop & artifactId=core. Iit should be 'org.apache.hadoop' and 'hadoop-core' respectively.

, Integrated in Hive-0.8.0-SNAPSHOT-h0.21 #100 (See [https://builds.apache.org/job/Hive-0.8.0-SNAPSHOT-h0.21/100/])
    HIVE-2391. Published POMs in Maven repo are incorrect (Carl Steinbach via cws)

cws : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1203462
Files : 
* /hive/branches/branch-0.8/ant/build.xml
* /hive/branches/branch-0.8/ant/ivy.xml
* /hive/branches/branch-0.8/build-common.xml
* /hive/branches/branch-0.8/build.properties
* /hive/branches/branch-0.8/build.xml
* /hive/branches/branch-0.8/cli/build.xml
* /hive/branches/branch-0.8/cli/ivy.xml
* /hive/branches/branch-0.8/cli/lib
* /hive/branches/branch-0.8/common/build.xml
* /hive/branches/branch-0.8/common/ivy.xml
* /hive/branches/branch-0.8/contrib/build.xml
* /hive/branches/branch-0.8/contrib/ivy.xml
* /hive/branches/branch-0.8/contrib/src/test/queries/clientpositive/dboutput.q
* /hive/branches/branch-0.8/eclipse-templates/.classpath
* /hive/branches/branch-0.8/hbase-handler/build.xml
* /hive/branches/branch-0.8/hbase-handler/ivy.xml
* /hive/branches/branch-0.8/hwi/build.xml
* /hive/branches/branch-0.8/hwi/ivy.xml
* /hive/branches/branch-0.8/ivy.xml
* /hive/branches/branch-0.8/ivy/common-configurations.xml
* /hive/branches/branch-0.8/ivy/ivysettings.xml
* /hive/branches/branch-0.8/ivy/libraries.properties
* /hive/branches/branch-0.8/jdbc/build.xml
* /hive/branches/branch-0.8/jdbc/ivy.xml
* /hive/branches/branch-0.8/lib/README
* /hive/branches/branch-0.8/lib/asm-3.1.LICENSE
* /hive/branches/branch-0.8/lib/asm-3.1.jar
* /hive/branches/branch-0.8/lib/commons-collections-3.2.1.LICENSE
* /hive/branches/branch-0.8/lib/commons-collections-3.2.1.jar
* /hive/branches/branch-0.8/lib/commons-lang-2.4.LICENSE
* /hive/branches/branch-0.8/lib/commons-lang-2.4.jar
* /hive/branches/branch-0.8/lib/commons-logging-1.0.4.jar
* /hive/branches/branch-0.8/lib/commons-logging-api-1.0.4.jar
* /hive/branches/branch-0.8/lib/derby.LICENSE
* /hive/branches/branch-0.8/lib/derby.jar
* /hive/branches/branch-0.8/lib/json-LICENSE.txt
* /hive/branches/branch-0.8/lib/json-README.txt
* /hive/branches/branch-0.8/lib/json.jar
* /hive/branches/branch-0.8/lib/velocity-1.5.jar
* /hive/branches/branch-0.8/lib/velocity.LICENSE
* /hive/branches/branch-0.8/metastore/build.xml
* /hive/branches/branch-0.8/metastore/ivy.xml
* /hive/branches/branch-0.8/odbc/ivy.xml
* /hive/branches/branch-0.8/pdk/build.xml
* /hive/branches/branch-0.8/pdk/ivy.xml
* /hive/branches/branch-0.8/ql/build.xml
* /hive/branches/branch-0.8/ql/ivy.xml
* /hive/branches/branch-0.8/ql/lib
* /hive/branches/branch-0.8/ql/src/test/queries/clientpositive/set_processor_namespaces.q
* /hive/branches/branch-0.8/ql/src/test/results/clientpositive/set_processor_namespaces.q.out
* /hive/branches/branch-0.8/serde/build.xml
* /hive/branches/branch-0.8/serde/ivy.xml
* /hive/branches/branch-0.8/service/build.xml
* /hive/branches/branch-0.8/service/ivy.xml
* /hive/branches/branch-0.8/shims/build.xml
* /hive/branches/branch-0.8/shims/ivy.xml
, The currently published pom.xml seems to indicate the following:
(from https://repository.apache.org/content/groups/snapshots/org/apache/hive/hive-metastore/0.8.0-SNAPSHOT/hive-metastore-0.8.0-20111130.194742-149.pom)

<dependency>
<groupId>hadoop</groupId>
<artifactId>core</artifactId>
<version>0.20.1</version>
<scope>compile</scope>
</dependency>

Could the pom please be corrected to reference the hadoop-core jar correctly? (Unless of course I'm missing something, in which case, may I please know which repository this artifact might be pulled from?), @Mithun: Thanks for pointing this out. I filed HIVE-2622 to track this issue.]