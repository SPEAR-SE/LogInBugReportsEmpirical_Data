[Attched the patch, Will tests generated on windows run on linux and vice versa?, Hi Edward – It is a good point. Hive development on Windows is not ready yet, still around 20% of unit tests are failing. So I am working on addressing them in subsequent JIRAs (Sub tasks of this JIRA & not created them yet). This Patch will enable other developers to build and fix any of the existing UT failures on Windows.  Here is my plan to get the Windows development environment ready.

1) This JIRA addresses to generate and build the velocity based unit tests on Windows.
2) I will be creating bunch of JIRAs to address the UT failures on Windows (It completes the work to run all UTs generated on Linux to work on Windows)
3) Enable the Hive development on Windows . it will address UTs developed on Windows to work on Linux too.
 
Please let me know if I missed anything.

Thanks
, @Kanna: Please create a review request. Thanks., Removed the workwround for long class path (It will be addressed in HIVE-3172) from existing patch., Code review request is at https://reviews.apache.org/r/5540/
, @Kanna: please see my comments on reviewboard. Thanks., Thanks Carl. I will look into it., @Carl- I am still investigating some unit test failures on unix . I will upload the patch by end of day today. Thanks, Updated the patch after addressing most of the review comments
1)	Replaced most of the Windows specific checks in build.xml files with generic OS check approach.
2)	Removed some of the if(Windows) checks in the production code.
, Updated the patch., @Kanna: I added some more comments on reviewboard. Thanks., Thanks Carl. This feedback helped me to move the path conversion/escaping logic from .vm files to QTestGen task. It is a code generation logic so to even create a file object, we need to get the absolute path in a string format so we can’t skip the escaping logic. Here is the generated code line.  (new File("D:\\OSS\\Hive\\ql\\src\\test\\queries\\clientpositive\\input37.q");

File, Path, & URI objects are helping us to work across Windows & Unix operating systems with no explicit conversions. But when it comes to Hadoop, JAVA can’t convert the URIs between “local file system” vs “hdfs”. URIs in Unix & HDFS are more or less same format and the paths in Unix don’t contain “:” character so we don’t notice this problem. In windows, because of the”:” Hadoop treats the windows drive letter as file scheme so we need to remove it to avoid this problem.

Thanks, @Carl. Please let me know if you have any additional comments., Updated the patch with latest OSS source., Updated with the correct patch., Integrated in Hive-trunk-h0.21 #1539 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1539/])
    HIVE-3126 :Windows: Fix the unit tests which contains cmd commands (Unix shell commands) (Kanna Karanam via Ashutosh Chauhan) (Revision 1360825)

     Result = SUCCESS
hashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1360825
Files : 
* /hive/trunk/ql/src/test/queries/clientnegative/exim_00_unsupported_schema.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_01_nonpart_over_loaded.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_02_all_part_over_overlap.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_03_nonpart_noncompat_colschema.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_04_nonpart_noncompat_colnumber.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_05_nonpart_noncompat_coltype.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_06_nonpart_noncompat_storage.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_07_nonpart_noncompat_ifof.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_08_nonpart_noncompat_serde.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_09_nonpart_noncompat_serdeparam.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_10_nonpart_noncompat_bucketing.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_11_nonpart_noncompat_sorting.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_13_nonnative_import.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_14_nonpart_part.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_15_part_nonpart.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_16_part_noncompat_schema.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_17_part_spec_underspec.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_18_part_spec_missing.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_19_external_over_existing.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_20_managed_location_over_existing.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_21_part_managed_external.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_22_export_authfail.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_23_import_exist_authfail.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_24_import_part_authfail.q
* /hive/trunk/ql/src/test/queries/clientnegative/exim_25_import_nonexist_authfail.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_00_nonpart_empty.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_01_nonpart.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_02_00_part_empty.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_02_part.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_03_nonpart_over_compat.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_04_all_part.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_04_evolved_parts.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_05_some_part.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_06_one_part.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_07_all_part_over_nonoverlap.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_08_nonpart_rename.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_09_part_spec_nonoverlap.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_10_external_managed.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_11_managed_external.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_12_external_location.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_13_managed_location.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_14_managed_location_over_existing.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_15_external_part.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_16_part_external.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_17_part_managed.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_18_part_external.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_19_00_part_external_location.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_19_part_external_location.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_20_part_managed_location.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_21_export_authsuccess.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_22_import_exist_authsuccess.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_23_import_part_authsuccess.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_24_import_nonexist_authsuccess.q
* /hive/trunk/ql/src/test/queries/clientpositive/insertexternal1.q
* /hive/trunk/ql/src/test/queries/clientpositive/multi_insert.q
* /hive/trunk/ql/src/test/queries/clientpositive/multi_insert_move_tasks_share_dependencies.q
* /hive/trunk/ql/src/test/results/clientnegative/exim_00_unsupported_schema.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_01_nonpart_over_loaded.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_02_all_part_over_overlap.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_03_nonpart_noncompat_colschema.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_04_nonpart_noncompat_colnumber.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_05_nonpart_noncompat_coltype.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_06_nonpart_noncompat_storage.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_07_nonpart_noncompat_ifof.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_08_nonpart_noncompat_serde.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_09_nonpart_noncompat_serdeparam.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_10_nonpart_noncompat_bucketing.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_11_nonpart_noncompat_sorting.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_13_nonnative_import.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_14_nonpart_part.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_15_part_nonpart.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_16_part_noncompat_schema.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_17_part_spec_underspec.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_18_part_spec_missing.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_19_external_over_existing.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_20_managed_location_over_existing.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_21_part_managed_external.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_22_export_authfail.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_23_import_exist_authfail.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_24_import_part_authfail.q.out
* /hive/trunk/ql/src/test/results/clientnegative/exim_25_import_nonexist_authfail.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_00_nonpart_empty.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_01_nonpart.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_02_00_part_empty.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_02_part.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_03_nonpart_over_compat.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_04_all_part.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_04_evolved_parts.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_05_some_part.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_06_one_part.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_07_all_part_over_nonoverlap.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_08_nonpart_rename.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_09_part_spec_nonoverlap.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_10_external_managed.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_11_managed_external.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_12_external_location.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_13_managed_location.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_14_managed_location_over_existing.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_15_external_part.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_16_part_external.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_17_part_managed.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_18_part_external.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_19_00_part_external_location.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_19_part_external_location.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_20_part_managed_location.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_21_export_authsuccess.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_22_import_exist_authsuccess.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_23_import_part_authsuccess.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_24_import_nonexist_authsuccess.q.out
* /hive/trunk/ql/src/test/results/clientpositive/insertexternal1.q.out
* /hive/trunk/ql/src/test/results/clientpositive/multi_insert.q.out
* /hive/trunk/ql/src/test/results/clientpositive/multi_insert_move_tasks_share_dependencies.q.out
, [~kannakar@microsoft.com] : I left some comments on RB. , Looks like I referenced wrong jura-id in my svn commit message. I committed HIVE-3204 not this one. I have corrected svn commit message in repo too., Addressed Ashutosh’s review comments and updated the diff file. Thanks, Looks good to me. Running tests now., @Kanna: I left a couple more comments on reviewboard (nothing big). Thanks., Thanks Carl. Updated the diff with some of your suggestions., Changes look good to me. Carl, do you have any more comments for it?, @Kanna: I responded to your comments. Thanks., @Carl – I added some follow up comments. can you please look into them?, Thanks Carl. Can you please review the update diff., Updated the patch with latest source &  fixed the windows path related issue to make more unit tests run on windows., @Carl, @Ashutosh - can you please review the updated diff? Thanks.
, @Kanna: Thanks, Kanna. I will take a look., Looks good to me. Kanna, thanks for making all of these changes., +1 Will commit if tests  pass., Thanks Ashutosh, Carl. This JIRA helps developers to build, develop , & debug hive on windows. I am not done yet until I fix all other unit test failures but it helps the community to play on windows., Committed to trunk. Thanks Kanna for your perseverance on this one!, Integrated in Hive-trunk-h0.21 #1567 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1567/])
    HIVE-3126 : Generate & build the velocity based Hive tests on windows by fixing the path issues (Kanna Karanam via Ashutosh Chauhan) (Revision 1365467)

     Result = FAILURE
hashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1365467
Files : 
* /hive/trunk/ant/src/org/apache/hadoop/hive/ant/QTestGenTask.java
* /hive/trunk/build-common.xml
* /hive/trunk/build.xml
* /hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java
* /hive/trunk/conf/hive-default.xml.template
* /hive/trunk/contrib/src/test/org/apache/hadoop/hive/contrib/mr/TestGenericMR.java
* /hive/trunk/data/conf/hive-site.xml
* /hive/trunk/hbase-handler/src/test/templates/TestHBaseCliDriver.vm
* /hive/trunk/hbase-handler/src/test/templates/TestHBaseNegativeCliDriver.vm
* /hive/trunk/odbc/build.xml
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Context.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/LoadSemanticAnalyzer.java
* /hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java
* /hive/trunk/ql/src/test/templates/TestCliDriver.vm
* /hive/trunk/ql/src/test/templates/TestNegativeCliDriver.vm
* /hive/trunk/ql/src/test/templates/TestParse.vm
* /hive/trunk/ql/src/test/templates/TestParseNegative.vm
* /hive/trunk/shims/src/common/java/org/apache/hadoop/fs/ProxyFileSystem.java
* /hive/trunk/shims/src/common/java/org/apache/hadoop/fs/ProxyLocalFileSystem.java
* /hive/trunk/testutils/hadoop.cmd
, Integrated in Hive-trunk-hadoop2 #54 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/54/])
    HIVE-3126 : Generate & build the velocity based Hive tests on windows by fixing the path issues (Kanna Karanam via Ashutosh Chauhan) (Revision 1365467)

     Result = ABORTED
hashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1365467
Files : 
* /hive/trunk/ant/src/org/apache/hadoop/hive/ant/QTestGenTask.java
* /hive/trunk/build-common.xml
* /hive/trunk/build.xml
* /hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java
* /hive/trunk/conf/hive-default.xml.template
* /hive/trunk/contrib/src/test/org/apache/hadoop/hive/contrib/mr/TestGenericMR.java
* /hive/trunk/data/conf/hive-site.xml
* /hive/trunk/hbase-handler/src/test/templates/TestHBaseCliDriver.vm
* /hive/trunk/hbase-handler/src/test/templates/TestHBaseNegativeCliDriver.vm
* /hive/trunk/odbc/build.xml
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Context.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/LoadSemanticAnalyzer.java
* /hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java
* /hive/trunk/ql/src/test/templates/TestCliDriver.vm
* /hive/trunk/ql/src/test/templates/TestNegativeCliDriver.vm
* /hive/trunk/ql/src/test/templates/TestParse.vm
* /hive/trunk/ql/src/test/templates/TestParseNegative.vm
* /hive/trunk/shims/src/common/java/org/apache/hadoop/fs/ProxyFileSystem.java
* /hive/trunk/shims/src/common/java/org/apache/hadoop/fs/ProxyLocalFileSystem.java
* /hive/trunk/testutils/hadoop.cmd
, This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.]