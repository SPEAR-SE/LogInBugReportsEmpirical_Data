[Fix NPE, add unit test, +1. Will commit if tests pass. , 
-----------------------------------------------------------
This is an automatically generated e-mail. To reply, visit:
https://reviews.apache.org/r/1279/
-----------------------------------------------------------

Review request for Ning Zhang.


Summary
-------

table stats were not being updated for non "load table desc" plans due to NPE.


This addresses bug hive-2343.
    https://issues.apache.org/jira/browse/hive-2343


Diffs
-----

  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/StatsTask.java 1153601 
  trunk/ql/src/test/queries/clientpositive/stats16.q PRE-CREATION 
  trunk/ql/src/test/results/clientpositive/stats16.q.out PRE-CREATION 

Diff: https://reviews.apache.org/r/1279/diff


Testing
-------

all clientpositive/stats* unit tests pass


Thanks,

Franklin

, Integrated in Hive-trunk-h0.21 #872 (See [https://builds.apache.org/job/Hive-trunk-h0.21/872/])
    HIVE-2343. stats are not updated for non "load table desc" operations" (Franklin Hu via Ning Zhang)

nzhang : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1153753
Files : 
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/StatsTask.java
* /hive/trunk/ql/src/test/queries/clientpositive/stats16.q
* /hive/trunk/ql/src/test/results/clientpositive/stats16.q.out
, Committed. Thanks Franklin!]