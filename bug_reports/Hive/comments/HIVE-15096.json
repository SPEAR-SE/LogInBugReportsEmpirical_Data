[diff --git a/hplsql/src/main/java/org/apache/hive/hplsql/Exec.java b/hplsql/src/main/java/org/apache/hive/hplsql/Exec.java
index 6da4f5b..1e14361 100644
--- a/hplsql/src/main/java/org/apache/hive/hplsql/Exec.java
+++ b/hplsql/src/main/java/org/apache/hive/hplsql/Exec.java
@@ -615,9 +615,13 @@ public void registerUdf() {
     }
     ArrayList<String> sql = new ArrayList<String>();
     String dir = Utils.getExecDir();
-    sql.add("ADD JAR " + dir + "hplsql.jar");
-    sql.add("ADD JAR " + dir + "antlr-runtime-4.5.jar");
-    sql.add("ADD FILE " + dir + Conf.SITE_XML);
+    sql.add("ADD JAR " + dir + "hive-hplsql-2.2.0-SNAPSHOT.jar");
+    sql.add("ADD JAR " + dir + "antlr4-runtime-4.5.jar");
+    if(!conf.getLocation().equals("")) {
+      sql.add("ADD FILE " + conf.getLocation());
+    } else {
+      sql.add("ADD FILE " + dir + Conf.SITE_XML);
+    }
     if (dotHplsqlrcExists) {
       sql.add("ADD FILE " + dir + Conf.DOT_HPLSQLRC);
     }
, anyone review itï¼Ÿ, fix hpl/sql registerUDF,consistent with pom.xml, LGTM +1 pending to the test., -1 why to hardcode the version???? hive-hplsql-2.2.0-SNAPSHOT.jar 
you will need to change this file with every Hive realease., there is no hplsql.jar with hive release. users don't know how to  change this file if they have no source code, update the patch, remove the hardcode version 2.2.0-SNAPSHOT.
can you review it again? give suggestions, +1 looks good, thanks., hi, [~dmtolpeko] . could you please commit this patch to master branch?, Committed to the master. Thanks [~ferhui] for the contribution and [~dmtolpeko] for the review.]