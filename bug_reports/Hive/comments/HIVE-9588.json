[To help things along, I've added an overload to {{HMSC.dropPartitions()}} that allows us to skip returning the partition-list., 

{color:red}Overall{color}: -1 no tests executed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12696683/HIVE-9588.1.patch

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2676/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2676/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2676/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Tests exited with: ExecutionException: java.util.concurrent.ExecutionException: org.apache.hive.ptest.execution.ssh.SSHExecutionException: RSyncResult [localFile=/data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-2676/succeeded/TestParseNegative, remoteFile=/home/hiveptest/54.162.181.222-hiveptest-0/logs/, getExitCode()=12, getException()=null, getUser()=hiveptest, getHost()=54.162.181.222, getInstance()=0]: 'Address 54.162.181.222 maps to ec2-54-162-181-222.compute-1.amazonaws.com, but this does not map back to the address - POSSIBLE BREAK-IN ATTEMPT!
receiving incremental file list
./
TEST-TestParseNegative-TEST-org.apache.hadoop.hive.ql.parse.TestParseNegative.xml
           0   0%    0.00kB/s    0:00:00
        8387 100%    4.00MB/s    0:00:00 (xfer#1, to-check=3/5)
hive.log
           0   0%    0.00kB/s    0:00:00
    45350912  37%   43.16MB/s    0:00:01
    90996736  74%   43.35MB/s    0:00:00
rsync: write failed on "/data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-2676/succeeded/TestParseNegative/hive.log": No space left on device (28)
rsync error: error in file IO (code 11) at receiver.c(301) [receiver=3.0.6]
rsync: connection unexpectedly closed (204 bytes received so far) [generator]
rsync error: error in rsync protocol data stream (code 12) at io.c(600) [generator=3.0.6]
Address 54.162.181.222 maps to ec2-54-162-181-222.compute-1.amazonaws.com, but this does not map back to the address - POSSIBLE BREAK-IN ATTEMPT!
receiving incremental file list
hive.log
           0   0%    0.00kB/s    0:00:00
rsync: write failed on "/data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-2676/succeeded/TestParseNegative/hive.log": No space left on device (28)
rsync error: error in file IO (code 11) at receiver.c(301) [receiver=3.0.6]
rsync: connection unexpectedly closed (204 bytes received so far) [generator]
rsync error: error in rsync protocol data stream (code 12) at io.c(600) [generator=3.0.6]
Address 54.162.181.222 maps to ec2-54-162-181-222.compute-1.amazonaws.com, but this does not map back to the address - POSSIBLE BREAK-IN ATTEMPT!
receiving incremental file list
./
hive.log
           0   0%    0.00kB/s    0:00:00
rsync: write failed on "/data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-2676/succeeded/TestParseNegative/hive.log": No space left on device (28)
rsync error: error in file IO (code 11) at receiver.c(301) [receiver=3.0.6]
rsync: connection unexpectedly closed (204 bytes received so far) [generator]
rsync error: error in rsync protocol data stream (code 12) at io.c(600) [generator=3.0.6]
Address 54.162.181.222 maps to ec2-54-162-181-222.compute-1.amazonaws.com, but this does not map back to the address - POSSIBLE BREAK-IN ATTEMPT!
receiving incremental file list
./
hive.log
           0   0%    0.00kB/s    0:00:00
rsync: write failed on "/data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-2676/succeeded/TestParseNegative/hive.log": No space left on device (28)
rsync error: error in file IO (code 11) at receiver.c(301) [receiver=3.0.6]
rsync: connection unexpectedly closed (204 bytes received so far) [generator]
rsync error: error in rsync protocol data stream (code 12) at io.c(600) [generator=3.0.6]
Address 54.162.181.222 maps to ec2-54-162-181-222.compute-1.amazonaws.com, but this does not map back to the address - POSSIBLE BREAK-IN ATTEMPT!
receiving incremental file list
./
hive.log
           0   0%    0.00kB/s    0:00:00
rsync: write failed on "/data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-2676/succeeded/TestParseNegative/hive.log": No space left on device (28)
rsync error: error in file IO (code 11) at receiver.c(301) [receiver=3.0.6]
rsync: connection unexpectedly closed (204 bytes received so far) [generator]
rsync error: error in rsync protocol data stream (code 12) at io.c(600) [generator=3.0.6]
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12696683 - PreCommit-HIVE-TRUNK-Build, Refactored. Moved the new {{HiveMetaStoreClient.dropPartitions()}} to a separate JIRA., A minor update:

1. Dropping 2K partitions using HCatClient.dropPartitions() used to take 204 seconds for a managed table on my test setup (with an Oracle backend, and remote metastore). This now takes 83 seconds.
2. Dropping 5K partitions used to take about 7 minutes. It now takes 4., Another minor update: 

The numbers quoted above are slashed in half for EXTERNAL tables. Half the problem is the iterative deletion of partition directories.
1. In the short term, perhaps we could add an HCatClient.dropPartitions() overload that takes a deleteData argument, just as HiveMetaStoreClient.drop_partitions_req() does. This way, the caller can choose whether to delete the underlying data. (Should be beneficial for data-loading programs like GDM/Falcon.)
2. In the long term, we should consider classifying the directories so that we drop the common parent, rather than each partition-dir individually., Hey, [~sushanth]. Thanks for the initial review. I've moved the chicken-switch constant into HiveConf, as you'd suggested. Here's the updated patch., Testing with rebase., 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12698248/HIVE-9588.3.patch

{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 7599 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_context_ngrams
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2961/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2961/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2961/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12698248 - PreCommit-HIVE-TRUNK-Build, +1 . 
Mithun can you also add a comment explaining kind of expression  ExpressionBuilder generates (ie, expression with "and"  of all partitionspecs) .
, Hey, [~thejas]. Thanks for reviewing. I've added the comment you suggested., Patch committed to trunk.
Thanks for the patch [~mithun]!
, Doc note:  This adds *hive.metastore.client.drop.partitions.using.expressions* to HiveConf.java, so it needs to be documented for 1.2.0 in the Metastore section of Configuration Properties.

* [Configuration Properties -- Metastore | https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-MetaStore], This issue has been fixed and released as part of the 1.2.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.]