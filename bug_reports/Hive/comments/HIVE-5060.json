[This patch adds polling to the DML path in {{executeStatement}}., @Henry, HIVE-4569 adds another api to call execute asynchronously. After that, current code of jdbc driver should just work.
If we have a synchronous api, the clients such as jdbc can fetch results after the execute immediately without bombarding the server with so many get-status calls. So, i definitely see the need for two apis., Uploading the same patch under a new name so the precommit tests will run., [~amareshwari] - thanks for your comments! I have a couple of responses:

* For SELECT etc. queries, there's no need to do the polling (and the patch does not poll in that case), since the call to fetch the results will block until some are ready.
* The polling only happens 10 times a second, which should not overload any reasonable server even at quite high levels of concurrency
* I can see that it would be useful to have a call that was synchronous; it just seems that {{executeStatement}} was not designed to be it since it returns a handle. If the idea is not to poll its status, I'm not sure why {{executeStatement}} would return {{TOperationHandle}}. However, it will be good to have both APIs eventually, I would just rather that {{executeStatement}} was the async one., 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12598099/HIVE-5060.patch

{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 2859 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_udtf_not_supported2
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_reducers_power_two
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/446/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/446/console

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 2 tests failed
{noformat}

This message is automatically generated., [~henryr] [~brocknoland] Possible to add this to rb? I'm keen to take a look at this and compare with [HIVE-4569|https://issues.apache.org/jira/browse/HIVE-4569]. Thanks!, [~vgumashta] - sorry about the delay, I've uploaded the patch to review board here: https://reviews.apache.org/r/13948/

The approach in HIVE-4569 will be more general, but this fixes an immediate issue for other implementations of the HS2 API at very little cost to Hive.

BTW, I believe the test failures from the patch are unrelated., [~henryr] Thanks for posting this to rb. There has been some more progress on the async execution part of [HIVE-4569|https://issues.apache.org/jira/browse/HIVE-4569] here: [HIVE-4617|https://issues.apache.org/jira/browse/HIVE-4617]. I'll post my comments soon.

, [~henryr] The changes look good to me. I might add a few more changes though (in a separate patch), once [HIVE-4617|https://issues.apache.org/jira/browse/HIVE-4617] moves forward. +1 from me (non-binding). Thanks a lot!, +1, Committed to trunk! Thank you for your contribution!, FAILURE: Integrated in Hive-trunk-hadoop2 #410 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/410/])
HIVE-5060: JDBC driver assumes executeStatement is synchronous (Henry Robinson via Brock Noland) (brock: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1520604)
* /hive/trunk/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java
, FAILURE: Integrated in Hive-trunk-h0.21 #2314 (See [https://builds.apache.org/job/Hive-trunk-h0.21/2314/])
HIVE-5060: JDBC driver assumes executeStatement is synchronous (Henry Robinson via Brock Noland) (brock: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1520604)
* /hive/trunk/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java
, FAILURE: Integrated in Hive-trunk-hadoop1-ptest #153 (See [https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/153/])
HIVE-5060: JDBC driver assumes executeStatement is synchronous (Henry Robinson via Brock Noland) (brock: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1520604)
* /hive/trunk/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java
, FAILURE: Integrated in Hive-trunk-hadoop2-ptest #85 (See [https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/85/])
HIVE-5060: JDBC driver assumes executeStatement is synchronous (Henry Robinson via Brock Noland) (brock: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1520604)
* /hive/trunk/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java
, This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.]