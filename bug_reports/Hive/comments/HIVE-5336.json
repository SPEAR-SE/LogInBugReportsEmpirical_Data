[Added code change to re-align the columns after HCatSchema.remove(). Also added a unit test case., +1, btw, I think you need to name the patch file as HIVE-5336.1.patch  (w/o .txt) for test framework to pick it up, 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12604662/HIVE-5336.1.patch.txt

{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 3144 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_script_broken_pipe1
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/861/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/861/console

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
{noformat}

This message is automatically generated., The above error doesn't reproduce locally and does not look related to the changes made by me., 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12605300/HIVE-5336.2.patch

{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 3176 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_disable_merge_for_bucketing
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_parallel_orderby
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/922/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/922/console

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 2 tests failed
{noformat}

This message is automatically generated., same patch as 1 and 2., Patch looks good to me, +1 on intent. It does not apply on current trunk, however, so I rebased it so we could run our precommit tests on it. Attaching that patch., Attached. Also, I realize pre-commit tests already ran on the patch before, but I'd like to see a more recent run before I can commit., 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12639900/HIVE-5336.3.patch

{color:red}ERROR:{color} -1 due to 4 failed/errored test(s), 5615 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_map_operators
org.apache.hive.service.cli.thrift.TestThriftBinaryCLIService.testExecuteStatementAsync
{noformat}

Test results: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2231/testReport
Console output: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2231/console

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12639900, The failed tests are not related to this issue, I can go ahead and commit., Committed to trunk. Thanks for the fix, Hari!, This has been fixed in 0.14 release. Please open new jira if you see any issues.
]