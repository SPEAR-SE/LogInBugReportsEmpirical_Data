[If someone has time they can contribute this:
, https://github.com/edwardcapriolo/hive-protobuf/, omalley requested code review of "HIVE-4156 [jira] need to add protobuf classes to hive-exec.jar".

Reviewers: JIRA

hive-4156 add protobuf to hive-exec

In some queries, the tasks fail when they can't find classes from the protobuf library.

TEST PLAN
  EMPTY

REVISION DETAIL
  https://reviews.facebook.net/D9375

AFFECTED FILES
  ql/build.xml

MANAGE HERALD RULES
  https://reviews.facebook.net/herald/view/differential/

WHY DID I GET THIS EMAIL?
  https://reviews.facebook.net/herald/transcript/22527/

To: JIRA, omalley
, Hey. I am -1 on this for one reason. Technically there is nothing in hive that requires protobuf libraries. So if we include it by default we theoretically create conflicts for people that may be packaging their own libraries as part of a UDF or something. Until something in hive uses protobufs directly it should not be included in the base, it should be an aftermarket thing people have to do., ORC does require protobuf, which is exactly how I hit this., My bad removing the -1, No worries, but thanks for removing the -1. Ironically, some of the testing for ORC is happening under Hadoop v2 where the issue doesn't come up since Hadoop v2 bundles protobuf., Is the Snappy jar needed as well for the SnappyCodec?, Shouldn't we commit/forcus on this columnar format first? Fair is fair, that is patch_available and no one is reviewing/committing. 

https://issues.apache.org/jira/browse/HIVE-3585

, +1, omalley updated the revision "HIVE-4156 [jira] need to add protobuf classes to hive-exec.jar".

  I've added snappy to the exec jar also.

Reviewers: JIRA

REVISION DETAIL
  https://reviews.facebook.net/D9375

CHANGE SINCE LAST DIFF
  https://reviews.facebook.net/D9375?vs=29751&id=30759#toc

AFFECTED FILES
  ql/build.xml

To: JIRA, omalley
, Kevin,
   Thanks for the catch. You're right of course that I should have also included the snappy jar., +1 will commit if tests pass., Committed to trunk. Thanks, Owen!, Integrated in Hive-trunk-h0.21 #2044 (See [https://builds.apache.org/job/Hive-trunk-h0.21/2044/])
    HIVE-4156 : need to add protobuf classes to hive-exec.jar (Owen Omalley via Ashutosh Chauhan) (Revision 1464245)

     Result = FAILURE
hashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1464245
Files : 
* /hive/trunk/ql/build.xml
, Integrated in Hive-trunk-hadoop2 #138 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/138/])
    HIVE-4156 : need to add protobuf classes to hive-exec.jar (Owen Omalley via Ashutosh Chauhan) (Revision 1464245)

     Result = FAILURE
hashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1464245
Files : 
* /hive/trunk/ql/build.xml
]