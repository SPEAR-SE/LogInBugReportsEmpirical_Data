[I think this is happening due to a bug in OrcRawRecordMerger initialization where we reset the split's length to Long.MAX_VALUE. 

{code:java}
if (isOriginal) {
  options = options.clone();
  options.range(options.getOffset(), Long.MAX_VALUE);
  pair = new OriginalReaderPair(key, reader, bucket, minKey, maxKey,
           options);
}
{code}

This causes the reader to incorrectly assume that all the stripes from the start offset to the end of the file is it's responsibility to read. In RecordReaderImpl.java: 

{code:java}
long offset = options.getOffset();
long maxOffset = options.getMaxOffset();
for(StripeInformation stripe: fileReader.getStripes()) {
  long stripeStart = stripe.getOffset();
  if (offset > stripeStart) {
    skippedRows += stripe.getNumberOfRows();
  } else if (stripeStart < maxOffset) {
    this.stripes.add(stripe);
    rows += stripe.getNumberOfRows();
  }
}
{code}

Although the task does not make the mistake of reading data that it should not be reading because it also relies on the min and max row key to make that decision, in some cases it does up reading the footers of all the stripes, increasing task completion time.

Once all the rows from a stripe have been read, RecordReaderImpl.advanceToNextRow() is invoked which reads the footer of the next stripe and evaluates the sarg against the rowgroups in that stripe using the metadata in the footer. If sarg evaluation fails for all the rowgroups in the stripe, it moves on the next stripe and repeats the same process there, ending up reading stripe footers for all the stripes in the file.

Is my understanding correct?, Attaching a patch removing the resetting of the maxOffset to Long.MAX_VALUE, Review Board: https://reviews.apache.org/r/55046

Not sure why the precommit tests are not running. Uploading the same patch with a patch number to try and trigger the tests., Trying to trigger precommit tests., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12842473/HIVE-15390.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 4 failed/errored test(s), 10896 tests executed
*Failed tests:*
{noformat}
TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=92)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/2729/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/2729/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-2729/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12842473 - PreCommit-HIVE-Build, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12844724/HIVE-15390.1.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 8 failed/errored test(s), 10896 tests executed
*Failed tests:*
{noformat}
TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[offset_limit_ppd_optimizer] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_1] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=92)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/2730/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/2730/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-2730/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12844724 - PreCommit-HIVE-Build, cc [~prasanth_j] [~rajesh.balamohan] [~gopalv]
, Looks good to me. Would prefer for [~prasanth_j] to also take a look.., [~prasanth_j] [~rajesh.balamohan] [~gopalv] can you please review., +1, Committed to master. Thanks for the patch and review!]