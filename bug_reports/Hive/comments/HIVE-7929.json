[Here is patch..
I added try/catch/finally statement.. and IZipOutputStream object is closed in finally statement..

Please review my source code.. ^^ Thank you.., The catch block is unnecessary. I think the finally block should only contain {{zos.close()}} with {{zos.closeEntry();}} and {{zipDir(dir, relativePath, zos, true);}} moved inside of the try block. For example:

{code}
try {
 ...
  zos.closeEntry();
  zipDir(dir, relativePath, zos, true);
} finally {
  zos.close();
}
{code}

Alternatively, it might be cleaner to do a try/finally in {{createJar(File, File)}} to close the JarOutputStream and completely remove the {{close()}} call in {{jarDir(File, String, ZipOutputStream)}}.

Also, it may interest you, this code was borrowed from HBase. They may benefit from these same improvements in their codebase -- I forget what HBase version I copied this from though., zos.closeEntry() is called  twice if manifestFile is not existed. So I moved zos.closeEntry() to last try statement..

Please review my patch 2 ^^ ..]