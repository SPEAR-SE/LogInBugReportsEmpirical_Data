[I have a fix for the main issue, fixing some rough edges..., This fixes the standard formatter to provide proper output, and adds validation to msck to make sure metastore will actually create matching partitions , [~ashutoshc] can you take a look?, cannot post RB, fails to validate diff... probably because of unprintable characters, 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12733941/HIVE-10722.patch

{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 8966 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchEmptyCommit
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3954/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3954/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3954/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12733941 - PreCommit-HIVE-TRUNK-Build, [~thejas] can you take a look?, [~sershe]
Can this be ported to 0.13 as well?, [~sushanth] can you take a look?, Looking through it., I'm +1 on the change in general. Would it be possible to add one more test, a negative test for hive.msck.path.validation=throw ?, Seems rather pointless, it's almost the same functionality and MiniMr tests add a long time to test run cause they take forever in setup. Should I still treat that as +1? :), I don't know that I see it as pointless - I see value in "throw" as a setting here, as a way of making sure that the process errors if you have invalid partitions.

And in that case, I was thinking that we should have "proof" that for the strict case, we show that we fail for sure and not silently succeed. The problem with not having a negative test in this case is if someone modifies this later on, and makes the "throw" behaviour also succeed. This is possible, since in your code, you do not explicitly check for "throw", you explicitly check for "skip" and "ignore", and default to "throw" if it doesn't follow that path. And with the lack of explicit checking or comments there, it is easy for someone modifying it later to not realize that that serves a purpose.

I think I'd still very much like a test case for this, but that can be handled in a separate jira, and can be taken on at a later date. If you're okay with that, I'm +1., Added negative test, Thanks! Sorry to be so finicky.

+1 on the new patch., 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12735994/HIVE-10722.01.patch

{color:red}ERROR:{color} -1 due to 3 failed/errored test(s), 8980 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_fold_case
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx_cbo_2
org.apache.hadoop.hive.thrift.TestHadoop20SAuthBridge.testSaslWithHiveMetaStore
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4095/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4095/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4095/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12735994 - PreCommit-HIVE-TRUNK-Build, committed to master, Doc note:  *hive.msck.path.validation* needs to be documented in Configuration Properties.  Should it go in the query & DDL execution section or the metastore section?

* [Configuration Properties -- Query and DDL Execution | https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-QueryandDDLExecution]
* [Configuration Properties -- MetaStore | https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-MetaStore]

Where does usage information belong?

* [LanguageManual -- DML | https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML]
* [LanguageManual -- DDL -- Recover Partitions (MSCK REPAIR TABLE) | https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-RecoverPartitions(MSCKREPAIRTABLE)], Added to LanguageManual – DDL – Recover Partitions (MSCK REPAIR TABLE) ]