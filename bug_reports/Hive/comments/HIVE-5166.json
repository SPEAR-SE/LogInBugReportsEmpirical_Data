[Stacktrace:
{noformat}
TestCase TestWebHCatE2e

   Name Status Type Time(s)
   getStatus Failure GET http://localhost:50111/templeton/v1/status?user.name=johndoe <html> <head> <meta http-equiv="Content-Type"
   content="text/html;charset=ISO-8859-1"/> <title>Error 503 java.lang.RuntimeException: Could not load wadl generators from
   wadlGeneratorDescriptions.</title> </head> <body> <h2>HTTP ERROR: 503</h2> <p>Problem accessing /templeton/v1/status. Reason: <pre>
   java.lang.RuntimeException: Could not load wadl generators from wadlGeneratorDescriptions.</pre></p> <hr /><i><small>Powered by
   Jetty://</small></i> </body> </html> expected:<200> but was:<503>
   junit.framework.AssertionFailedError: GET http://localhost:50111/templeton/v1/status?user.name=johndoe <html>
   <head>
   <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1"/>
   <title>Error 503 java.lang.RuntimeException: Could not load wadl generators from wadlGeneratorDescriptions.</title>
   </head>
   <body>
   <h2>HTTP ERROR: 503</h2>
   <p>Problem accessing /templeton/v1/status. Reason:
   <pre> java.lang.RuntimeException: Could not load wadl generators from wadlGeneratorDescriptions.</pre></p>
   <hr /><i><small>Powered by Jetty://</small></i>
   </body>
   </html>
   expected:<200> but was:<503>
   at org.apache.hcatalog.templeton.TestWebHCatE2e.getStatus(TestWebHCatE2e.java:85)
   0.125
   invalidPath Failure GET http://localhost:50111/templeton/v1/no_such_mapping/database?user.name=johndoe <html> <head> <meta
   http-equiv="Content-Type" content="text/html;charset=ISO-8859-1"/> <title>Error 503 java.lang.RuntimeException: Could not load wadl
   generators from wadlGeneratorDescriptions.</title> </head> <body> <h2>HTTP ERROR: 503</h2> <p>Problem accessing
   /templeton/v1/no_such_mapping/database. Reason: <pre> java.lang.RuntimeException: Could not load wadl generators from
   wadlGeneratorDescriptions.</pre></p> <hr /><i><small>Powered by Jetty://</small></i> </body> </html> expected:<500> but was:<503>
   junit.framework.AssertionFailedError: GET http://localhost:50111/templeton/v1/no_such_mapping/database?user.name=johndoe <html>
   <head>
   <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1"/>
   <title>Error 503 java.lang.RuntimeException: Could not load wadl generators from wadlGeneratorDescriptions.</title>
   </head>
  <body>
   <h2>HTTP ERROR: 503</h2>
   <p>Problem accessing /templeton/v1/no_such_mapping/database. Reason:
   <pre> java.lang.RuntimeException: Could not load wadl generators from wadlGeneratorDescriptions.</pre></p>
   <hr /><i><small>Powered by Jetty://</small></i>
   </body>
   </html>
   expected:<500> but was:<503>
   at org.apache.hcatalog.templeton.TestWebHCatE2e.invalidPath(TestWebHCatE2e.java:105)
{noformat}, Also, I should note this is happening inconsistently. On an another box in full test run, these tests indeed passed., One suspect is the port WebHCat is listening on.  It's hardcoded to 50111.
Should probably use MetaStoreUtils.findFreePort()., Likely that is the reason. Because I do old-style test runs which go on for ~10 hrs, likely some other test is already using that port in these sequential run. Lets use findFreePort() thats a good thing to do regardless., HIVE-5166.patch - used MetaStoreUtils.findFreePort() to make sure the port is available., +1, Committed on trunk. Thanks, Eugene!, FAILURE: Integrated in Hive-trunk-hadoop2-ptest #105 (See [https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/105/])
HIVE-5166 : TestWebHCatE2e is failing intermittently on trunk (Eugene Koifman via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1524441)
* /hive/trunk/hcatalog/webhcat/svr/src/test/java/org/apache/hive/hcatalog/templeton/TestWebHCatE2e.java
, FAILURE: Integrated in Hive-trunk-hadoop1-ptest #172 (See [https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/172/])
HIVE-5166 : TestWebHCatE2e is failing intermittently on trunk (Eugene Koifman via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1524441)
* /hive/trunk/hcatalog/webhcat/svr/src/test/java/org/apache/hive/hcatalog/templeton/TestWebHCatE2e.java
, FAILURE: Integrated in Hive-trunk-hadoop2 #438 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/438/])
HIVE-5166 : TestWebHCatE2e is failing intermittently on trunk (Eugene Koifman via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1524441)
* /hive/trunk/hcatalog/webhcat/svr/src/test/java/org/apache/hive/hcatalog/templeton/TestWebHCatE2e.java
, SUCCESS: Integrated in Hive-trunk-h0.21 #2340 (See [https://builds.apache.org/job/Hive-trunk-h0.21/2340/])
HIVE-5166 : TestWebHCatE2e is failing intermittently on trunk (Eugene Koifman via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1524441)
* /hive/trunk/hcatalog/webhcat/svr/src/test/java/org/apache/hive/hcatalog/templeton/TestWebHCatE2e.java
]