[Any chance this can go into 0.12? Looks like this has potential for incorrect string length assumptions when using the writable. , Attaching patch v1, with fix/tests, 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12606447/HIVE-5429.1.patch

{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 4048 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/1007/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/1007/console

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
{noformat}

This message is automatically generated., TestMinimrCliDriver.testCliDriver_bucket_num_reducers does not fail for me locally., +1, Yes, I think we can get this into 0.12. , Committed to trunk. Thanks, Jason!, SUCCESS: Integrated in Hive-trunk-hadoop1-ptest #189 (See [https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/189/])
HIVE-5429 : HiveVarcharWritable length not reset when value is changed (Jason Dere via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1529038)
* /hive/trunk/common/src/test/org/apache/hadoop/hive/common/type/TestHiveVarchar.java
* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/HiveVarcharWritable.java
* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/io/TestHiveVarcharWritable.java
, FAILURE: Integrated in Hive-branch-0.12-hadoop2 #4 (See [https://builds.apache.org/job/Hive-branch-0.12-hadoop2/4/])
HIVE-5429 : HiveVarcharWritable length not reset when value is changed (Jason Dere via Ashutosh Chauhan) (thejas: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1529057)
* /hive/branches/branch-0.12/common/src/test/org/apache/hadoop/hive/common/type/TestHiveVarchar.java
* /hive/branches/branch-0.12/serde/src/java/org/apache/hadoop/hive/serde2/io/HiveVarcharWritable.java
* /hive/branches/branch-0.12/serde/src/test/org/apache/hadoop/hive/serde2/io/TestHiveVarcharWritable.java
, Patch committed to 0.12 branch.
, FAILURE: Integrated in Hive-trunk-h0.21 #2378 (See [https://builds.apache.org/job/Hive-trunk-h0.21/2378/])
HIVE-5429 : HiveVarcharWritable length not reset when value is changed (Jason Dere via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1529038)
* /hive/trunk/common/src/test/org/apache/hadoop/hive/common/type/TestHiveVarchar.java
* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/HiveVarcharWritable.java
* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/io/TestHiveVarcharWritable.java
, FAILURE: Integrated in Hive-branch-0.12-hadoop1 #10 (See [https://builds.apache.org/job/Hive-branch-0.12-hadoop1/10/])
HIVE-5429 : HiveVarcharWritable length not reset when value is changed (Jason Dere via Ashutosh Chauhan) (thejas: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1529057)
* /hive/branches/branch-0.12/common/src/test/org/apache/hadoop/hive/common/type/TestHiveVarchar.java
* /hive/branches/branch-0.12/serde/src/java/org/apache/hadoop/hive/serde2/io/HiveVarcharWritable.java
* /hive/branches/branch-0.12/serde/src/test/org/apache/hadoop/hive/serde2/io/TestHiveVarcharWritable.java
, FAILURE: Integrated in Hive-trunk-hadoop2 #474 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/474/])
HIVE-5429 : HiveVarcharWritable length not reset when value is changed (Jason Dere via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1529038)
* /hive/trunk/common/src/test/org/apache/hadoop/hive/common/type/TestHiveVarchar.java
* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/HiveVarcharWritable.java
* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/io/TestHiveVarcharWritable.java
, FAILURE: Integrated in Hive-trunk-hadoop2-ptest #124 (See [https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/124/])
HIVE-5429 : HiveVarcharWritable length not reset when value is changed (Jason Dere via Ashutosh Chauhan) (hashutosh: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1529038)
* /hive/trunk/common/src/test/org/apache/hadoop/hive/common/type/TestHiveVarchar.java
* /hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/HiveVarcharWritable.java
* /hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/io/TestHiveVarcharWritable.java
, This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.]