[Uploading patch, Could you generate the patch with -w option?  It seems to have a lot of whitespace diffs - makes it difficult to tell where real changes are.

Also, could you create a Review Board for it?, Created a review on RB,  but RB is having some trouble showing the patch info due to some issue... not sure why

https://reviews.apache.org/r/38911/
, uploading patch generated with -w option to skip whitespace changes, tried a few different things.. but unable to resolve the RB issue., I'm concerned with changes in ObjectInspectorUtils.java.  I understand the 2 new methods, but why is there a bunch of deleted code?

Also, the patches for the bot to understand them should be named, foo.patch, foo.2.patch, foo.3.patch, etc, [~ekoifman] looks like that patch generation had an issue. Some of those lines should not be deleted in OI-Utils.  Uploading a revised patch v3, Deleted the v2 patch to ensure bot does not balk., RB doesn't work because your patch doesn't apply , Uploading v4 patch ..  found that the patch was not applying due to the above noted -w option.  This patch is created without the -w option and applies  cleanly using 'patch -p0'  and 'git apply -p 0'
RB however still doesn't like it.

This  patch is on top of  commit SHA  24988f7 (HIVE-11972), DelimitedInputorWriter:215 - why did you changes this to StringBuffer?
AbstractRecordWriter:80 - why change how class is loaded?
StrictJsonWriter: the 2 c'tor seem identical except for HiveConf.  Could 1st one use this(endPoint, null)?
getObjectInspectorsForBucketedCols() seems exactly the same as in DelimitedInputWriter
getBucketFields() - same as above

The write(long, byte[]) methods on the 2 writes: 1 calls reorderFields() the other does not.  Is that intentional?

TestStreaming
this has driver.run("set ....") - Driver doesn't support "set" command, so all of these are guaranteed to fail., also, in createRecordUpdater()
{noformat}
-                      .statementId(-1)                                                                                                                         
-                      .finalDestination(partitionPath));   
{noformat}

is removed.  This is wrong - these lines must be there., Uploading patch v5 addressing [~ekoifman]'s comments, 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12764855/HIVE-11983.5.patch

{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 9646 tests executed
*Failed tests:*
{noformat}
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5506/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5506/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5506/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12764855 - PreCommit-HIVE-TRUNK-Build, +1, committed to branch-1 and master
Thanks [~roshan_naik] for the contribution]