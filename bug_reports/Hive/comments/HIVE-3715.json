[HIVE-2586 might be a help for this., the reviewboard link https://reviews.apache.org/r/8653/, Can you do a performance comparison between your new code and the old, I've heard that BigDecimal is very inefficient compared to float and double., Have you looked at ArciMath BigDecimal - I have not looked at it, but casual browsing suggests it might be faster than BigDecimal., Hi, 


I think I have crushed on this problem too with the following query while testing hive:
-----------------------------------------------------------------
explain select
        sum(l_extendedprice * l_discount) as revenue
from
        lineitem
where
        l_shipdate >= '1993-01-01'
        and l_shipdate < '1994-01-01'
        and l_discount between 0.05 and (0.06 + 0.01)
        and l_quantity < 25;
-----------------------------------------------------------------
The result is wrong and, in the explain result, l_discount's left boundery is 0.05, 
whereas its right boundary is 0.06999999999999999.

Someone can tell me what is the status of this problem?
I think that this is a serious problem and should be patched (and merged into 
 release), but it is open for years...

, I have tested Hive 1.1.0-cdh5.4.5
]