[jonchang requested code review of "HIVE-2726 [jira] COALESCE(NULL, NULL) NPEs".
Reviewers: JIRA

  HIVE-2726

  ReturnOIResolver returns null when it gets no non-void arguments.  This is bad.

TEST PLAN
  EMPTY

REVISION DETAIL
  https://reviews.facebook.net/D1317

AFFECTED FILES
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFUtils.java
  ql/src/test/queries/clientpositive/udf_coalesce.q
  ql/src/test/results/clientpositive/udf_coalesce.q.out

MANAGE HERALD DIFFERENTIAL RULES
  https://reviews.facebook.net/herald/view/differential/

WHY DID I GET THIS EMAIL?
  https://reviews.facebook.net/herald/transcript/2745/

Tip: use the X-Herald-Rules header to filter Herald messages in your client.
, njain has accepted the revision "HIVE-2726 [jira] COALESCE(NULL, NULL) NPEs".

  running tests

REVISION DETAIL
  https://reviews.facebook.net/D1317
, The following tests failed:

udaf_context_ngrams.q
udf_array.q
udf_map.q
udf_sort_array.q


Can you take a look ?

For udf_array and udf_map, the output needs to be updated. I haven't looked at the other 2., jonchang requested code review of "HIVE-2726 [jira] COALESCE(NULL, NULL) NPEs".
Reviewers: JIRA

  HIVE-2726

  ReturnOIResolver returns null when it gets no non-void arguments.  This is bad.

TEST PLAN
  EMPTY

REVISION DETAIL
  https://reviews.facebook.net/D1677

AFFECTED FILES
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFCoalesce.java
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFUtils.java
  ql/src/test/queries/clientpositive/udf_coalesce.q
  ql/src/test/results/clientpositive/udf_coalesce.q.out
  ql/src/test/results/clientpositive/udf_sort_array.q.out

MANAGE HERALD DIFFERENTIAL RULES
  https://reviews.facebook.net/herald/view/differential/

WHY DID I GET THIS EMAIL?
  https://reviews.facebook.net/herald/transcript/3567/

Tip: use the X-Herald-Rules header to filter Herald messages in your client.
, jonchang updated the revision "HIVE-2726 [jira] COALESCE(NULL, NULL) NPEs".
Reviewers: JIRA, jsichi, raghotham, njain

  Change the way it works so it no loner applies to ARRAY() and MAP().  Also clean up the way SORT_ARRAY() works.

REVISION DETAIL
  https://reviews.facebook.net/D1317

AFFECTED FILES
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFCoalesce.java
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFUtils.java
  ql/src/test/queries/clientpositive/udf_coalesce.q
  ql/src/test/results/clientpositive/udf_coalesce.q.out
  ql/src/test/results/clientpositive/udf_sort_array.q.out
]