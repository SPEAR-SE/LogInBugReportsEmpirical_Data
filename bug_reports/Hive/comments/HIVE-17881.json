[cc/ [~sershe], The solution would be to remove hive.llap.io.memory.mode. Were you using it for some legitimate reason? :), Yes. I don't want to use cache :) no purging of cache yet without restart. I wanted to use LLAP IO since it prints FS counters but without cache as I want to perform a HDFS read always for some unit test. Regardless it shouldn't throw NPE if someone wants to disable cache but use only async io. , I don't recall why I added this setting but it was a mistake... it's not really a good use case and just complicates the code. For testing it should be possible to flush the cache manually or something. ]