[This is especially bad because if executing via a Hive Server it will cause the service process to crash. , Review request: https://reviews.apache.org/r/9929/, The patch looks good with the exception of some minor formatting issues which I noted on reviewboard., New patch addresses the review comments. Thanks., [~cwsteinbach]: Would it be possible to take a look at the new patch? Thanks., +1. Will commit if tests pass., In process of wrapping up 0.11. Looks like this is ready to go in. Will commit if tests pass., Committed to trunk. Thanks Shreepadma!, Integrated in Hive-trunk-h0.21 #2044 (See [https://builds.apache.org/job/Hive-trunk-h0.21/2044/])
    HIVE-4119. ANALYZE TABLE ... COMPUTE STATISTICS FOR COLUMNS fails with NPE if the table is empty (Shreepadma Venugopalan via cws) (Revision 1464208)

     Result = FAILURE
cws : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1464208
Files : 
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ColumnStatsTask.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ColumnStatsWork.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFComputeStats.java
* /hive/trunk/ql/src/test/queries/clientpositive/columnstats_tbllvl.q
* /hive/trunk/ql/src/test/queries/clientpositive/compute_stats_empty_table.q
* /hive/trunk/ql/src/test/results/clientpositive/columnstats_tbllvl.q.out
* /hive/trunk/ql/src/test/results/clientpositive/compute_stats_empty_table.q.out
, Integrated in Hive-trunk-hadoop2 #138 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/138/])
    HIVE-4119. ANALYZE TABLE ... COMPUTE STATISTICS FOR COLUMNS fails with NPE if the table is empty (Shreepadma Venugopalan via cws) (Revision 1464208)

     Result = FAILURE
cws : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1464208
Files : 
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ColumnStatsTask.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ColumnStatsWork.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFComputeStats.java
* /hive/trunk/ql/src/test/queries/clientpositive/columnstats_tbllvl.q
* /hive/trunk/ql/src/test/queries/clientpositive/compute_stats_empty_table.q
* /hive/trunk/ql/src/test/results/clientpositive/columnstats_tbllvl.q.out
* /hive/trunk/ql/src/test/results/clientpositive/compute_stats_empty_table.q.out
]