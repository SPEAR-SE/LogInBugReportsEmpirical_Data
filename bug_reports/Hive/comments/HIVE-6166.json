[Patch attached., 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12621982/HIVE-6166.patch

{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 4904 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
{noformat}

Test results: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/829/testReport
Console output: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/829/console

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12621982, The test failure marked above seems unconnected with this issue, and the new test added by this patch passed:

http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/829/testReport/org.apache.hive.hcatalog.data/TestJsonSerDe/testLooseJsonReadability/?

Existing tests using the JsonSerDe also passed.

http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/829/testReport/org.apache.hive.hcatalog.data/TestJsonSerDe/, Cancelling and updating patch, improving test and fixing an expression., Updated patch., 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12622088/HIVE-6166.2.patch

{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 4905 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_leftsemijoin_mr
{noformat}

Test results: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/835/testReport
Console output: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/835/console

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12622088, For better readability and better performance, instead of try-catch block, its better to do 
{code}
Integer fpos = s.getPosition(fieldName);
if (null == fpos) {
} else {}
{code}
Though I am +1 even without that change., Agreed, updating., Attached patch with suggested change., Made patch available to rerun tests with latest addition., +1, 

{color:green}Overall{color}: +1 all checks pass

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12622475/HIVE-6166.3.patch

{color:green}SUCCESS:{color} +1 4918 tests passed

Test results: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/860/testReport
Console output: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/860/console

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12622475, Committed to trunk.]