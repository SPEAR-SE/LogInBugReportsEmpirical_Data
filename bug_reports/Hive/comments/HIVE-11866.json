[Using UnboundID in-memory LDAP Server in a testing framework for testing Hive' LDAP provider using ldap protocol., 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12761479/HIVE-11866.patch

{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 9456 tests executed
*Failed tests:*
{noformat}
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Json
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5366/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5366/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5366/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12761479 - PreCommit-HIVE-TRUNK-Build, Review posted to RB at https://reviews.apache.org/r/38566/, This looks good, great to have some test about LDAP to ensure the behavior.

Left comments on the review board., Incorporating comments from the review., Thanks, +1, Sorry, i took another glance and there's one more item of moving the version to the parent pom is needed.  Apologies for missing this in first pass., Incorporated comments from the RB review. Thanks Szehon!!! , No problem, +1, 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12764850/HIVE-11866.2.patch

{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 5 failed/errored test(s), 9641 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_corr
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_index_bitmap_auto
org.apache.hadoop.hive.ql.TestMTQueries.testMTQueries1
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5525/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5525/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5525/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12764850 - PreCommit-HIVE-TRUNK-Build, There are 6 test failures and none of them should be related to this fix as there are no source code changes in this patch. This patch just adds new test suite and all of tests in the new suite seem to be passing.
http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5525/testReport/org.apache.hive.service.auth/TestLdapAtnProviderWithLdapServer/

So I think the patch looks good.
, Committed to master, thanks Naveen for adding these valuable tests !, Looks like the unboundid libraries [license|https://docs.ldap.com/ldap-sdk/docs/LICENSE-UnboundID-LDAPSDK.txt] is not compatible with ASL. See discussion in LEGAL-160.

We should revert this patch soon and then look into using alternate library.  Apache LDAP API  is suggested in LEGAL-160.
, Thanks for your hard work [~ngangam]. Its great to see the test framework being added. The license issue is unfortunate, I really hope another ASL compatible library is usable.
, [~thejas] Thanks for digging this up. This is unfortunate. Apache Directory and UnboundID were the only options. I will take another look.

From looking at the Marmotta code, the project source code was using the ldap libraries which means they would re-distribute the unboundid binaries along with the project binaries. For Apache Hive, we are using it strictly to test Hive code and would NOT be bundling the unboundID as part of the Hive binaries. Would it be worth following up with legal on this difference in usage? Thanks again, Good point about it being used only in tests and not being redistributed. Not sure what the implications of that are. Legal jira should help in finding the answer to that.  If we go down that path, we also need to figure out if this can be omitted from the license file - http://www.apache.org/legal/resolved.html#required-third-party-notices .
We should also be careful to not inadvertently include something in tests in the actual distro or requiring it at runtime. If Apache Directory is a suitable replacement, using that seems less risky.
, In the pom file, I had scoped its usage for tests only. So the distro shouldnt include it but I havent checked to confirm it. But the tasks in chronological order are
1) Given that this is a legal issue, it should be reverted immediately until it is sorted out. I have created HIVE-12095 to track this change. I just attached a patch for it too.
2) I will create a legal jira to see if such usage is legal.
3) If not, I will find an alternate., Patch reverted for now via HIVE-12095 ., Linked the legal jira to this., Removing fixed version (2.0) from Unresolved JIRA in preparation for the release. Please use target version field instead (if not already set) if you think this should be shipped as part of 2.0, [~thejas] I am seeing no response on the LEGAL jira except a push from Apache DS team to adopt ApacheDS for testing. I have sought some internal legal advice on this matter. Here is what I got back
"When you say something "is not compatible with Apache 2" are you referring to a compatibility requirement imposed by the Apache Hive project particularly?  Or are you just saying that the ENTIRE distribution, including all its dependencies, can no longer be released under Apache 2?

In either case, the UnboundIP license (https://docs.ldap.com/ldap-sdk/docs/LICENSE-UnboundID-LDAPSDK.txt) does include a clause allowing UnboundIP to unilaterally terminate the license at any time.

Notwithstanding anything contained in this Agreement to the contrary, UnboundID may also, in its sole discretion, terminate or suspend access to the SDK to You or any end user at any time. 

Naturally, that makes the SDK's inclusion in a project, particularly as a foundational tool, rather risky.  This may be why the jira considers the license "not compatible".  But from a cursory review I understand that UnboundID alternatively provides the SDK under the GPL or LGPL licenses (https://docs.ldap.com/ldap-sdk/docs/index.html) (https://docs.ldap.com/ldap-sdk/docs/LICENSE.txt).  If no one is modifying the SDK, but simply linking to it at arms-length as an independent file in its original form, I'm not sure why anyone would object to including it in Apache Hive as an LGPL dependency (Naveen seems to suggest below that he'll be using it at arms-length).   If Hive requires that ALL dependencies be Apache licensed, then this wouldn't be acceptable.  But taking a copy of the SDK under the LGPL license shouldn't prevent you from releasing the rest of Hive under the Apache license.  Furthermore, Naveen seems to indicate that the SDK will only appear internally on the Apache Hive machines (e.g., it won't be redistributed with the package provided to customers).   If that's the case, then use of an internal copy of the SDK solely on the Hive machines would be particularly benign.  See, e.g., (https://docs.ldap.com/ldap-sdk/docs/ldapsdk-faq.html#internal)

There are no restrictions on the use of the LDAP SDK in an application that is for internal use only and will not be redistributed outside of your organization.

(Still, if developers [inside and outside the Hive group] will be regularly downloading and uploading test framework builds that include the SDK from the Hive group, you might make the LGPL election explicit as a precaution)

So you may just have Naveen confirm that an LGPL 2.1 license would be acceptable to the Hive group and that the SDK copy will remain within Hive (e.g., the test framework is not distributed, except when developers push / pull the build from a Hive machine).

[I'm not sure which edition (standard, minimal, or commercial) of the SDK Naveen is contemplating using, but all three seem to have the same licensing options for his purpose (https://www.ldap.com/unboundid-ldap-sdk-for-java).]
"

Given that our usage is "at arms length" and the binaries wouldnt be packaged in the end product, do you think we have enough to re-insert this fix? Thanks, [~ngangam] Thanks for following up on this. The tests would be very valuable.
Did you get a chance to look at suggestions in the thread http://mail-archives.apache.org/mod_mbox/directory-users/201510.mbox/browser ? (refered from LEGAL-227). Looks like people in the directory list are very willing to help.

Avoiding a GPL licensed library keeps things much more straightforward, and avoids the chances of someone accidentally assuming its apache compatible and start using in the product itself.
Another possibility is bugs in the build scripts, I already see junit in Apache hive 1.2.1, though it should not be there.

, Attaching a patch that uses Apache Directory Service instead., Posted the patch to the reviewboard., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12786633/HIVE-11866.3.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6905/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6905/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6905/

Messages:
{noformat}
**** This message was trimmed, see log for full details ****
Downloading: http://repository.apache.org/snapshots/org/apache/directory/client/ldap/ldap-client-api/0.1-SNAPSHOT/maven-metadata.xml
Downloading: http://repository.apache.org/snapshots/org/apache/directory/client/ldap/ldap-client-api/0.1-SNAPSHOT/ldap-client-api-0.1-SNAPSHOT.pom
[WARNING] The POM for org.apache.directory.client.ldap:ldap-client-api:jar:0.1-SNAPSHOT is missing, no dependency information available
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-server-integ/1.5.6/apacheds-server-integ-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-interceptor-kerberos/1.5.6/apacheds-interceptor-kerberos-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-core/1.5.6/apacheds-core-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-core-api/1.5.6/apacheds-core-api-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-core-entry/1.5.6/apacheds-core-entry-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-core-constants/1.5.6/apacheds-core-constants-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-utils/1.5.6/apacheds-utils-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-kerberos-shared/1.5.6/apacheds-kerberos-shared-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-core-jndi/1.5.6/apacheds-core-jndi-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-protocol-shared/1.5.6/apacheds-protocol-shared-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-core-integ/1.5.6/apacheds-core-integ-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/ldapsdk/ldapsdk/4.1/ldapsdk-4.1.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/shared/shared-ldap/0.9.18/shared-ldap-0.9.18.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/shared/shared-i18n/0.9.18/shared-i18n-0.9.18.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/shared/shared-ldap-schema/0.9.18/shared-ldap-schema-0.9.18.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/shared/shared-ldap-schema-loader/0.9.18/shared-ldap-schema-loader-0.9.18.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/shared/shared-ldap-schema-manager/0.9.18/shared-ldap-schema-manager-0.9.18.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/shared/shared-cursor/0.9.18/shared-cursor-0.9.18.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/shared/shared-ldap-jndi/0.9.18/shared-ldap-jndi-0.9.18.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/shared/shared-asn1-codec/0.9.18/shared-asn1-codec-0.9.18.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/mina/mina-core/2.0.0-RC1/mina-core-2.0.0-RC1.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/shared/shared-asn1/0.9.18/shared-asn1-0.9.18.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/shared/shared-ldap-constants/0.9.18/shared-ldap-constants-0.9.18.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/shared/shared-ldap-converter/0.9.18/shared-ldap-converter-0.9.18.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/shared/shared-ldap-schema-dao/0.9.18/shared-ldap-schema-dao-0.9.18.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/shared/shared-ldif/0.9.18/shared-ldif-0.9.18.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/shared/shared-dsml-parser/0.9.18/shared-dsml-parser-0.9.18.jar
Downloading: http://www.datanucleus.org/downloads/maven2/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar
Downloading: http://www.datanucleus.org/downloads/maven2/xpp3/xpp3/1.1.4c/xpp3-1.1.4c.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-test-framework/1.5.6/apacheds-test-framework-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-i18n/1.5.6/apacheds-i18n-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-server-annotations/1.5.6/apacheds-server-annotations-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-core-annotations/1.5.6/apacheds-core-annotations-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-jdbm-partition/1.5.6/apacheds-jdbm-partition-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-jdbm-store/1.5.6/apacheds-jdbm-store-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-jdbm/1.5.6/apacheds-jdbm-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-core-avl/1.5.6/apacheds-core-avl-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-xdbm-search/1.5.6/apacheds-xdbm-search-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-ldif-partition/1.5.6/apacheds-ldif-partition-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-avl-partition/1.5.6/apacheds-avl-partition-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-core-mock/1.5.6/apacheds-core-mock-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-protocol-ldap/1.5.6/apacheds-protocol-ldap-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-xdbm-tools/1.5.6/apacheds-xdbm-tools-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-xdbm-base/1.5.6/apacheds-xdbm-base-1.5.6.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/directory/server/apacheds-protocol-kerberos/1.5.6/apacheds-protocol-kerberos-1.5.6.jar
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-server-integ/1.5.6/apacheds-server-integ-1.5.6.jar
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-interceptor-kerberos/1.5.6/apacheds-interceptor-kerberos-1.5.6.jar
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core/1.5.6/apacheds-core-1.5.6.jar
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core-api/1.5.6/apacheds-core-api-1.5.6.jar
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core-entry/1.5.6/apacheds-core-entry-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-server-integ/1.5.6/apacheds-server-integ-1.5.6.jar (12 KB at 444.6 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core-constants/1.5.6/apacheds-core-constants-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-interceptor-kerberos/1.5.6/apacheds-interceptor-kerberos-1.5.6.jar (21 KB at 562.7 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-utils/1.5.6/apacheds-utils-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core-constants/1.5.6/apacheds-core-constants-1.5.6.jar (12 KB at 302.6 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-kerberos-shared/1.5.6/apacheds-kerberos-shared-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-utils/1.5.6/apacheds-utils-1.5.6.jar (13 KB at 295.4 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core-jndi/1.5.6/apacheds-core-jndi-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core-jndi/1.5.6/apacheds-core-jndi-1.5.6.jar (46 KB at 422.1 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-protocol-shared/1.5.6/apacheds-protocol-shared-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-protocol-shared/1.5.6/apacheds-protocol-shared-1.5.6.jar (27 KB at 423.0 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core-integ/1.5.6/apacheds-core-integ-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core-api/1.5.6/apacheds-core-api-1.5.6.jar (182 KB at 673.1 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/ldapsdk/ldapsdk/4.1/ldapsdk-4.1.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core-integ/1.5.6/apacheds-core-integ-1.5.6.jar (14 KB at 346.9 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldap/0.9.18/shared-ldap-0.9.18.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-kerberos-shared/1.5.6/apacheds-kerberos-shared-1.5.6.jar (261 KB at 995.0 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-i18n/0.9.18/shared-i18n-0.9.18.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core/1.5.6/apacheds-core-1.5.6.jar (321 KB at 973.5 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldap-schema/0.9.18/shared-ldap-schema-0.9.18.jar
Downloaded: http://repo.maven.apache.org/maven2/ldapsdk/ldapsdk/4.1/ldapsdk-4.1.jar (257 KB at 3718.7 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldap-schema-loader/0.9.18/shared-ldap-schema-loader-0.9.18.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-i18n/0.9.18/shared-i18n-0.9.18.jar (25 KB at 796.1 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldap-schema-manager/0.9.18/shared-ldap-schema-manager-0.9.18.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldap-schema-loader/0.9.18/shared-ldap-schema-loader-0.9.18.jar (27 KB at 741.1 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-cursor/0.9.18/shared-cursor-0.9.18.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldap-schema-manager/0.9.18/shared-ldap-schema-manager-0.9.18.jar (20 KB at 654.7 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldap-jndi/0.9.18/shared-ldap-jndi-0.9.18.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-cursor/0.9.18/shared-cursor-0.9.18.jar (20 KB at 833.9 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-asn1-codec/0.9.18/shared-asn1-codec-0.9.18.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldap-jndi/0.9.18/shared-ldap-jndi-0.9.18.jar (11 KB at 357.2 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/mina/mina-core/2.0.0-RC1/mina-core-2.0.0-RC1.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-asn1-codec/0.9.18/shared-asn1-codec-0.9.18.jar (13 KB at 402.1 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-asn1/0.9.18/shared-asn1-0.9.18.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldap-schema/0.9.18/shared-ldap-schema-0.9.18.jar (577 KB at 5193.3 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldap-constants/0.9.18/shared-ldap-constants-0.9.18.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldap-constants/0.9.18/shared-ldap-constants-0.9.18.jar (24 KB at 742.3 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldap-converter/0.9.18/shared-ldap-converter-0.9.18.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core-entry/1.5.6/apacheds-core-entry-1.5.6.jar (64 KB at 133.7 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldap-schema-dao/0.9.18/shared-ldap-schema-dao-0.9.18.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-asn1/0.9.18/shared-asn1-0.9.18.jar (95 KB at 1968.2 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldif/0.9.18/shared-ldif-0.9.18.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldap/0.9.18/shared-ldap-0.9.18.jar (1339 KB at 6724.9 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-dsml-parser/0.9.18/shared-dsml-parser-0.9.18.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/mina/mina-core/2.0.0-RC1/mina-core-2.0.0-RC1.jar (624 KB at 7695.5 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldap-converter/0.9.18/shared-ldap-converter-0.9.18.jar (33 KB at 1073.3 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/xpp3/xpp3/1.1.4c/xpp3-1.1.4c.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldap-schema-dao/0.9.18/shared-ldap-schema-dao-0.9.18.jar (7 KB at 233.1 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-test-framework/1.5.6/apacheds-test-framework-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-dsml-parser/0.9.18/shared-dsml-parser-0.9.18.jar (179 KB at 3889.2 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-i18n/1.5.6/apacheds-i18n-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/shared/shared-ldif/0.9.18/shared-ldif-0.9.18.jar (42 KB at 872.6 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-server-annotations/1.5.6/apacheds-server-annotations-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-test-framework/1.5.6/apacheds-test-framework-1.5.6.jar (16 KB at 500.2 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core-annotations/1.5.6/apacheds-core-annotations-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/xpp3/xpp3/1.1.4c/xpp3-1.1.4c.jar (118 KB at 2442.8 KB/sec)
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-server-annotations/1.5.6/apacheds-server-annotations-1.5.6.jar (18 KB at 691.7 KB/sec)
Downloaded: http://repo.maven.apache.org/maven2/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar (307 KB at 5025.3 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-jdbm-partition/1.5.6/apacheds-jdbm-partition-1.5.6.jar
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-jdbm-store/1.5.6/apacheds-jdbm-store-1.5.6.jar
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-jdbm/1.5.6/apacheds-jdbm-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core-annotations/1.5.6/apacheds-core-annotations-1.5.6.jar (20 KB at 662.0 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core-avl/1.5.6/apacheds-core-avl-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-jdbm-partition/1.5.6/apacheds-jdbm-partition-1.5.6.jar (14 KB at 617.6 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-xdbm-search/1.5.6/apacheds-xdbm-search-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-i18n/1.5.6/apacheds-i18n-1.5.6.jar (39 KB at 349.1 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-ldif-partition/1.5.6/apacheds-ldif-partition-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core-avl/1.5.6/apacheds-core-avl-1.5.6.jar (48 KB at 488.1 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-avl-partition/1.5.6/apacheds-avl-partition-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-avl-partition/1.5.6/apacheds-avl-partition-1.5.6.jar (41 KB at 1407.0 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core-mock/1.5.6/apacheds-core-mock-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-xdbm-search/1.5.6/apacheds-xdbm-search-1.5.6.jar (79 KB at 601.7 KB/sec)
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-ldif-partition/1.5.6/apacheds-ldif-partition-1.5.6.jar (29 KB at 397.0 KB/sec)
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-jdbm-store/1.5.6/apacheds-jdbm-store-1.5.6.jar (64 KB at 413.8 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-protocol-ldap/1.5.6/apacheds-protocol-ldap-1.5.6.jar
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-xdbm-tools/1.5.6/apacheds-xdbm-tools-1.5.6.jar
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-xdbm-base/1.5.6/apacheds-xdbm-base-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-core-mock/1.5.6/apacheds-core-mock-1.5.6.jar (26 KB at 267.2 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-protocol-kerberos/1.5.6/apacheds-protocol-kerberos-1.5.6.jar
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-jdbm/1.5.6/apacheds-jdbm-1.5.6.jar (89 KB at 358.8 KB/sec)
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-xdbm-base/1.5.6/apacheds-xdbm-base-1.5.6.jar (49 KB at 489.7 KB/sec)
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-xdbm-tools/1.5.6/apacheds-xdbm-tools-1.5.6.jar (88 KB at 871.5 KB/sec)
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-protocol-ldap/1.5.6/apacheds-protocol-ldap-1.5.6.jar (173 KB at 1541.1 KB/sec)
Downloaded: http://repo.maven.apache.org/maven2/org/apache/directory/server/apacheds-protocol-kerberos/1.5.6/apacheds-protocol-kerberos-1.5.6.jar (52 KB at 1467.0 KB/sec)
Downloading: http://repository.apache.org/snapshots/org/apache/directory/client/ldap/ldap-client-api/0.1-SNAPSHOT/ldap-client-api-0.1-SNAPSHOT.jar
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive .............................................. SUCCESS [13.738s]
[INFO] Hive Shims Common ................................. SUCCESS [16.097s]
[INFO] Hive Shims 0.23 ................................... SUCCESS [13.426s]
[INFO] Hive Shims Scheduler .............................. SUCCESS [3.144s]
[INFO] Hive Shims ........................................ SUCCESS [2.643s]
[INFO] Hive Storage API .................................. SUCCESS [6.911s]
[INFO] Hive ORC .......................................... SUCCESS [12.699s]
[INFO] Hive Common ....................................... SUCCESS [41.017s]
[INFO] Hive Serde ........................................ SUCCESS [17.447s]
[INFO] Hive Metastore .................................... SUCCESS [51.993s]
[INFO] Hive Ant Utilities ................................ SUCCESS [2.771s]
[INFO] Hive Llap Common .................................. SUCCESS [17.864s]
[INFO] Hive Llap Client .................................. SUCCESS [8.067s]
[INFO] Hive Llap Tez ..................................... SUCCESS [6.496s]
[INFO] Hive Service RPC .................................. SUCCESS [4.596s]
[INFO] Spark Remote Client ............................... SUCCESS [14.061s]
[INFO] Hive Query Language ............................... SUCCESS [2:04.483s]
[INFO] Hive Service ...................................... FAILURE [17.980s]
[INFO] Hive Accumulo Handler ............................. SKIPPED
[INFO] Hive JDBC ......................................... SKIPPED
[INFO] Hive Beeline ...................................... SKIPPED
[INFO] Hive CLI .......................................... SKIPPED
[INFO] Hive Contrib ...................................... SKIPPED
[INFO] Hive HBase Handler ................................ SKIPPED
[INFO] Hive HCatalog ..................................... SKIPPED
[INFO] Hive HCatalog Core ................................ SKIPPED
[INFO] Hive HCatalog Pig Adapter ......................... SKIPPED
[INFO] Hive HCatalog Server Extensions ................... SKIPPED
[INFO] Hive HCatalog Webhcat Java Client ................. SKIPPED
[INFO] Hive HCatalog Webhcat ............................. SKIPPED
[INFO] Hive HCatalog Streaming ........................... SKIPPED
[INFO] Hive HPL/SQL ...................................... SKIPPED
[INFO] Hive HWI .......................................... SKIPPED
[INFO] Hive ODBC ......................................... SKIPPED
[INFO] Hive Llap Server .................................. SKIPPED
[INFO] Hive Shims Aggregator ............................. SKIPPED
[INFO] Hive TestUtils .................................... SKIPPED
[INFO] Hive Packaging .................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 6:18.728s
[INFO] Finished at: Mon Feb 08 08:02:40 EST 2016
[INFO] Final Memory: 133M/1074M
[INFO] ------------------------------------------------------------------------
[WARNING] The requested profile "hadoop-2" could not be activated because it does not exist.
[ERROR] Failed to execute goal on project hive-service: Could not resolve dependencies for project org.apache.hive:hive-service:jar:2.1.0-SNAPSHOT: Could not find artifact org.apache.directory.client.ldap:ldap-client-api:jar:0.1-SNAPSHOT in apache.snapshots (http://repository.apache.org/snapshots) -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <goals> -rf :hive-service
+ exit 1
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12786633 - PreCommit-HIVE-TRUNK-Build, Incorporating feedback from reviewboard., Also adding a maven dependency on ldap-client-api jar., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12786978/HIVE-11866.4.patch

{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 9773 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6927/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6927/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6927/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12786978 - PreCommit-HIVE-TRUNK-Build, [~thejas] Could you review the patch and confirm that everything looks good from a legal perspective. I am using Apache Directory Service this time. Thanks, +1 latest patch looks good to me., Looks great from the library use perspective! Thanks for following up on this!
, Committed to 2.1.0. Thanks [~ngangam] for the patch, and [~xuefuz], [~thejas] for review., Committed to 1.3.0 as well.]