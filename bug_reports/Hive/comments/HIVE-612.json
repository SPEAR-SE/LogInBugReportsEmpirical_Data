[This patch fixes the problem., +1

looks good - will commit if the tests pass, Committed. Thanks Zheng]