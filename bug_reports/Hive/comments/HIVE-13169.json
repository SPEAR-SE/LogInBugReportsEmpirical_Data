[

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12790198/HIVE-13169.1.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7115/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7115/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7115/

Messages:
{noformat}
**** This message was trimmed, see log for full details ****
[INFO] -------------------------------------------------------------
[WARNING] COMPILATION WARNING : 
[INFO] -------------------------------------------------------------
[WARNING] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestRetryingHMSHandler.java: Some input files use or override a deprecated API.
[WARNING] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestRetryingHMSHandler.java: Recompile with -Xlint:deprecation for details.
[WARNING] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java: Some input files use unchecked or unsafe operations.
[WARNING] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java: Recompile with -Xlint:unchecked for details.
[INFO] 4 warnings 
[INFO] -------------------------------------------------------------
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[45,11] cannot find symbol
  symbol:   class ZooKeeperTokenStore
  location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[29,58] package org.apache.hadoop.hive.thrift.DelegationTokenStore does not exist
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[37,41] cannot find symbol
  symbol:   class TokenStoreException
  location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[45,11] cannot find symbol
  symbol:   class ZooKeeperTokenStore
  location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[29,58] package org.apache.hadoop.hive.thrift.DelegationTokenStore does not exist
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[37,41] cannot find symbol
  symbol:   class TokenStoreException
  location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[81,14] cannot find symbol
  symbol:   class ZooKeeperTokenStore
  location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[91,54] cannot find symbol
  symbol:   variable ZooKeeperTokenStore
  location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[103,5] cannot find symbol
  symbol:   class DelegationTokenIdentifier
  location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[103,45] cannot find symbol
  symbol:   class DelegationTokenIdentifier
  location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[116,10] cannot find symbol
  symbol:   class DelegationTokenIdentifier
  location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[118,25] cannot find symbol
  symbol:   variable TokenStoreDelegationTokenSecretManager
  location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[120,9] cannot find symbol
  symbol:   variable TokenStoreDelegationTokenSecretManager
  location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[135,14] cannot find symbol
  symbol:   class ZooKeeperTokenStore
  location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[140,34] package DelegationTokenStore does not exist
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[153,25] cannot find symbol
  symbol:   variable ZooKeeperTokenStore
  location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[156,14] cannot find symbol
  symbol:   class ZooKeeperTokenStore
  location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[161,34] package DelegationTokenStore does not exist
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[172,14] cannot find symbol
  symbol:   class ZooKeeperTokenStore
  location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[39,5] cannot find symbol
  symbol:   class DelegationTokenStore
  location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[39,35] cannot find symbol
  symbol:   class DBTokenStore
  location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[46,14] cannot find symbol
  symbol:   class TokenStoreException
  location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[65,5] cannot find symbol
  symbol:   class DelegationTokenIdentifier
  location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[65,45] cannot find symbol
  symbol:   class DelegationTokenIdentifier
  location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[81,10] cannot find symbol
  symbol:   class DelegationTokenIdentifier
  location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[84,25] cannot find symbol
  symbol:   variable TokenStoreDelegationTokenSecretManager
  location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[86,9] cannot find symbol
  symbol:   variable TokenStoreDelegationTokenSecretManager
  location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[INFO] 27 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive Integration - Parent ......................... SUCCESS [9.478s]
[INFO] Hive Integration - Custom Serde ................... SUCCESS [15.312s]
[INFO] Hive Integration - Custom udfs .................... SUCCESS [3.187s]
[INFO] Hive Integration - Custom UDFs - udf-classloader-util  SUCCESS [4.955s]
[INFO] Hive Integration - Custom UDFs - udf-classloader-udf1  SUCCESS [5.105s]
[INFO] Hive Integration - Custom UDFs - udf-classloader-udf2  SUCCESS [4.274s]
[INFO] Hive Integration - HCatalog Unit Tests ............ SUCCESS [16.814s]
[INFO] Hive Integration - Testing Utilities .............. SUCCESS [19.595s]
[INFO] Hive Integration - Unit Tests ..................... FAILURE [27.733s]
[INFO] Hive Integration - Test Serde ..................... SKIPPED
[INFO] Hive Integration - QFile Tests .................... SKIPPED
[INFO] Hive Integration - QFile Accumulo Tests ........... SKIPPED
[INFO] JMH benchmark: Hive ............................... SKIPPED
[INFO] Hive Integration - Unit Tests - Hadoop 2 .......... SKIPPED
[INFO] Hive Integration - Unit Tests with miniKdc ........ SKIPPED
[INFO] Hive Integration - QFile Spark Tests .............. SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1:51.102s
[INFO] Finished at: Sat Feb 27 18:59:06 EST 2016
[INFO] Final Memory: 100M/300M
[INFO] ------------------------------------------------------------------------
[WARNING] The requested profile "hadoop-2" could not be activated because it does not exist.
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile (default-testCompile) on project hive-it-unit: Compilation failure: Compilation failure:
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[45,11] cannot find symbol
[ERROR] symbol:   class ZooKeeperTokenStore
[ERROR] location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[29,58] package org.apache.hadoop.hive.thrift.DelegationTokenStore does not exist
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[37,41] cannot find symbol
[ERROR] symbol:   class TokenStoreException
[ERROR] location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[45,11] cannot find symbol
[ERROR] symbol:   class ZooKeeperTokenStore
[ERROR] location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[29,58] package org.apache.hadoop.hive.thrift.DelegationTokenStore does not exist
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[37,41] cannot find symbol
[ERROR] symbol:   class TokenStoreException
[ERROR] location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[81,14] cannot find symbol
[ERROR] symbol:   class ZooKeeperTokenStore
[ERROR] location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[91,54] cannot find symbol
[ERROR] symbol:   variable ZooKeeperTokenStore
[ERROR] location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[103,5] cannot find symbol
[ERROR] symbol:   class DelegationTokenIdentifier
[ERROR] location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[103,45] cannot find symbol
[ERROR] symbol:   class DelegationTokenIdentifier
[ERROR] location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[116,10] cannot find symbol
[ERROR] symbol:   class DelegationTokenIdentifier
[ERROR] location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[118,25] cannot find symbol
[ERROR] symbol:   variable TokenStoreDelegationTokenSecretManager
[ERROR] location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[120,9] cannot find symbol
[ERROR] symbol:   variable TokenStoreDelegationTokenSecretManager
[ERROR] location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[135,14] cannot find symbol
[ERROR] symbol:   class ZooKeeperTokenStore
[ERROR] location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[140,34] package DelegationTokenStore does not exist
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[153,25] cannot find symbol
[ERROR] symbol:   variable ZooKeeperTokenStore
[ERROR] location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[156,14] cannot find symbol
[ERROR] symbol:   class ZooKeeperTokenStore
[ERROR] location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[161,34] package DelegationTokenStore does not exist
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[172,14] cannot find symbol
[ERROR] symbol:   class ZooKeeperTokenStore
[ERROR] location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[39,5] cannot find symbol
[ERROR] symbol:   class DelegationTokenStore
[ERROR] location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[39,35] cannot find symbol
[ERROR] symbol:   class DBTokenStore
[ERROR] location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[46,14] cannot find symbol
[ERROR] symbol:   class TokenStoreException
[ERROR] location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[65,5] cannot find symbol
[ERROR] symbol:   class DelegationTokenIdentifier
[ERROR] location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[65,45] cannot find symbol
[ERROR] symbol:   class DelegationTokenIdentifier
[ERROR] location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[81,10] cannot find symbol
[ERROR] symbol:   class DelegationTokenIdentifier
[ERROR] location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[84,25] cannot find symbol
[ERROR] symbol:   variable TokenStoreDelegationTokenSecretManager
[ERROR] location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestDBTokenStore.java:[86,9] cannot find symbol
[ERROR] symbol:   variable TokenStoreDelegationTokenSecretManager
[ERROR] location: class org.apache.hadoop.hive.thrift.TestDBTokenStore
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <goals> -rf :hive-it-unit
+ exit 1
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12790198 - PreCommit-HIVE-TRUNK-Build, HIVE-13169.2.patch - has some changes to earlier patch -
- Keeps the token store classes in same old package, as it is used as configuration parameters. Changing that would break backward compatiblity
- Fixes the use of ipaddress. It needs to be the remote ip address for proxy user authorization (not that of HS2)
- Fixes issues with secretmanager being null in HadoopThriftAuthBridge
- Fixes in  unit test, Adding link to pull request https://github.com/apache/hive/pull/67
, [~vgumashta] Can you please review ?
, 3.patch - Updated patch fixing token verification in http mode
, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12790394/HIVE-13169.3.patch

{color:green}SUCCESS:{color} +1 due to 2 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 10 failed/errored test(s), 9738 tests executed
*Failed tests:*
{noformat}
TestMiniTezCliDriver-update_orig_table.q-vectorization_13.q-mapreduce2.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby3_map.q-sample2.q-auto_join14.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby_map_ppr_multi_distinct.q-table_access_keys_stats.q-groupby4_noskew.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-join_rc.q-insert1.q-vectorized_rcfile_columnar.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-ppd_join4.q-join9.q-ppd_join3.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestJdbcWithLocalClusterSpark.testTempTable
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.minikdc.TestHiveAuthFactory.testStartTokenManagerForDBTokenStore
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7125/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7125/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7125/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 10 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12790394 - PreCommit-HIVE-TRUNK-Build, Attaching same file once more to kickoff precommit tests. The additional failures are not reproducilbe in my local environment.
, [~thejas] Patch looks good. Just one minor comment on the pull request., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12790421/HIVE-13169.3.patch

{color:green}SUCCESS:{color} +1 due to 2 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 8 failed/errored test(s), 9768 tests executed
*Failed tests:*
{noformat}
TestSparkCliDriver-groupby3_map.q-sample2.q-auto_join14.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby_map_ppr_multi_distinct.q-table_access_keys_stats.q-groupby4_noskew.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-join_rc.q-insert1.q-vectorized_rcfile_columnar.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-ppd_join4.q-join9.q-ppd_join3.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ivyDownload
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.minikdc.TestHiveAuthFactory.testStartTokenManagerForDBTokenStore
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7128/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7128/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7128/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12790421 - PreCommit-HIVE-TRUNK-Build, [~thejas] Looks like org.apache.hive.minikdc.TestHiveAuthFactory.testStartTokenManagerForDBTokenStore failure is related. , Yes, I was missing an update in the attached file, but that was present in the pull request. That is why the test was passing locally for me.
The updated patch file has fix for that.
I have also updated the file and pull request with your suggestions. I am using a new header name specific for hive.
, [~thejas] Noticed the change in PR. Thanks for the note. I'm +1 on the patch., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12790504/HIVE-13169.4.patch

{color:green}SUCCESS:{color} +1 due to 2 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 8 failed/errored test(s), 9763 tests executed
*Failed tests:*
{noformat}
TestSparkCliDriver-groupby3_map.q-sample2.q-auto_join14.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby_map_ppr_multi_distinct.q-table_access_keys_stats.q-groupby4_noskew.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-join_rc.q-insert1.q-vectorized_rcfile_columnar.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-ppd_join4.q-join9.q-ppd_join3.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.minikdc.TestHiveAuthFactory.testStartTokenManagerForDBTokenStore
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7133/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7133/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7133/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12790504 - PreCommit-HIVE-TRUNK-Build, 5.patch - Fixing unit test
, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12790664/HIVE-13169.5.patch

{color:green}SUCCESS:{color} +1 due to 2 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 8 failed/errored test(s), 9748 tests executed
*Failed tests:*
{noformat}
TestMiniTezCliDriver-cte_4.q-orc_merge5.q-vectorization_limit.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby3_map.q-sample2.q-auto_join14.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby_map_ppr_multi_distinct.q-table_access_keys_stats.q-groupby4_noskew.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-join_rc.q-insert1.q-vectorized_rcfile_columnar.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-ppd_join4.q-join9.q-ppd_join3.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7140/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7140/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7140/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12790664 - PreCommit-HIVE-TRUNK-Build, Patch committed to master.
Thanks for your patch [~vgumashta] and the reviews!
, attaching patch for branch-1.2 for reference 
, Does this need documentation?  If so, please give it a TODOC2.1 label.

Also see the doc comment on HIVE-5155 (TODOC13):

* [HIVE-5155 doc needs review | https://issues.apache.org/jira/browse/HIVE-5155?focusedCommentId=14084408&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14084408], Thanks for the reminder [~leftylev].
I have made an edit https://cwiki.apache.org/confluence/pages/diffpagesbyversion.action?pageId=30758725&selectedPageVersions=128&selectedPageVersions=127 .
I had updated that section few weeks back.
, Earlier updates to that section https://cwiki.apache.org/confluence/pages/diffpagesbyversion.action?pageId=30758725&selectedPageVersions=127&selectedPageVersions=126
, Thanks for the doc, [~thejas].  Can we remove the TODOC13 label from HIVE-5155 now or should I nudge [~prasadm] for a review?

A fine point:  Since configuration parameter hive.server2.transport.mode is deprecated (0.14.0) in favor of connection URL parameter transportMode, should this be reworded?

{quote}
Support for delegation tokens with HiveServer2 binary transport mode hive.server2.transport.mode has been available starting 0.13.0 ...
{quote}

* [deprecation notice for hive.server2.transport.mode | https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-ConnectionURLWhenHiveServer2IsRunninginHTTPMode]]