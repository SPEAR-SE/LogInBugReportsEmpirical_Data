[https://reviews.facebook.net/D4143, This seems ok for now, but could you file a follow up task to use partition metadata instead of table metadata wherever bucketing information is used, and mention that the error message added by this JIRA can be removed once that is done.

One small comment on the diff., @Namit: I also added a small comment on phabricator. Thanks., comments addressed, +1 running tests, Saw some test failures, e.g. TestCliDriver bucket_groupby.q, The tests have been fixed, Committed, thanks Namit., Integrated in Hive-trunk-h0.21 #1562 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1562/])
    HIVE-3261. alter the number of buckets for a non-empty partitioned table should not be allowed. (njain via kevinwilfong) (Revision 1364815)

     Result = FAILURE
kevinwilfong : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1364815
Files : 
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java
* /hive/trunk/ql/src/test/queries/clientnegative/alter_numbuckets_partitioned_table.q
* /hive/trunk/ql/src/test/queries/clientpositive/bucket_groupby.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_04_evolved_parts.q
* /hive/trunk/ql/src/test/results/clientnegative/alter_numbuckets_partitioned_table.q.out
* /hive/trunk/ql/src/test/results/clientpositive/bucket_groupby.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_04_evolved_parts.q.out
, Integrated in Hive-trunk-hadoop2 #54 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/54/])
    HIVE-3261. alter the number of buckets for a non-empty partitioned table should not be allowed. (njain via kevinwilfong) (Revision 1364815)

     Result = ABORTED
kevinwilfong : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1364815
Files : 
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java
* /hive/trunk/ql/src/test/queries/clientnegative/alter_numbuckets_partitioned_table.q
* /hive/trunk/ql/src/test/queries/clientpositive/bucket_groupby.q
* /hive/trunk/ql/src/test/queries/clientpositive/exim_04_evolved_parts.q
* /hive/trunk/ql/src/test/results/clientnegative/alter_numbuckets_partitioned_table.q.out
* /hive/trunk/ql/src/test/results/clientpositive/bucket_groupby.q.out
* /hive/trunk/ql/src/test/results/clientpositive/exim_04_evolved_parts.q.out
, This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.]