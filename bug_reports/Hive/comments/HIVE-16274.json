[ccing [~ashutoshc] and [~jdere], 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12859856/HIVE-16274.01.patch

{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 4 failed/errored test(s), 10497 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[comments] (batchId=35)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=141)
org.apache.hadoop.hive.ql.security.authorization.plugin.sqlstd.TestSQLStdHiveAccessControllerHS2.testConfigProcessing (batchId=270)
org.apache.hadoop.hive.ql.security.authorization.plugin.sqlstd.TestSQLStdHiveAccessControllerHS2.testConfigProcessingCustomSetWhitelistAppend (batchId=270)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/4287/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/4287/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-4287/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12859856 - PreCommit-HIVE-Build, Unfortunately this scales the nDV of all column in the same way, which makes the nDV look high for all columns. If the column has a min/max range, or data type limits, could we at least bound it by those?
The point of having this was because the density function estimate does not work well in some cases. Longer term it might be nice to have some improvements in that area as well., [~ashutoshc] or [~jdere], could u review it? Thanks., +1, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12860501/HIVE-16274.02.patch

{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 5 failed/errored test(s), 10512 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[escape_comments] (batchId=231)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[comments] (batchId=35)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[tunable_ndv] (batchId=42)
org.apache.hadoop.hive.ql.security.authorization.plugin.sqlstd.TestSQLStdHiveAccessControllerHS2.testConfigProcessing (batchId=270)
org.apache.hadoop.hive.ql.security.authorization.plugin.sqlstd.TestSQLStdHiveAccessControllerHS2.testConfigProcessingCustomSetWhitelistAppend (batchId=270)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/4356/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/4356/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-4356/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12860501 - PreCommit-HIVE-Build, [~pxiong], looks like some of these failures are related.
Do the security failures have to do with putting the new config in HiveConf.metaVars? Is that necessary?, pushed to master. thanks [~jdere] for the review., Doc note:  This adds *hive.metastore.stats.ndv.tuner* to HiveConf.java, so it needs to be documented in the wiki for release 2.3.0.

It belongs in the MetaStore section of Configuration Properties, with a crossreference at the beginning of Statistics section.  Or perhaps vice versa (since MetaStore already has a list of parameters in other sections).

* [Configuration Properties -- MetaStore | https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-MetaStore]
* [Configuration Properties -- Statistics | https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-Statistics]

Added a TODOC2.3 label.]