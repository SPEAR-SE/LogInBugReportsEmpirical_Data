[
-----------------------------------------------------------
This is an automatically generated e-mail. To reply, visit:
https://reviews.apache.org/r/2825/
-----------------------------------------------------------

Review request for Ning Zhang.


Summary
-------

Basically there is an additional place in Hive where a child JVM can be started, that I wasn't aware of. I added to that place (MapRedLocalTask) update of debug environment variables as it is being already done in MapRedTask.

By the way I added new debug option: swapSuspend, since I was very often using hive --debug:mainSuspend=n,childSuspend=y whereas now --debug:swapSuspend will be sufficient. 


This addresses bug HIVE-2578.
    https://issues.apache.org/jira/browse/HIVE-2578


Diffs
-----

  trunk/bin/ext/debug.sh 1201858 
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java 1201858 
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java 1201858 

Diff: https://reviews.apache.org/r/2825/diff


Testing
-------

Tested on sample queries that it works (e.g. select s1.key, count(*) from src s1 join src s2 on s1.key = s2.key  group by s1.key, s2.value; )


Thanks,

Robert

, +1, will commit after tests pass., committed, thanks Robert Surówka!, Integrated in Hive-trunk-h0.21 #1092 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1092/])
    HIVE-2578: Debug mode doesn't work properly with MapRedLocalTask (Robert Surówka via He Yongqiang)

heyongqiang : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1202942
Files : 
* /hive/trunk/bin/ext/debug.sh
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java
]