[This might have same issue as HIVE-13235 cc: [~aihuaxu], This does look the same issue as HIVE-13235. This fix would work I guess, but it will break many valid constant propagation. I'm still working on it., After local testing I see that my fix was the cause of regression and I create the new patch, Alina, is this patch going to get included in other versions? I think 1.2.1 is also affected., Yes, 1.2.1 is affected too.]