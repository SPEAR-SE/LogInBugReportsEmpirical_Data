[I'm not entirely sure if this is the right way to fix this. The right thing to do may well be to make LazyInteger Comparable, but I thought it'd be best for me to stay out of Hive's serde stuff. I'm still a little new round here...

This fixes it by using the ObjectInspectorUtils compare() method., Nice catch. A feature that sorts out literals only is not useful outside of the unit tests. I will look at this., @Philip: Good catch. Can you please submit a review request for this patch on reviews.apache.org? Thanks., @Carl: reviews.apache.org appears to be down at the moment. I'll keep checking and submit a request if it comes back up., @Carl, @Edward: Review board seems to be back now. I've submitted a review request: https://reviews.apache.org/r/5384/, @Philip: Patch looks good overall. I added a couple small requests to reviewboard. Thanks., @Carl, @Edward: I've updated the patch on reviewboard., +1 will commit if tests pass, Committed. Thanks Philip., Integrated in Hive-trunk-hadoop2 #54 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/54/])
    HIVE-3125 sort_array does not work with LazyPrimitive Philip Tromans (via egc) (Revision 1353203)

     Result = ABORTED
ecapriolo : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1353203
Files : 
* /hive/trunk/data/files/primitive_type_arrays.txt
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java
* /hive/trunk/ql/src/test/queries/clientpositive/udf_sort_array.q
* /hive/trunk/ql/src/test/results/clientpositive/udf_sort_array.q.out
, This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.]