[cc [~thejas] [~rhbutani] This is a bug for 13. Thanks!
, [~vaibhavgumashta] Can you create a reviewboard link ? The indentation seems to have some issues.
It is recommended practice to put the unlock in a finally block. Alternatively, should we just use a simpler synchronized block instead of ReentrantLock ? , I see one failure that I'm not sure if it is related or not:
2014-03-28 00:02:12 WARN  PTest:205 - org.apache.hadoop.hive.metastore.TestMetaStoreEventListenerOnlyOnCommit.testEventStatus, [~alangates] Thanks a lot for running the tests. The issue is unrelated but I need to incorporate some feedback., [~thejas] Addressed the feedback; linked the rb url. Thanks!, +1
, 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12637592/HIVE-6763.2.patch

{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 5502 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority2
org.apache.hive.service.cli.thrift.TestThriftHttpCLIService.testExecuteStatementAsync
{noformat}

Test results: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2028/testReport
Console output: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2028/console

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12637592, Vaibhav,
Can you please check if the test failures are related ?
, [~thejas] The failures are unrelated. Thanks!, Patch committed to 0.13 branch and trunk.
Thanks for the contribution Vaibhav!
]