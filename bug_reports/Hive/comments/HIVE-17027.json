[From an Oracle perspective double and single quotes mean very different things and treating them the same would lead to unpredictable behavior. Not sure how MySQL and Postgres handle this but in Oracle double quotes are used to quote object names with special characters while Hive uses backticks to do the same thing., For compatibility with Hive SQL (https://cwiki.apache.org/confluence/display/Hive/Literals) I will add support for double quotes in string literals. Later, from the context it would be possible to distinguish between column names and literals. , Above script is not valid, so I modified it a little bit (removed VAR keyword and replaced DECLARE with AS):

{code}
CREATE FUNCTION test1()
  RETURNS STRING
AS
  ret string;
BEGIN
  ret := 'VALUE IS SET';
  print(ret);
END;

CREATE FUNCTION test2()
  RETURNS STRING
AS
  ret string;
BEGIN
  ret := "VALUE IS SET";
  print(ret);
END;

test1();
test2();
{code}, Actually HPL already parses double quoted strings as identifiers, I will change the logic to treat them as strings depending on the context, for example, in assignment expressions that are not part of SQL statements where conflict with column names is possible; and when there is no previously declared double-quoted variable etc.   , There are also issues with variable initialization, I created another ticket: HIVE-17452, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12885332/HIVE-17027.1.patch

{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 4 failed/errored test(s), 11020 tests executed
*Failed tests:*
{noformat}
TestTxnCommandsBase - did not produce a TEST-*.xml file (likely timed out) (batchId=280)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_values_orig_table_use_metadata] (batchId=61)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=234)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=101)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/6672/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/6672/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-6672/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12885332 - PreCommit-HIVE-Build]