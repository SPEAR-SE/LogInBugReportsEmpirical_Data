[removed unnecessary space changes in original patch., Removed unnecessary move of the imports, Removed unnecessary space changes, Removed unnecessary format changes., Review request submitted @ https://reviews.apache.org/r/7864/, A couple of comments, rather than returning null or doing nothing for a void method, you should probably throw an exception. That way it is clear that the method has not been implemented yet.

Other parts of the code are throwing SQLException("Method not supported"), so you might want to do the same.

You missed some methods in HiveBaseResultSet.

I've included the patch that I'm using which contains these changes. You might want to merge them together.

Also, I think you should submit your review request to phabricator instead of apache review board. https://cwiki.apache.org/confluence/display/Hive/PhabricatorCodeReview, One more comment, please supply a backport of this patch for branch-0.9 as well (I need the branch patch)., mbautin requested code review of "[jira] [HIVE-3384] HIVE JDBC module won't compile under JDK1.7 as new methods added in JDBC specification".
Reviewers: cdrome, weidongbian, JIRA

  Fixing Hive JDBC compilation on JDK 7. Combining changes from Shengsheng Huang's https://issues.apache.org/jira/secure/attachment/12552065/HIVE-3384.2.patch and Chris Drome's https://issues.apache.org/jira/secure/attachment/12552957/HIVE-JDK7-JDBC.patch.

TEST PLAN
  Hive unit tests

REVISION DETAIL
  https://reviews.facebook.net/D6873

AFFECTED FILES
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveBaseResultSet.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveCallableStatement.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDatabaseMetaData.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDriver.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HivePreparedStatement.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveQueryResultSet.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveStatement.java
  metastore/build.xml

MANAGE HERALD DIFFERENTIAL RULES
  https://reviews.facebook.net/herald/view/differential/

WHY DID I GET THIS EMAIL?
  https://reviews.facebook.net/herald/transcript/16287/

To: cdrome, weidongbian, JIRA, mbautin
, [~shane.huang], [~cdrome]: thanks a lot for working on this! I am interested in this patch being committed soon because it is annoying to keep applying these changes locally just to build Hive with JDK 7.

[~cdrome]: to help move this patch forward, I have combined the two patches in and posted them on Phabricator on https://reviews.facebook.net/D6873 (trunk patch). The patch should show up on this JIRA within the next hour, but if it does not, I will upload it manually.

I think it is better to go through a review loop on the trunk patch first and then do a backport for branch-0.9. I am happy to do the backport once the trunk patch is committed.





 , Mikhail Bautin, thank you very much for your work. I failed to login Phabricator because of some weird authentication problem and still working on that. Really appreciate what you've done. I'd very much like to see this to be checked into trunk as soon. , Submitting patch for Jenkins testing., Thanks for picking this up and integrating my changes.

I'd also like to see a 0.9 patch get committed as well, so I will prepare one based on your trunk patch., Just wondering if anyone following this thread has experienced consistent success building and running with JDK7.

Unless I upgrade DataNucleus I get the following types of test failures:

java.lang.VerifyError: Expecting a stackmap frame at branch target 18 in method org.apache.hadoop.hive.metastore.model.MDatabase.jdoReplaceDetachedState()V at offset 4

Upgrading DataNucleus helps me get around some issues, but many tests that previously succeeded now fail.

Are others experiencing the same or is there something I've missed. , Attached a patch for branch 0.9., [~cdrome]: This type of error sometimes happens when loading class files compiled with Java 6 into a Java 7 JVM. The -XX:-UseSplitVerifier JVM option helps even though some people say it is unsafe.
, ashutoshc has requested changes to the revision "[jira] [HIVE-3384] HIVE JDBC module won't compile under JDK1.7 as new methods added in JDBC specification".

  Patch looks good. Couple of minor comments.

INLINE COMMENTS
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java:49 Unneeded import.
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java:29 Duplicate import
  metastore/build.xml:106 Why UseSplitVerifier is required?  Unless there is a strong reason for this I will recommend to get rid of this, since this flag is specific to Oracle JVM, we should avoid vendor specific flag for better portability.

REVISION DETAIL
  https://reviews.facebook.net/D6873

BRANCH
  trunk

To: cdrome, weidongbian, JIRA, ashutoshc, mbautin
, mbautin has commented on the revision "[jira] [HIVE-3384] HIVE JDBC module won't compile under JDK1.7 as new methods added in JDBC specification".

INLINE COMMENTS
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java:49 Removed.
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java:29 Removed.
  metastore/build.xml:106 Unfortunately, this seems to be required in order to run unit tests under JDK 7. Without this, verification errors such as P87 start happening, presumably because some of the dependencies have been compiled using an earlier version of javac and do not pass the more strict verification guidelines Java 7 uses by default.

REVISION DETAIL
  https://reviews.facebook.net/D6873

BRANCH
  trunk

To: cdrome, weidongbian, JIRA, ashutoshc, mbautin
, mbautin updated the revision "[jira] [HIVE-3384] HIVE JDBC module won't compile under JDK1.7 as new methods added in JDBC specification".
Reviewers: cdrome, weidongbian, JIRA, ashutoshc

  Addressing Ashutosh's comments.

REVISION DETAIL
  https://reviews.facebook.net/D6873

AFFECTED FILES
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveBaseResultSet.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveCallableStatement.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDatabaseMetaData.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDriver.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HivePreparedStatement.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveQueryResultSet.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveStatement.java
  metastore/build.xml

To: cdrome, weidongbian, JIRA, ashutoshc, mbautin
, mbautin updated the revision "[jira] [HIVE-3384] HIVE JDBC module won't compile under JDK1.7 as new methods added in JDBC specification".
Reviewers: cdrome, weidongbian, JIRA, ashutoshc

  Adding another -XX:-UseSplitVerifier for unit tests to work on JDK7.

REVISION DETAIL
  https://reviews.facebook.net/D6873

AFFECTED FILES
  build-common.xml
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveBaseResultSet.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveCallableStatement.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDatabaseMetaData.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDriver.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HivePreparedStatement.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveQueryResultSet.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveStatement.java
  metastore/build.xml

To: cdrome, weidongbian, JIRA, ashutoshc, mbautin
, ashutoshc has requested changes to the revision "[jira] [HIVE-3384] HIVE JDBC module won't compile under JDK1.7 as new methods added in JDBC specification".

  One more comment. Patch looks good otherwise.

INLINE COMMENTS
  build-common.xml:440 Instead of hardcoding jvmarg I will suggest to define a variable here $jvm.args and add it in build.properties with default value set to -XX:-UseSplitVerifier that way folks can override this value if they want (e.g. for non-Oracle jdks)
  metastore/build.xml:106 Instead of hardcoding jvmarg I will suggest to define a variable here $jvm.args and add it in build.properties with default value set to -XX:-UseSplitVerifier that way folks can override this value if they want (e.g. for non-Oracle jdks)

REVISION DETAIL
  https://reviews.facebook.net/D6873

BRANCH
  trunk-hive-3384-jdbc-compilation-on-jdk7

To: cdrome, weidongbian, JIRA, ashutoshc, mbautin
, mbautin updated the revision "[jira] [HIVE-3384] HIVE JDBC module won't compile under JDK1.7 as new methods added in JDBC specification".
Reviewers: cdrome, weidongbian, JIRA, ashutoshc

  Addressing Ashutosh's additional comment: putting -XX:-UseSplitVerifier into jvm.args defined in build.properties.

REVISION DETAIL
  https://reviews.facebook.net/D6873

AFFECTED FILES
  build-common.xml
  build.properties
  build.xml
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveBaseResultSet.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveCallableStatement.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDatabaseMetaData.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDriver.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HivePreparedStatement.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveQueryResultSet.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveStatement.java
  metastore/build.xml
  pdk/scripts/build-plugin.xml

To: cdrome, weidongbian, JIRA, ashutoshc, mbautin
, Patch doesn't apply cleanly. Can you rebase it on trunk. I will test and commit., mbautin updated the revision "[jira] [HIVE-3384] HIVE JDBC module won't compile under JDK1.7 as new methods added in JDBC specification".
Reviewers: cdrome, weidongbian, JIRA, ashutoshc

  Rebasing on trunk changes.

REVISION DETAIL
  https://reviews.facebook.net/D6873

AFFECTED FILES
  build-common.xml
  build.properties
  build.xml
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveBaseResultSet.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveCallableStatement.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDatabaseMetaData.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDriver.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HivePreparedStatement.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveQueryResultSet.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveStatement.java
  metastore/build.xml
  pdk/scripts/build-plugin.xml

To: cdrome, weidongbian, JIRA, ashutoshc, mbautin
, Phabricator auto-generated diffs in not applying cleaning on svn repo. Please generate svn diff and upload patch directly on jira.

Btw, I resolved the conflicts manually and ran the test, all tests passed except PluginTest which failed with following stacktrace.
{code}
test:
    [junit] Exception in thread "main" java.lang.NoClassDefFoundError: ${jvm/args}
    [junit] Caused by: java.lang.ClassNotFoundException: ${jvm.args}
    [junit]     at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
    [junit]     at java.security.AccessController.doPrivileged(Native Method)
    [junit]     at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
    [junit]     at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
    [junit]     at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
    [junit]     at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
    [junit] Could not find the main class: ${jvm.args}.  Program will exit.
    [junit] Running org.apache.hive.pdk.PluginTest
    [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec
{code}, mbautin updated the revision "[jira] [HIVE-3384] HIVE JDBC module won't compile under JDK1.7 as new methods added in JDBC specification".
Reviewers: cdrome, weidongbian, JIRA, ashutoshc

  Reverting an unnecessary change of a value attribute to a line attribute.

REVISION DETAIL
  https://reviews.facebook.net/D6873

AFFECTED FILES
  build-common.xml
  build.properties
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveBaseResultSet.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveCallableStatement.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDatabaseMetaData.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDriver.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HivePreparedStatement.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveQueryResultSet.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveStatement.java
  metastore/build.xml
  pdk/scripts/build-plugin.xml

To: cdrome, weidongbian, JIRA, ashutoshc, mbautin
, Uploading a patch corresponding to https://reviews.facebook.net/D6873?vs=on&id=22815&whitespace=ignore-all#differential-review-toc but generated manually so that it applies cleanly using the patch command., [~ashutoshc]: PluginTest succeeds for me with my most recent patch.

{quote}
Testsuite: org.apache.hive.pdk.PluginTest
Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 33.596 sec
------------- Standard Error -----------------
GLOBAL SETUP:  Copying file: file:/wd/hive-trunk/builtins/test/onerow.txt
Deleted file:/wd/hive-trunk/build/builtins/warehouse/onerow
Copying file: file:/wd/hive-trunk/builtins/test/iris.txt
Deleted file:/wd/hive-trunk/build/builtins/warehouse/iris
org.apache.hive.builtins.UDAFUnionMap TEARDOWN:  
Hive history file=/tmp/mbautin/hive_job_log_mbautin_201212022240_971726350.txt
GLOBAL TEARDOWN:  
Hive history file=/tmp/mbautin/hive_job_log_mbautin_201212022240_805568604.txt
OK
Time taken: 8.473 seconds
OK
Time taken: 0.531 seconds
------------- ---------------- ---------------

Testcase: SELECT size(UNION_MAP(MAP(sepal_width, sepal_length))) FROM iris took 3.454 sec
{quote}
, Thanks for manually generating the patch. It applies cleanly with patch command. Unfortunately, plugin test still failed. Note that this test gets executed twice in full test run, once from within builtin and another from pdk module. It passes when run through builtin module but fails when is run through pdk module with following stack:
{code}
test:
    [junit] Exception in thread "main" java.lang.NoClassDefFoundError: ${jvm/args}
    [junit] Caused by: java.lang.ClassNotFoundException: ${jvm.args}
    [junit]     at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
    [junit]     at java.security.AccessController.doPrivileged(Native Method)
    [junit]     at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
    [junit]     at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
    [junit]     at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
    [junit]     at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
    [junit] Could not find the main class: ${jvm.args}.  Program will exit.
    [junit] Running org.apache.hive.pdk.PluginTest
    [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec
      [for] /home/ashutosh/hive/pdk/build.xml: The following error occurred while executing this line:
      [for] /home/ashutosh/hive/build.xml:325: The following error occurred while executing this line:
      [for] /home/ashutosh/hive/pdk/build.xml:58: The following error occurred while executing this line:
      [for] /home/ashutosh/hive/build/dist/scripts/pdk/build-plugin.xml:130: Test org.apache.hive.pdk.PluginTest failed (crashed)
{code} 

From builtin module: it passed for me as well:
{code}
test:
    [junit] Running org.apache.hive.pdk.PluginTest
    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 12.17 sec
{code}, mbautin updated the revision "[jira] [HIVE-3384] HIVE JDBC module won't compile under JDK1.7 as new methods added in JDBC specification".
Reviewers: cdrome, weidongbian, JIRA, ashutoshc

  Addressing Ashutosh's comment from http://bit.ly/ViwEHf: setting jvm.args when running PluginTest from the pdk module.

REVISION DETAIL
  https://reviews.facebook.net/D6873

AFFECTED FILES
  build-common.xml
  build.properties
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveBaseResultSet.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveCallableStatement.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDatabaseMetaData.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDriver.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HivePreparedStatement.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveQueryResultSet.java
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveStatement.java
  metastore/build.xml
  pdk/scripts/build-plugin.xml

To: cdrome, weidongbian, JIRA, ashutoshc, mbautin
, Manually generated patch corresponding to https://reviews.facebook.net/D6873?vs=on&id=22815&whitespace=ignore-all#differential-review-toc addressing the problem with PluginTest running from the pdk module., [~ashutoshc]: Thank you for testing the patch. I have addressed your comment and PluginTest now passes when running from both {{builtin}} and {{pdk}} modules.

{code:title=build/pdk/test-plugin/build/TEST-org.apache.hive.pdk.PluginTest.txt}
Testsuite: org.apache.hive.pdk.PluginTest
Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 42.592 sec
------------- Standard Error -----------------
GLOBAL SETUP:  Copying file: file:/wd/hive-trunk/build/pdk/test-plugin/test/onerow.txt
Deleted file:/wd/hive-trunk/build/pdk/test-plugin/build/warehouse/onerow
org.apache.hive.pdktest.Rot13 SETUP:  Deleted file:/wd/hive-trunk/build/pdk/test-plugin/build/warehouse/rot13_data
org.apache.hive.pdktest.Rot13 TEARDOWN:  
Hive history file=/tmp/mbautin/hive_job_log_mbautin_201212040011_1557635606.txt
OK
Time taken: 6.16 seconds
GLOBAL TEARDOWN:  
Hive history file=/tmp/mbautin/hive_job_log_mbautin_201212040012_1607147323.txt
OK
Time taken: 0.287 seconds
------------- ---------------- ---------------

Testcase: SELECT tp_rot13('Mixed Up!') FROM onerow; took 2.532 sec
Testcase: SELECT tp_rot13(s) FROM rot13_data; took 2.495 sec
{code}, Committed to trunk. Thanks, Shengsheng, Chris and Mikhail for your persistence on this one!, Attaching a version of the patch for the 0.9 branch.

[~ashutoshc]: Thank you for taking care of this JIRA. Could you please commit this one to the 0.9 branch as well?, [~mikhail]: Thanks for updating the branch 0.9 patch as well., Integrated in Hive-trunk-h0.21 #1834 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1834/])
    HIVE-3384 : HIVE JDBC module won't compile under JDK1.7 as new methods added in JDBC specification (Shengsheng Huang, Chris Drome, Mikhail Bautin via Ashutosh Chauhan) (Revision 1417235)

     Result = ABORTED
hashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1417235
Files : 
* /hive/trunk/build-common.xml
* /hive/trunk/build.properties
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveBaseResultSet.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveCallableStatement.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDatabaseMetaData.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDriver.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HivePreparedStatement.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveQueryResultSet.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveStatement.java
* /hive/trunk/metastore/build.xml
* /hive/trunk/pdk/scripts/build-plugin.xml
, Integrated in Hive-trunk-h0.21 #1835 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1835/])
    HIVE-3384 : HIVE JDBC module won't compile under JDK1.7 as new methods added in JDBC specification (Shengsheng Huang, Chris Drome, Mikhail Bautin via Ashutosh Chauhan) (Revision 1417235)

     Result = FAILURE
hashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1417235
Files : 
* /hive/trunk/build-common.xml
* /hive/trunk/build.properties
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveBaseResultSet.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveCallableStatement.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDatabaseMetaData.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDriver.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HivePreparedStatement.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveQueryResultSet.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveStatement.java
* /hive/trunk/metastore/build.xml
* /hive/trunk/pdk/scripts/build-plugin.xml
, Integrated in Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false #222 (See [https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false/222/])
    HIVE-3384 : HIVE JDBC module won't compile under JDK1.7 as new methods added in JDBC specification (Shengsheng Huang, Chris Drome, Mikhail Bautin via Ashutosh Chauhan) (Revision 1418384)

     Result = FAILURE
hashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1418384
Files : 
* /hive/branches/branch-0.9/build-common.xml
* /hive/branches/branch-0.9/build.properties
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveBaseResultSet.java
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveCallableStatement.java
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDatabaseMetaData.java
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDriver.java
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HivePreparedStatement.java
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveQueryResultSet.java
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveStatement.java
* /hive/branches/branch-0.9/metastore/build.xml
* /hive/branches/branch-0.9/pdk/scripts/build-plugin.xml
, [~ashutoshc]: I think the failure is occuring as a result of HIVE-3435 not being applied to branch 0.9 as opposed to new failures being caused by this test.

How do we proceed in that case? Do we need to backport that patch and get it to succeed before moving forward with this one?, [~cdrome]: I think this patch has already been committed to 0.9 (thanks [~ashutoshc]!), and we need to deal with remaining test failures separately., [~mikhail]: When I checked the repository yesterday it hadn't been commited yet. Thanks Ashutosh., Integrated in Hive-0.9.1-SNAPSHOT-h0.21 #222 (See [https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21/222/])
    HIVE-3384 : HIVE JDBC module won't compile under JDK1.7 as new methods added in JDBC specification (Shengsheng Huang, Chris Drome, Mikhail Bautin via Ashutosh Chauhan) (Revision 1418384)

     Result = FAILURE
hashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1418384
Files : 
* /hive/branches/branch-0.9/build-common.xml
* /hive/branches/branch-0.9/build.properties
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveBaseResultSet.java
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveCallableStatement.java
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDatabaseMetaData.java
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDriver.java
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HivePreparedStatement.java
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveQueryResultSet.java
* /hive/branches/branch-0.9/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveStatement.java
* /hive/branches/branch-0.9/metastore/build.xml
* /hive/branches/branch-0.9/pdk/scripts/build-plugin.xml
, mbautin has abandoned the revision "[jira] [HIVE-3384] HIVE JDBC module won't compile under JDK1.7 as new methods added in JDBC specification".

  Committed into Hive trunk and 0.9 branches.

REVISION DETAIL
  https://reviews.facebook.net/D6873

To: cdrome, weidongbian, JIRA, ashutoshc, mbautin
, Needs to be merged into branch-0.10 as well., Added patch for branch-0.10, Please commit to branch-0.10 as well., Please commit to branch-0.10 as well., Integrated in Hive-trunk-hadoop2 #54 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/54/])
    HIVE-3384 : HIVE JDBC module won't compile under JDK1.7 as new methods added in JDBC specification (Shengsheng Huang, Chris Drome, Mikhail Bautin via Ashutosh Chauhan) (Revision 1417235)

     Result = ABORTED
hashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1417235
Files : 
* /hive/trunk/build-common.xml
* /hive/trunk/build.properties
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveBaseResultSet.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveCallableStatement.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDatabaseMetaData.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDriver.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HivePreparedStatement.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveQueryResultSet.java
* /hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveStatement.java
* /hive/trunk/metastore/build.xml
* /hive/trunk/pdk/scripts/build-plugin.xml
, i dot understand that comment from Hudson CI. If i take a look at 0.10 - https://github.com/apache/hive/commits/branch-0.10 its still not there., It looks like this should be resolved since it was committed to trunk?, This patch was applied to branch-0.9 and trunk. The pending request is to have it also applied to branch-0.10., Seems that this patch is not applied to trunk yet? I checkout trunk and have same error when compiling., Just co'ed svn and it seems this error is still in trunk., The error is not related to this patch. Rather it is associated with new code added in 0.11.

Please refer to HIVE-4496., I verified that this was committed on trunk (Thanks!).
Is there anything left to be done regarding this patch? If not, can we please update the JIRA to resolved status?, This was committed to 0.11, It looks like 0.11 doesn't compile on open jdk 7. I'm trying to compile it and getting the following same errors in jdbc module:

Am I doing something wrong? I'm just running "ant clean package test"

----

 Compiling 28 source files to /projects/apache/hive/build/jdbc/classes
    [javac] /projects/apache/hive/jdbc/src/java/org/apache/hive/jdbc/HiveCallableStatement.java:48: error: HiveCallableStatement is not abstract and does not override abstract method <T>getObject(String,Class<T>) in CallableStatement
    [javac] public class HiveCallableStatement implements java.sql.CallableStatement {
    [javac]        ^
    [javac]   where T is a type-variable:
    [javac]     T extends Object declared in method <T>getObject(String,Class<T>)
    [javac] /projects/apache/hive/jdbc/src/java/org/apache/hive/jdbc/HiveConnection.java:65: error: HiveConnection is not abstract and does not override abstract method getNetworkTimeout() in Connection
    [javac] public class HiveConnection implements java.sql.Connection {


, Oh, I guess it's now HIVE-4496. Sorry.]