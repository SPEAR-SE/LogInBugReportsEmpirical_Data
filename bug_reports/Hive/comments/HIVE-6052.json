[Simple patch that adds config option. 
[~ashutoshc] can you review? This can produce unexpected results, rb at https://reviews.apache.org/r/16339/, 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12619228/HIVE-6052.patch

{color:red}ERROR:{color} -1 due to 8 failed/errored test(s), 4791 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_partition_coltype
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_annotate_stats_part
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynamic_partition_skip_default
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testPartitionFilter
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testPartitionFilter
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testPartitionFilter
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testPartitionFilter
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testPartitionFilter
{noformat}

Test results: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/681/testReport
Console output: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/681/console

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12619228, updated patch, 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12619453/HIVE-6052.01.patch

{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 4792 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_partition_coltype
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynamic_partition_skip_default
{noformat}

Test results: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/695/testReport
Console output: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/695/console

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12619453, Few comments on RB., Hmm, I cannot repro these test failures. The diffs are all in stats and are of the nature that would not be expected from the changes to the query. I wonder if stat generation is somehow affected by other queries, or machine.
Making out files with removed stat changes..., +1, 

{color:green}Overall{color}: +1 all checks pass

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12619620/HIVE-6052.02.patch

{color:green}SUCCESS:{color} +1 4795 tests passed

Test results: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/704/testReport
Console output: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/704/console

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12619620, Committed to trunk. Thanks, Sergey!, I think this JIRA has documentation impact. Release note should probably be updated., Agreed. [~sershe] Can you provide documentation for this change?, You mean documentation of the bug? From user perspective the feature itself is not visible. , Bug itself is I think sufficiently documented in description. I think there is need to document new config variable. Its off by default. We should document in what cases its safe for user to turn on this optimization. That usually goes in {{hive-default.xml.template}} Lets follow-up with a jira for that., Also add same info on config variable in release notes field of jira as Xuefu suggested., When you write it up, I'll also add hive.metastore.integral.jdo.pushdown to the wiki.  (Just wanted to name the config variable here, for future searches.), Added release note, added HIVE-6070 with somewhat different text (due to context) , *hive.metastore.integral.jdo.pushdown* is now documented in the wiki:

* [hive.metastore.integral.jdo.pushdown | https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.metastore.integral.jdo.pushdown]]