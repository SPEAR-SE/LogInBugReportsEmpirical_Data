[I think this should be committed to 2.1.1 as well., Verified the fix., +1
As explained offline by Vaibhav - This was fixed by HIVE-12834 in one place, but there was a duplicate commit of changes in  HIVE-6758  which was not addressed.
, Patch for branch-1, Committed to various branches.]