[[~alangates] could you review please, 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12762305/HIVE-11934.patch

{color:red}ERROR:{color} -1 due to 3 failed/errored test(s), 9620 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_groupby_reduce
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_groupby_reduce
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5437/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5437/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5437/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12762305 - PreCommit-HIVE-TRUNK-Build, [~ekoifman] Can you create a RB for this? , [~ashutoshc] https://reviews.apache.org/r/38902/, * It will be good to add message in RetryException()
* I see isRetryable() only handle a specific case of MS SQL Server. That should be expanded. In particular, in original problem description by [~appcrawler] problem is faced with Oracle. Shall we add detection of error code ORA-8177 ?, checkRetryable() handles "can't seriazlie..."  

In any case, this patch is meant to fix the "infinte loop" issue  which is independent of any specific root cause of the retry.

RetryException is never propagated outside TxnHandler class where it's thrown.  It's only used as a signal that retry should happen., sorry, I meant {{isRetryable(Exception ex)}} is only covering MS SQL server exception., yes, I understand.  checkRetryable() is the main method that handles some checking itself and delegates some checking to isRetryable().  it should be refactored at some point but the fact is that ORA-8177 is checked for already.  This is not the cause of the infinite loop., OK. +1, committed to branch-1 and master.  Thanks [~ashutoshc] for the review]