[[~pxiong] Can you take a look?, mysql
{code}
Database changed
mysql> create table t1 (a int);
Query OK, 0 rows affected (0.02 sec)

mysql> select count(1) from t1 group by 1;
ERROR 1056 (42000): Can't group on 'count(1)'
mysql> select count(1) from t1;
+----------+
| count(1) |
+----------+
|        0 |
+----------+
1 row in set (0.00 sec)
{code}, postgres
{code}
dbtmp=# create table t1 (a int);
CREATE TABLE
dbtmp=# select count(1) from t1 group by 1;
ERROR:  aggregates not allowed in GROUP BY clause
LINE 1: select count(1) from t1 group by 1;
               ^
dbtmp=# select count(1) from t1;
 count
-------
     0
(1 row)
{code}, yeah.. difference is MySQL/Postgres treats constant in expressions for group by as positional reference in select list and in which case it doesnt make sense. In Hive, you can get either behavior by {{hive.groupby.orderby.position.alias}} config. However, important point here is even for queries like {{select count(*) from t1 group by c1;}} should return no resultset for empty table. group by 1 essentially mean.. treat all rows as one grouping, so in case for empty table group by 1 should return no rows and just select count(*) from t1 should return row with value 0., Another example

{code} select (1=1) from t2 group by (1=1); {code}

This returns 1 row irrespective of statsoptimizer., With postgres 
{code}
select count(*) from tempty group by (1=1) ; --tempty is an empty table
 count 
-------
(0 rows)
{code}

So as [~ashutoshc] suggested for count(*) with group by 1 on an empty table should not return any row, +1 pending test, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12842907/HIVE-13452.01.patch

{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 9 failed/errored test(s), 10782 tests executed
*Failed tests:*
{noformat}
TestMiniLlapLocalCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=144)
	[vectorized_rcfile_columnar.q,vector_elt.q,explainuser_1.q,multi_insert.q,tez_dml.q,vector_bround.q,schema_evol_orc_acid_table.q,vector_when_case_null.q,orc_ppd_schema_evol_1b.q,vector_join30.q,vectorization_11.q,cte_3.q,update_tmp_table.q,vector_decimal_cast.q,groupby_grouping_id2.q,vector_decimal_round.q,tez_smb_empty.q,orc_merge6.q,vector_decimal_trailing.q,cte_5.q,tez_union.q,cbo_rp_subq_not_in.q,vector_decimal_2.q,columnStatsUpdateForStatsOptimizer_1.q,vector_outer_join3.q,schema_evol_text_vec_part_all_complex.q,tez_dynpart_hashjoin_2.q,auto_sortmerge_join_12.q,offset_limit.q,tez_union_multiinsert.q]
TestVectorizedColumnReaderBase - did not produce a TEST-*.xml file (likely timed out) (batchId=251)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample2] (batchId=5)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample4] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample6] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample7] (batchId=60)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample9] (batchId=38)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[transform_ppr2] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[stats_based_fetch_decision] (batchId=151)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/2554/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/2554/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-2554/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12842907 - PreCommit-HIVE-Build, pushed to master. Thanks [~ashutoshc] for the review!]