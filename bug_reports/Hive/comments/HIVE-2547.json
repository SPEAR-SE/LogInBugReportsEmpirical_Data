[I am a simple user, not even a contributor.  Would a contributor or committer pls review this and decide whether to make the requested change on line 73 of init-hive-dfs.sh (or not) and then close this bug.

thx!, I'm trying to submit a proposed patch, but there is no place to attach a file. So here is the patch itself


Index: bin/init-hive-dfs.sh
===================================================================
--- bin/init-hive-dfs.sh	(Revision 1196932)
+++ bin/init-hive-dfs.sh	(Arbeitskopie)
@@ -69,7 +69,7 @@
 fi
 
 HADOOP_EXEC=$HADOOP_HOME/bin/hadoop
-if [ ! -f ${HADOOP} ]; then
+if [ ! -f ${HADOOP_EXEC} ]; then
   echo "Cannot find hadoop installation: \$HADOOP_HOME must be set or hadoop must be in the path";
   exit 4;
 fi
, Here are the instructions for submitting patches:

https://cwiki.apache.org/confluence/display/Hive/PhabricatorCodeReview

(Also, Attach Files is now under More Actions above in JIRA.)
, Hi,

  fyi in the arc-setup target of the build.xml there is a url that should
be updated:

            https://github.com/facebook/arc-jira/tarball/master moved to
https://nodeload.github.com/facebook/arc-jira/tarball/master

do you want to make another jira for this (another really tiny bug..) ?


After making that tiny change the arc downloaded.  Then there is another
problem: the command "arc" does not exist (when executing "arc diff --jira
HIVE-<myJIRA#>").

It seems maybe at least two problems:

 (1) it appears there is an issue with the regex for copying the exploded
files

   <move todir="${hive.root}">
      <fileset dir="${build.dir.hive}">
        <include name="facebook-arc-jira-*/arc_jira_lib/**"/>
       </fileset>
      <mapper type="regexp" from="^facebook-arc-jira-([^/])*/(.*)" to=*
"\.\2"/>*
    </move>

   The result of this "move" operation is that a *new directory
.arc_jira_lib is created:*
*
*
          drwxrwxr-x  3 steve steve  4096 2011-11-05 16:29 *.arc_jira_lib*
*
*
  Thus we see

          <HIVE_SRC_DIR>/*.arc_jira_lib/*arcanist/ArcJIRAConfiguration.php
*
*
  So should it instead be:

          <HIVE_SRC_DIR>/arcanist/ArcJIRAConfiguration.php

     (and similarly with the other files within the arcanist directory --
move them all up one level)

 ?

  In either case, I'm not sure how/where the executable "arc" is created
and made accessible to the later stages of the build..

(2) The program "arc" does not exist.





2011/11/3 John Sichi (Commented) (JIRA) <jira@apache.org>

, @Stephen,
File separate jira for arc related issues you are seeing, there might be other things which may pop-up in that. , @Stephen:

1) The existing URL (https://github.com/facebook/arc-jira/tarball/master) is working fine for everyone else, so I don't know why you're encountering problems with it.  I'll check with Marek on whether we should be using nodeload instead.

2) I think you missed step 3 under Setup:  Installing Arc.  It directs you to this guide:  http://www.phabricator.com/docs/phabricator/article/Arcanist_User_Guide.html, Marek said that the github.com URL redirects to nodeload.github.com automatically, so we should leave it as github.com since that's the official one., ok.  i had done  a wget and saw the redirect message.  short of it is: the
present scheme works for UI driven access, not sure it does for command line

2011/11/7 John Sichi (Commented) (JIRA) <jira@apache.org>

]