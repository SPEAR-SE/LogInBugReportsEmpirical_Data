[Is this easy to repro?, Nm, I see an epic bug, Most of the patch is debug logging for potential future NPEs. 
As for the bug, there's a spot where we use a synchronized block on re-entrant lock instead of actually locking it. That might cause some problems 0_o, [~prasanth_j] can you take a look, Will be good to add test case. How does this fix the NPE?, 1) I don't actually know the precise cause - this seems to be a concurrency issue where we try to remove the item from the list, and it's not the head element yet doesn't have prev set.
2) I don't see any logical errors, but there's one place where the list is operated on without taking the lock. So I suspect it causes the corruption.
3) It is impractical to add a test case, this is a concurrency issue., Will NPE be the only exception thrown. It will be good to catch any runtime exceptions, debug log and rethrow. other than that +1, Hmm. debug log would be pretty useless :) It's an actual error so I error log. It actually means LRFU state is corrupted so I was wondering if I should even terminate the daemon.
And yeah the only thing it does there is bunch of assignments so only NPE is expected. I guess I could add some preconditions too..., Somehow precondition didn't hit my head. It will be better to have preconditions check instead of defensively catching NPE., Updated the patch to pre-check the elements., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12775404/HIVE-12557.01.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 9 failed/errored test(s), 9876 tests executed
*Failed tests:*
{noformat}
TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cbo_udf_max
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_dynamic_partition_pruning
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_vectorized_dynamic_partition_pruning
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_mergejoin
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testFetchingPartitionsWithDifferentSchemas
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hive.jdbc.TestSSL.testSSLVersion
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6206/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6206/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6206/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12775404 - PreCommit-HIVE-TRUNK-Build, +1, Committed to master and branch-2.0.]