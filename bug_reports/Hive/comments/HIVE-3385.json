[Patch attached to bring in the .jar required - this solves the compile-time problem that popped up in HIVE-3341., I believe this brings in both jobclient jar as well as jobclient-tests jar. We also need client-common jar for some tests to pass. See my comment at https://issues.apache.org/jira/browse/HIVE-3143?focusedCommentId=13419630&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13419630, It brings in client-common also as a dependency, but we should add it in explicitly if that's required for another test. , Updated patch with explicit introduction of dependency on client-common, Looks good to me. @Namit would you like to try out the patch to check if it fixes build issues in your environment as well., Also uploaded to phabricator : https://reviews.facebook.net/D4647, Thanks Sushanth, I meant, I verified that the tests run on 23.

+1 from my side.

@Ashutosh, do you want me to commit it, or you can commit this ?, I can. Will commit if tests pass. , Committed to trunk. Thanks, Sushanth!, @Ashutosh, there is still some problem:
When I was trying to run:

ant test -Dhadoop.mr.rev=23 -Dtest.print.classpath=true -Dhadoop.version=2.0.0-alpha -Dhadoop.security.version=2.0.0-alpha -Dtestcase=TestCliDriver -Dqfile=tst.q 

where tst.q had the line:

-- INCLUDE_HADOOP_MAJOR_VERSIONS(0.23)

I expected that test to go through, but that test was skipped.


    [junit] Running org.apache.hadoop.hive.cli.TestCliDriver
    [junit] Begin query: tst.q
    [junit] QTestUtil: tst.q INCLUDE list does not contain Hadoop Version 0.20S. Skipping...
    [junit] Cleaning up TestCliDriver
    [junit] Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 11.442 sec

Can you take a look ?, @Sushanth, I haven't debugged this. The test classpath for 1l seems to be correct.
It is containing the jars from build/ivy/lib/hadoop0.23.shim.

, Integrated in Hive-trunk-h0.21 #1609 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1609/])
    HIVE-3385 : fixing 0.23 test build (Sushanth Sowmyan via Ashutosh Chauhan) (Revision 1373680)

     Result = FAILURE
hashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1373680
Files : 
* /hive/trunk/shims/ivy.xml
, As commented on the HIVE-3389, that issue seems to be fixed by HIVE-3029, Integrated in Hive-trunk-hadoop2 #54 (See [https://builds.apache.org/job/Hive-trunk-hadoop2/54/])
    HIVE-3385 : fixing 0.23 test build (Sushanth Sowmyan via Ashutosh Chauhan) (Revision 1373680)

     Result = ABORTED
hashutosh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1373680
Files : 
* /hive/trunk/shims/ivy.xml
, This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.]