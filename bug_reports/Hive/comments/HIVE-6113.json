[The exact same issue reproduces here. Hive 0.12 on MapR 3.1.0 with MySQL metastore. The exception appears when there are several processes working with Hive concurrently.

From our analysis the problem seems related to the one described here: http://mail-archives.apache.org/mod_mbox/hive-user/201107.mbox/%3C4F6B25AFFFCAFE44B6259A412D5F9B1033183876@ExchMBX104.netflix.com%3E

h5. Analysis:
At certain times, Hive's DataNucleus decides to create and then drop tables called "DELETEME"+timestamp in the metastore schema on MySQL (see [ProbleTable|http://sourceforge.net/p/datanucleus/code/HEAD/tree/platform/store.rdbms/tags/datanucleus-rdbms-3.2.2/src/java/org/datanucleus/store/rdbms/table/ProbeTable.java]).

During other flows, DataNucleus queries MySQL for the list of all the columns of all the tables (see [RDBMSSchemaHandler.refreshTableData|http://sourceforge.net/p/datanucleus/code/HEAD/tree/platform/store.rdbms/tags/datanucleus-rdbms-3.2.2/src/java/org/datanucleus/store/rdbms/schema/RDBMSSchemaHandler.java#l872]). MySQL's JDBC driver implements the DatabaseMetaData.getColumns method by querying the DB for a list of all the tables, and then iterating over that list and querying for each table's columns (see [com.mysql.jdbc.DatabaseMetaData|http://bazaar.launchpad.net/~mysql/connectorj/5.1/view/head:/src/com/mysql/jdbc/DatabaseMetaData.java#L2581]). If a table is deleted from the DB during this operation, DatabaseMetaData.getColumns will throw an exception.

This exception is interpreted by Hive to mean that the "default" Hive database doesn't exist. Hive tries to create it, inserting a row into the metastore.DBS table in MySQL, which triggers the "Duplicate entry 'default' for key 'UNIQUE_DATABASE'" exception.

I'm not completely clear about the conditions for a) DataNucleus creating and dropping a "DELETEME" table, and b) DataNucleus calling DatabaseMetaData.getColumns, so unfortunately I can't yet provide a clear test case. But in our lab environment under load we were able to reproduce the exception once every few minutes.

h5. Workaround:
As suggested by the link above, setting the *datanucleus.fixedDatastore* property to *true* (e.g. in hive-site.xml or elsewhere) seems to solve the problem. However, it means that the metastore schema is no longer automatically created on-demand, and requires using Hive's schematool command to manually create the metastore schema., ROOT-CAUSE:

Bug http://www.datanucleus.org/servlet/jira/browse/NUCRDBMS-755 in DataNucleus Store RDBMS of version 3.2.9

SOLUTION:

Use DataNucleus Store RDBMS of higher version where fix of NUCRDBMS-755 is provided. Version change summary:

datanucleus-api-jdo 3.2.6  ---> 4.2.1
datanucleus-core    3.2.10 ---> 4.1.6
datanucleus-rdbms 3.2.9  ---> 4.1.7, For review https://reviews.apache.org/r/40344/, @[~osayankin] : I know [~sershe] will be pleased with this proposal, he's been suggesting the same for other reasons. :)  That said, whenever we do a major version bump of DN, we should do a verification to ensure that we continue to work correctly. Have you verified the elements in http://www.datanucleus.org/products/accessplatform_4_2/migration.html to see if we won't be affected adversely?

@[~eliac] : Very interesting analysis. Could you point me to where you see the following:

> If a table is deleted from the DB during this operation, DatabaseMetaData.getColumns will throw an exception.
>This exception is interpreted by Hive to mean that the "default" Hive database doesn't exist. 

Because I do recollect similar sounding issues where DN would report a null return when we tried to do a getDatabase, which reads equivalently to a case of a NoSuchObjectException from us, rather than throwing a JDOException when there was an underlying db issue. If this is the same issue and we have a trace of where that happens, this solves a lot more for us, hopefully., A couple of other gardening notes:

+cc [~ashutoshc]/[~sershe] as they would also be interested in this issue.

Also, I removed the fix-version of 1.2.1 from this bug, fix version is marked by a committer to denote what versions a patch has already been patched into. Target version is the field used to request what version the requestor wants the patch to go into, and for that, it must be unreleased versions. Thus, since 1.2.1 has already been released, I've updated Target version to 1.2.2.
, DN version should be upgraded in 2.0 and 1.3 too if upgrading in 1.2.2. Also the release note is needed. 
Otherwise this makes sense to me., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12772479/HIVE-6113.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 898 failed/errored test(s), 5641 tests executed
*Failed tests:*
{noformat}
TestFilterHooks - did not produce a TEST-*.xml file
TestHS2ImpersonationWithRemoteMS - did not produce a TEST-*.xml file
TestHWISessionManager - did not produce a TEST-*.xml file
TestMetastoreAuthorizationProvider - did not produce a TEST-*.xml file
TestPartitionNameWhitelistValidation - did not produce a TEST-*.xml file
TestRemoteHiveMetaStore - did not produce a TEST-*.xml file
TestSetUGIOnBothClientServer - did not produce a TEST-*.xml file
TestSetUGIOnOnlyClient - did not produce a TEST-*.xml file
TestSetUGIOnOnlyServer - did not produce a TEST-*.xml file
TestStorageBasedMetastoreAuthorizationDrops - did not produce a TEST-*.xml file
TestStorageBasedMetastoreAuthorizationReads - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.initializationError
org.apache.hadoop.hive.cli.TestCliDriverMethods.testProcessSelectDatabase
org.apache.hadoop.hive.cli.TestCliDriverMethods.testQuit
org.apache.hadoop.hive.cli.TestCliDriverMethods.testRun
org.apache.hadoop.hive.cli.TestCliDriverMethods.testprocessInitFiles
org.apache.hadoop.hive.cli.TestCliSessionState.testgetDbName
org.apache.hadoop.hive.cli.TestCompareCliDriver.initializationError
org.apache.hadoop.hive.cli.TestContribCliDriver.initializationError
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.initializationError
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.initializationError
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_external_table_ppd
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_external_table_queries
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_map_queries
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_map_queries_prefix
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_storage_queries
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_custom_key
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_custom_key2
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_custom_key3
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_handler_bulk
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_handler_snapshot
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_joins
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_null_first_col
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_ppd_join
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_ppd_key_range
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_pushdown
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_queries
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_scan_params
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_single_sourced_multi_insert
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats3
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_timestamp
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_timestamp_format
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_ppd_key_ranges
org.apache.hadoop.hive.cli.TestHBaseMinimrCliDriver.testCliDriver_hbase_bulk
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver_cascade_dbdrop
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver_cascade_dbdrop_hadoop20
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver_generatehfiles_require_family_path
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.initializationError
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.initializationError
org.apache.hadoop.hive.cli.TestMinimrCliDriver.initializationError
org.apache.hadoop.hive.cli.TestNegativeCliDriver.initializationError
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.initializationError
org.apache.hadoop.hive.cli.TestSparkCliDriver.initializationError
org.apache.hadoop.hive.cli.TestSparkNegativeCliDriver.initializationError
org.apache.hadoop.hive.hooks.TestHs2Hooks.org.apache.hadoop.hive.hooks.TestHs2Hooks
org.apache.hadoop.hive.metastore.TestAdminUser.testCreateAdminNAddUser
org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInEmbed.org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInEmbed
org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote.testCreateRole
org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote.testDropRole
org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote.testGetPrivSet
org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote.testGrantPriv
org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote.testGrantRole
org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote.testListPriv
org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote.testListRoles
org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote.testRevokePriv
org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote.testRevokeRole
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testAlterPartition
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testAlterTable
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testAlterViewParititon
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testColumnStatistics
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testComplexTable
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testComplexTypeApi
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testConcurrentMetastores
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testDBOwner
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testDBOwnerChange
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testDatabase
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testDatabaseLocation
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testDatabaseLocationWithPermissionProblems
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testDropTable
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testFilterLastPartition
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testFilterSinglePartition
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testFunctionWithResources
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testGetConfigValue
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testGetTableObjects
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testListPartitionNames
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testListPartitions
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testNameMethods
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testPartition
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testPartitionFilter
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testRenamePartition
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testRetriableClientWithConnLifetime
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testSimpleFunction
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testSimpleTable
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testSimpleTypeApi
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testStatsFastTrivial
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testSynchronized
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testTableDatabase
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testTableFilter
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testValidateTableCols
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testAddPartitions
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testFetchingPartitionsWithDifferentSchemas
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hadoop.hive.metastore.TestHiveMetaStoreTimeout.org.apache.hadoop.hive.metastore.TestHiveMetaStoreTimeout
org.apache.hadoop.hive.metastore.TestHiveMetaStoreTxns.stringifyValidTxns
org.apache.hadoop.hive.metastore.TestHiveMetaStoreTxns.testLocks
org.apache.hadoop.hive.metastore.TestHiveMetaStoreTxns.testLocksWithTxn
org.apache.hadoop.hive.metastore.TestHiveMetaStoreTxns.testOpenTxnNotExcluded
org.apache.hadoop.hive.metastore.TestHiveMetaStoreTxns.testTxnRange
org.apache.hadoop.hive.metastore.TestHiveMetaStoreTxns.testTxns
org.apache.hadoop.hive.metastore.TestHiveMetaStoreWithEnvironmentContext.testEnvironmentContext
org.apache.hadoop.hive.metastore.TestHiveMetaTool.testExecuteJDOQL
org.apache.hadoop.hive.metastore.TestHiveMetaTool.testListFSRoot
org.apache.hadoop.hive.metastore.TestHiveMetaTool.testUpdateFSRootLocation
org.apache.hadoop.hive.metastore.TestMarkPartition.testMarkingPartitionSet
org.apache.hadoop.hive.metastore.TestMarkPartitionRemote.testMarkingPartitionSet
org.apache.hadoop.hive.metastore.TestMetaStoreAuthorization.testMetaStoreAuthorization
org.apache.hadoop.hive.metastore.TestMetaStoreEndFunctionListener.testEndFunctionListener
org.apache.hadoop.hive.metastore.TestMetaStoreEventListener.testListener
org.apache.hadoop.hive.metastore.TestMetaStoreEventListenerOnlyOnCommit.testEventStatus
org.apache.hadoop.hive.metastore.TestMetaStoreListenersError.testEventListenerException
org.apache.hadoop.hive.metastore.TestMetaStoreMetrics.testConnections
org.apache.hadoop.hive.metastore.TestMetaStoreMetrics.testMetricsFile
org.apache.hadoop.hive.metastore.TestMetastoreExpr.testPartitionExpr
org.apache.hadoop.hive.metastore.TestMetastoreVersion.testMetastoreVersion
org.apache.hadoop.hive.metastore.TestMetastoreVersion.testVersionMatching
org.apache.hadoop.hive.metastore.TestMetastoreVersion.testVersionMisMatch
org.apache.hadoop.hive.metastore.TestMetastoreVersion.testVersionRestriction
org.apache.hadoop.hive.metastore.TestObjectStore.testDatabaseOps
org.apache.hadoop.hive.metastore.TestObjectStore.testMasterKeyOps
org.apache.hadoop.hive.metastore.TestObjectStore.testPartitionOps
org.apache.hadoop.hive.metastore.TestObjectStore.testRoleOps
org.apache.hadoop.hive.metastore.TestObjectStore.testTableOps
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStoreIpAddress.testIpAddress
org.apache.hadoop.hive.metastore.TestRemoteUGIHiveMetaStoreIpAddress.testIpAddress
org.apache.hadoop.hive.metastore.TestRetryingHMSHandler.testRetryingHMSHandler
org.apache.hadoop.hive.metastore.hbase.TestHBaseImport.org.apache.hadoop.hive.metastore.hbase.TestHBaseImport
org.apache.hadoop.hive.metastore.txn.TestCompactionTxnHandler.testRevokeTimedOutWorkers
org.apache.hadoop.hive.ql.TestCreateUdfEntities.testUdfWithDfsResource
org.apache.hadoop.hive.ql.TestCreateUdfEntities.testUdfWithLocalResource
org.apache.hadoop.hive.ql.TestDDLWithRemoteMetastoreSecondNamenode.testCreateDatabaseWithTableNonDefaultNameNode
org.apache.hadoop.hive.ql.TestDDLWithRemoteMetastoreSecondNamenode.testCreateTableWithIndexAndPartitionsNonDefaultNameNode
org.apache.hadoop.hive.ql.TestLocationQueries.testAlterTablePartitionLocation_alter5
org.apache.hadoop.hive.ql.TestMTQueries.testMTQueries1
org.apache.hadoop.hive.ql.TestTxnCommands.exchangePartition
org.apache.hadoop.hive.ql.TestTxnCommands.testDelete
org.apache.hadoop.hive.ql.TestTxnCommands.testDeleteIn
org.apache.hadoop.hive.ql.TestTxnCommands.testErrors
org.apache.hadoop.hive.ql.TestTxnCommands.testExplicitRollback
org.apache.hadoop.hive.ql.TestTxnCommands.testImplicitRollback
org.apache.hadoop.hive.ql.TestTxnCommands.testInsertOverwrite
org.apache.hadoop.hive.ql.TestTxnCommands.testMultipleDelete
org.apache.hadoop.hive.ql.TestTxnCommands.testMultipleInserts
org.apache.hadoop.hive.ql.TestTxnCommands.testReadMyOwnInsert
org.apache.hadoop.hive.ql.TestTxnCommands.testSimpleAcidInsert
org.apache.hadoop.hive.ql.TestTxnCommands.testTimeOutReaper
org.apache.hadoop.hive.ql.TestTxnCommands.testUpdateDeleteOfInserts
org.apache.hadoop.hive.ql.TestTxnCommands.testUpdateOfInserts
org.apache.hadoop.hive.ql.TestTxnCommands2.testBucketizedInputFormat
org.apache.hadoop.hive.ql.TestTxnCommands2.testDeleteIn
org.apache.hadoop.hive.ql.TestTxnCommands2.testInsertOverwriteWithSelfJoin
org.apache.hadoop.hive.ql.TestTxnCommands2.testOrcNoPPD
org.apache.hadoop.hive.ql.TestTxnCommands2.testOrcPPD
org.apache.hadoop.hive.ql.TestTxnCommands2.testUpdateMixedCase
org.apache.hadoop.hive.ql.exec.TestExecDriver.initializationError
org.apache.hadoop.hive.ql.exec.TestFunctionRegistry.testCommonClass
org.apache.hadoop.hive.ql.exec.TestFunctionRegistry.testCommonClassComparison
org.apache.hadoop.hive.ql.exec.TestFunctionRegistry.testCommonClassUnionAll
org.apache.hadoop.hive.ql.exec.TestFunctionRegistry.testGetMethodInternal
org.apache.hadoop.hive.ql.exec.TestFunctionRegistry.testGetTypeInfoForPrimitiveCategory
org.apache.hadoop.hive.ql.exec.TestFunctionRegistry.testImplicitConversion
org.apache.hadoop.hive.ql.exec.TestFunctionRegistry.testImpliesOrder
org.apache.hadoop.hive.ql.exec.TestFunctionRegistry.testIsRankingFunction
org.apache.hadoop.hive.ql.exec.TestFunctionRegistry.testPrintTypeCompatibility
org.apache.hadoop.hive.ql.exec.TestFunctionRegistry.testTypeAffinity
org.apache.hadoop.hive.ql.exec.TestOperators.testFetchOperatorContext
org.apache.hadoop.hive.ql.exec.TestOperators.testScriptOperator
org.apache.hadoop.hive.ql.exec.TestUtilities.testgetDbTableName
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testBuildDag
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testClose
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testEmptyWork
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testExistingSessionGetsStorageHandlerResources
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testExtraResourcesAddedToDag
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testGetExtraLocalResources
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testSubmit
org.apache.hadoop.hive.ql.history.TestHiveHistory.testHiveHistoryConfigDisabled
org.apache.hadoop.hive.ql.history.TestHiveHistory.testHiveHistoryConfigEnabled
org.apache.hadoop.hive.ql.history.TestHiveHistory.testQueryloglocParentDirNotExist
org.apache.hadoop.hive.ql.history.TestHiveHistory.testSimpleQuery
org.apache.hadoop.hive.ql.hooks.TestHooks.org.apache.hadoop.hive.ql.hooks.TestHooks
org.apache.hadoop.hive.ql.io.TestSymlinkTextInputFormat.testCombine
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.concurrencyFalse
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testDDLExclusive
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testDDLNoLock
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testDDLShared
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testDelete
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testExceptions
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testJoin
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testReadWrite
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testRollback
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testSingleReadMultiPartition
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testSingleReadPartition
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testSingleReadTable
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testSingleWritePartition
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testSingleWriteTable
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testUpdate
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testWriteDynamicPartition
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager2.basicBlocking
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager2.createTable
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager2.insertOverwriteCreate
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager2.insertOverwritePartitionedCreate
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager2.lockConflictDbTable
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager2.updateSelectUpdate
org.apache.hadoop.hive.ql.lockmgr.TestDummyTxnManager.testDedupLockObjects
org.apache.hadoop.hive.ql.lockmgr.TestDummyTxnManager.testSingleReadTable
org.apache.hadoop.hive.ql.metadata.TestHive.testAutoPurgeTablesAndPartitions
org.apache.hadoop.hive.ql.metadata.TestHive.testDropPartitionsWithPurge
org.apache.hadoop.hive.ql.metadata.TestHive.testDropTableTrash
org.apache.hadoop.hive.ql.metadata.TestHive.testGetAndDropTables
org.apache.hadoop.hive.ql.metadata.TestHive.testHiveCloseCurrent
org.apache.hadoop.hive.ql.metadata.TestHive.testHiveRefreshOnConfChange
org.apache.hadoop.hive.ql.metadata.TestHive.testIndex
org.apache.hadoop.hive.ql.metadata.TestHive.testMetaStoreApiTiming
org.apache.hadoop.hive.ql.metadata.TestHive.testPartition
org.apache.hadoop.hive.ql.metadata.TestHive.testTable
org.apache.hadoop.hive.ql.metadata.TestHive.testThriftTable
org.apache.hadoop.hive.ql.metadata.TestHiveMetaStoreChecker.testDataDeletion
org.apache.hadoop.hive.ql.metadata.TestHiveMetaStoreChecker.testPartitionsCheck
org.apache.hadoop.hive.ql.metadata.TestHiveMetaStoreChecker.testTableCheck
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testAutoPurgeTablesAndPartitions
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testDropPartitionsWithPurge
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testDropTableTrash
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testGetAndDropTables
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testHiveCloseCurrent
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testHiveRefreshOnConfChange
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testIndex
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testMetaStoreApiTiming
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testPartition
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testTable
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testThriftTable
org.apache.hadoop.hive.ql.metadata.TestSemanticAnalyzerHookLoading.testHookLoading
org.apache.hadoop.hive.ql.parse.TestColumnAccess.org.apache.hadoop.hive.ql.parse.TestColumnAccess
org.apache.hadoop.hive.ql.parse.TestHiveDecimalParse.testDecimalType
org.apache.hadoop.hive.ql.parse.TestHiveDecimalParse.testDecimalType1
org.apache.hadoop.hive.ql.parse.TestHiveDecimalParse.testDecimalType2
org.apache.hadoop.hive.ql.parse.TestHiveDecimalParse.testDecimalType3
org.apache.hadoop.hive.ql.parse.TestHiveDecimalParse.testDecimalType4
org.apache.hadoop.hive.ql.parse.TestHiveDecimalParse.testDecimalType5
org.apache.hadoop.hive.ql.parse.TestHiveDecimalParse.testDecimalType6
org.apache.hadoop.hive.ql.parse.TestHiveDecimalParse.testDecimalType7
org.apache.hadoop.hive.ql.parse.TestHiveDecimalParse.testDecimalType8
org.apache.hadoop.hive.ql.parse.TestHiveDecimalParse.testDecimalType9
org.apache.hadoop.hive.ql.parse.TestIUD.org.apache.hadoop.hive.ql.parse.TestIUD
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testCannotUseReservedWordAsName
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testDropMacro
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testDropMacroDoesNotExist
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testDropMacroExistsDoNotIgnoreErrors
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testDropMacroNonExistent
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testDropMacroNonExistentWithIfExists
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testDropMacroNonExistentWithIfExistsDoNotIgnoreNonExistent
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testNoBody
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testOneInputParamters
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testOneUnusedParameterName
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testThreeDuplicateParameters
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testThreeInputParamters
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testTwoDuplicateParameterNames
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testTwoInputParamters
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testTwoUnusedParameterNames
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testUnknownInputParameter
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testZeroInputParamters
org.apache.hadoop.hive.ql.parse.TestParseNegative.initializationError
org.apache.hadoop.hive.ql.parse.TestQBCompact.org.apache.hadoop.hive.ql.parse.TestQBCompact
org.apache.hadoop.hive.ql.parse.TestQBJoinTreeApplyPredicate.org.apache.hadoop.hive.ql.parse.TestQBJoinTreeApplyPredicate
org.apache.hadoop.hive.ql.parse.TestQBSubQuery.org.apache.hadoop.hive.ql.parse.TestQBSubQuery
org.apache.hadoop.hive.ql.parse.TestSQL11ReservedKeyWordsNegative.org.apache.hadoop.hive.ql.parse.TestSQL11ReservedKeyWordsNegative
org.apache.hadoop.hive.ql.parse.TestSQL11ReservedKeyWordsPositive.org.apache.hadoop.hive.ql.parse.TestSQL11ReservedKeyWordsPositive
org.apache.hadoop.hive.ql.parse.TestUnpermittedCharsInColumnNameCreateTableNegative.org.apache.hadoop.hive.ql.parse.TestUnpermittedCharsInColumnNameCreateTableNegative
org.apache.hadoop.hive.ql.parse.TestUpdateDeleteSemanticAnalyzer.testDeleteAllNonPartitioned
org.apache.hadoop.hive.ql.parse.TestUpdateDeleteSemanticAnalyzer.testDeleteAllPartitioned
org.apache.hadoop.hive.ql.parse.TestUpdateDeleteSemanticAnalyzer.testDeleteAllWherePartitioned
org.apache.hadoop.hive.ql.parse.TestUpdateDeleteSemanticAnalyzer.testDeleteOnePartition
org.apache.hadoop.hive.ql.parse.TestUpdateDeleteSemanticAnalyzer.testDeleteOnePartitionWhere
org.apache.hadoop.hive.ql.parse.TestUpdateDeleteSemanticAnalyzer.testDeleteWhereNoPartition
org.apache.hadoop.hive.ql.parse.TestUpdateDeleteSemanticAnalyzer.testInsertSelect
org.apache.hadoop.hive.ql.parse.TestUpdateDeleteSemanticAnalyzer.testInsertValues
org.apache.hadoop.hive.ql.parse.TestUpdateDeleteSemanticAnalyzer.testInsertValuesPartitioned
org.apache.hadoop.hive.ql.parse.TestUpdateDeleteSemanticAnalyzer.testUpdateAllNonPartitioned
org.apache.hadoop.hive.ql.parse.TestUpdateDeleteSemanticAnalyzer.testUpdateAllNonPartitionedWhere
org.apache.hadoop.hive.ql.parse.TestUpdateDeleteSemanticAnalyzer.testUpdateAllPartitioned
org.apache.hadoop.hive.ql.parse.TestUpdateDeleteSemanticAnalyzer.testUpdateAllPartitionedWhere
org.apache.hadoop.hive.ql.parse.TestUpdateDeleteSemanticAnalyzer.testUpdateOnePartition
org.apache.hadoop.hive.ql.parse.TestUpdateDeleteSemanticAnalyzer.testUpdateOnePartitionWhere
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testCreateRole
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testDropRole
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantGroupTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleGroup
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleRole
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleUser
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantServer
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantUri
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantUserTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeGroupTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleGroup
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleRole
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleUser
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeUserTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowGrantGroupOnTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowGrantRoleOnTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowGrantUserOnTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowRoleGrantGroup
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowRoleGrantRole
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowRoleGrantUser
org.apache.hadoop.hive.ql.parse.authorization.TestPrivilegesV1.testPrivInGrant
org.apache.hadoop.hive.ql.parse.authorization.TestPrivilegesV1.testPrivInGrantNotAccepted
org.apache.hadoop.hive.ql.parse.authorization.TestPrivilegesV2.testPrivInGrant
org.apache.hadoop.hive.ql.parse.positive.TestTransactionStatement.org.apache.hadoop.hive.ql.parse.positive.TestTransactionStatement
org.apache.hadoop.hive.ql.plan.TestReadEntityDirect.org.apache.hadoop.hive.ql.plan.TestReadEntityDirect
org.apache.hadoop.hive.ql.plan.TestViewEntity.org.apache.hadoop.hive.ql.plan.TestViewEntity
org.apache.hadoop.hive.ql.processors.TestCommandProcessorFactory.testAvailableCommands
org.apache.hadoop.hive.ql.processors.TestSetProcessor.testHiddenConfig
org.apache.hadoop.hive.ql.security.TestAuthorizationPreEventListener.testListener
org.apache.hadoop.hive.ql.security.TestClientSideAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestExtendedAcls.org.apache.hadoop.hive.ql.security.TestExtendedAcls
org.apache.hadoop.hive.ql.security.TestFolderPermissions.org.apache.hadoop.hive.ql.security.TestFolderPermissions
org.apache.hadoop.hive.ql.security.TestMultiAuthorizationPreEventListener.testMultipleAuthorizationListners
org.apache.hadoop.hive.ql.security.TestStorageBasedClientSideAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProviderWithACL.testSimplePrivileges
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerCheckInvocation.org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerCheckInvocation
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerShowFilters.org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerShowFilters
org.apache.hadoop.hive.ql.session.TestAddResource.testDeleteJar
org.apache.hadoop.hive.ql.session.TestAddResource.testDeleteJarMultiple
org.apache.hadoop.hive.ql.session.TestAddResource.testDuplicateAdds
org.apache.hadoop.hive.ql.session.TestAddResource.testSanity
org.apache.hadoop.hive.ql.session.TestAddResource.testUnion
org.apache.hadoop.hive.ql.session.TestSessionState.testClassLoaderEquality[0]
org.apache.hadoop.hive.ql.session.TestSessionState.testClassLoaderEquality[1]
org.apache.hadoop.hive.ql.session.TestSessionState.testClose[0]
org.apache.hadoop.hive.ql.session.TestSessionState.testClose[1]
org.apache.hadoop.hive.ql.session.TestSessionState.testReloadAuxJars2[0]
org.apache.hadoop.hive.ql.session.TestSessionState.testReloadAuxJars2[1]
org.apache.hadoop.hive.ql.session.TestSessionState.testReloadExistingAuxJars2[0]
org.apache.hadoop.hive.ql.session.TestSessionState.testReloadExistingAuxJars2[1]
org.apache.hadoop.hive.ql.session.TestSessionState.testgetDbName[0]
org.apache.hadoop.hive.ql.session.TestSessionState.testgetDbName[1]
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner.blockedByLockPartition
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner.blockedByLockTable
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner.cleanupAfterMajorPartitionCompaction
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner.cleanupAfterMajorPartitionCompactionNoBase
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner.cleanupAfterMajorTableCompaction
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner.cleanupAfterMinorPartitionCompaction
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner.cleanupAfterMinorTableCompaction
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner.droppedPartition
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner.droppedTable
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner.notBlockedBySubsequentLock
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner.nothing
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner.partitionNotBlockedBySubsequentLock
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner2.blockedByLockPartition
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner2.blockedByLockTable
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner2.cleanupAfterMajorPartitionCompaction
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner2.cleanupAfterMajorPartitionCompactionNoBase
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner2.cleanupAfterMajorTableCompaction
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner2.cleanupAfterMinorPartitionCompaction
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner2.cleanupAfterMinorTableCompaction
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner2.droppedPartition
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner2.droppedTable
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner2.notBlockedBySubsequentLock
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner2.nothing
org.apache.hadoop.hive.ql.txn.compactor.TestCleaner2.partitionNotBlockedBySubsequentLock
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.dynamicPartitioningDelete
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.dynamicPartitioningInsert
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.dynamicPartitioningUpdate
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.majorCompactAfterAbort
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.majorCompactWhileStreaming
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.minorCompactAfterAbort
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.minorCompactWhileStreaming
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.testStatsAfterCompactionPartTbl
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.chooseMajorOverMinorWhenBothValid
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.cleanEmptyAbortedTxns
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.compactPartitionHighDeltaPct
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.compactPartitionTooManyDeltas
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.compactTableHighDeltaPct
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.compactTableTooManyDeltas
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.dropPartition
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.dropTable
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.enoughDeltasNoBase
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.majorCompactOnPartitionTooManyAborts
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.majorCompactOnTableTooManyAborts
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.noCompactOnManyDifferentPartitionAborts
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.noCompactTableDeltaPctNotHighEnough
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.noCompactTableDynamicPartitioning
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.noCompactTableNotEnoughDeltas
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.noCompactWhenCompactAlreadyScheduled
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.noCompactWhenNoCompactSet
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.noCompactWhenNoCompactSetLowerCase
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.nothing
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.recoverFailedLocalWorkers
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.recoverFailedRemoteWorkers
org.apache.hadoop.hive.ql.txn.compactor.TestInitiator.twoTxnsOnSamePartitionGenerateOneCompactionRequest
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.droppedPartition
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.droppedTable
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.inputSplit
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.inputSplitNullBase
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.majorNoBaseLotsOfDeltas
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.majorPartitionWithBase
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.majorPartitionWithBaseMissingBuckets
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.majorTableLegacy
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.majorTableNoBase
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.majorTableWithBase
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.majorWithAborted
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.majorWithOpenInMiddle
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.minorNoBaseLotsOfDeltas
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.minorPartitionWithBase
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.minorTableLegacy
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.minorTableNoBase
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.minorTableWithBase
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.minorWithAborted
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.minorWithOpenInMiddle
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.nothing
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.sortedPartition
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.sortedTable
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.stringableList
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.stringableMap
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.droppedPartition
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.droppedTable
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.inputSplit
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.inputSplitNullBase
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.majorNoBaseLotsOfDeltas
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.majorPartitionWithBase
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.majorPartitionWithBaseMissingBuckets
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.majorTableLegacy
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.majorTableNoBase
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.majorTableWithBase
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.majorWithAborted
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.majorWithOpenInMiddle
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.minorNoBaseLotsOfDeltas
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.minorPartitionWithBase
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.minorTableLegacy
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.minorTableNoBase
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.minorTableWithBase
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.minorWithAborted
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.minorWithOpenInMiddle
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.nothing
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.sortedPartition
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.sortedTable
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.stringableList
org.apache.hadoop.hive.ql.txn.compactor.TestWorker2.stringableMap
org.apache.hadoop.hive.thrift.TestDBTokenStore.testDBTokenStore
org.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testMetastoreProxyUser
org.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testSaslWithHiveMetaStore
org.apache.hive.beeline.TestBeeLineWithArgs.org.apache.hive.beeline.TestBeeLineWithArgs
org.apache.hive.beeline.cli.TestHiveCli.testCmd
org.apache.hive.beeline.cli.TestHiveCli.testDatabaseOptions
org.apache.hive.beeline.cli.TestHiveCli.testErrOutput
org.apache.hive.beeline.cli.TestHiveCli.testHelp
org.apache.hive.beeline.cli.TestHiveCli.testInValidCmd
org.apache.hive.beeline.cli.TestHiveCli.testInvalidDatabaseOptions
org.apache.hive.beeline.cli.TestHiveCli.testInvalidOptions
org.apache.hive.beeline.cli.TestHiveCli.testInvalidOptions2
org.apache.hive.beeline.cli.TestHiveCli.testNoErrorDB
org.apache.hive.beeline.cli.TestHiveCli.testSetHeaderValue
org.apache.hive.beeline.cli.TestHiveCli.testSetPromptValue
org.apache.hive.beeline.cli.TestHiveCli.testSourceCmd
org.apache.hive.beeline.cli.TestHiveCli.testSourceCmd2
org.apache.hive.beeline.cli.TestHiveCli.testSourceCmd3
org.apache.hive.beeline.cli.TestHiveCli.testSqlFromCmd
org.apache.hive.beeline.cli.TestHiveCli.testSqlFromCmdWithDBName
org.apache.hive.beeline.cli.TestHiveCli.testUseCurrentDB1
org.apache.hive.beeline.cli.TestHiveCli.testUseCurrentDB2
org.apache.hive.beeline.cli.TestHiveCli.testUseCurrentDB3
org.apache.hive.beeline.cli.TestHiveCli.testUseInvalidDB
org.apache.hive.beeline.cli.TestHiveCli.testVariables
org.apache.hive.beeline.cli.TestHiveCli.testVariablesForSource
org.apache.hive.hcatalog.api.TestHCatClient.testBasicDDLCommands
org.apache.hive.hcatalog.api.TestHCatClient.testCreateTableLike
org.apache.hive.hcatalog.api.TestHCatClient.testDatabaseLocation
org.apache.hive.hcatalog.api.TestHCatClient.testDropPartitionsWithPartialSpec
org.apache.hive.hcatalog.api.TestHCatClient.testDropTableException
org.apache.hive.hcatalog.api.TestHCatClient.testEmptyTableInstantiation
org.apache.hive.hcatalog.api.TestHCatClient.testGetMessageBusTopicName
org.apache.hive.hcatalog.api.TestHCatClient.testGetPartitionsWithPartialSpec
org.apache.hive.hcatalog.api.TestHCatClient.testObjectNotFoundException
org.apache.hive.hcatalog.api.TestHCatClient.testOtherFailure
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionRegistrationWithCustomSchema
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionSchema
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionSpecRegistrationWithCustomSchema
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionsHCatClientImpl
org.apache.hive.hcatalog.api.TestHCatClient.testRenameTable
org.apache.hive.hcatalog.api.TestHCatClient.testReplicationTaskIter
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
org.apache.hive.hcatalog.api.TestHCatClient.testTransportFailure
org.apache.hive.hcatalog.api.TestHCatClient.testUpdateTableSchema
org.apache.hive.hcatalog.api.TestHCatClientNotification.org.apache.hive.hcatalog.api.TestHCatClientNotification
org.apache.hive.hcatalog.api.repl.TestReplicationTask.testCreate
org.apache.hive.hcatalog.api.repl.commands.TestCommands.testBasicReplEximCommands
org.apache.hive.hcatalog.api.repl.commands.TestCommands.testDropDatabaseCommand
org.apache.hive.hcatalog.api.repl.commands.TestCommands.testDropPartitionCommand
org.apache.hive.hcatalog.api.repl.commands.TestCommands.testDropTableCommand
org.apache.hive.hcatalog.api.repl.commands.TestCommands.testDropTableCommand2
org.apache.hive.hcatalog.api.repl.commands.TestCommands.testMetadataReplEximCommands
org.apache.hive.hcatalog.api.repl.commands.TestCommands.testNoopReplEximCommands
org.apache.hive.hcatalog.api.repl.exim.TestEximReplicationTasks.org.apache.hive.hcatalog.api.repl.exim.TestEximReplicationTasks
org.apache.hive.hcatalog.cli.SemanticAnalysis.TestHCatAuthUtil.authDisabled
org.apache.hive.hcatalog.cli.SemanticAnalysis.TestHCatAuthUtil.authEnabledV1Auth
org.apache.hive.hcatalog.cli.SemanticAnalysis.TestHCatAuthUtil.authEnabledV2Auth
org.apache.hive.hcatalog.cli.TestPermsGrp.testCustomPerms
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testAddDriverInfo
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testAddPartFail
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testAddPartPass
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testAddReplaceCols
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testAlterTableSetFF
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testAlterTblClusteredBy
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testAlterTblFFpart
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testAlterTblTouch
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testCTAS
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testCTLFail
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testCTLPass
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testChangeColumns
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testCreateTableIfNotExists
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testCreateTblWithLowerCasePartNames
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testDatabaseOperations
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testDescDB
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testInvalidateClusteredBy
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testInvalidateNonStringPartition
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testInvalidateSeqFileStoredAs
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testInvalidateTextFileStoredAs
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testStoredAs
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testUsNonExistentDB
org.apache.hive.hcatalog.cli.TestUseDatabase.testAlterTablePass
org.apache.hive.hcatalog.common.TestHiveClientCache.testCacheExpiry
org.apache.hive.hcatalog.common.TestHiveClientCache.testCacheHit
org.apache.hive.hcatalog.common.TestHiveClientCache.testCacheMiss
org.apache.hive.hcatalog.common.TestHiveClientCache.testCloseAllClients
org.apache.hive.hcatalog.common.TestHiveClientCache.testMultipleThreadAccess
org.apache.hive.hcatalog.data.TestReaderWriter.test
org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
org.apache.hive.hcatalog.listener.TestDbNotificationListener.org.apache.hive.hcatalog.listener.TestDbNotificationListener
org.apache.hive.hcatalog.listener.TestMsgBusConnection.testConnection
org.apache.hive.hcatalog.listener.TestNotificationListener.testAMQListener
org.apache.hive.hcatalog.mapreduce.TestHCatDynamicPartitioned.org.apache.hive.hcatalog.mapreduce.TestHCatDynamicPartitioned
org.apache.hive.hcatalog.mapreduce.TestHCatExternalDynamicPartitioned.org.apache.hive.hcatalog.mapreduce.TestHCatExternalDynamicPartitioned
org.apache.hive.hcatalog.mapreduce.TestHCatExternalNonPartitioned.org.apache.hive.hcatalog.mapreduce.TestHCatExternalNonPartitioned
org.apache.hive.hcatalog.mapreduce.TestHCatExternalPartitioned.org.apache.hive.hcatalog.mapreduce.TestHCatExternalPartitioned
org.apache.hive.hcatalog.mapreduce.TestHCatHiveCompatibility.testPartedRead
org.apache.hive.hcatalog.mapreduce.TestHCatHiveCompatibility.testUnpartedReadWrite
org.apache.hive.hcatalog.mapreduce.TestHCatHiveThriftCompatibility.testDynamicCols
org.apache.hive.hcatalog.mapreduce.TestHCatInputFormat.testBadRecordHandlingFails
org.apache.hive.hcatalog.mapreduce.TestHCatInputFormat.testBadRecordHandlingPasses
org.apache.hive.hcatalog.mapreduce.TestHCatInputFormatMethods.testGetPartitionAndDataColumns
org.apache.hive.hcatalog.mapreduce.TestHCatMultiOutputFormat.org.apache.hive.hcatalog.mapreduce.TestHCatMultiOutputFormat
org.apache.hive.hcatalog.mapreduce.TestHCatMutableDynamicPartitioned.org.apache.hive.hcatalog.mapreduce.TestHCatMutableDynamicPartitioned
org.apache.hive.hcatalog.mapreduce.TestHCatMutableNonPartitioned.org.apache.hive.hcatalog.mapreduce.TestHCatMutableNonPartitioned
org.apache.hive.hcatalog.mapreduce.TestHCatMutablePartitioned.org.apache.hive.hcatalog.mapreduce.TestHCatMutablePartitioned
org.apache.hive.hcatalog.mapreduce.TestHCatNonPartitioned.org.apache.hive.hcatalog.mapreduce.TestHCatNonPartitioned
org.apache.hive.hcatalog.mapreduce.TestHCatOutputFormat.testSetOutput
org.apache.hive.hcatalog.mapreduce.TestHCatPartitionPublish.testPartitionPublish
org.apache.hive.hcatalog.mapreduce.TestHCatPartitioned.org.apache.hive.hcatalog.mapreduce.TestHCatPartitioned
org.apache.hive.hcatalog.mapreduce.TestInputJobInfo.test4ArgCreate
org.apache.hive.hcatalog.mapreduce.TestPassProperties.testSequenceTableWriteReadMR
org.apache.hive.hcatalog.mapreduce.TestSequenceFileReadWrite.testSequenceTableWriteRead
org.apache.hive.hcatalog.mapreduce.TestSequenceFileReadWrite.testSequenceTableWriteReadMR
org.apache.hive.hcatalog.mapreduce.TestSequenceFileReadWrite.testTextTableWriteRead
org.apache.hive.hcatalog.mapreduce.TestSequenceFileReadWrite.testTextTableWriteReadMR
org.apache.hive.hcatalog.pig.TestE2EScenarios.testReadOrcAndRCFromPig
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown2[0]
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown2[1]
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown2[2]
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown2[3]
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown2[4]
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown2[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown[0]
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown[1]
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown[2]
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown[3]
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown[4]
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testConvertBooleanToInt[0]
org.apache.hive.hcatalog.pig.TestHCatLoader.testConvertBooleanToInt[1]
org.apache.hive.hcatalog.pig.TestHCatLoader.testConvertBooleanToInt[2]
org.apache.hive.hcatalog.pig.TestHCatLoader.testConvertBooleanToInt[3]
org.apache.hive.hcatalog.pig.TestHCatLoader.testConvertBooleanToInt[4]
org.apache.hive.hcatalog.pig.TestHCatLoader.testConvertBooleanToInt[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testGetInputBytes[0]
org.apache.hive.hcatalog.pig.TestHCatLoader.testGetInputBytes[1]
org.apache.hive.hcatalog.pig.TestHCatLoader.testGetInputBytes[2]
org.apache.hive.hcatalog.pig.TestHCatLoader.testGetInputBytes[3]
org.apache.hive.hcatalog.pig.TestHCatLoader.testGetInputBytes[4]
org.apache.hive.hcatalog.pig.TestHCatLoader.testGetInputBytes[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testProjectionsBasic[0]
org.apache.hive.hcatalog.pig.TestHCatLoader.testProjectionsBasic[1]
org.apache.hive.hcatalog.pig.TestHCatLoader.testProjectionsBasic[2]
org.apache.hive.hcatalog.pig.TestHCatLoader.testProjectionsBasic[3]
org.apache.hive.hcatalog.pig.TestHCatLoader.testProjectionsBasic[4]
org.apache.hive.hcatalog.pig.TestHCatLoader.testProjectionsBasic[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataBasic[0]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataBasic[1]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataBasic[2]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataBasic[3]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataBasic[4]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataBasic[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes[0]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes[1]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes[2]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes[3]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes[4]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadPartitionedBasic[0]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadPartitionedBasic[1]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadPartitionedBasic[2]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadPartitionedBasic[3]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadPartitionedBasic[4]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadPartitionedBasic[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadBasic[0]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadBasic[1]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadBasic[2]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadBasic[3]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadBasic[4]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadBasic[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadComplex[0]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadComplex[1]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadComplex[2]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadComplex[3]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadComplex[4]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadComplex[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadPrimitiveTypes[0]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadPrimitiveTypes[1]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadPrimitiveTypes[2]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadPrimitiveTypes[3]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadPrimitiveTypes[4]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadPrimitiveTypes[5]
org.apache.hive.hcatalog.pig.TestHCatLoaderComplexSchema.org.apache.hive.hcatalog.pig.TestHCatLoaderComplexSchema
org.apache.hive.hcatalog.pig.TestHCatLoaderEncryption.testReadDataFromEncryptedHiveTableByHCatMR[0]
org.apache.hive.hcatalog.pig.TestHCatLoaderEncryption.testReadDataFromEncryptedHiveTableByHCatMR[1]
org.apache.hive.hcatalog.pig.TestHCatLoaderEncryption.testReadDataFromEncryptedHiveTableByHCatMR[2]
org.apache.hive.hcatalog.pig.TestHCatLoaderEncryption.testReadDataFromEncryptedHiveTableByHCatMR[3]
org.apache.hive.hcatalog.pig.TestHCatLoaderEncryption.testReadDataFromEncryptedHiveTableByHCatMR[4]
org.apache.hive.hcatalog.pig.TestHCatLoaderEncryption.testReadDataFromEncryptedHiveTableByHCatMR[5]
org.apache.hive.hcatalog.pig.TestHCatLoaderEncryption.testReadDataFromEncryptedHiveTableByPig[0]
org.apache.hive.hcatalog.pig.TestHCatLoaderEncryption.testReadDataFromEncryptedHiveTableByPig[1]
org.apache.hive.hcatalog.pig.TestHCatLoaderEncryption.testReadDataFromEncryptedHiveTableByPig[2]
org.apache.hive.hcatalog.pig.TestHCatLoaderEncryption.testReadDataFromEncryptedHiveTableByPig[3]
org.apache.hive.hcatalog.pig.TestHCatLoaderEncryption.testReadDataFromEncryptedHiveTableByPig[4]
org.apache.hive.hcatalog.pig.TestHCatLoaderEncryption.testReadDataFromEncryptedHiveTableByPig[5]
org.apache.hive.hcatalog.pig.TestHCatLoaderStorer.testReadWrite
org.apache.hive.hcatalog.pig.TestHCatLoaderStorer.testSmallTinyInt
org.apache.hive.hcatalog.pig.TestHCatStorer.testBagNStruct[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testBagNStruct[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testBagNStruct[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testBagNStruct[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testBagNStruct[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testBagNStruct[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDateCharTypes[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDateCharTypes[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDateCharTypes[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDateCharTypes[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDateCharTypes[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDateCharTypes[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsInDataNoSpec[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsInDataNoSpec[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsInDataNoSpec[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsInDataNoSpec[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsInDataNoSpec[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsInDataNoSpec[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsInDataPartialSpec[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsInDataPartialSpec[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsInDataPartialSpec[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsInDataPartialSpec[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsInDataPartialSpec[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsInDataPartialSpec[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsNoDataInDataNoSpec[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsNoDataInDataNoSpec[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsNoDataInDataNoSpec[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsNoDataInDataNoSpec[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsNoDataInDataNoSpec[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsNoDataInDataNoSpec[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testEmptyStore[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testEmptyStore[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testEmptyStore[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testEmptyStore[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testEmptyStore[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testEmptyStore[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testMultiPartColsInData[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testMultiPartColsInData[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testMultiPartColsInData[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testMultiPartColsInData[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testMultiPartColsInData[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testMultiPartColsInData[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testNoAlias[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testNoAlias[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testNoAlias[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testNoAlias[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testNoAlias[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testNoAlias[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testPartColsInData[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testPartColsInData[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testPartColsInData[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testPartColsInData[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testPartColsInData[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testPartColsInData[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testPartitionPublish[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testPartitionPublish[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testPartitionPublish[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testPartitionPublish[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testPartitionPublish[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testPartitionPublish[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreFuncAllSimpleTypes[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreFuncAllSimpleTypes[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreFuncAllSimpleTypes[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreFuncAllSimpleTypes[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreFuncAllSimpleTypes[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreFuncAllSimpleTypes[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreFuncSimple[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreFuncSimple[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreFuncSimple[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreFuncSimple[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreFuncSimple[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreFuncSimple[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreInPartiitonedTbl[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreInPartiitonedTbl[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreInPartiitonedTbl[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreInPartiitonedTbl[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreInPartiitonedTbl[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreInPartiitonedTbl[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreMultiTables[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreMultiTables[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreMultiTables[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreMultiTables[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreMultiTables[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreMultiTables[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreWithNoCtorArgs[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreWithNoCtorArgs[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreWithNoCtorArgs[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreWithNoCtorArgs[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreWithNoCtorArgs[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreWithNoCtorArgs[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreWithNoSchema[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreWithNoSchema[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreWithNoSchema[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreWithNoSchema[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreWithNoSchema[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testStoreWithNoSchema[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteChar[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteChar[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteChar[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteChar[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteChar[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteChar[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate2[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate2[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate2[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate2[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate2[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate2[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate3[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate3[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate3[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate3[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate3[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate3[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDate[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimalXY[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimalXY[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimalXY[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimalXY[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimalXY[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimalXY[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimalX[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimalX[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimalX[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimalX[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimalX[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimalX[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimal[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimal[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimal[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimal[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimal[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteDecimal[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteSmallint[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteSmallint[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteSmallint[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteSmallint[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteSmallint[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteSmallint[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteTimestamp[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteTimestamp[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteTimestamp[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteTimestamp[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteTimestamp[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteTimestamp[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteTinyint[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteTinyint[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteTinyint[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteTinyint[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteTinyint[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteTinyint[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteVarchar[0]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteVarchar[1]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteVarchar[2]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteVarchar[3]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteVarchar[4]
org.apache.hive.hcatalog.pig.TestHCatStorer.testWriteVarchar[5]
org.apache.hive.hcatalog.pig.TestHCatStorerMulti.testStoreBasicTable[0]
org.apache.hive.hcatalog.pig.TestHCatStorerMulti.testStoreBasicTable[1]
org.apache.hive.hcatalog.pig.TestHCatStorerMulti.testStoreBasicTable[2]
org.apache.hive.hcatalog.pig.TestHCatStorerMulti.testStoreBasicTable[3]
org.apache.hive.hcatalog.pig.TestHCatStorerMulti.testStoreBasicTable[5]
org.apache.hive.hcatalog.pig.TestHCatStorerMulti.testStorePartitionedTable[0]
org.apache.hive.hcatalog.pig.TestHCatStorerMulti.testStorePartitionedTable[1]
org.apache.hive.hcatalog.pig.TestHCatStorerMulti.testStorePartitionedTable[2]
org.apache.hive.hcatalog.pig.TestHCatStorerMulti.testStorePartitionedTable[3]
org.apache.hive.hcatalog.pig.TestHCatStorerMulti.testStorePartitionedTable[5]
org.apache.hive.hcatalog.pig.TestHCatStorerMulti.testStoreTableMulti[0]
org.apache.hive.hcatalog.pig.TestHCatStorerMulti.testStoreTableMulti[1]
org.apache.hive.hcatalog.pig.TestHCatStorerMulti.testStoreTableMulti[2]
org.apache.hive.hcatalog.pig.TestHCatStorerMulti.testStoreTableMulti[3]
org.apache.hive.hcatalog.pig.TestHCatStorerMulti.testStoreTableMulti[5]
org.apache.hive.hcatalog.pig.TestHCatStorerWrapper.testStoreExternalTableWithExternalDir
org.apache.hive.hcatalog.streaming.TestStreaming.testAddPartition
org.apache.hive.hcatalog.streaming.TestStreaming.testBucketing
org.apache.hive.hcatalog.streaming.TestStreaming.testBucketingWhereBucketColIsNotFirstCol
org.apache.hive.hcatalog.streaming.TestStreaming.testConcurrentTransactionBatchCommits
org.apache.hive.hcatalog.streaming.TestStreaming.testEndpointConnection
org.apache.hive.hcatalog.streaming.TestStreaming.testHearbeat
org.apache.hive.hcatalog.streaming.TestStreaming.testInterleavedTransactionBatchCommits
org.apache.hive.hcatalog.streaming.TestStreaming.testMultipleTransactionBatchCommits
org.apache.hive.hcatalog.streaming.TestStreaming.testRemainingTransactions
org.apache.hive.hcatalog.streaming.TestStreaming.testStreamBucketingMatchesRegularBucketing
org.apache.hive.hcatalog.streaming.TestStreaming.testTableValidation
org.apache.hive.hcatalog.streaming.TestStreaming.testTimeOutReaper
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchAbort
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchAbortAndCommit
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Delimited
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Json
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchEmptyAbort
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchEmptyCommit
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testMulti
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testTransactionBatchAbort
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testTransactionBatchCommitPartitioned
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testTransactionBatchCommitUnpartitioned
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testTransactionBatchEmptyAbortPartitioned
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testTransactionBatchEmptyAbortUnartitioned
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testTransactionBatchEmptyCommitPartitioned
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testTransactionBatchEmptyCommitUnpartitioned
org.apache.hive.hcatalog.streaming.mutate.TestMutations.testUpdatesAndDeletes
org.apache.hive.jdbc.TestJdbcDriver2.org.apache.hive.jdbc.TestJdbcDriver2
org.apache.hive.jdbc.TestJdbcWithLocalClusterSpark.org.apache.hive.jdbc.TestJdbcWithLocalClusterSpark
org.apache.hive.jdbc.TestJdbcWithMiniHS2.org.apache.hive.jdbc.TestJdbcWithMiniHS2
org.apache.hive.jdbc.TestJdbcWithMiniMr.org.apache.hive.jdbc.TestJdbcWithMiniMr
org.apache.hive.jdbc.TestMultiSessionsHS2WithLocalClusterSpark.org.apache.hive.jdbc.TestMultiSessionsHS2WithLocalClusterSpark
org.apache.hive.jdbc.TestNoSaslAuth.org.apache.hive.jdbc.TestNoSaslAuth
org.apache.hive.jdbc.TestSSL.testConnectionMismatch
org.apache.hive.jdbc.TestSSL.testInvalidConfig
org.apache.hive.jdbc.TestSSL.testSSLConnectionWithProperty
org.apache.hive.jdbc.TestSSL.testSSLConnectionWithURL
org.apache.hive.jdbc.TestSSL.testSSLFetch
org.apache.hive.jdbc.TestSSL.testSSLFetchHttp
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.jdbc.TestSchedulerQueue.testFairSchedulerPrimaryQueueMapping
org.apache.hive.jdbc.TestSchedulerQueue.testFairSchedulerQueueMapping
org.apache.hive.jdbc.TestSchedulerQueue.testFairSchedulerSecondaryQueueMapping
org.apache.hive.jdbc.TestSchedulerQueue.testQueueMappingCheckDisabled
org.apache.hive.jdbc.authorization.TestCLIAuthzSessionContext.org.apache.hive.jdbc.authorization.TestCLIAuthzSessionContext
org.apache.hive.jdbc.authorization.TestHS2AuthzContext.org.apache.hive.jdbc.authorization.TestHS2AuthzContext
org.apache.hive.jdbc.authorization.TestHS2AuthzSessionContext.org.apache.hive.jdbc.authorization.TestHS2AuthzSessionContext
org.apache.hive.jdbc.authorization.TestJdbcMetadataApiAuth.org.apache.hive.jdbc.authorization.TestJdbcMetadataApiAuth
org.apache.hive.jdbc.authorization.TestJdbcWithSQLAuthUDFBlacklist.testBlackListedUdfUsage
org.apache.hive.jdbc.authorization.TestJdbcWithSQLAuthorization.org.apache.hive.jdbc.authorization.TestJdbcWithSQLAuthorization
org.apache.hive.jdbc.miniHS2.TestHiveServer2.org.apache.hive.jdbc.miniHS2.TestHiveServer2
org.apache.hive.jdbc.miniHS2.TestHiveServer2SessionTimeout.testConnection
org.apache.hive.jdbc.miniHS2.TestMiniHS2.testConfInSession
org.apache.hive.minikdc.TestHiveAuthFactory.testStartTokenManagerForDBTokenStore
org.apache.hive.minikdc.TestHs2HooksWithMiniKdc.org.apache.hive.minikdc.TestHs2HooksWithMiniKdc
org.apache.hive.minikdc.TestJdbcWithMiniKdc.org.apache.hive.minikdc.TestJdbcWithMiniKdc
org.apache.hive.minikdc.TestJdbcWithMiniKdcCookie.org.apache.hive.minikdc.TestJdbcWithMiniKdcCookie
org.apache.hive.minikdc.TestJdbcWithMiniKdcSQLAuthBinary.org.apache.hive.minikdc.TestJdbcWithMiniKdcSQLAuthBinary
org.apache.hive.minikdc.TestJdbcWithMiniKdcSQLAuthHttp.org.apache.hive.minikdc.TestJdbcWithMiniKdcSQLAuthHttp
org.apache.hive.service.auth.TestCustomAuthentication.org.apache.hive.service.auth.TestCustomAuthentication
org.apache.hive.service.auth.TestPlainSaslHelper.testDoAsSetting
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService
org.apache.hive.service.cli.TestRetryingThriftCLIServiceClient.testRetryBehaviour
org.apache.hive.service.cli.operation.TestOperationLoggingAPIWithMr.org.apache.hive.service.cli.operation.TestOperationLoggingAPIWithMr
org.apache.hive.service.cli.operation.TestOperationLoggingAPIWithTez.org.apache.hive.service.cli.operation.TestOperationLoggingAPIWithTez
org.apache.hive.service.cli.operation.TestOperationLoggingLayout.org.apache.hive.service.cli.operation.TestOperationLoggingLayout
org.apache.hive.service.cli.session.TestSessionGlobalInitFile.testSessionGlobalInitDir
org.apache.hive.service.cli.session.TestSessionGlobalInitFile.testSessionGlobalInitFile
org.apache.hive.service.cli.session.TestSessionGlobalInitFile.testSessionGlobalInitFileAndConfOverlay
org.apache.hive.service.cli.session.TestSessionGlobalInitFile.testSessionGlobalInitFileWithUser
org.apache.hive.service.cli.session.TestSessionHooks.testProxyUser
org.apache.hive.service.cli.session.TestSessionHooks.testSessionHook
org.apache.hive.service.cli.thrift.TestThriftBinaryCLIService.org.apache.hive.service.cli.thrift.TestThriftBinaryCLIService
org.apache.hive.service.cli.thrift.TestThriftHttpCLIService.org.apache.hive.service.cli.thrift.TestThriftHttpCLIService
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6049/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6049/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6049/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 898 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12772479 - PreCommit-HIVE-TRUNK-Build, 2.0 is a good time to do this. Lets try to get it in. Web page pointed out by Sushanth does list few items we need to be wary of., >  Have you verified the elements in http://www.datanucleus.org/products/accessplatform_4_2/migration.html to see if we won't be affected adversely?

Yes. Added HIVE-6113-2.patch where applied all changes regarding DN version migration from 3.X.X to 4.X.X. See https://reviews.apache.org/r/40344/

Code change summary. 
Renamed:
datanucleus.validateTables ---> datanucleus.schema.validateTables
datanucleus.validateColumns ---> datanucleus.schema.validateColumns
datanucleus.validateConstraints ---> datanucleus.schema.validateConstraints
datanucleus.autoCreateSchema ---> datanucleus.schema.autoCreateAll

Deleted:
datanucleus.fixedDatastore, > @Eli Acherkan : Very interesting analysis. Could you point me to where you see the following:
>> If a table is deleted from the DB during this operation, DatabaseMetaData.getColumns will throw an exception.
>> This exception is interpreted by Hive to mean that the "default" Hive database doesn't exist.

Sure, let me try to explain.

#When DatabaseMetaData.getColumns throws an SQLException, it's caught by RDBMSSchemaHandler.refreshTableData and rethrown as a NucleusDataStoreException.
#This one is then caught by JDOQLQuery.compileQueryFull, which doesn't rethrow an exception - it simply returns an empty result.
#ObjectStore.getMDatabase then receives the empty result and throws a NoSuchObjectException.
#This exception is caught by HiveMetaStore.createDefaultDB_core, and taken to mean that the default DB doesn't exist.
#The createDefaultDB_core method then proceeds to try to create a DB, which fails because the DB actually _does_exist already.

Please let me know if the above is unclear., Hi team!
Any updates regarding HIVE-6113-2.patch ?, va/org/apache/hadoop/hive/conf/HiveConf.java

     if (getBoolVar(ConfVars.METASTORE_SCHEMA_VERIFICATION)) {
-      setBoolVar(ConfVars.METASTORE_AUTO_CREATE_SCHEMA, false);
-      setBoolVar(ConfVars.METASTORE_FIXED_DATASTORE, true);
+      setBoolVar(ConfVars.METASTORE_AUTO_CREATE_ALL, false);
     }

I'm not sure about this change. Do we really need to set  setBoolVar(ConfVars.METASTORE_AUTO_CREATE_ALL, false);? What about 'true' value? Please advice., Wrt the patch, it looks like all the tests have failed above.
Also given the code changes, I assume there's no way to downgrade to old DN jars on a running Hive build if some issue is discovered? I love it when people change public APIs to beautify some package name or whatever. Maybe we can try to find the classes by string name to be able to use both jars?, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12773550/HIVE-6113.3.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6089/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6089/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6089/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command 'bash /data/hive-ptest/working/scratch/source-prep.sh' failed with exit status 1 and output '+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export 'ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m '
+ ANT_OPTS='-Xmx1g -XX:MaxPermSize=256m '
+ export 'M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128'
+ M2_OPTS='-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128'
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-6089/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 8e9bae2 HIVE-12472: Add test case for HIVE-10592 (Prasanth Jayachandran reviewed by  Ashutosh Chauhan)
+ git clean -f -d
Removing data/files/TJOIN1
Removing data/files/TJOIN2
Removing data/files/TJOIN3
Removing data/files/TJOIN4
Removing ql/src/test/queries/clientpositive/vector_outer_join6.q
Removing ql/src/test/results/clientpositive/tez/vector_outer_join6.q.out
Removing ql/src/test/results/clientpositive/vector_outer_join6.q.out
+ git checkout master
Already on 'master'
+ git reset --hard origin/master
HEAD is now at 8e9bae2 HIVE-12472: Add test case for HIVE-10592 (Prasanth Jayachandran reviewed by  Ashutosh Chauhan)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12773550 - PreCommit-HIVE-TRUNK-Build, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12773890/HIVE-6113.4.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6120/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6120/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6120/

Messages:
{noformat}
**** This message was trimmed, see log for full details ****
main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-it-util ---
[INFO] Compiling 51 source files to /data/hive-ptest/working/apache-github-source-source/itests/util/target/classes
[WARNING] /data/hive-ptest/working/apache-github-source-source/itests/util/src/main/java/org/apache/hadoop/hive/hbase/HBaseQTestUtil.java: Some input files use or override a deprecated API.
[WARNING] /data/hive-ptest/working/apache-github-source-source/itests/util/src/main/java/org/apache/hadoop/hive/hbase/HBaseQTestUtil.java: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hive-it-util ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-github-source-source/itests/util/src/test/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-it-util ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/itests/util/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/itests/util/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/itests/util/target/tmp/conf
     [copy] Copying 14 files to /data/hive-ptest/working/apache-github-source-source/itests/util/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-it-util ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-it-util ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-it-util ---
[INFO] Building jar: /data/hive-ptest/working/apache-github-source-source/itests/util/target/hive-it-util-2.0.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-site-plugin:3.3:attach-descriptor (attach-descriptor) @ hive-it-util ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-it-util ---
[INFO] Installing /data/hive-ptest/working/apache-github-source-source/itests/util/target/hive-it-util-2.0.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-it-util/2.0.0-SNAPSHOT/hive-it-util-2.0.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-github-source-source/itests/util/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-it-util/2.0.0-SNAPSHOT/hive-it-util-2.0.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Unit Tests 2.0.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it-unit ---
[INFO] Deleting /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target
[INFO] Deleting /data/hive-ptest/working/apache-github-source-source/itests/hive-unit (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-enforcer-plugin:1.3.1:enforce (enforce-no-snapshots) @ hive-it-unit ---
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (download-spark) @ hive-it-unit ---
[INFO] Executing tasks

main:
     [exec] + /bin/pwd
     [exec] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit
     [exec] + BASE_DIR=./target
     [exec] + HIVE_ROOT=./target/../../../
     [exec] + DOWNLOAD_DIR=./../thirdparty
     [exec] + mkdir -p ./../thirdparty
     [exec] + download http://d3jw87u4immizc.cloudfront.net/spark-tarball/spark-1.5.0-bin-hadoop2-without-hive.tgz spark
     [exec] + url=http://d3jw87u4immizc.cloudfront.net/spark-tarball/spark-1.5.0-bin-hadoop2-without-hive.tgz
     [exec] + finalName=spark
     [exec] ++ basename http://d3jw87u4immizc.cloudfront.net/spark-tarball/spark-1.5.0-bin-hadoop2-without-hive.tgz
     [exec] + tarName=spark-1.5.0-bin-hadoop2-without-hive.tgz
     [exec] + rm -rf ./target/spark
     [exec] + [[ ! -f ./../thirdparty/spark-1.5.0-bin-hadoop2-without-hive.tgz ]]
     [exec] + tar -zxf ./../thirdparty/spark-1.5.0-bin-hadoop2-without-hive.tgz -C ./target
     [exec] + mv ./target/spark-1.5.0-bin-hadoop2-without-hive ./target/spark
     [exec] + cp -f ./target/../../..//data/conf/spark/log4j2.xml ./target/spark/conf/
     [exec] + sed '/package /d' /data/hive-ptest/working/apache-github-source-source/itests/../contrib/src/java/org/apache/hadoop/hive/contrib/udf/example/UDFExampleAdd.java
     [exec] + javac -cp /data/hive-ptest/working/maven/org/apache/hive/hive-exec/2.0.0-SNAPSHOT/hive-exec-2.0.0-SNAPSHOT.jar /tmp/UDFExampleAdd.java -d /tmp
     [exec] + jar -cf /tmp/udfexampleadd-1.0.jar -C /tmp UDFExampleAdd.class
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-it-unit ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-it-unit ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/main/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it-unit ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-it-unit ---
[INFO] Compiling 2 source files to /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hive-it-unit ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-it-unit ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target/tmp/conf
     [copy] Copying 14 files to /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-metastore-scripts) @ hive-it-unit ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target/tmp/scripts/metastore
     [copy] Copying 235 files to /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target/tmp/scripts/metastore
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-it-unit ---
[INFO] Compiling 98 source files to /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target/test-classes
[INFO] -------------------------------------------------------------
[WARNING] COMPILATION WARNING : 
[INFO] -------------------------------------------------------------
[WARNING] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestRetryingHMSHandler.java: Some input files use or override a deprecated API.
[WARNING] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestRetryingHMSHandler.java: Recompile with -Xlint:deprecation for details.
[WARNING] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/security/authorization/plugin/TestHiveAuthorizerCheckInvocation.java: Some input files use unchecked or unsafe operations.
[WARNING] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/security/authorization/plugin/TestHiveAuthorizerCheckInvocation.java: Recompile with -Xlint:unchecked for details.
[INFO] 4 warnings 
[INFO] -------------------------------------------------------------
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestMetastoreVersion.java:[54,41] cannot find symbol
  symbol:   variable METASTORE_AUTO_CREATE_SCHEMA
  location: class org.apache.hadoop.hive.conf.HiveConf.ConfVars
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestMetastoreVersion.java:[55,41] cannot find symbol
  symbol:   variable METASTORE_FIXED_DATASTORE
  location: class org.apache.hadoop.hive.conf.HiveConf.ConfVars
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestMetastoreVersion.java:[84,53] cannot find symbol
  symbol:   variable METASTORE_AUTO_CREATE_SCHEMA
  location: class org.apache.hadoop.hive.conf.HiveConf.ConfVars
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestMetastoreVersion.java:[85,54] cannot find symbol
  symbol:   variable METASTORE_FIXED_DATASTORE
  location: class org.apache.hadoop.hive.conf.HiveConf.ConfVars
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestMetastoreVersion.java:[96,54] cannot find symbol
  symbol:   variable METASTORE_AUTO_CREATE_SCHEMA
  location: class org.apache.hadoop.hive.conf.HiveConf.ConfVars
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestMetastoreVersion.java:[97,53] cannot find symbol
  symbol:   variable METASTORE_FIXED_DATASTORE
  location: class org.apache.hadoop.hive.conf.HiveConf.ConfVars
[INFO] 6 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive Integration - Parent ......................... SUCCESS [7.774s]
[INFO] Hive Integration - Custom Serde ................... SUCCESS [14.734s]
[INFO] Hive Integration - HCatalog Unit Tests ............ SUCCESS [24.616s]
[INFO] Hive Integration - Testing Utilities .............. SUCCESS [18.257s]
[INFO] Hive Integration - Unit Tests ..................... FAILURE [28.255s]
[INFO] Hive Integration - Test Serde ..................... SKIPPED
[INFO] Hive Integration - QFile Tests .................... SKIPPED
[INFO] Hive Integration - QFile Accumulo Tests ........... SKIPPED
[INFO] JMH benchmark: Hive ............................... SKIPPED
[INFO] Hive Integration - Unit Tests - Hadoop 2 .......... SKIPPED
[INFO] Hive Integration - Unit Tests with miniKdc ........ SKIPPED
[INFO] Hive Integration - QFile Spark Tests .............. SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1:39.450s
[INFO] Finished at: Tue Nov 24 23:04:48 EST 2015
[INFO] Final Memory: 84M/327M
[INFO] ------------------------------------------------------------------------
[WARNING] The requested profile "hadoop-2" could not be activated because it does not exist.
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile (default-testCompile) on project hive-it-unit: Compilation failure: Compilation failure:
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestMetastoreVersion.java:[54,41] cannot find symbol
[ERROR] symbol:   variable METASTORE_AUTO_CREATE_SCHEMA
[ERROR] location: class org.apache.hadoop.hive.conf.HiveConf.ConfVars
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestMetastoreVersion.java:[55,41] cannot find symbol
[ERROR] symbol:   variable METASTORE_FIXED_DATASTORE
[ERROR] location: class org.apache.hadoop.hive.conf.HiveConf.ConfVars
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestMetastoreVersion.java:[84,53] cannot find symbol
[ERROR] symbol:   variable METASTORE_AUTO_CREATE_SCHEMA
[ERROR] location: class org.apache.hadoop.hive.conf.HiveConf.ConfVars
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestMetastoreVersion.java:[85,54] cannot find symbol
[ERROR] symbol:   variable METASTORE_FIXED_DATASTORE
[ERROR] location: class org.apache.hadoop.hive.conf.HiveConf.ConfVars
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestMetastoreVersion.java:[96,54] cannot find symbol
[ERROR] symbol:   variable METASTORE_AUTO_CREATE_SCHEMA
[ERROR] location: class org.apache.hadoop.hive.conf.HiveConf.ConfVars
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestMetastoreVersion.java:[97,53] cannot find symbol
[ERROR] symbol:   variable METASTORE_FIXED_DATASTORE
[ERROR] location: class org.apache.hadoop.hive.conf.HiveConf.ConfVars
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <goals> -rf :hive-it-unit
+ exit 1
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12773890 - PreCommit-HIVE-TRUNK-Build, Fixed compilation error in TestMetastoreVersion.java, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12774318/HIVE-6113.5.patch

{color:green}SUCCESS:{color} +1 due to 2 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 8 failed/errored test(s), 9865 tests executed
*Failed tests:*
{noformat}
TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testAddPartitions
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testFetchingPartitionsWithDifferentSchemas
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarDataNucleusUnCaching
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.jdbc.miniHS2.TestHs2Metrics.testMetrics
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6152/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6152/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6152/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12774318 - PreCommit-HIVE-TRUNK-Build, Fixed org.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarDataNucleusUnCaching, Since DN property names are changing, it will be good to have this one before 2.0 for backward compat reasons. Apart from the issue discussed on this jira, it will also help HIVE-11036 
[~thejas] [~sushanth]  I think you guys are best equipped to review this., Suggested patch with reflection to be able to downgrade the JAR just in case..., Hi Sergey,

{code:title=Utilities.java|borderStyle=solid}
    if (DN_MAP_CLASS != null) {
      e.setPersistenceDelegate(DN_MAP_CLASS, new MapDelegate());
    }
    if (DN_LIST_CLASS != null) {
      e.setPersistenceDelegate(DN_LIST_CLASS, new ListDelegate());
    }
    if (DN_MAP_CLASS == null || DN_LIST_CLASS == null) {
      LOG.info("DN map and/or list classes were not found; not adding persistence delegate");
    }
{code}

1. Why not to throw Exception here or at least LOG.error() ?
2. Why not no move not null verification before class usage and thus skip double verification. I mean smth like this:

{code:title=Utilities.java|borderStyle=solid}
    if (DN_MAP_CLASS == null || DN_LIST_CLASS == null) {
      throw new ClassNotFoundException("DN map and/or list classes were not found; not adding persistence delegate");
    }
      e.setPersistenceDelegate(DN_MAP_CLASS, new MapDelegate());
      e.setPersistenceDelegate(DN_LIST_CLASS, new ListDelegate());
{code}

Thanks., Added Sergey's reflection code that makes Hive to be able to downgrade the DN JAR.

Reflection code is available in HIVE-6113.7.patch , 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12775944/HIVE-6113.7.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6263/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6263/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6263/

Messages:
{noformat}
**** This message was trimmed, see log for full details ****
[INFO] Installing /data/hive-ptest/working/apache-github-source-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-2.1.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/2.1.0-SNAPSHOT/hive-hcatalog-it-unit-2.1.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-github-source-source/itests/hcatalog-unit/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/2.1.0-SNAPSHOT/hive-hcatalog-it-unit-2.1.0-SNAPSHOT.pom
[INFO] Installing /data/hive-ptest/working/apache-github-source-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-2.1.0-SNAPSHOT-tests.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/2.1.0-SNAPSHOT/hive-hcatalog-it-unit-2.1.0-SNAPSHOT-tests.jar
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Testing Utilities 2.1.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it-util ---
[INFO] Deleting /data/hive-ptest/working/apache-github-source-source/itests/util/target
[INFO] Deleting /data/hive-ptest/working/apache-github-source-source/itests/util (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-enforcer-plugin:1.3.1:enforce (enforce-no-snapshots) @ hive-it-util ---
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (download-spark) @ hive-it-util ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-it-util ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-it-util ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-github-source-source/itests/util/src/main/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it-util ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-it-util ---
[INFO] Compiling 51 source files to /data/hive-ptest/working/apache-github-source-source/itests/util/target/classes
[WARNING] /data/hive-ptest/working/apache-github-source-source/itests/util/src/main/java/org/apache/hadoop/hive/hbase/HBaseQTestUtil.java: Some input files use or override a deprecated API.
[WARNING] /data/hive-ptest/working/apache-github-source-source/itests/util/src/main/java/org/apache/hadoop/hive/hbase/HBaseQTestUtil.java: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hive-it-util ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-github-source-source/itests/util/src/test/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-it-util ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/itests/util/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/itests/util/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/itests/util/target/tmp/conf
     [copy] Copying 14 files to /data/hive-ptest/working/apache-github-source-source/itests/util/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-it-util ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-it-util ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-it-util ---
[INFO] Building jar: /data/hive-ptest/working/apache-github-source-source/itests/util/target/hive-it-util-2.1.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-site-plugin:3.3:attach-descriptor (attach-descriptor) @ hive-it-util ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-it-util ---
[INFO] Installing /data/hive-ptest/working/apache-github-source-source/itests/util/target/hive-it-util-2.1.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-it-util/2.1.0-SNAPSHOT/hive-it-util-2.1.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-github-source-source/itests/util/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-it-util/2.1.0-SNAPSHOT/hive-it-util-2.1.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Unit Tests 2.1.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it-unit ---
[INFO] Deleting /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target
[INFO] Deleting /data/hive-ptest/working/apache-github-source-source/itests/hive-unit (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-enforcer-plugin:1.3.1:enforce (enforce-no-snapshots) @ hive-it-unit ---
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (download-spark) @ hive-it-unit ---
[INFO] Executing tasks

main:
     [exec] + /bin/pwd
     [exec] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit
     [exec] + BASE_DIR=./target
     [exec] + HIVE_ROOT=./target/../../../
     [exec] + DOWNLOAD_DIR=./../thirdparty
     [exec] + mkdir -p ./../thirdparty
     [exec] + download http://d3jw87u4immizc.cloudfront.net/spark-tarball/spark-1.5.0-bin-hadoop2-without-hive.tgz spark
     [exec] + url=http://d3jw87u4immizc.cloudfront.net/spark-tarball/spark-1.5.0-bin-hadoop2-without-hive.tgz
     [exec] + finalName=spark
     [exec] ++ basename http://d3jw87u4immizc.cloudfront.net/spark-tarball/spark-1.5.0-bin-hadoop2-without-hive.tgz
     [exec] + tarName=spark-1.5.0-bin-hadoop2-without-hive.tgz
     [exec] + rm -rf ./target/spark
     [exec] + [[ ! -f ./../thirdparty/spark-1.5.0-bin-hadoop2-without-hive.tgz ]]
     [exec] + tar -zxf ./../thirdparty/spark-1.5.0-bin-hadoop2-without-hive.tgz -C ./target
     [exec] + mv ./target/spark-1.5.0-bin-hadoop2-without-hive ./target/spark
     [exec] + cp -f ./target/../../..//data/conf/spark/log4j2.properties ./target/spark/conf/
     [exec] + sed '/package /d' /data/hive-ptest/working/apache-github-source-source/itests/../contrib/src/java/org/apache/hadoop/hive/contrib/udf/example/UDFExampleAdd.java
     [exec] + javac -cp /data/hive-ptest/working/maven/org/apache/hive/hive-exec/2.1.0-SNAPSHOT/hive-exec-2.1.0-SNAPSHOT.jar /tmp/UDFExampleAdd.java -d /tmp
     [exec] + jar -cf /tmp/udfexampleadd-1.0.jar -C /tmp UDFExampleAdd.class
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-it-unit ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-it-unit ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/main/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it-unit ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-it-unit ---
[INFO] Compiling 2 source files to /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hive-it-unit ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-it-unit ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target/tmp/conf
     [copy] Copying 14 files to /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-metastore-scripts) @ hive-it-unit ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target/tmp/scripts/metastore
     [copy] Copying 245 files to /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target/tmp/scripts/metastore
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-it-unit ---
[INFO] Compiling 98 source files to /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/target/test-classes
[INFO] -------------------------------------------------------------
[WARNING] COMPILATION WARNING : 
[INFO] -------------------------------------------------------------
[WARNING] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestRetryingHMSHandler.java: Some input files use or override a deprecated API.
[WARNING] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestRetryingHMSHandler.java: Recompile with -Xlint:deprecation for details.
[WARNING] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/security/authorization/plugin/TestHiveAuthorizerCheckInvocation.java: Some input files use unchecked or unsafe operations.
[WARNING] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/security/authorization/plugin/TestHiveAuthorizerCheckInvocation.java: Recompile with -Xlint:unchecked for details.
[INFO] 4 warnings 
[INFO] -------------------------------------------------------------
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hive/jdbc/TestJdbcWithMiniHS2.java:[798,34] cannot find symbol
  symbol:   class AbstractNucleusContext
  location: class org.apache.hive.jdbc.TestJdbcWithMiniHS2
[INFO] 1 error
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive Integration - Parent ......................... SUCCESS [7.133s]
[INFO] Hive Integration - Custom Serde ................... SUCCESS [16.180s]
[INFO] Hive Integration - HCatalog Unit Tests ............ SUCCESS [23.874s]
[INFO] Hive Integration - Testing Utilities .............. SUCCESS [16.164s]
[INFO] Hive Integration - Unit Tests ..................... FAILURE [28.503s]
[INFO] Hive Integration - Test Serde ..................... SKIPPED
[INFO] Hive Integration - QFile Tests .................... SKIPPED
[INFO] Hive Integration - QFile Accumulo Tests ........... SKIPPED
[INFO] JMH benchmark: Hive ............................... SKIPPED
[INFO] Hive Integration - Unit Tests - Hadoop 2 .......... SKIPPED
[INFO] Hive Integration - Unit Tests with miniKdc ........ SKIPPED
[INFO] Hive Integration - QFile Spark Tests .............. SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1:36.347s
[INFO] Finished at: Sun Dec 06 01:43:22 EST 2015
[INFO] Final Memory: 85M/244M
[INFO] ------------------------------------------------------------------------
[WARNING] The requested profile "hadoop-2" could not be activated because it does not exist.
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile (default-testCompile) on project hive-it-unit: Compilation failure
[ERROR] /data/hive-ptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hive/jdbc/TestJdbcWithMiniHS2.java:[798,34] cannot find symbol
[ERROR] symbol:   class AbstractNucleusContext
[ERROR] location: class org.apache.hive.jdbc.TestJdbcWithMiniHS2
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <goals> -rf :hive-it-unit
+ exit 1
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12775944 - PreCommit-HIVE-TRUNK-Build, Added import of AbstractNucleusContext;, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12775977/HIVE-6113.8.patch

{color:green}SUCCESS:{color} +1 due to 3 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 9 failed/errored test(s), 9897 tests executed
*Failed tests:*
{noformat}
TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cbo_udf_max
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_dynamic_partition_pruning
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_vectorized_dynamic_partition_pruning
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_mergejoin
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarDataNucleusUnCaching
org.apache.hive.jdbc.TestSSL.testSSLVersion
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6268/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6268/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6268/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12775977 - PreCommit-HIVE-TRUNK-Build, I have applied HIVE-6113.with.reflection.patch, installed patched hive, replaced 

{noformat}
datanucleus-api-jdo-4.2.1.jar
datanucleus-core-4.1.6.jar
datanucleus-rdbms-4.1.7.jar
{noformat}

with

{noformat}
datanucleus-api-jdo-3.2.6.jar'
datanucleus-core-3.2.10.jar'
datanucleus-rdbms-3.2.9.jar'
{noformat}

in hive/lib folder, and restarted hive-metsatore. Then I got an exception (see below). If I replace back datanucleus-*3.X*jar with datanucleus-*4.X*jar, then hive-metsatore starts fine.

{noformat}
org.datanucleus.api.jdo.exceptions.ClassNotPersistenceCapableException: The class "org.apache.hadoop.hive.metastore.model.MVersionTable" is not persistable. This means that it either hasnt been enhanced, or that the enhanced version of the file is not in the CLASSPATH (or is hidden by an unenhanced version), or the Meta-Data/annotations for the class are not found.
	at org.datanucleus.api.jdo.NucleusJDOHelper.getJDOExceptionForNucleusException(NucleusJDOHelper.java:380)
	at org.datanucleus.api.jdo.JDOPersistenceManager.jdoMakePersistent(JDOPersistenceManager.java:732)
	at org.datanucleus.api.jdo.JDOPersistenceManager.makePersistent(JDOPersistenceManager.java:752)
	at org.apache.hadoop.hive.metastore.ObjectStore.setMetaStoreSchemaVersion(ObjectStore.java:6776)
	at org.apache.hadoop.hive.metastore.ObjectStore.checkSchema(ObjectStore.java:6673)
	at org.apache.hadoop.hive.metastore.ObjectStore.verifySchema(ObjectStore.java:6648)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.hadoop.hive.metastore.RawStoreProxy.invoke(RawStoreProxy.java:114)
	at com.sun.proxy.$Proxy4.verifySchema(Unknown Source)
	at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.getMS(HiveMetaStore.java:572)
	at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.createDefaultDB(HiveMetaStore.java:624)
	at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.init(HiveMetaStore.java:461)
	at org.apache.hadoop.hive.metastore.RetryingHMSHandler.<init>(RetryingHMSHandler.java:66)
	at org.apache.hadoop.hive.metastore.RetryingHMSHandler.getProxy(RetryingHMSHandler.java:72)
	at org.apache.hadoop.hive.metastore.HiveMetaStore.newRetryingHMSHandler(HiveMetaStore.java:5756)
	at org.apache.hadoop.hive.metastore.HiveMetaStore.newRetryingHMSHandler(HiveMetaStore.java:5751)
	at org.apache.hadoop.hive.metastore.HiveMetaStore.startMetaStore(HiveMetaStore.java:5984)
	at org.apache.hadoop.hive.metastore.HiveMetaStore.main(HiveMetaStore.java:5909)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.hadoop.util.RunJar.run(RunJar.java:221)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:136)
NestedThrowablesStackTrace:
The class "org.apache.hadoop.hive.metastore.model.MVersionTable" is not persistable. This means that it either hasnt been enhanced, or that the enhanced version of the file is not in the CLASSPATH (or is hidden by an unenhanced version), or the Meta-Data/annotations for the class are not found.
org.datanucleus.exceptions.ClassNotPersistableException: The class "org.apache.hadoop.hive.metastore.model.MVersionTable" is not persistable. This means that it either hasnt been enhanced, or that the enhanced version of the file is not in the CLASSPATH (or is hidden by an unenhanced version), or the Meta-Data/annotations for the class are not found.
	at org.datanucleus.ExecutionContextImpl.assertClassPersistable(ExecutionContextImpl.java:5698)
	at org.datanucleus.ExecutionContextImpl.persistObjectInternal(ExecutionContextImpl.java:2123)
	at org.datanucleus.ExecutionContextImpl.persistObjectWork(ExecutionContextImpl.java:2065)
	at org.datanucleus.ExecutionContextImpl.persistObject(ExecutionContextImpl.java:1913)
	at org.datanucleus.ExecutionContextThreadedImpl.persistObject(ExecutionContextThreadedImpl.java:217)
	at org.datanucleus.api.jdo.JDOPersistenceManager.jdoMakePersistent(JDOPersistenceManager.java:727)
	at org.datanucleus.api.jdo.JDOPersistenceManager.makePersistent(JDOPersistenceManager.java:752)
	at org.apache.hadoop.hive.metastore.ObjectStore.setMetaStoreSchemaVersion(ObjectStore.java:6776)
	at org.apache.hadoop.hive.metastore.ObjectStore.checkSchema(ObjectStore.java:6673)
	at org.apache.hadoop.hive.metastore.ObjectStore.verifySchema(ObjectStore.java:6648)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.hadoop.hive.metastore.RawStoreProxy.invoke(RawStoreProxy.java:114)
	at com.sun.proxy.$Proxy4.verifySchema(Unknown Source)
	at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.getMS(HiveMetaStore.java:572)
	at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.createDefaultDB(HiveMetaStore.java:624)
	at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.init(HiveMetaStore.java:461)
	at org.apache.hadoop.hive.metastore.RetryingHMSHandler.<init>(RetryingHMSHandler.java:66)
	at org.apache.hadoop.hive.metastore.RetryingHMSHandler.getProxy(RetryingHMSHandler.java:72)
	at org.apache.hadoop.hive.metastore.HiveMetaStore.newRetryingHMSHandler(HiveMetaStore.java:5756)
	at org.apache.hadoop.hive.metastore.HiveMetaStore.newRetryingHMSHandler(HiveMetaStore.java:5751)
	at org.apache.hadoop.hive.metastore.HiveMetaStore.startMetaStore(HiveMetaStore.java:5984)
	at org.apache.hadoop.hive.metastore.HiveMetaStore.main(HiveMetaStore.java:5909)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.hadoop.util.RunJar.run(RunJar.java:221)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:136)
{noformat}
, +0.99, TestJdbcWithMiniHS2 appears to be related, Rebased the patch (the code to add custom handlers was removed in some other JIRA); fixed the classloader map cleanup that broke the test., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12778935/HIVE-6113.9.patch

{color:green}SUCCESS:{color} +1 due to 3 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 19 failed/errored test(s), 9899 tests executed
*Failed tests:*
{noformat}
TestHWISessionManager - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join_stats2
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_dynamic
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_columnstats_partlvl_multiple_part_clause
org.apache.hadoop.hive.cli.TestPerfCliDriver.initializationError
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6444/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6444/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6444/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 19 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12778935 - PreCommit-HIVE-TRUNK-Build, Hmm. The test that failed works for me locally. Added the property just in case., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12779112/HIVE-6113.10.patch

{color:green}SUCCESS:{color} +1 due to 3 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 18 failed/errored test(s), 9961 tests executed
*Failed tests:*
{noformat}
TestHWISessionManager - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join_stats2
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_dynamic
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_columnstats_partlvl_multiple_part_clause
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testMultiSessionMultipleUse
org.apache.hadoop.hive.ql.exec.spark.session.TestSparkSessionManagerImpl.testSingleSessionMultipleUse
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveOperationType.checkHiveOperationTypeMatch
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles
org.apache.hive.spark.client.TestSparkClient.testCounters
org.apache.hive.spark.client.TestSparkClient.testErrorJob
org.apache.hive.spark.client.TestSparkClient.testJobSubmission
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection
org.apache.hive.spark.client.TestSparkClient.testRemoteClient
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6457/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6457/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6457/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 18 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12779112 - PreCommit-HIVE-TRUNK-Build, None of the tests have age 1. +1. Will commit later today unless there are objections, Committed to master and branch-2.0, Doc note: This changes the name of four configuration parameters in HiveConf.java in 2.0.0. The new names are documented in the wiki in the Configuration Properties section here:
* [datanucleus.schema.validateTables | https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-datanucleus.schema.validateTables]
* [datanucleus.schema.validateColumns | https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-datanucleus.schema.validateColumns]
* [datanucleus.schema.validateConstraints | https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-datanucleus.schema.validateConstraints]
* [datanucleus.schema.autoCreateAll | https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-datanucleus.schema.autoCreateAll]

Additionally, *datanucleus.fixedDatastore* was updated to show that it was removed and *hive.metastore.schema.verification* was updated to note that it affects *datanucleus.schema.autoCreateAll*:
* [datanucleus.fixedDatastore | https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-datanucleus.fixedDatastore]
* [hive.metastore.schema.verification | https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.metastore.schema.verification], [~sershe] and [~osayankin], are these two sentences from "Metastore Schema Consistency and Upgrades" and "Metastore Schema Verification" still valid?

{quote}
To suppress the schema check and allow the metastore to implicitly modify the schema, you need to set a configuration property hive.metastore.schema.verification to false in hive-site.xml.
{quote}

{quote}
By default the configuration property hive.metastore.schema.verification is false and metastore to implicitly write the schema version if it's not matching. To enable the strict schema verification, you need to set this property to true in hive-site.xml.
{quote}

I don't understand why *hive.metastore.schema.verification* would need to be set to false in hive-site.xml since it is already false by default in HiveConf.java.  I also don't know which hive-site.xml file(s) should be set, or whether the parameter could be set in HiveConf.java instead.  HIVE-12841 asks for better documentation of hive-site.xml.

Also, in the second sentence quoted above should "... and metastore to implicitly write" be changed to "... will implicitly write" (or "... implicitly writes")?

Finally, I don't understand what is meant by implicitly modifying the schema or implicitly writing the schema version -- are they the same thing, that is, "modify the schema" means "modify the schema version"?  If you're not the right people to ask, perhaps you could suggest someone else.  Thanks.

Here are the quoted sections:

* [Admin Manual -- Metastore Admin -- Metastore Schema Consistency and Upgrades | https://cwiki.apache.org/confluence/display/Hive/AdminManual+MetastoreAdmin#AdminManualMetastoreAdmin-MetastoreSchemaConsistencyandUpgrades]
* [Hive Schema Tool -- Metastore Schema Verification | https://cwiki.apache.org/confluence/display/Hive/Hive+Schema+Tool#HiveSchemaTool-MetastoreSchemaVerification], Removing target 1.2.2 as it's a minor upgrade and this change touches lots of parts.]