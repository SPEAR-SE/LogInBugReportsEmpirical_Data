[[~thejas] [~rhbutani] Another last minute bug for 13!, This is basically based on a patch provided by [~thejas] while testing a fix., Looks good. Just a minor comment about the exception in rb.

Harish, I think we should include this in 0.13 . This can result in action being done as a wrong user.
, [~thejas] Patch includes feedback. Thanks!, 

{color:green}Overall{color}: +1 all checks pass

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12639637/HIVE-6864.2.patch

{color:green}SUCCESS:{color} +1 5571 tests passed

Test results: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2208/testReport
Console output: http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2208/console

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12639637, +1 for 0.13, Patch committed to 0.13 branch and trunk.
]