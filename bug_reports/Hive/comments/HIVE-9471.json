[In this test, an ORC file with 1201 rows is created. The ORC table has:

{code}
orc.row.index.stride=1200,
orc.compress=NONE
{code}

The failure only occurs with {{hive.optimize.index.filter=true}}., Here's a tentative patch. (Thanks for the advice, [~prasanthj].)

The reader-fix prevents a seek into an empty stream.
The writer-change prevents the string-output-stream from being written into the stripe. (Does it make sense to similarly suppress writing out the length-stream?)

The test I posted passes., 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12694713/HIVE-9471.1.patch

{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 7399 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby3_map
org.apache.hadoop.hive.ql.io.orc.TestColumnStatistics.testHasNull
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2532/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2532/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2532/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12694713 - PreCommit-HIVE-TRUNK-Build, Fixed the howlers. (Thanks for the review, [~cdrome].) Also, fixed the test output (for the now missing stream)., [~mithun] Yeah. It makes sense suppress the length stream as well if the dictionary is empty., Here's the same, with the LENGTH stream suppressed., Modifying the comment for the second null-check., 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12695233/HIVE-9471.3.patch

{color:red}ERROR:{color} -1 due to 5 failed/errored test(s), 7405 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_join38
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_subquery_in
org.apache.hadoop.hive.thrift.TestHadoop20SAuthBridge.testMetastoreProxyUser
org.apache.hadoop.hive.thrift.TestHadoop20SAuthBridge.testSaslWithHiveMetaStore
org.apache.hive.hcatalog.templeton.TestWebHCatE2e.getHiveVersion
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2569/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2569/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2569/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12695233 - PreCommit-HIVE-TRUNK-Build, Unrelated test-failures, methinks. , Hey, [~prasanth_j]. Does this patch look alright now?, The patch looks good to me. +1, Committed to trunk. Thanks [~mithun] for the patch!, Thanks for the advice and review, Prasanth. Much appreciated., This issue has been fixed and released as part of the 1.2.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.]