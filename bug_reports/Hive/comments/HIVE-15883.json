[{code}
hive> insert into hbase_table values (2,2);
Query ID = hive_20170210142121_a966b2a7-e371-4cba-a9e9-dae2554cec42
Total jobs = 1
Launching Job 1 out of 1
Number of reduce tasks is set to 0 since there's no reduce operator
Starting Job = job_1486734052415_0010, Tracking URL = <snip>
Hadoop job information for Stage-0: number of mappers: 1; number of reducers: 0
2017-02-10 14:21:54,959 Stage-0 map = 0%,  reduce = 0%
2017-02-10 14:22:05,579 Stage-0 map = 100%,  reduce = 0%, Cumulative CPU 3.87 sec
MapReduce Total cumulative CPU time: 3 seconds 870 msec
Ended Job = job_1486734052415_0010
MapReduce Jobs Launched: 
Stage-Stage-0: Map: 1   Cumulative CPU: 3.87 sec   HDFS Read: 4065 HDFS Write: 0 SUCCESS
Total MapReduce CPU Time Spent: 3 seconds 870 msec
OK
Time taken: 24.433 seconds
select * from hbase_table;
OK
1	1
2	2
Time taken: 2.426 seconds, Fetched: 2 row(s)
hive> insert into hbase_decimalbinary values (11, 11.11);
Query ID = hive_20170210200404_6e0a62ed-a587-4cd5-a105-524f3838f4a9
Total jobs = 1
Launching Job 1 out of 1
Number of reduce tasks is set to 0 since there's no reduce operator
Starting Job = job_1486734052415_0032, Tracking URL = <snip>
Hadoop job information for Stage-0: number of mappers: 1; number of reducers: 0
2017-02-10 20:04:29,894 Stage-0 map = 0%,  reduce = 0%
2017-02-10 20:04:42,333 Stage-0 map = 100%,  reduce = 0%, Cumulative CPU 3.68 sec
MapReduce Total cumulative CPU time: 3 seconds 680 msec
Ended Job = job_1486734052415_0032
MapReduce Jobs Launched: 
Stage-Stage-0: Map: 1   Cumulative CPU: 3.68 sec   HDFS Read: 4070 HDFS Write: 0 SUCCESS
Total MapReduce CPU Time Spent: 3 seconds 680 msec
OK
Time taken: 25.385 seconds
hive> select * from hbase_table;
OK
1	1
11	11.11
2	2
Time taken: 0.394 seconds, Fetched: 3 row(s)
{code}

, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12852182/HIVE-15883.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 4 failed/errored test(s), 10246 tests executed
*Failed tests:*
{noformat}
TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=223)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/3501/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/3501/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-3501/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12852182 - PreCommit-HIVE-Build, the test failures do not appear to be related the proposed patch., The change looks good to me. Can we add a unit test to cover this?, Possibly related issue: https://issues.apache.org/jira/browse/HIVE-17002, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12852182/HIVE-15883.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 9 failed/errored test(s), 10830 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[create_merge_compressed] (batchId=237)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[llap_smb] (batchId=143)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=140)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=99)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=232)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionRegistrationWithCustomSchema (batchId=177)
org.apache.hive.hcatalog.api.TestHCatClient.testPartitionSpecRegistrationWithCustomSchema (batchId=177)
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation (batchId=177)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/5871/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/5871/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-5871/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12852182 - PreCommit-HIVE-Build, +1, Thanks [~ashutoshc]. I will rebase the patch. Do you know if it is possible to add a testcase for this as it would need HBase for it as well? Thanks, We have tests for hbase-handler. Both junit as well qfile. You may use either., Will upload new one today., Attaching a new patch. a) rebased to latest source b) Adding qtest for the hbase CLI driver., [~aihuaxu] [~ashutoshc] Can you please re-review the patch? I just added a test case. No other code changes. Thanks, [~ngangam] I will wait for the test to pass. I remember we need to specify hbase.mapreduce.hfileoutputformat.table.name for hbase table now., Patch has not been picked by pre-commit probably because of the ptest issues yesterday. Will re-submit., | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
|| || || || {color:brown} Prechecks {color} ||
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Findbugs executables are not available. {color} |
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
|| || || || {color:brown} master Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  1m 21s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  5m 36s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 36s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 21s{color} | {color:green} master passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 26s{color} | {color:green} master passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 21s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 38s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 35s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 35s{color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} checkstyle {color} | {color:red}  0m 13s{color} | {color:red} serde: The patch generated 1 new + 0 unchanged - 0 fixed = 1 total (was 0) {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 26s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 12s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black} 11m 13s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Optional Tests |  asflicense  javac  javadoc  findbugs  checkstyle  compile  |
| uname | Linux hiveptest-server-upstream 3.16.0-4-amd64 #1 SMP Debian 3.16.36-1+deb8u1 (2016-09-03) x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /data/hiveptest/working/yetus/dev-support/hive-personality.sh |
| git revision | master / 36f0d89 |
| Default Java | 1.8.0_111 |
| checkstyle | http://104.198.109.242/logs//PreCommit-HIVE-Build-8144/yetus/diff-checkstyle-serde.txt |
| modules | C: serde hbase-handler U: . |
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-8144/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.

, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12901246/HIVE-15883.1.patch

{color:green}SUCCESS:{color} +1 due to 1 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 6 failed/errored test(s), 11515 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union36] (batchId=88)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[hybridgrace_hashjoin_2] (batchId=157)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[insert_values_orig_table_use_metadata] (batchId=165)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[sysdb] (batchId=160)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[subquery_multi] (batchId=113)
org.apache.hadoop.hive.ql.parse.TestReplicationScenarios.testConstraints (batchId=226)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/8144/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/8144/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-8144/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12901246 - PreCommit-HIVE-Build, [~aihuaxu] The test failures do no appear related to the fix.
The new test added as part of this fix seems to have passed as well. 
https://builds.apache.org/job/PreCommit-HIVE-Build/8144/testReport/org.apache.hadoop.hive.cli/TestHBaseCliDriver/
, Yeah. The test passes. I will use HIVE-18202 to find why you don't need to specify hbase.mapreduce.hfileoutputformat.table.name. 

But your change looks good. +1., Thanks for the review [~ashutoshc] and [~aihuaxu]. Fix has been pushed to master., Hive 3.0.0 has been released so closing this jira.]