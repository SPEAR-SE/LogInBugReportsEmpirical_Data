[In HiveAlterHandler ( alterTable ) , if the HDFS operation failed then its better to rename the table to the old table name. To avoid the inconsistency b/w Metadata and HDFS data. 

h4. Old code snippet 
h4. 
{code}
 if (success && moveData) {
        // change the file name in hdfs
        // check that src exists otherwise there is no need to copy the data
        try {
          if (srcFs.exists(srcPath)) {
            // rename the src to destination
            srcFs.rename(srcPath, destPath);
          }
        } catch (IOException e) {

		throw new InvalidOperationException("Unable to access old location "
              + srcPath + " for table " + dbname + "." + name);
	}
{code}

h4. Changes Proposed 

Before throwing the "InvalidOperationException" , rename the table name to the old table name. 

{code}

      if (success && moveData) {
        // change the file name in hdfs
        // check that src exists otherwise there is no need to copy the data
        try {
          if (srcFs.exists(srcPath)) {
            // rename the src to destination
            srcFs.rename(srcPath, destPath);
          }
        } catch (IOException e) {
          boolean revertMetaDataTransaction = false;
          try
          {
              msdb.openTransaction();

              // Alter the table name to have the old table name. 
              msdb.alterTable(dbname, newt.getTableName(), oldt);
              revertMetaDataTransaction = msdb.commitTransaction();
          }
          catch (Exception e1)
          {
            LOG.error("Reverting metadata opeation failed During HDFS operation failed",e1);
            if(!revertMetaDataTransaction)
            {
               msdb.rollbackTransaction();
            }
          }
          throw new InvalidOperationException("Unable to access old location "
              + srcPath + " for table " + dbname + "." + name);
        }
      }

{code}, This still does not work if the client dies after making the metadata change.
However, this does reduce the window.

+1, Committed. Thanks Chinna Rao Lalam]