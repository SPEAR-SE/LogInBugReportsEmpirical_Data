[The root cause is that the IOException messages are different from Open JDK and Sun JDK. 
The following scripts would be affected by this:
 script_pipe.q
 script_broken_pipe1.q
 script_broken_pipe1.q
 script_broken_pipe2.q
 minimr_broken_pipe.q
 , I ran into the same problem and created HIVE-3631 to track this.

I have an initial patch (not uploaded yet), but it depends on other patches which are pending approval., Hi, Chris
I think they're not the same issue, except in JDK7, the error message thrown by JDK has been changed. e.g.
In JDK6, it says " Broken pipe", while in JDK7, it says "File not found", correct the JDK info, which should be IBM JDK, the patch file is made based on trunk, the patch would resolve this failure on IBM JDK and won't affect the results on Sun's, the patch would resolve this failure on IBM JDK and won't affect the results on Sun's, This fix worked for me too. I am attaching a version for Hive 0.11., Hi,[~owen.omalley]
Could you help to review the latest patch based on Hive-0.11?
btw, 
HIVE-3685.1.patch-trunk.txt is based on Hive-0.8.0 and Hive-0.9.0.

Thank you

, Preparing for 0.12 release. Removing fix version of 0.12 for those that are not in 0.12 branch.
, Not applicable anymore, test case works for later Hive versions with IBM JDK 7.]