[[~daijy] since you exposed this problem, and [~jcamachorodriguez] since you created the test, and [~ychena]: Can you tell me if I am incorrect, and if not then any insights into what the issue might be? Thanks., [~klcopp], I think you are right, default@src should not be the input for query select * from `v1_n9` .
The issue might be CTAS' dependencies (input) should only be checked when parse the CTAS statement (itself), it should not be checked when the created table used in other queries. The issue looks like masking_test_subq_n1 is checked as part of  CTAS in the query, but should not: it is only an ordinary table., [~klcopp], this does not seem to be a bug, as behavior conforms with the masking policies defined for the test: https://github.com/apache/hive/blob/6340a81f487c407f63cf2a00e39b2f905328d74e/itests/util/src/main/java/org/apache/hadoop/hive/ql/security/authorization/plugin/sqlstd/SQLStdHiveAuthorizationValidatorForTest.java#L146
Explain plan should shed more light into what is going on underneath., Closing as not a problem, please reopen if you still believe this is an issue., Thank you, [~jcamachorodriguez] and [~ychena] for answering, this was enlightening :) ]