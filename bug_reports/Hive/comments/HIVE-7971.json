[RB at https://reviews.apache.org/r/25320/, 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12666373/HIVE-7971.1.patch

{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 6143 tests executed
*Failed tests:*
{noformat}
org.apache.hive.hcatalog.pig.TestOrcHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/628/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/628/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-628/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12666373, Comments on rb

I think we should document when this is useful:

- when to use the table level statement (regular schema update for new partitions)
- you're only changing a partition's schema, not the table
- this will just re-interpret the existing partition's data
- this is meant to fix broken partitions (decimal hive12 -> hive13)

Also, unless you allow changing multiple partitions at once, it will still be a pain to update all partitions after an upgrade to hive 13. There might be thousands., The alter table command does not currently have the ability to alter multiple partitions at once. True it will still be painful to have to potentially change lots of existing partitions, but we need to at least give the user a way to change the existing partition due to the reasons listed above., Address RB feedback from Gunther., 

{color:green}Overall{color}: +1 all checks pass

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12668814/HIVE-7971.2.patch

{color:green}SUCCESS:{color} +1 6279 tests passed

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/809/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/809/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-809/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12668814, The patch looks good, but I added some follow up questions on rb. Maybe better here:

- dynamic partition: You're saying that's not supported, is this at the parser level? did you enable the flag?
  - if that's not there, it will be hard to update all partitions (your decimal use case), but that could be another jira/time

- default partition: You're saying this doesn't work. Without it you can't completely update the table though, right? Is this easy to add?

- reordering has no effect: hm, this should be the serde that reconciles the difference between table and schema right? If that's broken altogether then probably just file another jira. I just want to make sure it's not just this patch not updating all fields. Are there any serdes that work?, Update testing to test with dynamic partitions, default values., 

{color:red}Overall{color}: -1 at least one tests failed

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12671358/HIVE-7971.3.patch

{color:red}ERROR:{color} -1 due to 1 failed/errored test(s), 6357 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.ql.parse.TestParse.testParse_union
{noformat}

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/999/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/999/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-999/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12671358, +1 LGTM, [~vikram.dixit] candidate for .14? This helps folks upgrade from hive .12 if they are using decimals., Committed to trunk and 0.14 branch., As far as docs, I've updated the VersionInfo at https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterColumn, Doc note:  This belongs in the wiki's DDL doc with version information and guidance (see previous comments).

* [DDL -- Alter Column | https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterColumn]
* [Gunther's doc comment | https://issues.apache.org/jira/browse/HIVE-7971?focusedCommentId=14131948&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14131948]
* [Jason's comment (multiple partitions) | https://issues.apache.org/jira/browse/HIVE-7971?focusedCommentId=14134238&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14134238], Thanks,  [~jdere].  Shouldn't the syntax also be updated for ADD | REPLACE COLUMNS?, Docs are done, removing TODOC14 label.

* [DDL -- Alter Column | https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterColumn], This has been fixed in 0.14 release. Please open new jira if you see any issues.
, Attaching patch for 0.13 branch for interested parties., I documented the 0.13 patch in the wiki:

* [DDL -- Change Column Name/Type/Position/Comment | https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ChangeColumnName/Type/Position/Comment]]