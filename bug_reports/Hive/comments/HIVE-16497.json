[GitHub user thejasmn opened a pull request:

    https://github.com/apache/hive/pull/171

    HIVE-16497 : FileUtils. isActionPermittedForFileHierarchy, isOwnerOfF…

    …ileHierarchy file system operations should be impersonated

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/thejasmn/hive HIVE-16497

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/hive/pull/171.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #171
    
----
commit e1d0953b99203e76e4e42f673e82d8bf59baed3b
Author: Thejas M Nair <thejas@hortonworks.com>
Date:   2017-04-21T09:07:31Z

    HIVE-16497 : FileUtils. isActionPermittedForFileHierarchy, isOwnerOfFileHierarchy file system operations should be impersonated

----
, [~sushanth] can you please review ?
, +1, Lokks good to me., (once the unit tests return, we can commit), 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12864459/HIVE-16497.1.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 12 failed/errored test(s), 10622 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_index] (batchId=225)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=143)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[authorization_uri_add_partition] (batchId=87)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[authorization_uri_alterpart_loc] (batchId=87)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[authorization_uri_create_table1] (batchId=88)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[authorization_uri_create_table_ext] (batchId=88)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[authorization_uri_createdb] (batchId=88)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[authorization_uri_index] (batchId=88)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[authorization_uri_insert] (batchId=87)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[authorization_uri_insert_local] (batchId=88)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[authorization_uri_load_data] (batchId=87)
org.apache.hadoop.hive.cli.TestSparkNegativeCliDriver.org.apache.hadoop.hive.cli.TestSparkNegativeCliDriver (batchId=236)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/4837/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/4837/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-4837/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 12 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12864459 - PreCommit-HIVE-Build, Fixing the test failures.
, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12864705/HIVE-16497.2.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 10628 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_index] (batchId=225)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=143)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/4857/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/4857/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-4857/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12864705 - PreCommit-HIVE-Build, +1, LGTM., Marking this as resolved, the patch is committed to master., Hive 3.0.0 has been released so closing this jira.]