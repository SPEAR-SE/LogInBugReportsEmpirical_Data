[I will take a look, Can you also create a review-board request ?, https://reviews.apache.org/r/559/, it looks good to me. Thanks Yongqiang, Uploading a new patch to address namit's comments.

Note, there is an existing bug in hive that cause results of auto_join29.q is not correct. 
Let's file another jira for it.
basically, if the outer join filter is enabled, the query "SELECT /*+mapjoin(src1, src2)*/ * FROM src src1 RIGHT OUTER JOIN src src2 ON (src1.key = src2.key AND src1.key < 10 AND src2.key > 10) JOIN src src3 ON (src2.key = src3.key AND src3.key < 10) SORT BY src1.key, src1.value, src2.key, src2.value, src3.key, src3.value;" will give wrong results in today's hive., Committed. Thanks Yongqiang, I think I'm hitting this issue with an 0.7.1 installation - can you provide information about how big the tables need to be in order to trigger the NullPointerException?]