[This is fixed in Calcite as part of CALCITE-365. It's worth re-evaluating when Hive picks up Calcite 1.12.

By the way, it's ambiguous in [~rhbutani]'s description above, but the query should return two rows (yes, including PNum=8). I confirmed on Postgres:

{noformat}
> create table Part (PNum int, OrderOnHand int);
CREATE TABLE
> insert into Part values (3,6),(10,1),(8,0);
INSERT 0 3
> create table Supply (PNum int, Qty int);
CREATE TABLE
> insert into Supply values (3,4),(3,2),(10,1);
INSERT 0 3
> select pnum                                  
from Part p
where orderOnHand
     in (select count(*) from Supply s
          where s.pnum = p.pnum
         );
 pnum 
------
   10
    8
(2 rows)
{noformat}]