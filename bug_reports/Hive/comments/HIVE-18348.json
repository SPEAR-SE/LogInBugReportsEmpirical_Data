[TxnHandler needs to use 2 pools otherwise it can deadlock., [~ekoifman] Does it require 2 separate pools or guaranteed connection for cleaner and other threads? How is it different from having 2 separate pools vs single big pool of 2x size?, It does require 2 pools.
connPoolMutex is used to manage locking (as in multiple metastores trying to perform the same op) via RDBMS.
This has to be done in a separate pool otherwise if you have many concurrent ops you may end up with the 1st pool being maxed out but and so the all operation get blocked because they need another connection to acquire the mutex.  HIVE-16321 has more details. ]