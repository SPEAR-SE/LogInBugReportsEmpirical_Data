[Hello [~Rajkumar Singh], could you review this patch?, GitHub user pudidic opened a pull request:

    https://github.com/apache/hive/pull/381

    HIVE-20033: Backport HIVE-19432 to branch-2, branch-3 (Teddy Choi)

    

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/pudidic/hive HIVE-20033-branch-3

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/hive/pull/381.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #381
    
----
commit ecafc8062fe768d2a3900a51331272734a536d18
Author: Teddy Choi <pudidic@...>
Date:   2018-06-29T09:04:40Z

    HIVE-20033: Backport HIVE-19432 to branch-2, branch-3 (Teddy Choi)

----
, GitHub user pudidic opened a pull request:

    https://github.com/apache/hive/pull/382

    HIVE-20033: Backport HIVE-19432 to branch-2, branch-3 (Teddy Choi)

    

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/pudidic/hive HIVE-20033-branch-2

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/hive/pull/382.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #382
    
----
commit f4b50ce0787671e82ef9c9a3ff0aaa4540026a9c
Author: Teddy Choi <pudidic@...>
Date:   2018-06-29T09:10:19Z

    HIVE-20033: Backport HIVE-19432 to branch-2, branch-3 (Teddy Choi)

----
, [~teddy.choi] patch looks good., Thanks, [~Rajkumar Singh]., 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12929702/HIVE-20033.1.branch-2.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/12295/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/12295/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-12295/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command 'bash /data/hiveptest/working/scratch/source-prep.sh' failed with exit status 1 and output '+ date '+%Y-%m-%d %T.%3N'
2018-07-01 06:58:50.584
+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]
+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export 'ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m '
+ ANT_OPTS='-Xmx1g -XX:MaxPermSize=256m '
+ export 'MAVEN_OPTS=-Xmx1g '
+ MAVEN_OPTS='-Xmx1g '
+ cd /data/hiveptest/working/
+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-12295/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ date '+%Y-%m-%d %T.%3N'
2018-07-01 06:58:50.587
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 1c33fea HIVE-19970: Replication dump has a NPE when table is empty (Mahesh Kumar Behera, reviewed by Peter Vary, Sankar Hariappan)
+ git clean -f -d
+ git checkout master
Already on 'master'
Your branch is up-to-date with 'origin/master'.
+ git reset --hard origin/master
HEAD is now at 1c33fea HIVE-19970: Replication dump has a NPE when table is empty (Mahesh Kumar Behera, reviewed by Peter Vary, Sankar Hariappan)
+ git merge --ff-only origin/master
Already up-to-date.
+ date '+%Y-%m-%d %T.%3N'
2018-07-01 06:58:51.232
+ rm -rf ../yetus_PreCommit-HIVE-Build-12295
+ mkdir ../yetus_PreCommit-HIVE-Build-12295
+ git gc
+ cp -R . ../yetus_PreCommit-HIVE-Build-12295
+ mkdir /data/hiveptest/logs/PreCommit-HIVE-Build-12295/yetus
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: patch failed: service/src/java/org/apache/hive/service/cli/operation/GetTablesOperation.java:102
Falling back to three-way merge...
Applied patch to 'service/src/java/org/apache/hive/service/cli/operation/GetTablesOperation.java' with conflicts.
Going to apply patch with: git apply -p0
error: patch failed: service/src/java/org/apache/hive/service/cli/operation/GetTablesOperation.java:102
Falling back to three-way merge...
Applied patch to 'service/src/java/org/apache/hive/service/cli/operation/GetTablesOperation.java' with conflicts.
U service/src/java/org/apache/hive/service/cli/operation/GetTablesOperation.java
+ result=1
+ '[' 1 -ne 0 ']'
+ rm -rf yetus_PreCommit-HIVE-Build-12295
+ exit 1
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12929702 - PreCommit-HIVE-Build, uploaded HIVE-20033.02.branch-3.patch to trigger new tests, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12935336/HIVE-20033.02.branch-3.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/13188/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/13188/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-13188/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command 'bash /data/hiveptest/working/scratch/source-prep.sh' failed with exit status 1 and output '+ date '+%Y-%m-%d %T.%3N'
2018-08-13 09:36:39.641
+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]
+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export 'ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m '
+ ANT_OPTS='-Xmx1g -XX:MaxPermSize=256m '
+ export 'MAVEN_OPTS=-Xmx1g '
+ MAVEN_OPTS='-Xmx1g '
+ cd /data/hiveptest/working/
+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-13188/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ date '+%Y-%m-%d %T.%3N'
2018-08-13 09:36:39.645
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 434754c HIVE-20329: Long running repl load (incr/bootstrap) causing OOM error (Mahesh Kumar Behera, reviewed by Sankar Hariappan)
+ git clean -f -d
Removing standalone-metastore/metastore-common/
Removing standalone-metastore/metastore-server/
Removing upgrade-acid/pre-upgrade/
+ git checkout master
Switched to branch 'master'
Your branch is behind 'origin/master' by 2 commits, and can be fast-forwarded.
  (use "git pull" to update your local branch)
+ git reset --hard origin/master
HEAD is now at 681051f HIVE-20329: Long running repl load (incr/bootstrap) causing OOM error (Mahesh Kumar Behera, reviewed by Sankar Hariappan)
+ git merge --ff-only origin/master
Already up-to-date.
+ date '+%Y-%m-%d %T.%3N'
2018-08-13 09:36:43.031
+ rm -rf ../yetus_PreCommit-HIVE-Build-13188
+ mkdir ../yetus_PreCommit-HIVE-Build-13188
+ git gc
+ cp -R . ../yetus_PreCommit-HIVE-Build-13188
+ mkdir /data/hiveptest/logs/PreCommit-HIVE-Build-13188/yetus
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: patch failed: service/src/java/org/apache/hive/service/cli/operation/GetTablesOperation.java:102
Falling back to three-way merge...
Applied patch to 'service/src/java/org/apache/hive/service/cli/operation/GetTablesOperation.java' with conflicts.
Going to apply patch with: git apply -p0
error: patch failed: service/src/java/org/apache/hive/service/cli/operation/GetTablesOperation.java:102
Falling back to three-way merge...
Applied patch to 'service/src/java/org/apache/hive/service/cli/operation/GetTablesOperation.java' with conflicts.
U service/src/java/org/apache/hive/service/cli/operation/GetTablesOperation.java
+ result=1
+ '[' 1 -ne 0 ']'
+ rm -rf yetus_PreCommit-HIVE-Build-13188
+ exit 1
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12935336 - PreCommit-HIVE-Build, I think patch was tried to be applied to master instead of branch-3 because of incorrect patch file name, uploading new HIVE-20033.02-branch-3.patch, | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:red}-1{color} | {color:red} patch {color} | {color:red}  0m 16s{color} | {color:red} /data/hiveptest/logs/PreCommit-HIVE-Build-13193/patches/PreCommit-HIVE-Build-13193.patch does not apply to master. Rebase required? Wrong Branch? See http://cwiki.apache.org/confluence/display/Hive/HowToContribute for help. {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Console output | http://104.198.109.242/logs//PreCommit-HIVE-Build-13193/yetus.txt |
| Powered by | Apache Yetus    http://yetus.apache.org |


This message was automatically generated.

, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12935392/HIVE-20033.02-branch-3.patch

{color:red}ERROR:{color} -1 due to no test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 103 failed/errored test(s), 14426 tests executed
*Failed tests:*
{noformat}
TestAddPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestAddPartitionsFromPartSpec - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestAdminUser - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestAggregateStatsCache - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestAlterPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestAppendPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestBeeLineDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=273)
TestCachedStore - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestCatalogCaching - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestCatalogNonDefaultClient - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestCatalogNonDefaultSvr - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestCatalogOldClient - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestCatalogs - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestCheckConstraint - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestDataSourceProviderFactory - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestDatabases - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestDeadline - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestDefaultConstraint - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestDropPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestDummy - did not produce a TEST-*.xml file (likely timed out) (batchId=273)
TestEmbeddedHiveMetaStore - did not produce a TEST-*.xml file (likely timed out) (batchId=231)
TestExchangePartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestFMSketchSerialization - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestFilterHooks - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestForeignKey - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestFunctions - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestGetPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestGetTableMeta - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestHLLNoBias - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestHLLSerialization - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestHdfsUtils - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestHiveAlterHandler - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestHiveMetaStoreGetMetaConf - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestHiveMetaStorePartitionSpecs - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestHiveMetaStoreSchemaMethods - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestHiveMetaStoreTimeout - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestHiveMetaStoreTxns - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestHiveMetaStoreWithEnvironmentContext - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
TestHiveMetastoreCli - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestHyperLogLog - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestHyperLogLogDense - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestHyperLogLogMerge - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestHyperLogLogSparse - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestJSONMessageDeserializer - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestListPartitions - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestLockRequestBuilder - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestMarkPartition - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestMarkPartitionRemote - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestMetaStoreConnectionUrlHook - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestMetaStoreEndFunctionListener - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestMetaStoreEventListener - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMetaStoreEventListenerOnlyOnCommit - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestMetaStoreEventListenerWithOldConf - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestMetaStoreInitListener - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestMetaStoreListenersError - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestMetaStoreSchemaFactory - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestMetaStoreSchemaInfo - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestMetaStoreUtils - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestMetastoreConf - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestMetastoreSchemaTool - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestMetrics - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestMiniDruidCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=273)
TestMiniDruidKafkaCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=273)
TestNotNullConstraint - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestObjectStore - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestObjectStoreInitRetry - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestObjectStoreSchemaMethods - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestOldSchema - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestPartitionNameWhitelistValidation - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestPreUpgradeTool - did not produce a TEST-*.xml file (likely timed out) (batchId=331)
TestPrimaryKey - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestRawStoreProxy - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestRemoteHiveMetaStore - did not produce a TEST-*.xml file (likely timed out) (batchId=232)
TestRemoteHiveMetaStoreIpAddress - did not produce a TEST-*.xml file (likely timed out) (batchId=226)
TestRemoteUGIHiveMetaStoreIpAddress - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestRetriesInRetryingHMSHandler - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestRetryingHMSHandler - did not produce a TEST-*.xml file (likely timed out) (batchId=236)
TestRuntimeStats - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestSchemaToolForMetastore - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestSetUGIOnBothClientServer - did not produce a TEST-*.xml file (likely timed out) (batchId=229)
TestSetUGIOnOnlyClient - did not produce a TEST-*.xml file (likely timed out) (batchId=227)
TestSetUGIOnOnlyServer - did not produce a TEST-*.xml file (likely timed out) (batchId=237)
TestSparseEncodeHash - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestStats - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestStatsSetupConst - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestTableIterable - did not produce a TEST-*.xml file (likely timed out) (batchId=238)
TestTablesCreateDropAlterTruncate - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestTablesGetExists - did not produce a TEST-*.xml file (likely timed out) (batchId=230)
TestTablesList - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestTezPerfCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=273)
TestTxnHandlerNegative - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestTxnUtils - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
TestUniqueConstraint - did not produce a TEST-*.xml file (likely timed out) (batchId=228)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_mv] (batchId=85)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[mm_all] (batchId=71)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[mm_all] (batchId=154)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[materialized_view_partitioned_2] (batchId=173)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[materialized_view_partitioned_3] (batchId=173)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[results_cache_with_masking] (batchId=175)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[constprog_semijoin] (batchId=189)
org.apache.hadoop.hive.ql.TestWarehouseExternalDir.testManagedPaths (batchId=250)
org.apache.hive.service.TestHS2ImpersonationWithRemoteMS.testImpersonation (batchId=258)
org.apache.hive.spark.client.rpc.TestRpc.testServerPort (batchId=325)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/13193/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/13193/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-13193/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.YetusPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 103 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12935392 - PreCommit-HIVE-Build, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12935498/HIVE-20033.03-branch-3.patch

{color:red}ERROR:{color} -1 due to build exiting with an error

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/13215/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/13215/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-13215/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command 'bash /data/hiveptest/working/scratch/source-prep.sh' failed with exit status 1 and output '+ date '+%Y-%m-%d %T.%3N'
2018-08-14 17:17:46.696
+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]
+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export 'ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m '
+ ANT_OPTS='-Xmx1g -XX:MaxPermSize=256m '
+ export 'MAVEN_OPTS=-Xmx1g '
+ MAVEN_OPTS='-Xmx1g '
+ cd /data/hiveptest/working/
+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-13215/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z branch-3 ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ date '+%Y-%m-%d %T.%3N'
2018-08-14 17:17:46.701
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at bfa69e1 HIVE-19316: StatsTask fails due to ClassCastException (Jaume Marhuenda, reviewed by Jesus Camacho Rodriguez)
+ git clean -f -d
Removing standalone-metastore/metastore-server/src/gen/
+ git checkout branch-3
Switched to branch 'branch-3'
Your branch is behind 'origin/branch-3' by 1 commit, and can be fast-forwarded.
  (use "git pull" to update your local branch)
+ git reset --hard origin/branch-3
HEAD is now at 2f02f19 HIVE-19316: StatsTask fails due to ClassCastException (Jaume Marhuenda, reviewed by Jesus Camacho Rodriguez)
+ git merge --ff-only origin/branch-3
Already up-to-date.
+ date '+%Y-%m-%d %T.%3N'
2018-08-14 17:17:51.122
+ rm -rf ../yetus_PreCommit-HIVE-Build-13215
+ mkdir ../yetus_PreCommit-HIVE-Build-13215
+ git gc
+ cp -R . ../yetus_PreCommit-HIVE-Build-13215
+ mkdir /data/hiveptest/logs/PreCommit-HIVE-Build-13215/yetus
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
Going to apply patch with: git apply -p0
+ [[ maven == \m\a\v\e\n ]]
+ rm -rf /data/hiveptest/working/maven/org/apache/hive
+ mvn -B clean install -DskipTests -T 4 -q -Dmaven.repo.local=/data/hiveptest/working/maven
protoc-jar: executing: [/tmp/protoc252261677500410531.exe, --version]
libprotoc 2.5.0
protoc-jar: executing: [/tmp/protoc252261677500410531.exe, -I/data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/protobuf/org/apache/hadoop/hive/metastore, --java_out=/data/hiveptest/working/apache-github-source-source/standalone-metastore/target/generated-sources, /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/protobuf/org/apache/hadoop/hive/metastore/metastore.proto]
ANTLR Parser Generator  Version 3.5.2
Output file /data/hiveptest/working/apache-github-source-source/standalone-metastore/target/generated-sources/org/apache/hadoop/hive/metastore/parser/FilterParser.java does not exist: must build /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/parser/Filter.g
org/apache/hadoop/hive/metastore/parser/Filter.g
[ERROR] COMPILATION ERROR : 
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/DateColumnStatsMerger.java:[27,59] cannot find symbol
  symbol:   class ColumnsStatsUtils
  location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/DateColumnStatsMerger.java:[27,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/DecimalColumnStatsMerger.java:[27,59] cannot find symbol
  symbol:   class ColumnsStatsUtils
  location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/DecimalColumnStatsMerger.java:[27,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/DateColumnStatsAggregator.java:[41,59] cannot find symbol
  symbol:   class ColumnsStatsUtils
  location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/DateColumnStatsAggregator.java:[41,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/StringColumnStatsMerger.java:[26,59] cannot find symbol
  symbol:   class ColumnsStatsUtils
  location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/StringColumnStatsMerger.java:[26,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/DoubleColumnStatsAggregator.java:[40,59] cannot find symbol
  symbol:   class ColumnsStatsUtils
  location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/DoubleColumnStatsAggregator.java:[40,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/LongColumnStatsMerger.java:[26,59] cannot find symbol
  symbol:   class ColumnsStatsUtils
  location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/LongColumnStatsMerger.java:[26,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/StringColumnStatsAggregator.java:[41,59] cannot find symbol
  symbol:   class ColumnsStatsUtils
  location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/StringColumnStatsAggregator.java:[41,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/LongColumnStatsAggregator.java:[41,59] cannot find symbol
  symbol:   class ColumnsStatsUtils
  location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/LongColumnStatsAggregator.java:[41,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/DoubleColumnStatsMerger.java:[26,59] cannot find symbol
  symbol:   class ColumnsStatsUtils
  location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/DoubleColumnStatsMerger.java:[26,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/DecimalColumnStatsAggregator.java:[43,59] cannot find symbol
  symbol:   class ColumnsStatsUtils
  location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/DecimalColumnStatsAggregator.java:[43,1] static import only from classes and interfaces
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.5.1:compile (default-compile) on project hive-standalone-metastore: Compilation failure: Compilation failure:
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/DateColumnStatsMerger.java:[27,59] cannot find symbol
[ERROR] symbol:   class ColumnsStatsUtils
[ERROR] location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/DateColumnStatsMerger.java:[27,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/DecimalColumnStatsMerger.java:[27,59] cannot find symbol
[ERROR] symbol:   class ColumnsStatsUtils
[ERROR] location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/DecimalColumnStatsMerger.java:[27,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/DateColumnStatsAggregator.java:[41,59] cannot find symbol
[ERROR] symbol:   class ColumnsStatsUtils
[ERROR] location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/DateColumnStatsAggregator.java:[41,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/StringColumnStatsMerger.java:[26,59] cannot find symbol
[ERROR] symbol:   class ColumnsStatsUtils
[ERROR] location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/StringColumnStatsMerger.java:[26,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/DoubleColumnStatsAggregator.java:[40,59] cannot find symbol
[ERROR] symbol:   class ColumnsStatsUtils
[ERROR] location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/DoubleColumnStatsAggregator.java:[40,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/LongColumnStatsMerger.java:[26,59] cannot find symbol
[ERROR] symbol:   class ColumnsStatsUtils
[ERROR] location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/LongColumnStatsMerger.java:[26,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/StringColumnStatsAggregator.java:[41,59] cannot find symbol
[ERROR] symbol:   class ColumnsStatsUtils
[ERROR] location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/StringColumnStatsAggregator.java:[41,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/LongColumnStatsAggregator.java:[41,59] cannot find symbol
[ERROR] symbol:   class ColumnsStatsUtils
[ERROR] location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/LongColumnStatsAggregator.java:[41,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/DoubleColumnStatsMerger.java:[26,59] cannot find symbol
[ERROR] symbol:   class ColumnsStatsUtils
[ERROR] location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/merge/DoubleColumnStatsMerger.java:[26,1] static import only from classes and interfaces
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/DecimalColumnStatsAggregator.java:[43,59] cannot find symbol
[ERROR] symbol:   class ColumnsStatsUtils
[ERROR] location: package org.apache.hadoop.hive.metastore.columnstats
[ERROR] /data/hiveptest/working/apache-github-source-source/standalone-metastore/src/main/java/org/apache/hadoop/hive/metastore/columnstats/aggr/DecimalColumnStatsAggregator.java:[43,1] static import only from classes and interfaces
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <goals> -rf :hive-standalone-metastore
+ result=1
+ '[' 1 -ne 0 ']'
+ rm -rf yetus_PreCommit-HIVE-Build-13215
+ exit 1
'
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12935498 - PreCommit-HIVE-Build]