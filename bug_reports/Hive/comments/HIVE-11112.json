[org.apache.hadoop.io.Text 's byte array is not necessarily null terminated. But 
SerDeUtils.transformTextToUTF8 method just use Text byte array to create String object which causes the unclean buffer issue.
Fix it by using String constructor with lengh info.
, Need code review., 

{color:green}Overall{color}: +1 all checks pass

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12741917/HIVE-11112.1.patch

{color:green}SUCCESS:{color} +1 9026 tests passed

Test results: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4388/testReport
Console output: http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4388/console
Test logs: http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4388/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12741917 - PreCommit-HIVE-TRUNK-Build, [~ctang.ma] , [~xuefuz] could you review the change? Thanks, +1, Thanks [~xuefuz] for reviewing it. , [~ychena], could you check if the patch in HIVE-10983 fixes the problem here. I like the test case here though., [~ychena]  provide a very good test caseÔºÅ
can I merge the test case of this patch into HIve-10983?  , [~wisgood], you can merge my test case. I just solve my jira, you just merge my fixes and commit from your jira. Thanks, Hi [~wisgood], I think you should add test case for https://issues.apache.org/jira/browse/HIVE-11095, and close HIVE-10983 as duplicate. 
For HIVE-11112 and HIVE-11095 cover different case, but HIVE-10983 duplicate both. And I am in a hurry to have HIVE-11112 committed. Thanks, To accelerate the process, I committed the patch here to branch-1 and master. [~wisgood], could you consolidate HIVE-11095 and HIVE-10983? Add a test case if needed. I should be able to review it quickly. Thanks.

Thanks to Yongzhi and Xiaowei for working on this., Ok,I will try to add a test case today for HIVE_10983,HIVE_10983 and HIVE-11112 cover different case ,but HIVE-10983 duplicate both.,  I have added  a test case in HIVE-11095 ,so I need code review. The test have passed . 
Thanks!, The above is wrong .
I will try to add a test case today for HIVE_11095,HIVE_11095 and HIVE-11112 cover different case ,but HIVE-10983 duplicate both.]