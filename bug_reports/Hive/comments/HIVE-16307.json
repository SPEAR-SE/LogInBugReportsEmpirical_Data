[Need to test this.
[~prasanth_j] can you take a look?, 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12860782/HIVE-16307.patch

{color:green}SUCCESS:{color} +1 due to 3 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 2 failed/errored test(s), 10514 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[comments] (batchId=35)
org.apache.hive.hcatalog.api.TestHCatClient.testTransportFailure (batchId=172)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/4406/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/4406/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-4406/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12860782 - PreCommit-HIVE-Build, Need to fix arena output to not output empty lists and also make it shorter/move it to the bottom. Other than that this works., Updated the patch based on my testing.
[~sseth] [~prasanth_j] [~gopalv] low stakes patch, simple to review :), 

Here are the results of testing the latest attachment:
https://issues.apache.org/jira/secure/attachment/12861326/HIVE-16307.01.patch

{color:green}SUCCESS:{color} +1 due to 3 test(s) being added or modified.

{color:red}ERROR:{color} -1 due to 5 failed/errored test(s), 10540 tests executed
*Failed tests:*
{noformat}
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[comments] (batchId=35)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=141)
org.apache.hive.hcatalog.api.TestHCatClient.testTransportFailure (batchId=172)
org.apache.hive.hcatalog.pig.TestTextFileHCatStorer.testWriteChar (batchId=175)
org.apache.hive.hcatalog.pig.TestTextFileHCatStorer.testWriteDate2 (batchId=175)
{noformat}

Test results: https://builds.apache.org/job/PreCommit-HIVE-Build/4476/testReport
Console output: https://builds.apache.org/job/PreCommit-HIVE-Build/4476/console
Test logs: http://104.198.109.242/logs/PreCommit-HIVE-Build-4476/

Messages:
{noformat}
Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
{noformat}

This message is automatically generated.

ATTACHMENT ID: 12861326 - PreCommit-HIVE-Build, [~prasanth_j] ping?, +1

Not sure if it will be useful for the output to be json formatted so that UI/tools can consume the output., Committed to master. Thanks for the review! I'll file a bug to do JSON conversion some day, [~sershe], the commit to master has a typo in the JIRA number.  It says HIVE-16037 instead of HIVE-16307.  Please update errata.txt for commit 5facfbb863366d7a661c21c57011b8dbe43f52e0.  Thanks.

Example of updating errata.txt:  HIVE-11876. , Updated. Thanks for pointing this out!, Backported to branch-2 with the commit message corrected., Hive 3.0.0 has been released so closing this jira.]