{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "fields": {
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "aggregatetimeestimate": null,
        "aggregatetimeoriginalestimate": null,
        "aggregatetimespent": null,
        "assignee": null,
        "components": [{
            "description": "Issues related to Hive Query Language and its conformance with ANSI SQL.",
            "id": "12315100",
            "name": "SQL",
            "self": "https://issues.apache.org/jira/rest/api/2/component/12315100"
        }],
        "created": "2013-03-21T10:56:36.000+0000",
        "creator": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10436",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10436",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10436",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10436"
            },
            "displayName": "Daisy.Yuan",
            "key": "daisy_yu",
            "name": "daisy_yu",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=daisy_yu",
            "timeZone": "Asia/Shanghai"
        },
        "customfield_10010": null,
        "customfield_12310191": null,
        "customfield_12310192": null,
        "customfield_12310220": "2013-04-07T00:38:05.666+0000",
        "customfield_12310222": null,
        "customfield_12310230": null,
        "customfield_12310250": null,
        "customfield_12310290": null,
        "customfield_12310291": null,
        "customfield_12310300": null,
        "customfield_12310310": "2.0",
        "customfield_12310320": null,
        "customfield_12310420": "318683",
        "customfield_12310920": "319024",
        "customfield_12310921": null,
        "customfield_12311020": null,
        "customfield_12311024": null,
        "customfield_12311120": null,
        "customfield_12311820": "0|i1izkn:",
        "customfield_12312022": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "customfield_12312026": null,
        "customfield_12312220": null,
        "customfield_12312320": null,
        "customfield_12312321": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312324": null,
        "customfield_12312325": null,
        "customfield_12312326": null,
        "customfield_12312327": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312330": null,
        "customfield_12312331": null,
        "customfield_12312332": null,
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12312335": null,
        "customfield_12312336": null,
        "customfield_12312337": null,
        "customfield_12312338": null,
        "customfield_12312339": null,
        "customfield_12312340": null,
        "customfield_12312341": null,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Sep 04 11:43:12 UTC 2013",
        "customfield_12312720": null,
        "customfield_12312823": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "customfield_12312923": null,
        "customfield_12313422": "false",
        "customfield_12313520": null,
        "description": "create table UnionBoolA (id boolean, no boolean) row format delimited fields terminated by ' ';\nload data local inpath '/opt/files/unionboola.txt' into table UnionBoolA;\ncreate table UnionPartionBool (id int) partitioned by (no boolean) row format delimited fields terminated by ' ';\nload data local inpath '/opt/files/unionpartint.txt' into table UnionPartionBool partition(no=true);\n\nunionboola.txt:\ntrue true\nfalse true\ntrue true\nfalse true\n\nunionpartint.txt:\n111\n444\n1122\n44\n\nwhen I execute\n\"select * from( select no from UnionBoolA union all select no from UnionPartionBool) unionResult\", it is failed. The exception info is as follows:\nFAILED: Error in semantic analysis: 1:66 Schema of both sides of union should match: Column no is of type boolean on first table and type string on second table. Error encountered near token 'UnionPartionBool'\norg.apache.hadoop.hive.ql.parse.SemanticException: 1:66 Schema of both sides of union should match: Column no is of type boolean on first table and type string on second table. Error encountered near token 'UnionPartionBool'\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genUnionPlan(SemanticAnalyzer.java:6295)\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:6733)\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:6748)\n        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:7556)\n        at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:244)\n        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:621)\n        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:525)\n        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1153)\n        at org.apache.hadoop.hive.service.HiveServer$HiveServerHandler.execute(HiveServer.java:226)\n        at org.apache.hadoop.hive.service.ThriftHive$Processor$execute.getResult(ThriftHive.java:630)\n        at org.apache.hadoop.hive.service.ThriftHive$Processor$execute.getResult(ThriftHive.java:618)\n        at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:32)\n        at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:34)\n        at org.apache.hadoop.hive.thrift.HadoopThriftAuthBridge20S$Server$TUGIAssumingProcessor$1.run(HadoopThriftAuthBridge20S.java:535)\n        at org.apache.hadoop.hive.thrift.HadoopThriftAuthBridge20S$Server$TUGIAssumingProcessor$1.run(HadoopThriftAuthBridge20S.java:532)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:396)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1232)\n        at org.apache.hadoop.hive.thrift.HadoopThriftAuthBridge20S$Server$TUGIAssumingProcessor.process(HadoopThriftAuthBridge20S.java:532)\n        at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:176)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:662)\n\n\nSo I execute \"explain select no from  UnionPartionBool\" to see the partition column, and find the partition column type is string.\nAnd all the partition column type is changed to be TypeInfoFactory.stringTypeInfo. It is in org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genTablePlan(). And it is todo task. Now I modify it to be TypeInfoFactory.getPrimitiveTypeInfo(part_col.getType()).It can fix this bug. \nAnd you can see what I modified in the patch.",
        "duedate": null,
        "environment": null,
        "fixVersions": [],
        "issuelinks": [],
        "issuetype": {
            "avatarId": 21133,
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "id": "1",
            "name": "Bug",
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "subtask": false
        },
        "labels": ["patch"],
        "lastViewed": null,
        "priority": {
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "id": "3",
            "name": "Major",
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3"
        },
        "progress": {
            "progress": 0,
            "total": 0
        },
        "project": {
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935",
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935"
            },
            "id": "12310843",
            "key": "HIVE",
            "name": "Hive",
            "projectCategory": {
                "description": "Scalable Distributed Computing",
                "id": "10292",
                "name": "Hadoop",
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/10292"
            },
            "self": "https://issues.apache.org/jira/rest/api/2/project/12310843"
        },
        "reporter": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10436",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10436",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10436",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10436"
            },
            "displayName": "Daisy.Yuan",
            "key": "daisy_yu",
            "name": "daisy_yu",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=daisy_yu",
            "timeZone": "Asia/Shanghai"
        },
        "resolution": null,
        "resolutiondate": null,
        "status": {
            "description": "A patch for this issue has been uploaded to JIRA by a contributor.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/document.png",
            "id": "10002",
            "name": "Patch Available",
            "self": "https://issues.apache.org/jira/rest/api/2/status/10002",
            "statusCategory": {
                "colorName": "yellow",
                "id": 4,
                "key": "indeterminate",
                "name": "In Progress",
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4"
            }
        },
        "subtasks": [],
        "summary": "Common column and partition column are defined the same type and union them, it will hints Schema of both sides of union should match. ",
        "timeestimate": null,
        "timeoriginalestimate": null,
        "timespent": null,
        "updated": "2013-09-04T11:43:12.000+0000",
        "versions": [
            {
                "archived": false,
                "description": "released",
                "id": "12317742",
                "name": "0.9.0",
                "releaseDate": "2012-04-30",
                "released": true,
                "self": "https://issues.apache.org/jira/rest/api/2/version/12317742"
            },
            {
                "archived": false,
                "description": "Hive 0.11.0",
                "id": "12323587",
                "name": "0.11.0",
                "releaseDate": "2013-05-15",
                "released": true,
                "self": "https://issues.apache.org/jira/rest/api/2/version/12323587"
            }
        ],
        "votes": {
            "hasVoted": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/HIVE-4211/votes",
            "votes": 0
        },
        "watches": {
            "isWatching": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/HIVE-4211/watchers",
            "watchCount": 4
        },
        "workratio": -1
    },
    "id": "12638207",
    "key": "HIVE-4211",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/12638207"
}