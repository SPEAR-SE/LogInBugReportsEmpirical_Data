{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "fields": {
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "aggregatetimeestimate": null,
        "aggregatetimeoriginalestimate": null,
        "aggregatetimespent": null,
        "assignee": null,
        "components": [{
            "description": "Issues related to Hive Query Language and its conformance with ANSI SQL.",
            "id": "12315100",
            "name": "SQL",
            "self": "https://issues.apache.org/jira/rest/api/2/component/12315100"
        }],
        "created": "2018-07-03T08:17:30.000+0000",
        "creator": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452"
            },
            "displayName": "gavin_shi",
            "key": "gavin_shi",
            "name": "gavin_shi",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=gavin_shi",
            "timeZone": "Etc/UTC"
        },
        "customfield_10010": null,
        "customfield_12310191": null,
        "customfield_12310192": null,
        "customfield_12310220": "2018-07-03T12:46:38.185+0000",
        "customfield_12310222": "1_*:*_1_*:*_744743000_*|*_5_*:*_1_*:*_0",
        "customfield_12310230": null,
        "customfield_12310250": null,
        "customfield_12310290": null,
        "customfield_12310291": null,
        "customfield_12310300": null,
        "customfield_12310310": "0.0",
        "customfield_12310320": [{
            "archived": false,
            "id": "12335837",
            "name": "2.2.0",
            "releaseDate": "2017-07-25",
            "released": true,
            "self": "https://issues.apache.org/jira/rest/api/2/version/12335837"
        }],
        "customfield_12310420": "9223372036854775807",
        "customfield_12310920": "9223372036854775807",
        "customfield_12310921": null,
        "customfield_12311020": null,
        "customfield_12311024": null,
        "customfield_12311120": null,
        "customfield_12311820": "0|i3vhf3:",
        "customfield_12312022": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "customfield_12312026": null,
        "customfield_12312220": null,
        "customfield_12312320": null,
        "customfield_12312321": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312324": null,
        "customfield_12312325": null,
        "customfield_12312326": null,
        "customfield_12312327": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312330": null,
        "customfield_12312331": null,
        "customfield_12312332": null,
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12312335": null,
        "customfield_12312336": null,
        "customfield_12312337": null,
        "customfield_12312338": null,
        "customfield_12312339": null,
        "customfield_12312340": null,
        "customfield_12312341": null,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Jul 03 22:41:11 UTC 2018",
        "customfield_12312720": null,
        "customfield_12312823": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "customfield_12312923": null,
        "customfield_12313422": "false",
        "customfield_12313520": null,
        "description": "Data cannot be inserted into a dynamic partition,The relevant table information is as follows：\r\n\r\nThe source table:\r\n{code:java}\r\n//代码占位符\r\ncreate table customer(id string,name string,gender string,state string) partitioned by(country string);\r\n\r\n{code}\r\nThe source table data：\r\n\r\n \r\n{code:java}\r\n//代码占位符\r\n+--------------+----------------+------------------+-----------------+-------------------+--+\r\n| customer.id | customer.name | customer.gender | customer.state | customer.country |\r\n+--------------+----------------+------------------+-----------------+-------------------+--+\r\n| 1 | gavin | 1 | shanghai | china |\r\n+--------------+----------------+------------------+-----------------+-------------------+--+\r\n\r\n{code}\r\n \r\n\r\nThe target table:\r\n\r\n \r\n{code:java}\r\n//代码占位符\r\ncreate table customer_bak(id string,name string,gender string,state string) partitioned by(country string);\r\n\r\n{code}\r\n \r\n\r\nNow I use dynamic techniques to insert data into the customer_bak table：\r\n{code:java}\r\n//代码占位符\r\nset hive.exec.dynamic.partition=true;\r\nset hive.exec.dynamic.partition.mode=nonstrict;\r\ninsert into table customer_bak partition(country) select id,name,gender,state,country from customer;\r\n{code}\r\nThe program is always executing and neither success nor failure is shown. The information in the hive log is as follows:\r\n{code:java}\r\n//代码占位符\r\n\r\n2018-06-28T16:01:22,900 INFO [HiveServer2-Background-Pool: Thread-97] ql.Driver: Executing command(queryId=hadoop_20180628160122_f80c5f8e-98a0-4286-bc55-c25efd7a60bc): insert into table customer_bak partition(country) select id,name,gender,state,country from customer\r\n2018-06-28T16:01:22,901 WARN [HiveServer2-Background-Pool: Thread-97] ql.Driver: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. tez, spark) or using Hive 1.X releases.\r\n2018-06-28T16:01:22,902 INFO [HiveServer2-Background-Pool: Thread-97] ql.Driver: WARNING: Hive-on-MR is deprecated in Hive 2 and may not be available in the future versions. Consider using a different execution engine (i.e. tez, spark) or using Hive 1.X releases.\r\n2018-06-28T16:01:22,902 INFO [HiveServer2-Background-Pool: Thread-97] ql.Driver: Query ID = hadoop_20180628160122_f80c5f8e-98a0-4286-bc55-c25efd7a60bc\r\n2018-06-28T16:01:22,903 INFO [HiveServer2-Background-Pool: Thread-97] ql.Driver: Total jobs = 3\r\n2018-06-28T16:01:22,904 INFO [HiveServer2-Background-Pool: Thread-97] ql.Driver: Launching Job 1 out of 3\r\n2018-06-28T16:01:22,907 INFO [HiveServer2-Background-Pool: Thread-97] ql.Driver: Starting task [Stage-1:MAPRED] in serial mode\r\n2018-06-28T16:01:22,908 INFO [HiveServer2-Background-Pool: Thread-97] exec.Task: Number of reduce tasks is set to 0 since there's no reduce operator\r\n2018-06-28T16:01:22,929 INFO [HiveServer2-Background-Pool: Thread-97] ql.Context: New scratch dir is hdfs://hadoop-cluster/tmp/hive/hadoop/07fd131c-6590-4081-b7ed-2f0ae5b16551/hive_2018-06-28_16-01-22_402_5116918946052746369-3\r\n2018-06-28T16:01:22,942 INFO [HiveServer2-Background-Pool: Thread-97] mr.ExecDriver: Using org.apache.hadoop.hive.ql.io.CombineHiveInputFormat\r\n2018-06-28T16:01:22,943 INFO [HiveServer2-Background-Pool: Thread-97] exec.Utilities: Processing alias customer\r\n2018-06-28T16:01:22,943 INFO [HiveServer2-Background-Pool: Thread-97] exec.Utilities: Adding 2 inputs; the first input is hdfs://hadoop-cluster/user/hive/warehouse/customer/country=china\r\n2018-06-28T16:01:22,943 INFO [HiveServer2-Background-Pool: Thread-97] exec.Utilities: Content Summary not cached for hdfs://hadoop-cluster/user/hive/warehouse/customer/country=china\r\n2018-06-28T16:01:22,945 INFO [HiveServer2-Background-Pool: Thread-97] exec.Utilities: Content Summary not cached for hdfs://hadoop-cluster/user/hive/warehouse/customer/country=usa\r\n2018-06-28T16:01:22,978 INFO [HiveServer2-Background-Pool: Thread-97] exec.Utilities: Changed input file hdfs://hadoop-cluster/user/hive/warehouse/customer/country=usa to empty file hdfs://hadoop-cluster/tmp/hive/hadoop/07fd131c-6590-4081-b7ed-2f0ae5b16551/hive_2018-06-28_16-01-22_402_5116918946052746369-3/-mr-10003/408baabf-a30d-4c00-a196-70e14e172036 (false)\r\n2018-06-28T16:01:22,979 INFO [HiveServer2-Background-Pool: Thread-97] ql.Context: New scratch dir is hdfs://hadoop-cluster/tmp/hive/hadoop/07fd131c-6590-4081-b7ed-2f0ae5b16551/hive_2018-06-28_16-01-22_402_5116918946052746369-3\r\n2018-06-28T16:01:22,996 INFO [HiveServer2-Background-Pool: Thread-97] exec.SerializationUtilities: Serializing MapWork using kryo\r\n2018-06-28T16:01:23,055 INFO [HiveServer2-Background-Pool: Thread-97] exec.Utilities: Serialized plan (via FILE) - name: null size: 4.86KB\r\n2018-06-28T16:01:29,318 INFO [HiveServer2-Background-Pool: Thread-97] fs.FSStatsPublisher: created : hdfs://hadoop-cluster/user/hive/warehouse/customer_bak/.hive-staging_hive_2018-06-28_16-01-22_402_5116918946052746369-1/-ext-10001\r\n2018-06-28T16:01:29,395 INFO [HiveServer2-Background-Pool: Thread-97] exec.Utilities: PLAN PATH = hdfs://hadoop-cluster/tmp/hive/hadoop/07fd131c-6590-4081-b7ed-2f0ae5b16551/hive_2018-06-28_16-01-22_402_5116918946052746369-3/-mr-10004/2cb63e68-2c77-4554-817a-0e25d700cf0f/map.xml\r\n2018-06-28T16:01:29,395 INFO [HiveServer2-Background-Pool: Thread-97] exec.Utilities: PLAN PATH = hdfs://hadoop-cluster/tmp/hive/hadoop/07fd131c-6590-4081-b7ed-2f0ae5b16551/hive_2018-06-28_16-01-22_402_5116918946052746369-3/-mr-10004/2cb63e68-2c77-4554-817a-0e25d700cf0f/reduce.xml\r\n2018-06-28T16:01:29,398 INFO [HiveServer2-Background-Pool: Thread-97] exec.Utilities: No plan file found: hdfs://hadoop-cluster/tmp/hive/hadoop/07fd131c-6590-4081-b7ed-2f0ae5b16551/hive_2018-06-28_16-01-22_402_5116918946052746369-3/-mr-10004/2cb63e68-2c77-4554-817a-0e25d700cf0f/reduce.xml\r\n2018-06-28T16:01:29,406 INFO [HiveServer2-Background-Pool: Thread-97] client.ConfiguredRMFailoverProxyProvider: Failing over to rm2\r\n2018-06-28T16:01:29,413 WARN [HiveServer2-Background-Pool: Thread-97] mapreduce.JobSubmitter: Hadoop command-line option parsing not performed. Implement the Tool interface and execute your application with ToolRunner to remedy this.\r\n2018-06-28T16:01:31,721 INFO [HiveServer2-Background-Pool: Thread-97] exec.Utilities: PLAN PATH = hdfs://hadoop-cluster/tmp/hive/hadoop/07fd131c-6590-4081-b7ed-2f0ae5b16551/hive_2018-06-28_16-01-22_402_5116918946052746369-3/-mr-10004/2cb63e68-2c77-4554-817a-0e25d700cf0f/map.xml\r\n2018-06-28T16:01:31,722 INFO [HiveServer2-Background-Pool: Thread-97] io.CombineHiveInputFormat: Total number of paths: 2, launching 1 threads to check non-combinable ones.\r\n2018-06-28T16:01:31,724 INFO [HiveServer2-Background-Pool: Thread-97] io.CombineHiveInputFormat: CombineHiveInputSplit creating pool for hdfs://hadoop-cluster/user/hive/warehouse/customer/country=china; using filter path hdfs://hadoop-cluster/user/hive/warehouse/customer/country=china\r\n2018-06-28T16:01:31,725 INFO [HiveServer2-Background-Pool: Thread-97] io.CombineHiveInputFormat: CombineHiveInputSplit: pool is already created for hdfs://hadoop-cluster/tmp/hive/hadoop/07fd131c-6590-4081-b7ed-2f0ae5b16551/hive_2018-06-28_16-01-22_402_5116918946052746369-3/-mr-10003/408baabf-a30d-4c00-a196-70e14e172036; using filter path hdfs://hadoop-cluster/tmp/hive/hadoop/07fd131c-6590-4081-b7ed-2f0ae5b16551/hive_2018-06-28_16-01-22_402_5116918946052746369-3/-mr-10003/408baabf-a30d-4c00-a196-70e14e172036\r\n2018-06-28T16:01:31,738 INFO [HiveServer2-Background-Pool: Thread-97] input.FileInputFormat: Total input paths to process : 2\r\n2018-06-28T16:01:31,742 INFO [HiveServer2-Background-Pool: Thread-97] input.CombineFileInputFormat: DEBUG: Terminated node allocation with : CompletedNodes: 3, size left: 0\r\n2018-06-28T16:01:31,742 INFO [HiveServer2-Background-Pool: Thread-97] io.CombineHiveInputFormat: number of splits 1\r\n2018-06-28T16:01:31,743 INFO [HiveServer2-Background-Pool: Thread-97] io.CombineHiveInputFormat: Number of all splits 1\r\n2018-06-28T16:01:31,853 INFO [HiveServer2-Background-Pool: Thread-97] mapreduce.JobSubmitter: number of splits:1\r\n2018-06-28T16:01:31,982 INFO [HiveServer2-Background-Pool: Thread-97] mapreduce.JobSubmitter: Submitting tokens for job: job_1530599349924_0007\r\n2018-06-28T16:01:32,220 INFO [HiveServer2-Background-Pool: Thread-97] impl.YarnClientImpl: Submitted application application_1530599349924_0007\r\n2018-06-28T16:01:32,226 INFO [HiveServer2-Background-Pool: Thread-97] mapreduce.Job: The url to track the job: http://cluster3:8088/proxy/application_1530599349924_0007/\r\n2018-06-28T16:01:32,227 INFO [HiveServer2-Background-Pool: Thread-97] exec.Task: Starting Job = job_1530599349924_0007, Tracking URL = http://cluster3:8088/proxy/application_1530599349924_0007/\r\n2018-06-28T16:01:32,227 INFO [HiveServer2-Background-Pool: Thread-97] exec.Task: Kill Command = /home/hadoop/app/hadoop_2.6/bin/hadoop job -kill job_1530599349924_0007\r\n2018-06-28T16:01:56,835 INFO [HiveServer2-Background-Pool: Thread-97] exec.Task: Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 0\r\n2018-06-28T16:01:56,933 WARN [HiveServer2-Background-Pool: Thread-97] mapreduce.Counters: Group org.apache.hadoop.mapred.Task$Counter is deprecated. Use org.apache.hadoop.mapreduce.TaskCounter instead\r\n2018-06-28T16:01:56,934 INFO [HiveServer2-Background-Pool: Thread-97] exec.Task: 2018-06-28 16:01:56,933 Stage-1 map = 0%, reduce = 0%\r\n2018-06-28T16:02:05,922 INFO [HiveServer2-Handler-Pool: Thread-30] conf.HiveConf: Using the default value passed in for log id: 07fd131c-6590-4081-b7ed-2f0ae5b16551\r\n2018-06-28T16:02:05,922 INFO [HiveServer2-Handler-Pool: Thread-30] session.SessionState: Updating thread name to 07fd131c-6590-4081-b7ed-2f0ae5b16551 HiveServer2-Handler-Pool: Thread-30\r\n2018-06-28T16:02:05,924 INFO [07fd131c-6590-4081-b7ed-2f0ae5b16551 HiveServer2-Handler-Pool: Thread-30] conf.HiveConf: Using the default value passed in for log id: 07fd131c-6590-4081-b7ed-2f0ae5b16551\r\n2018-06-28T16:02:05,925 INFO [HiveServer2-Handler-Pool: Thread-30] session.SessionState: Resetting thread name to HiveServer2-Handler-Pool: Thread-30\r\n2018-06-28T16:02:35,131 INFO [HiveServer2-Background-Pool: Thread-97] exec.Task: 2018-06-28 16:02:35,130 Stage-1 map = 100%, reduce = 0%, Cumulative CPU 2.82 sec\r\n2018-06-28T16:02:39,527 INFO [HiveServer2-Background-Pool: Thread-97] exec.Task: MapReduce Total cumulative CPU time: 2 seconds 820 msec\r\n2018-06-28T16:02:39,607 INFO [HiveServer2-Background-Pool: Thread-97] exec.Task: Ended Job = job_1530599349924_0007\r\n2018-06-28T16:02:39,643 INFO [HiveServer2-Background-Pool: Thread-97] exec.FileSinkOperator: Moving tmp dir: hdfs://hadoop-cluster/user/hive/warehouse/customer_bak/.hive-staging_hive_2018-06-28_16-01-22_402_5116918946052746369-1/_tmp.-ext-10002 to: hdfs://hadoop-cluster/user/hive/warehouse/customer_bak/.hive-staging_hive_2018-06-28_16-01-22_402_5116918946052746369-1/-ext-10002\r\n2018-06-28T16:02:39,669 INFO [HiveServer2-Background-Pool: Thread-97] ql.Driver: Starting task [Stage-7:CONDITIONAL] in serial mode\r\n2018-06-28T16:02:39,688 INFO [HiveServer2-Background-Pool: Thread-97] exec.Task: Stage-4 is selected by condition resolver.\r\n2018-06-28T16:02:39,689 INFO [HiveServer2-Background-Pool: Thread-97] exec.Task: Stage-3 is filtered out by condition resolver.\r\n2018-06-28T16:02:39,689 INFO [HiveServer2-Background-Pool: Thread-97] exec.Task: Stage-5 is filtered out by condition resolver.\r\n2018-06-28T16:02:39,690 INFO [HiveServer2-Background-Pool: Thread-97] ql.Driver: Starting task [Stage-4:MOVE] in serial mode\r\n2018-06-28T16:02:39,691 INFO [HiveServer2-Background-Pool: Thread-97] exec.Task: Moving data to directory hdfs://hadoop-cluster/user/hive/warehouse/customer_bak/.hive-staging_hive_2018-06-28_16-01-22_402_5116918946052746369-1/-ext-10000 from hdfs://hadoop-cluster/user/hive/warehouse/customer_bak/.hive-staging_hive_2018-06-28_16-01-22_402_5116918946052746369-1/-ext-10002\r\n2018-06-28T16:02:39,785 INFO [HiveServer2-Background-Pool: Thread-97] ql.Driver: Starting task [Stage-0:MOVE] in serial mode\r\n2018-06-28T16:02:39,786 INFO [HiveServer2-Background-Pool: Thread-97] exec.Task: Loading data to table default.customer_bak partition (country=null) from hdfs://hadoop-cluster/user/hive/warehouse/customer_bak/.hive-staging_hive_2018-06-28_16-01-22_402_5116918946052746369-1/-ext-10000\r\n2018-06-28T16:02:39,871 INFO [HiveServer2-Background-Pool: Thread-97] exec.MoveTask: Partition is: {country=null}\r\n2018-06-28T16:02:39,879 INFO [HiveServer2-Background-Pool: Thread-97] exec.Task:\r\n{code}\r\nWhy doesn't the program continue？\r\n\r\n \r\n\r\n ",
        "duedate": "2018-07-08",
        "environment": null,
        "fixVersions": [],
        "issuelinks": [],
        "issuetype": {
            "avatarId": 21133,
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "id": "1",
            "name": "Bug",
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "subtask": false
        },
        "labels": [],
        "lastViewed": null,
        "priority": {
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/blocker.svg",
            "id": "1",
            "name": "Blocker",
            "self": "https://issues.apache.org/jira/rest/api/2/priority/1"
        },
        "progress": {
            "progress": 0,
            "total": 0
        },
        "project": {
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310843&avatarId=11935",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310843&avatarId=11935",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310843&avatarId=11935",
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12310843&avatarId=11935"
            },
            "id": "12310843",
            "key": "HIVE",
            "name": "Hive",
            "projectCategory": {
                "description": "Scalable Distributed Computing",
                "id": "10292",
                "name": "Hadoop",
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/10292"
            },
            "self": "https://issues.apache.org/jira/rest/api/2/project/12310843"
        },
        "reporter": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452"
            },
            "displayName": "gavin_shi",
            "key": "gavin_shi",
            "name": "gavin_shi",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=gavin_shi",
            "timeZone": "Etc/UTC"
        },
        "resolution": {
            "description": "A fix for this issue is checked into the tree and tested.",
            "id": "1",
            "name": "Fixed",
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1"
        },
        "resolutiondate": "2018-07-11T23:09:53.000+0000",
        "status": {
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "id": "5",
            "name": "Resolved",
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "statusCategory": {
                "colorName": "green",
                "id": 3,
                "key": "done",
                "name": "Done",
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3"
            }
        },
        "subtasks": [],
        "summary": "Data cannot be inserted into a dynamic partition",
        "timeestimate": null,
        "timeoriginalestimate": null,
        "timespent": null,
        "updated": "2018-07-11T23:09:53.000+0000",
        "versions": [],
        "votes": {
            "hasVoted": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/HIVE-20064/votes",
            "votes": 0
        },
        "watches": {
            "isWatching": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/HIVE-20064/watchers",
            "watchCount": 1
        },
        "workratio": -1
    },
    "id": "13169728",
    "key": "HIVE-20064",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13169728"
}