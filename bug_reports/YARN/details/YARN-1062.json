{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12663438","self":"https://issues.apache.org/jira/rest/api/2/issue/12663438","key":"YARN-1062","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/3","id":"3","description":"The problem is a duplicate of an existing issue.","name":"Duplicate"},"customfield_12312322":null,"customfield_12310220":"2013-08-13T16:16:44.964+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Aug 13 18:16:23 UTC 2013","customfield_12310420":"343439","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_10995546_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-08-13T18:17:20.708+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-1062/watchers","watchCount":3,"isWatching":false},"created":"2013-08-13T15:14:05.189+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323501","id":"12323501","description":"0.23.6 release","name":"0.23.6","archived":false,"released":true,"releaseDate":"2013-02-06"}],"issuelinks":[{"id":"12373820","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12373820","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"outwardIssue":{"id":"12634714","key":"YARN-435","self":"https://issues.apache.org/jira/rest/api/2/issue/12634714","fields":{"summary":"Make it easier to access cluster topology information in an AM","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":21146}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-08-13T18:19:29.420+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12319414","id":"12319414","name":"applications"}],"timeoriginalestimate":null,"description":"In our cluster, MRAppMaster take a long time to init taskAttempt, the following log last one minute,\n\n2013-07-17 11:28:06,328 INFO [AsyncDispatcher event handler] org.apache.hadoop.yarn.util.RackResolver: Resolved r01f11012.yh.aliyun.com to /r01f11\n2013-07-17 11:28:06,357 INFO [AsyncDispatcher event handler] org.apache.hadoop.yarn.util.RackResolver: Resolved r01f11004.yh.aliyun.com to /r01f11\n2013-07-17 11:28:06,383 INFO [AsyncDispatcher event handler] org.apache.hadoop.yarn.util.RackResolver: Resolved r03b05042.yh.aliyun.com to /r03b05\n2013-07-17 11:28:06,384 INFO [AsyncDispatcher event handler] org.apache.hadoop.mapreduce.v2.app.job.impl.TaskAttemptImpl: attempt_1373523419753_4543_m_000000_0 TaskAttempt Transitioned from NEW to UNASSIGNED\n2013-07-17 11:28:06,415 INFO [AsyncDispatcher event handler] org.apache.hadoop.yarn.util.RackResolver: Resolved r03b02006.yh.aliyun.com to /r03b02\n2013-07-17 11:28:06,436 INFO [AsyncDispatcher event handler] org.apache.hadoop.yarn.util.RackResolver: Resolved r02f02045.yh.aliyun.com to /r02f02\n2013-07-17 11:28:06,457 INFO [AsyncDispatcher event handler] org.apache.hadoop.yarn.util.RackResolver: Resolved r02f02034.yh.aliyun.com to /r02f02\n2013-07-17 11:28:06,457 INFO [AsyncDispatcher event handler] org.apache.hadoop.mapreduce.v2.app.job.impl.TaskAttemptImpl: attempt_1373523419753_4543_m_000001_0 TaskAttempt Transitioned from NEW to UNASSIGNED\n\nThe reason is: resolved one host to rack almost take 25ms (We resolve the host to rack by a python script). Our hdfs cluster is more than 4000 datanodes, then a large input job will take a long time to init TaskAttempt.\n\nIs there any good idea to solve this problem. ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"343743","customfield_12312823":null,"summary":"MRAppMaster take a long time to init taskAttempt","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shenhong","name":"shenhong","key":"shenhong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=shenhong&avatarId=17150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shenhong&avatarId=17150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shenhong&avatarId=17150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shenhong&avatarId=17150"},"displayName":"Hong Shen","active":true,"timeZone":"Asia/Shanghai"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shenhong","name":"shenhong","key":"shenhong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=shenhong&avatarId=17150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shenhong&avatarId=17150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shenhong&avatarId=17150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shenhong&avatarId=17150"},"displayName":"Hong Shen","active":true,"timeZone":"Asia/Shanghai"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12663438/comment/13738417","id":"13738417","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"You should definitely see if you can improve your python script by looking at a static resolution file instead of dynamically pinging DNS at run time. That'll clearly improve your performance.\n\nOverall, we wish to expose this information to AMs from RM itself so that each AM doesn't need to do this itself. That is tracked via YARN-435. If that okay with you, please close this as duplicate.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-08-13T16:16:44.964+0000","updated":"2013-08-13T16:16:44.964+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12663438/comment/13738596","id":"13738596","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shenhong","name":"shenhong","key":"shenhong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=shenhong&avatarId=17150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shenhong&avatarId=17150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shenhong&avatarId=17150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shenhong&avatarId=17150"},"displayName":"Hong Shen","active":true,"timeZone":"Asia/Shanghai"},"body":"Thanks Vinod Kumar Vavilapalli, I think  YARN-435 is okay to me.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shenhong","name":"shenhong","key":"shenhong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=shenhong&avatarId=17150","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shenhong&avatarId=17150","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shenhong&avatarId=17150","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shenhong&avatarId=17150"},"displayName":"Hong Shen","active":true,"timeZone":"Asia/Shanghai"},"created":"2013-08-13T18:16:23.853+0000","updated":"2013-08-13T18:16:23.853+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-1062/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1n87j:"}}