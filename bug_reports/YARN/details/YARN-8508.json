{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13171011","self":"https://issues.apache.org/jira/rest/api/2/issue/13171011","key":"YARN-8508","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12342758","id":"12342758","name":"3.2.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12342982","id":"12342982","description":"3.1.1 Release","name":"3.1.1","archived":false,"released":true,"releaseDate":"2018-08-07"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2018-07-26T16:47:03.583+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Jul 31 19:28:47 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_3_*:*_1451966062_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_3_*:*_103397155","customfield_12312321":null,"resolutiondate":"2018-07-27T23:40:32.302+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-8508/watchers","watchCount":9,"isWatching":false},"created":"2018-07-09T23:37:49.123+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=csingh","name":"csingh","key":"csingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=csingh&avatarId=24876","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csingh&avatarId=24876","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csingh&avatarId=24876","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csingh&avatarId=24876"},"displayName":"Chandni Singh","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-07-31T19:28:47.042+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"GPU failed to release even though the container using it is being killed\r\n{Code}\r\n2018-07-06 05:22:26,201 INFO  container.ContainerImpl (ContainerImpl.java:handle(2093)) - Container container_e20_1530854311763_0006_01_000001 transitioned from RUNNING to KILLING\r\n2018-07-06 05:22:26,250 INFO  container.ContainerImpl (ContainerImpl.java:handle(2093)) - Container container_e20_1530854311763_0006_01_000002 transitioned from RUNNING to KILLING\r\n2018-07-06 05:22:26,251 INFO  application.ApplicationImpl (ApplicationImpl.java:handle(632)) - Application application_1530854311763_0006 transitioned from RUNNING to FINISHING_CONTAINERS_WAIT\r\n2018-07-06 05:22:26,251 INFO  launcher.ContainerLaunch (ContainerLaunch.java:cleanupContainer(734)) - Cleaning up container container_e20_1530854311763_0006_01_000002\r\n2018-07-06 05:22:31,358 INFO  launcher.ContainerLaunch (ContainerLaunch.java:getContainerPid(1102)) - Could not get pid for container_e20_1530854311763_0006_01_000002. Waited for 5000 ms.\r\n2018-07-06 05:22:31,358 WARN  launcher.ContainerLaunch (ContainerLaunch.java:cleanupContainer(784)) - Container clean up before pid file created container_e20_1530854311763_0006_01_000002\r\n2018-07-06 05:22:31,359 INFO  launcher.ContainerLaunch (ContainerLaunch.java:reapDockerContainerNoPid(940)) - Unable to obtain pid, but docker container request detected. Attempting to reap container container_e20_1530854311763_0006_01_000002\r\n2018-07-06 05:22:31,494 INFO  nodemanager.LinuxContainerExecutor (LinuxContainerExecutor.java:deleteAsUser(828)) - Deleting absolute path : /grid/0/hadoop/yarn/local/usercache/hrt_qa/appcache/application_1530854311763_0006/container_e20_1530854311763_0006_01_000002/launch_container.sh\r\n2018-07-06 05:22:31,500 INFO  nodemanager.LinuxContainerExecutor (LinuxContainerExecutor.java:deleteAsUser(828)) - Deleting absolute path : /grid/0/hadoop/yarn/local/usercache/hrt_qa/appcache/application_1530854311763_0006/container_e20_1530854311763_0006_01_000002/container_tokens\r\n2018-07-06 05:22:31,510 INFO  container.ContainerImpl (ContainerImpl.java:handle(2093)) - Container container_e20_1530854311763_0006_01_000001 transitioned from KILLING to CONTAINER_CLEANEDUP_AFTER_KILL\r\n2018-07-06 05:22:31,510 INFO  container.ContainerImpl (ContainerImpl.java:handle(2093)) - Container container_e20_1530854311763_0006_01_000002 transitioned from KILLING to CONTAINER_CLEANEDUP_AFTER_KILL\r\n2018-07-06 05:22:31,512 INFO  container.ContainerImpl (ContainerImpl.java:handle(2093)) - Container container_e20_1530854311763_0006_01_000001 transitioned from CONTAINER_CLEANEDUP_AFTER_KILL to DONE\r\n2018-07-06 05:22:31,513 INFO  container.ContainerImpl (ContainerImpl.java:handle(2093)) - Container container_e20_1530854311763_0006_01_000002 transitioned from CONTAINER_CLEANEDUP_AFTER_KILL to DONE\r\n2018-07-06 05:22:38,955 INFO  container.ContainerImpl (ContainerImpl.java:handle(2093)) - Container container_e20_1530854311763_0007_01_000002 transitioned from NEW to SCHEDULED\r\n\r\n{Code}\r\n\r\nNew container requesting for GPU fails to launch\r\n{code}\r\n2018-07-06 05:22:39,048 ERROR nodemanager.LinuxContainerExecutor (LinuxContainerExecutor.java:handleLaunchForLaunchType(550)) - ResourceHandlerChain.preStart() failed!\r\norg.apache.hadoop.yarn.server.nodemanager.containermanager.linux.resources.ResourceHandlerException: Failed to find enough GPUs, requestor=container_e20_1530854311763_0007_01_000002, #RequestedGPUs=2, #availableGpus=1\r\n\tat org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.resources.gpu.GpuResourceAllocator.internalAssignGpus(GpuResourceAllocator.java:225)\r\n\tat org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.resources.gpu.GpuResourceAllocator.assignGpus(GpuResourceAllocator.java:173)\r\n\tat org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.resources.gpu.GpuResourceHandlerImpl.preStart(GpuResourceHandlerImpl.java:98)\r\n\tat org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.resources.ResourceHandlerChain.preStart(ResourceHandlerChain.java:75)\r\n\tat org.apache.hadoop.yarn.server.nodemanager.LinuxContainerExecutor.handleLaunchForLaunchType(LinuxContainerExecutor.java:509)\r\n\tat org.apache.hadoop.yarn.server.nodemanager.LinuxContainerExecutor.launchContainer(LinuxContainerExecutor.java:479)\r\n\tat org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.launchContainer(ContainerLaunch.java:494)\r\n\tat org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:306)\r\n\tat org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:103)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n2018-07-06 05:22:39,049 WARN  launcher.ContainerLaunch (ContainerLaunch.java:call(331)) - Failed to launch container.\r\njava.io.IOException: ResourceHandlerChain.preStart() failed!\r\n\tat org.apache.hadoop.yarn.server.nodemanager.LinuxContainerExecutor.handleLaunchForLaunchType(LinuxContainerExecutor.java:551)\r\n\tat org.apache.hadoop.yarn.server.nodemanager.LinuxContainerExecutor.launchContainer(LinuxContainerExecutor.java:479)\r\n\tat org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.launchContainer(ContainerLaunch.java:494)\r\n\tat org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:306)\r\n\tat org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:103)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.resources.ResourceHandlerException: Failed to find enough GPUs, requestor=container_e20_1530854311763_0007_01_000002, #RequestedGPUs=2, #availableGpus=1\r\n\tat org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.resources.gpu.GpuResourceAllocator.internalAssignGpus(GpuResourceAllocator.java:225)\r\n\tat org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.resources.gpu.GpuResourceAllocator.assignGpus(GpuResourceAllocator.java:173)\r\n\tat org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.resources.gpu.GpuResourceHandlerImpl.preStart(GpuResourceHandlerImpl.java:98)\r\n\tat org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.resources.ResourceHandlerChain.preStart(ResourceHandlerChain.java:75)\r\n\tat org.apache.hadoop.yarn.server.nodemanager.LinuxContainerExecutor.handleLaunchForLaunchType(LinuxContainerExecutor.java:509)\r\n\t... 8 more\r\n{code}\r\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12342758","id":"12342758","name":"3.2.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12343433","id":"12343433","description":"","name":"3.1.2","archived":false,"released":false}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12933248","id":"12933248","filename":"YARN-8505.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=csingh","name":"csingh","key":"csingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=csingh&avatarId=24876","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csingh&avatarId=24876","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csingh&avatarId=24876","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csingh&avatarId=24876"},"displayName":"Chandni Singh","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-07-26T18:54:53.733+0000","size":2830,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12933248/YARN-8505.001.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12933259","id":"12933259","filename":"YARN-8505.002.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=csingh","name":"csingh","key":"csingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=csingh&avatarId=24876","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csingh&avatarId=24876","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csingh&avatarId=24876","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csingh&avatarId=24876"},"displayName":"Chandni Singh","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-07-26T20:04:07.597+0000","size":5226,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12933259/YARN-8505.002.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"On NodeManager container gets cleaned up before its pid file is created","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ssathish%40hortonworks.com","name":"ssathish@hortonworks.com","key":"ssathish@hortonworks.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Sumana Sathish","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ssathish%40hortonworks.com","name":"ssathish@hortonworks.com","key":"ssathish@hortonworks.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=34050","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"},"displayName":"Sumana Sathish","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13171011/comment/16558571","id":"16558571","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=csingh","name":"csingh","key":"csingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=csingh&avatarId=24876","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csingh&avatarId=24876","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csingh&avatarId=24876","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csingh&avatarId=24876"},"displayName":"Chandni Singh","active":true,"timeZone":"America/Los_Angeles"},"body":"This happens with a container that gets cleaned up before its pid file is created. To solve it, we need to release the resources at the end of \\{{LinuxContainerExecutor.reapContainer()}} just like we do in \\{{LinuxContainerExecutor.launchContainer()}}, \r\n{\\{LinuxContainerExecutor.reLaunchContainer()}}, and \\{{LinuxContainerExecutor.reacquireContainer}}.\r\n\r\nPlease see my explanation below:\r\nRefer \\{{container_e21_1532545600682_0001_01_000002}} in yarn8505.nodemanager.log\r\n\r\n- 002 is launched but its pid file is not created\r\n{code}\r\n2018-07-25 19:08:54,409 DEBUG util.ProcessIdFileReader (ProcessIdFileReader.java:getProcessId(53)) - Accessing pid from pid file /.../application_1532545600682_0001/container_e21_1532545600682_0001_01_000002/container_e21_1532545600682_0001_01_000002.pid\r\n2018-07-25 19:08:54,409 DEBUG util.ProcessIdFileReader (ProcessIdFileReader.java:getProcessId(103)) - Got pid null from path /.../application_1532545600682_0001/container_e21_1532545600682_0001_01_000002/container_e21_1532545600682_0001_01_000002.pid\r\n{code}\r\n\r\n- Since application is killed, 002 is killed by ResourceManager\r\n{code}\r\n2018-07-25 19:08:54,643 DEBUG container.ContainerImpl (ContainerImpl.java:handle(2080)) - Processing container_e21_1532545600682_0001_01_000002 of type CONTAINER_KILLED_ON_REQUEST\r\n{code}\r\n\r\n- The above triggers \\{{ContainerLaunch.cleanupContainer()}} for 002. This happens before the pid file is created\r\n{code}\r\n2018-07-25 19:08:54,409 WARN launcher.ContainerLaunch (ContainerLaunch.java:cleanupContainer(784)) - Container clean up before pid file created container_e21_1532545600682_0001_01_000002\r\n{code}\r\n\r\n- \\{{cleanupContainer}} invokes \\{{reapDockerContainerNoPid(user)}}\r\n{code}\r\n2018-07-25 19:08:54,410 INFO launcher.ContainerLaunch (ContainerLaunch.java:reapDockerContainerNoPid(940)) - Unable to obtain pid, but docker container request detected. Attempting to reap container container_e21_1532545600682_0001_01_000002\r\n{code}\r\n\r\n- \\{{reapDockerContainerNoPid(user)}} calls \\{{exec.reapContainer(...)}}\r\n{code}\r\n2018-07-25 19:08:54,412 DEBUG docker.DockerCommandExecutor (DockerCommandExecutor.java:executeDockerCommand(89)) - Running docker command: inspect docker-command=inspect format=\\{{.State.Status}} name=container_e21_1532545600682_0001_01_000002\r\n2018-07-25 19:08:54,412 DEBUG privileged.PrivilegedOperationExecutor (PrivilegedOperationExecutor.java:getPrivilegedOperationExecutionCommand(119)) - Privileged Execution Command Array: [/.../hadoop-yarn/bin/container-executor, --inspect-docker-container, --format=\\{{.State.Status}}, container_e21_1532545600682_0001_01_000002]\r\n2018-07-25 19:08:54,530 DEBUG docker.DockerCommandExecutor (DockerCommandExecutor.java:getContainerStatus(160)) - Container Status: nonexistent ContainerId: container_e21_1532545600682_0001_01_000002\r\n2018-07-25 19:08:54,530 DEBUG launcher.ContainerLaunch (ContainerLaunch.java:reapDockerContainerNoPid(948)) - Sent signal to docker container container_e21_1532545600682_0001_01_000002 as user hrt_qa, result=success\r\n{code}\r\n\r\n- The problem is that the \\{{reapContainer}} in \\{{LinuxContainerExecutor}} doesn't release the resources assigned to the container. The below code snippet that performs these tasks after the container completes doesn't happen at this point.\r\n{code}\r\n resourcesHandler.postExecute(containerId);\r\n\r\ntry {\r\n if (resourceHandlerChain != null) {\r\n LOG.info(\"{} POST Complete\", containerId);\r\n resourceHandlerChain.postComplete(containerId);\r\n }\r\n } catch (ResourceHandlerException e) {\r\n LOG.warn(\"ResourceHandlerChain.postComplete failed for \" +\r\n \"containerId: \" + containerId + \". Exception: \" + e);\r\n }\r\n }\r\n{code}\r\n\r\n- The launch of container fails after 4 minutes and only then the resources are released.\r\n{code}\r\n2018-07-25 19:12:09,999 WARN nodemanager.LinuxContainerExecutor (LinuxContainerExecutor.java:handleExitCode(593)) - Exit code from container container_e21_1532545600682_0001_01_000002 is : 27\r\n2018-07-25 19:12:10,000 WARN nodemanager.LinuxContainerExecutor (LinuxContainerExecutor.java:handleExitCode(599)) - Exception from container-launch with container ID: container_e21_1532545600682_0001_01_000002 and exit code: 27\r\n2018-07-25 19:12:10,000 INFO nodemanager.ContainerExecutor (ContainerExecutor.java:logOutput(541)) - Container id: container_e21_1532545600682_0001_01_000002\r\n2018-07-25 19:12:10,003 INFO nodemanager.ContainerExecutor (ContainerExecutor.java:logOutput(541)) - Docker inspect command: /usr/bin/docker inspect --format \\{{.State.Pid}} container_e21_1532545600682_0001_01_000002\r\n2018-07-25 19:12:10,003 INFO nodemanager.ContainerExecutor (ContainerExecutor.java:logOutput(541)) - Failed to write pid to file /cgroup/cpu/.../container_e21_1532545600682_0001_01_000002/tasks - No such process\r\n2018-07-25 19:12:10,003 INFO nodemanager.ContainerExecutor (ContainerExecutor.java:logOutput(541)) - Wrote the exit code 27 to /.../application_1532545600682_0001/container_e21_1532545600682_0001_01_000002/container_e21_1532545600682_0001_01_000002.pid.exitcode\r\n2018-07-25 19:12:10,003 DEBUG container.ContainerImpl (ContainerImpl.java:handle(2080)) - Processing container_e21_1532545600682_0001_01_000002 of type UPDATE_DIAGNOSTICS_MSG\r\n2018-07-25 19:12:10,004 DEBUG recovery.NMLeveldbStateStoreService (NMLeveldbStateStoreService.java:storeContainerDiagnostics(488)) - storeContainerDiagnostics: containerId=container_e21_1532545600682_0001_01_000002, diagnostics=[2018-07-25 19:08:49.283]Container Killed by ResourceManager\r\nContainer id: container_e21_1532545600682_0001_01_000002\r\nDocker inspect command: /usr/bin/docker inspect --format \\{{.State.Pid}} container_e21_1532545600682_0001_01_000002\r\nFailed to write pid to file /cgroup/cpu/.../container_e21_1532545600682_0001_01_000002/tasks - No such process\r\n{code}\r\n\r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=csingh","name":"csingh","key":"csingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=csingh&avatarId=24876","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csingh&avatarId=24876","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csingh&avatarId=24876","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csingh&avatarId=24876"},"displayName":"Chandni Singh","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-07-26T16:47:03.583+0000","updated":"2018-07-26T16:47:03.583+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13171011/comment/16558771","id":"16558771","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=csingh","name":"csingh","key":"csingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=csingh&avatarId=24876","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csingh&avatarId=24876","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csingh&avatarId=24876","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csingh&avatarId=24876"},"displayName":"Chandni Singh","active":true,"timeZone":"America/Los_Angeles"},"body":"Verifying the fix. Haven't added a unit test. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=csingh","name":"csingh","key":"csingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=csingh&avatarId=24876","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csingh&avatarId=24876","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csingh&avatarId=24876","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csingh&avatarId=24876"},"displayName":"Chandni Singh","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-07-26T18:55:53.054+0000","updated":"2018-07-26T18:55:53.054+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13171011/comment/16558836","id":"16558836","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=csingh","name":"csingh","key":"csingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=csingh&avatarId=24876","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csingh&avatarId=24876","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csingh&avatarId=24876","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csingh&avatarId=24876"},"displayName":"Chandni Singh","active":true,"timeZone":"America/Los_Angeles"},"body":"Modified the test for reapContainer to verify {{postComplete}} is invoked at the end of reap container in patch 2","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=csingh","name":"csingh","key":"csingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=csingh&avatarId=24876","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csingh&avatarId=24876","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csingh&avatarId=24876","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csingh&avatarId=24876"},"displayName":"Chandni Singh","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-07-26T20:05:25.487+0000","updated":"2018-07-26T20:05:25.487+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13171011/comment/16558838","id":"16558838","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=csingh","name":"csingh","key":"csingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=csingh&avatarId=24876","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csingh&avatarId=24876","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csingh&avatarId=24876","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csingh&avatarId=24876"},"displayName":"Chandni Singh","active":true,"timeZone":"America/Los_Angeles"},"body":"[~shanekumpf@gmail.com] [~eyang] could you please review patch 2?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=csingh","name":"csingh","key":"csingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=csingh&avatarId=24876","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csingh&avatarId=24876","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csingh&avatarId=24876","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csingh&avatarId=24876"},"displayName":"Chandni Singh","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-07-26T20:06:06.460+0000","updated":"2018-07-26T20:06:06.460+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13171011/comment/16558847","id":"16558847","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 10s{color} | {color:blue} Docker mode activated. {color} |\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |\r\n|| || || || {color:brown} trunk Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 26m  5s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 58s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 13s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 37s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 11m 45s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 58s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 26s{color} | {color:green} trunk passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 40s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  1m  2s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  1m  2s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  9s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 37s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 12m 48s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m  4s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 23s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 18m  0s{color} | {color:green} hadoop-yarn-server-nodemanager in the patch passed. {color} |\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 31s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 76m 41s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:ba1ab08 |\r\n| JIRA Issue | YARN-8508 |\r\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12933248/YARN-8505.001.patch |\r\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  |\r\n| uname | Linux 95544b2179d7 3.13.0-139-generic #188-Ubuntu SMP Tue Jan 9 14:43:09 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /testptch/patchprocess/precommit/personality/provided.sh |\r\n| git revision | trunk / be150a1 |\r\n| maven | version: Apache Maven 3.3.9 |\r\n| Default Java | 1.8.0_171 |\r\n| findbugs | v3.1.0-RC1 |\r\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/21380/testReport/ |\r\n| Max. process+thread count | 336 (vs. ulimit of 10000) |\r\n| modules | C: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager U: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager |\r\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/21380/console |\r\n| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"created":"2018-07-26T20:17:05.519+0000","updated":"2018-07-26T20:17:05.519+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13171011/comment/16558851","id":"16558851","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=csingh","name":"csingh","key":"csingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=csingh&avatarId=24876","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csingh&avatarId=24876","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csingh&avatarId=24876","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csingh&avatarId=24876"},"displayName":"Chandni Singh","active":true,"timeZone":"America/Los_Angeles"},"body":"Triggering build for patch 2","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=csingh","name":"csingh","key":"csingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=csingh&avatarId=24876","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csingh&avatarId=24876","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csingh&avatarId=24876","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csingh&avatarId=24876"},"displayName":"Chandni Singh","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-07-26T20:22:28.235+0000","updated":"2018-07-26T20:22:28.235+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13171011/comment/16558905","id":"16558905","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"body":"| (/) *{color:green}+1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 33s{color} | {color:blue} Docker mode activated. {color} |\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\r\n|| || || || {color:brown} trunk Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 24m 42s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 55s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 14s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 35s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 10m 44s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 44s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 23s{color} | {color:green} trunk passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 33s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 52s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 52s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m  8s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 30s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 10m 17s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 52s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 18s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 18m  1s{color} | {color:green} hadoop-yarn-server-nodemanager in the patch passed. {color} |\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 18s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 70m 46s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:ba1ab08 |\r\n| JIRA Issue | YARN-8508 |\r\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12933259/YARN-8505.002.patch |\r\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  |\r\n| uname | Linux 4ab7d00c07b9 4.4.0-89-generic #112-Ubuntu SMP Mon Jul 31 19:38:41 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /testptch/patchprocess/precommit/personality/provided.sh |\r\n| git revision | trunk / be150a1 |\r\n| maven | version: Apache Maven 3.3.9 |\r\n| Default Java | 1.8.0_171 |\r\n| findbugs | v3.1.0-RC1 |\r\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/21381/testReport/ |\r\n| Max. process+thread count | 408 (vs. ulimit of 10000) |\r\n| modules | C: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager U: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager |\r\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/21381/console |\r\n| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"created":"2018-07-26T21:21:08.538+0000","updated":"2018-07-26T21:21:08.538+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13171011/comment/16560479","id":"16560479","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eyang","name":"eyang","key":"eyang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Yang","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 looks good to me.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eyang","name":"eyang","key":"eyang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Yang","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-07-27T23:35:35.702+0000","updated":"2018-07-27T23:35:35.702+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13171011/comment/16560485","id":"16560485","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eyang","name":"eyang","key":"eyang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Yang","active":true,"timeZone":"America/Los_Angeles"},"body":"Thank you [~csingh] for the patch.  I committed this to trunk and branch-3.1.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eyang","name":"eyang","key":"eyang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eric Yang","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-07-27T23:40:32.327+0000","updated":"2018-07-27T23:40:32.327+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13171011/comment/16560502","id":"16560502","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Jenkins build Hadoop-trunk-Commit #14659 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/14659/])\nYARN-8508.  Release GPU resource for killed container.             (eyang: rev ed9d60e888d0acfd748fda7f66249f5b79a3ed6d)\n* (edit) hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/LinuxContainerExecutor.java\n* (edit) hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/TestLinuxContainerExecutor.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2018-07-28T00:00:31.942+0000","updated":"2018-07-28T00:00:31.942+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13171011/comment/16562364","id":"16562364","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=leftnoteasy","name":"leftnoteasy","key":"leftnoteasy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=leftnoteasy&avatarId=18647","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=leftnoteasy&avatarId=18647","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=leftnoteasy&avatarId=18647","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=leftnoteasy&avatarId=18647"},"displayName":"Wangda Tan","active":true,"timeZone":"America/Los_Angeles"},"body":"I think it is important to get it backported to branch-3.1.1, I'm going to do this in a couple of hours, please let me know if you think different.\r\n\r\ncc: [~csingh], [~eyang]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=leftnoteasy","name":"leftnoteasy","key":"leftnoteasy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=leftnoteasy&avatarId=18647","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=leftnoteasy&avatarId=18647","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=leftnoteasy&avatarId=18647","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=leftnoteasy&avatarId=18647"},"displayName":"Wangda Tan","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-07-30T18:55:22.157+0000","updated":"2018-07-30T18:55:22.157+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13171011/comment/16564256","id":"16564256","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=leftnoteasy","name":"leftnoteasy","key":"leftnoteasy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=leftnoteasy&avatarId=18647","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=leftnoteasy&avatarId=18647","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=leftnoteasy&avatarId=18647","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=leftnoteasy&avatarId=18647"},"displayName":"Wangda Tan","active":true,"timeZone":"America/Los_Angeles"},"body":"Committed to branch-3.1.1, thanks [~csingh]!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=leftnoteasy","name":"leftnoteasy","key":"leftnoteasy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=leftnoteasy&avatarId=18647","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=leftnoteasy&avatarId=18647","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=leftnoteasy&avatarId=18647","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=leftnoteasy&avatarId=18647"},"displayName":"Wangda Tan","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-07-31T19:28:47.042+0000","updated":"2018-07-31T19:28:47.042+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-8508/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3vp9b:"}}