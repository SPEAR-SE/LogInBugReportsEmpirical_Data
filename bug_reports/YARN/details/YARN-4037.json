{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12853698","self":"https://issues.apache.org/jira/rest/api/2/issue/12853698","key":"YARN-4037","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2015-08-09T17:14:56.719+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Aug 13 18:05:49 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-4037/watchers","watchCount":4,"isWatching":false},"created":"2015-08-09T16:33:53.152+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12331976","id":"12331976","description":"2.7.1 release","name":"2.7.1","archived":false,"released":true,"releaseDate":"2015-07-06"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-08-13T18:05:49.577+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12325004","id":"12325004","name":"yarn"}],"timeoriginalestimate":null,"description":"I believe this issue has been addressed earlier in https://issues.apache.org/jira/browse/YARN-1473 though I am not sure because the description of the JIRA does not talk about the following message \nFailed while trying to construct the redirect url to the log server. Log Server url may not be configured\njava.lang.Exception: Unknown container. Container either has not started or has already completed or doesn't belong to this node at all.\n\nCould some one look at the same and provide detail on the root cause and resolution ?","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12749867","id":"12749867","filename":"mapred-site.xml","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gagansab","name":"gagansab","key":"gagansab","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gagan","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-11T14:57:22.487+0000","size":1382,"mimeType":"text/xml","content":"https://issues.apache.org/jira/secure/attachment/12749867/mapred-site.xml"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12749866","id":"12749866","filename":"yarn-site.xml","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gagansab","name":"gagansab","key":"gagansab","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gagan","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-11T14:57:22.484+0000","size":2641,"mimeType":"text/xml","content":"https://issues.apache.org/jira/secure/attachment/12749866/yarn-site.xml"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Hadoop - failed redirect for container","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gagansab","name":"gagansab","key":"gagansab","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gagan","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gagansab","name":"gagansab","key":"gagansab","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gagan","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Windows 7, Apache Hadoop 2.7.1","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12853698/comment/14679222","id":"14679222","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xgong","name":"xgong","key":"xgong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Xuan Gong","active":true,"timeZone":"America/Los_Angeles"},"body":"[~gagan.bansal@gmail.com]\nHave you configured the \n{code}\n<name>yarn.log.server.url</name>\n{code}\nin the yarn-site.xml for container log redirection for the case you want to check the container log when the app finished ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=xgong","name":"xgong","key":"xgong","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Xuan Gong","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-09T17:14:56.719+0000","updated":"2015-08-09T17:14:56.719+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12853698/comment/14679515","id":"14679515","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gagansab","name":"gagansab","key":"gagansab","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gagan","active":true,"timeZone":"Etc/UTC"},"body":"Hi Xuan,\n\nYes I forgot to mention it, I did try to both in the yarn-site and mapred but couldn't get success either. I will retry with yarn-site. Could you tell me is the following value correct for \n<name>yarn.log.server.url</name>\n<value>localhost:jobhistory port</value>\n\nI think I might have put in the incorrect port earlier. What would be the correct port to put in and where to get it from ?\nAlso when I googled about this error, one of the links mentioned the creation of stderr file, where is it created ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gagansab","name":"gagansab","key":"gagansab","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gagan","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-10T03:28:29.894+0000","updated":"2015-08-10T03:28:29.894+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12853698/comment/14681141","id":"14681141","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gagansab","name":"gagansab","key":"gagansab","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gagan","active":true,"timeZone":"Etc/UTC"},"body":"Hi Xuan,\n\nCould you please confirm upon the points mentioned in my previous comment ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gagansab","name":"gagansab","key":"gagansab","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gagan","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-11T02:47:34.617+0000","updated":"2015-08-11T02:47:34.617+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12853698/comment/14681316","id":"14681316","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohdshahidkhan","name":"mohdshahidkhan","key":"mohdshahidkhan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Shahid Khan","active":true,"timeZone":"Asia/Kolkata"},"body":"Hi Gagan,\nThe below convention in configuring the log server url.\n\n{CODE}\n<property> \n <name>yarn.log.server.url</name> \n <value>http://$jobhistoryserver.full.hostname:port/jobhistory/logs</value>\n <description>URL for job history server  </description>\n</property>\n{CODE}\n\nNote: \nThe port should be the port being used for the mapreduce.jobhistory.webapp.address.\nfor example if the mapreduce.jobhistory.webapp.address has the value ip1:10988, then the host and port for the log server shuld ip1:10988\n\nPlease verify once your configuration.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohdshahidkhan","name":"mohdshahidkhan","key":"mohdshahidkhan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Shahid Khan","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-08-11T06:33:10.334+0000","updated":"2015-08-11T06:33:10.334+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12853698/comment/14681907","id":"14681907","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gagansab","name":"gagansab","key":"gagansab","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gagan","active":true,"timeZone":"Etc/UTC"},"body":"Hi Mohammad,\n\nMay be I am making a fundamental mistake.\n\nMy target is to run - wordcount example jar with 2.7.1 on yarn in a psuedo distributed mode (on my laptop). \n\nWhen I run it I get an exception, in order to check what it is  I am trying to look for logs at \nhttp://garima-pc:8088/cluster/apps/FAILED to http://garima-pc:8088/cluster/app/application_1439303739376_0001 to logs link and after implementing what you have described it takes me to a link\nhttp://garima-pc:19888/jobhistory/logs/Garima-PC:50415/container_1439303739376_0001_02_000001/container_1439303739376_0001_02_000001/Garima\nwhich is broken. seems like port 50415 port is getting dynamically generated.\nI am attaching my configuration xml files.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gagansab","name":"gagansab","key":"gagansab","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gagan","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-11T14:57:22.490+0000","updated":"2015-08-11T14:57:22.490+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12853698/comment/14693293","id":"14693293","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohdshahidkhan","name":"mohdshahidkhan","key":"mohdshahidkhan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Shahid Khan","active":true,"timeZone":"Asia/Kolkata"},"body":"It should go +to the link \nhttp://garima-pc:49712/jobhistory/logs/Garima-PC:50415/container_1439303739376_0001_02_000001/container_1439303739376_0001_02_000001/Garima\n\nSeems like you have not restarted the Cluster after the configuration change.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohdshahidkhan","name":"mohdshahidkhan","key":"mohdshahidkhan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Shahid Khan","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-08-12T10:29:28.071+0000","updated":"2015-08-12T10:29:28.071+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12853698/comment/14693868","id":"14693868","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gagansab","name":"gagansab","key":"gagansab","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gagan","active":true,"timeZone":"Etc/UTC"},"body":"Hi Mohammed,\n\nI reverted the property to \n  <property>\n    <name>mapreduce.jobhistory.address </name>\n    <value>Garima-PC:10020</value>\n  </property>\n  <property>\n    <name>mapreduce.jobhistory.webapp.address</name>\n    <value>Garima-PC:19888</value>\n  </property>\nin map reduce.xml\nand to \n<property> \n   <name>yarn.log.server.url</name> \n   <value>http://Garima-PC:19888/jobhistory/logs</value>\n   <description>URL for job history server  </description>\n  </property>\nin yarn-site.xml. Restarted everything!!\nI am directed to http://garima-pc:19888/jobhistory/logs/Garima-PC:49552/container_1439399185544_0001_02_000001/container_1439399185544_0001_02_000001/Garima \nagain the link is broken. Could you tell me if I can check the logs anywhere else, I need to find what went wrong with running the wordcount.jar example ?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gagansab","name":"gagansab","key":"gagansab","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gagan","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-12T17:16:20.803+0000","updated":"2015-08-12T17:16:20.803+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12853698/comment/14695687","id":"14695687","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gagansab","name":"gagansab","key":"gagansab","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gagan","active":true,"timeZone":"Etc/UTC"},"body":"Hi Mohammed,\n\nI am not sure what difference came in hadoop configs but I configured everything from scratch using the following link\nhttps://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#YARN_on_Single_Node\n\nThe error\n\"Failed while trying to construct the redirect url to the log server. Log Server url may not be configured\njava.lang.Exception: Unknown container\"\n\ndisappeared and I could see standard err, out files, which contain the following \n\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\nI tried setting various values of \nset HADOOP_HEAPSIZE=512\nbut in vain, a value over 512 did not start the daemons. I have 8 gb ram.\n\nCould you help me on the same ?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gagansab","name":"gagansab","key":"gagansab","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Gagan","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-13T18:05:49.577+0000","updated":"2015-08-13T18:05:49.577+0000"}],"maxResults":8,"total":8,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-4037/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2iicf:"}}