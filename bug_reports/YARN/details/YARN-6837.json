{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13087911","self":"https://issues.apache.org/jira/rest/api/2/issue/13087911","key":"YARN-6837","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334216","id":"12334216","description":"2.9.0 release","name":"2.9.0","archived":false,"released":true,"releaseDate":"2017-11-17"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12338418","id":"12338418","description":"3.0.0-beta1 release","name":"3.0.0-beta1","archived":false,"released":true,"releaseDate":"2017-10-03"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12340356","id":"12340356","name":"2.8.2","archived":false,"released":true,"releaseDate":"2017-10-24"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2017-07-18T14:58:59.602+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Jul 21 00:15:22 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_99614882_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_91218426","customfield_12312321":null,"resolutiondate":"2017-07-20T16:18:28.386+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-6837/watchers","watchCount":3,"isWatching":false},"created":"2017-07-18T11:17:55.126+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12339182","id":"12339182","name":"3.0.0-alpha4","archived":false,"released":true,"releaseDate":"2017-07-07"}],"issuelinks":[{"id":"12509494","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12509494","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"13059708","key":"YARN-6403","self":"https://issues.apache.org/jira/rest/api/2/issue/13059708","fields":{"summary":"Invalid local resource request can raise NPE and make NM exit","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lingjinjiang","name":"lingjinjiang","key":"lingjinjiang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lingjinjiang&avatarId=30130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lingjinjiang&avatarId=30130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lingjinjiang&avatarId=30130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lingjinjiang&avatarId=30130"},"displayName":"Jinjiang Ling","active":true,"timeZone":"Asia/Shanghai"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-07-21T00:15:22.096+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"When I write an yarn application, I create a LocalResource like this\n{quote}\nLocalResource resource = Records.newRecord(LocalResource.class);\n{quote}\nBecause I forget to set the visibilty of it, so the job is failed when I submit it.\nBut NodeManager shutdown one by one at the same time, and there is NullPointerExceptionin NodeManager's log:\n{quote}\n2017-07-18 17:54:09,289 INFO org.apache.hadoop.yarn.server.nodemanager.NMAuditLogger: USER=hadoop       IP=10.43.156.177        OPERATION=Start Container Request       TARGET=ContainerManageImpl      RESULT=SUCCESS  APPID=application_1499221670783_0067    CONTAINERID=container_1499221670783_0067_02_000003\n2017-07-18 17:54:09,292 FATAL org.apache.hadoop.yarn.event.AsyncDispatcher: Error in dispatcher thread\njava.lang.NullPointerException\n        at org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.ResourceSet.addResources(ResourceSet.java:84)\n        at org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerImpl$RequestResourcesTransition.transition(ContainerImpl.java:868)\n        at org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerImpl$RequestResourcesTransition.transition(ContainerImpl.java:819)\n        at org.apache.hadoop.yarn.state.StateMachineFactory$MultipleInternalArc.doTransition(StateMachineFactory.java:385)\n        at org.apache.hadoop.yarn.state.StateMachineFactory.doTransition(StateMachineFactory.java:302)\n        at org.apache.hadoop.yarn.state.StateMachineFactory.access$300(StateMachineFactory.java:46)\n        at org.apache.hadoop.yarn.state.StateMachineFactory$InternalStateMachine.doTransition(StateMachineFactory.java:448)\n        at org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerImpl.handle(ContainerImpl.java:1684)\n        at org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerImpl.handle(ContainerImpl.java:96)\n        at org.apache.hadoop.yarn.server.nodemanager.containermanager.ContainerManagerImpl$ContainerEventDispatcher.handle(ContainerManagerImpl.java:1418)\n        at org.apache.hadoop.yarn.server.nodemanager.containermanager.ContainerManagerImpl$ContainerEventDispatcher.handle(ContainerManagerImpl.java:1411)\n        at org.apache.hadoop.yarn.event.AsyncDispatcher.dispatch(AsyncDispatcher.java:197)\n        at org.apache.hadoop.yarn.event.AsyncDispatcher$1.run(AsyncDispatcher.java:126)\n        at java.lang.Thread.run(Thread.java:745)\n2017-07-18 17:54:09,292 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.ContainerManagerImpl: Start request for container_1499221670783_0067_02_000002 by user hadoop\n{quote}\n\nThen I change my code and still set the visibility to null\n{quote}\nLocalResource resource = LocalResource.newInstance(\n                                URL.fromURI(dst.toUri()),\n                                LocalResourceType.FILE, {color:red}null{color},\n                                fileStatus.getLen(), fileStatus.getModificationTime());\n{quote}\nThis error still happen.\n\nAt last I set the visibility to correct value, the error do not happen again.\nSo I think the visibility of LocalResource is null will cause NodeManager shutdown.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12877780","id":"12877780","filename":"YARN-6837.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lingjinjiang","name":"lingjinjiang","key":"lingjinjiang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lingjinjiang&avatarId=30130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lingjinjiang&avatarId=30130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lingjinjiang&avatarId=30130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lingjinjiang&avatarId=30130"},"displayName":"Jinjiang Ling","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-07-18T11:18:59.427+0000","size":1804,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12877780/YARN-6837.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12877952","id":"12877952","filename":"YARN-6837-1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lingjinjiang","name":"lingjinjiang","key":"lingjinjiang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lingjinjiang&avatarId=30130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lingjinjiang&avatarId=30130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lingjinjiang&avatarId=30130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lingjinjiang&avatarId=30130"},"displayName":"Jinjiang Ling","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-07-19T09:33:36.798+0000","size":11858,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12877952/YARN-6837-1.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Null LocalResource visibility or resource type can crash the nodemanager","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lingjinjiang","name":"lingjinjiang","key":"lingjinjiang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lingjinjiang&avatarId=30130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lingjinjiang&avatarId=30130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lingjinjiang&avatarId=30130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lingjinjiang&avatarId=30130"},"displayName":"Jinjiang Ling","active":true,"timeZone":"Asia/Shanghai"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lingjinjiang","name":"lingjinjiang","key":"lingjinjiang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lingjinjiang&avatarId=30130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lingjinjiang&avatarId=30130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lingjinjiang&avatarId=30130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lingjinjiang&avatarId=30130"},"displayName":"Jinjiang Ling","active":true,"timeZone":"Asia/Shanghai"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13087911/comment/16091422","id":"16091422","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lingjinjiang","name":"lingjinjiang","key":"lingjinjiang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lingjinjiang&avatarId=30130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lingjinjiang&avatarId=30130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lingjinjiang&avatarId=30130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lingjinjiang&avatarId=30130"},"displayName":"Jinjiang Ling","active":true,"timeZone":"Asia/Shanghai"},"body":"Attach a patch to avoid this error.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lingjinjiang","name":"lingjinjiang","key":"lingjinjiang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lingjinjiang&avatarId=30130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lingjinjiang&avatarId=30130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lingjinjiang&avatarId=30130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lingjinjiang&avatarId=30130"},"displayName":"Jinjiang Ling","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-07-18T11:19:37.977+0000","updated":"2017-07-18T11:19:37.977+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13087911/comment/16091670","id":"16091670","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"body":"Thanks for the report and the patch!  Looking at the patch, I'm not a fan of letting an NPE occur then catching it and assuming we know where the NPE came from.  It's error prone for maintenance since someone could accidentally introduce another NPE problem and then we are catching and suppressing for the wrong reason making things harder to debug.\n\nSpeaking of repressing exceptions, this simply logs a warning when we have no visibility, but then it just continues.  What will happen to the resource after that?  It doesn't look like we add it to any localizer list and therefore I think the container will just hang waiting for a resource to localize that never will.\n\nA better way to handle this is to sanity-check the container launch request in ContainerManagerImpl#startContainerInternal and throw an exception if the request is malformed.  This has the benefit of propagating the error back to the client who is making the bad request so they know both that the request was bad and the corresponding container will not be launched.  This looks similar to YARN-6403, and the resource visibility was missed in that change.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"created":"2017-07-18T14:58:59.602+0000","updated":"2017-07-18T14:58:59.602+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13087911/comment/16092868","id":"16092868","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lingjinjiang","name":"lingjinjiang","key":"lingjinjiang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lingjinjiang&avatarId=30130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lingjinjiang&avatarId=30130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lingjinjiang&avatarId=30130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lingjinjiang&avatarId=30130"},"displayName":"Jinjiang Ling","active":true,"timeZone":"Asia/Shanghai"},"body":"[~jlowe] Thanks for your suggestion.\nIt seems that -[YARN-6403|https://issues.apache.org/jira/browse/YARN-6403]-  is similar to this error. I also find that the resource type is null will cause this error, so I add resource visibility and type check after it.\n\nUpdate patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lingjinjiang","name":"lingjinjiang","key":"lingjinjiang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lingjinjiang&avatarId=30130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lingjinjiang&avatarId=30130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lingjinjiang&avatarId=30130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lingjinjiang&avatarId=30130"},"displayName":"Jinjiang Ling","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-07-19T09:42:13.695+0000","updated":"2017-07-19T09:42:13.695+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13087911/comment/16093229","id":"16093229","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"body":"Thanks for updating the patch!  Looks good to me, moving this to Patch Available so Jenkins can comment on the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"created":"2017-07-19T14:58:10.001+0000","updated":"2017-07-19T14:58:10.001+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13087911/comment/16093326","id":"16093326","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 19s{color} | {color:blue} Docker mode activated. {color} |\n|| || || || {color:brown} Prechecks {color} ||\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 2 new or modified test files. {color} |\n|| || || || {color:brown} trunk Compile Tests {color} ||\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 11s{color} | {color:blue} Maven dependency ordering for branch {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 14m 38s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  9m 38s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 54s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m 14s{color} | {color:green} trunk passed {color} |\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 48s{color} | {color:red} hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager in trunk has 5 extant Findbugs warnings. {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 57s{color} | {color:green} trunk passed {color} |\n|| || || || {color:brown} Patch Compile Tests {color} ||\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 11s{color} | {color:blue} Maven dependency ordering for patch {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 52s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  5m 23s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  5m 23s{color} | {color:green} the patch passed {color} |\n| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 52s{color} | {color:orange} hadoop-yarn-project/hadoop-yarn: The patch generated 14 new + 172 unchanged - 0 fixed = 186 total (was 172) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m 11s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  2m 12s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 10s{color} | {color:green} the patch passed {color} |\n|| || || || {color:brown} Other Tests {color} ||\n| {color:green}+1{color} | {color:green} unit {color} | {color:green}  2m 42s{color} | {color:green} hadoop-yarn-common in the patch passed. {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 13m 44s{color} | {color:green} hadoop-yarn-server-nodemanager in the patch passed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 33s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 66m 16s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:14b5c93 |\n| JIRA Issue | YARN-6837 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12877952/YARN-6837-1.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 9d74dee2fe19 3.13.0-116-generic #163-Ubuntu SMP Fri Mar 31 14:13:22 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / df18025 |\n| Default Java | 1.8.0_131 |\n| findbugs | v3.1.0-RC1 |\n| findbugs | https://builds.apache.org/job/PreCommit-YARN-Build/16487/artifact/patchprocess/branch-findbugs-hadoop-yarn-project_hadoop-yarn_hadoop-yarn-server_hadoop-yarn-server-nodemanager-warnings.html |\n| checkstyle | https://builds.apache.org/job/PreCommit-YARN-Build/16487/artifact/patchprocess/diff-checkstyle-hadoop-yarn-project_hadoop-yarn.txt |\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/16487/testReport/ |\n| modules | C: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager U: hadoop-yarn-project/hadoop-yarn |\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/16487/console |\n| Powered by | Apache Yetus 0.6.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-07-19T16:04:56.246+0000","updated":"2017-07-19T16:04:56.246+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13087911/comment/16094867","id":"16094867","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"body":"The findbug warnings are unrelated to the patch.\n\n+1 lgtm.  Committing this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"created":"2017-07-20T15:53:31.016+0000","updated":"2017-07-20T15:53:31.016+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13087911/comment/16094904","id":"16094904","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"body":"Thanks, [~lingjinjiang]!  I committed this to trunk, branch-2, branch-2.8, and branch-2.8.2.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"created":"2017-07-20T16:18:28.417+0000","updated":"2017-07-20T16:18:28.417+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13087911/comment/16094926","id":"16094926","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Jenkins build Hadoop-trunk-Commit #12038 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/12038/])\nYARN-6837. Null LocalResource visibility or resource type can crash the (jlowe: rev c8df3668ecc37c2d58cad35520a762eaec3c8539)\n* (edit) hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/ContainerManagerImpl.java\n* (edit) hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/test/java/org/apache/hadoop/yarn/api/records/impl/pb/TestApplicationClientProtocolRecords.java\n* (edit) hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/test/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/TestContainerManager.java\n* (edit) hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/java/org/apache/hadoop/yarn/api/records/impl/pb/ContainerLaunchContextPBImpl.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2017-07-20T16:29:20.110+0000","updated":"2017-07-20T16:29:20.110+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13087911/comment/16095591","id":"16095591","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lingjinjiang","name":"lingjinjiang","key":"lingjinjiang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lingjinjiang&avatarId=30130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lingjinjiang&avatarId=30130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lingjinjiang&avatarId=30130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lingjinjiang&avatarId=30130"},"displayName":"Jinjiang Ling","active":true,"timeZone":"Asia/Shanghai"},"body":"[~jlowe], thanks for your review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lingjinjiang","name":"lingjinjiang","key":"lingjinjiang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=lingjinjiang&avatarId=30130","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=lingjinjiang&avatarId=30130","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=lingjinjiang&avatarId=30130","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=lingjinjiang&avatarId=30130"},"displayName":"Jinjiang Ling","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-07-21T00:15:22.096+0000","updated":"2017-07-21T00:15:22.096+0000"}],"maxResults":9,"total":9,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-6837/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3hnkn:"}}