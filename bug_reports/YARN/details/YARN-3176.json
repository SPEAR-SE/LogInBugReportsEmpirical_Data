{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12774287","self":"https://issues.apache.org/jira/rest/api/2/issue/12774287","key":"YARN-3176","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2015-02-11T19:13:28.360+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Aug 08 00:53:39 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_2_*:*_3611207057_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_2_*:*_11693560606","customfield_12312321":null,"resolutiondate":"2015-08-07T21:05:54.362+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-3176/watchers","watchCount":15,"isWatching":false},"created":"2015-02-11T17:46:26.737+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12433678","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12433678","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12853052","key":"YARN-4033","self":"https://issues.apache.org/jira/rest/api/2/issue/12853052","fields":{"summary":"In FairScheduler, parent queues should also display queue status ","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-08-08T00:53:39.431+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"if the child queue does not have a maxRunningApp limit, it will use the queueMaxAppsDefault. This behavior is not quite right, since queueMaxAppsDefault is normally a small number, whereas some parent queues do have maxRunningApp set to be more than the default","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12698137","id":"12698137","filename":"YARN-3176.v1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-02-11T17:48:32.548+0000","size":3908,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12698137/YARN-3176.v1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12740742","id":"12740742","filename":"YARN-3176.v2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-06-19T21:59:21.362+0000","size":4137,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12740742/YARN-3176.v2.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"In Fair Scheduler, child queue should inherit maxApp from its parent","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14316797","id":"14316797","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12698137/YARN-3176.v1.patch\n  against trunk revision 22441ab.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager:\n\n                  org.apache.hadoop.yarn.server.resourcemanager.scheduler.fair.TestFairScheduler\n                  org.apache.hadoop.yarn.server.resourcemanager.recovery.TestFSRMStateStore\n\nTest results: https://builds.apache.org/job/PreCommit-YARN-Build/6596//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-YARN-Build/6596//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-02-11T19:13:28.360+0000","updated":"2015-02-11T19:13:28.360+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14536146","id":"14536146","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djp","name":"djp","key":"djp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=djp&avatarId=16954","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=djp&avatarId=16954","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=djp&avatarId=16954","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=djp&avatarId=16954"},"displayName":"Junping Du","active":true,"timeZone":"Asia/Shanghai"},"body":"Cancel the patch until test failure get addressed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djp","name":"djp","key":"djp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=djp&avatarId=16954","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=djp&avatarId=16954","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=djp&avatarId=16954","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=djp&avatarId=16954"},"displayName":"Junping Du","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-05-09T02:55:29.484+0000","updated":"2015-05-09T02:55:29.484+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14594500","id":"14594500","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"\\\\\n\\\\\n| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | pre-patch |  16m 27s | Pre-patch trunk compilation is healthy. |\n| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |\n| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 1 new or modified test files. |\n| {color:green}+1{color} | javac |   7m 43s | There were no new javac warning messages. |\n| {color:green}+1{color} | javadoc |   9m 51s | There were no new javadoc warning messages. |\n| {color:green}+1{color} | release audit |   0m 23s | The applied patch does not increase the total number of release audit warnings. |\n| {color:red}-1{color} | checkstyle |   0m 32s | The applied patch generated  10 new checkstyle issues (total was 0, now 10). |\n| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |\n| {color:green}+1{color} | install |   1m 35s | mvn install still works. |\n| {color:green}+1{color} | eclipse:eclipse |   0m 34s | The patch built with eclipse:eclipse. |\n| {color:green}+1{color} | findbugs |   1m 28s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |\n| {color:red}-1{color} | yarn tests |  51m  7s | Tests failed in hadoop-yarn-server-resourcemanager. |\n| | |  89m 43s | |\n\\\\\n\\\\\n|| Reason || Tests ||\n| Failed unit tests | hadoop.yarn.server.resourcemanager.TestWorkPreservingRMRestart |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Patch URL | http://issues.apache.org/jira/secure/attachment/12740742/YARN-3176.v2.patch |\n| Optional Tests | javadoc javac unit findbugs checkstyle |\n| git revision | trunk / 20c03c9 |\n| checkstyle |  https://builds.apache.org/job/PreCommit-YARN-Build/8297/artifact/patchprocess/diffcheckstylehadoop-yarn-server-resourcemanager.txt |\n| hadoop-yarn-server-resourcemanager test log | https://builds.apache.org/job/PreCommit-YARN-Build/8297/artifact/patchprocess/testrun_hadoop-yarn-server-resourcemanager.txt |\n| Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/8297/testReport/ |\n| Java | 1.7.0_55 |\n| uname | Linux asf904.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/8297/console |\n\n\nThis message was automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-06-20T10:07:03.472+0000","updated":"2015-06-20T10:07:03.472+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14596257","id":"14596257","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi [~djp], can you take a look at patch v2. The checkstyle issues and test errors do not seems to apply to this patch","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-06-22T17:15:32.424+0000","updated":"2015-06-22T17:15:32.424+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14636244","id":"14636244","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jrottinghuis","name":"jrottinghuis","key":"jrottinghuis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joep Rottinghuis","active":true,"timeZone":"America/Los_Angeles"},"body":"For the record, we're running with this patch in production at Twitter.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jrottinghuis","name":"jrottinghuis","key":"jrottinghuis","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Joep Rottinghuis","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-07-22T05:06:44.278+0000","updated":"2015-07-22T05:06:44.278+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14649466","id":"14649466","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajisakaa","name":"ajisakaa","key":"ajisakaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ajisakaa&avatarId=17238","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ajisakaa&avatarId=17238","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ajisakaa&avatarId=17238","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ajisakaa&avatarId=17238"},"displayName":"Akira Ajisaka","active":true,"timeZone":"Asia/Tokyo"},"body":"+1 pending Jenkins. https://builds.apache.org/job/PreCommit-YARN-Build/8738","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ajisakaa","name":"ajisakaa","key":"ajisakaa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ajisakaa&avatarId=17238","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ajisakaa&avatarId=17238","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ajisakaa&avatarId=17238","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ajisakaa&avatarId=17238"},"displayName":"Akira Ajisaka","active":true,"timeZone":"Asia/Tokyo"},"created":"2015-07-31T16:54:24.120+0000","updated":"2015-07-31T16:54:24.120+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14649663","id":"14649663","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"\\\\\n\\\\\n| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | pre-patch |  17m 25s | Pre-patch trunk compilation is healthy. |\n| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |\n| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 1 new or modified test files. |\n| {color:green}+1{color} | javac |   8m 26s | There were no new javac warning messages. |\n| {color:green}+1{color} | javadoc |  12m 13s | There were no new javadoc warning messages. |\n| {color:green}+1{color} | release audit |   0m 28s | The applied patch does not increase the total number of release audit warnings. |\n| {color:green}+1{color} | checkstyle |   0m 59s | There were no new checkstyle issues. |\n| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |\n| {color:green}+1{color} | install |   1m 41s | mvn install still works. |\n| {color:green}+1{color} | eclipse:eclipse |   0m 44s | The patch built with eclipse:eclipse. |\n| {color:green}+1{color} | findbugs |   1m 55s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |\n| {color:red}-1{color} | yarn tests |  56m 22s | Tests failed in hadoop-yarn-server-resourcemanager. |\n| | | 100m 16s | |\n\\\\\n\\\\\n|| Reason || Tests ||\n| Failed unit tests | hadoop.yarn.server.resourcemanager.resource.TestResources |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Patch URL | http://issues.apache.org/jira/secure/attachment/12740742/YARN-3176.v2.patch |\n| Optional Tests | javadoc javac unit findbugs checkstyle |\n| git revision | trunk / 93d50b7 |\n| hadoop-yarn-server-resourcemanager test log | https://builds.apache.org/job/PreCommit-YARN-Build/8738/artifact/patchprocess/testrun_hadoop-yarn-server-resourcemanager.txt |\n| Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/8738/testReport/ |\n| Java | 1.7.0_55 |\n| uname | Linux asf904.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/8738/console |\n\n\nThis message was automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-07-31T19:09:35.323+0000","updated":"2015-07-31T19:09:35.323+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14653038","id":"14653038","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kasha","name":"kasha","key":"kasha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karthik Kambatla","active":true,"timeZone":"America/Los_Angeles"},"body":"The patch looks reasonable. I forget where exactly, but we do have code that figures out parent queue for a queue that does things similar to what the patch adds. Can we please check that and avoid duplication if possible. \n\n[~asuresh] - does the patch look reasonable to you? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kasha","name":"kasha","key":"kasha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karthik Kambatla","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-04T04:24:31.898+0000","updated":"2015-08-04T04:24:31.898+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14654130","id":"14654130","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asuresh","name":"asuresh","key":"asuresh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun Suresh","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for the patch [~l201514],\n\nThe patch itself looks fine. But, currently, I see that quite a lot of queue properties do not inherit from the parent. for eg. Min(Max)Resources, Preemption Timeouts etc. Should we broaden the scope of the JIRA to include these as well ?\n\nAlso, I was also thinking, is it right simply inherit the maxApp ? The queue in question can hog all the apps and not leave its siblings any. Should we use the queue share to determine the max apps ?\n\nThoughts ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=asuresh","name":"asuresh","key":"asuresh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun Suresh","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-04T18:44:27.243+0000","updated":"2015-08-04T18:44:27.243+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14660320","id":"14660320","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kasha","name":"kasha","key":"kasha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karthik Kambatla","active":true,"timeZone":"America/Los_Angeles"},"body":"Using the instantaneous fairshare might be reasonable.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kasha","name":"kasha","key":"kasha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karthik Kambatla","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-06T16:53:27.798+0000","updated":"2015-08-06T16:53:27.798+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14660598","id":"14660598","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"body":"I believe [~kasha@cloudera.com] is right about this jira looking like a duplicate. Please look at MaxRunningAppsEnforcer.canAppBeRunnable().\n[~l201514], you could already do the following for maxApp inheritance(including having a default value) :\n1. Remove queueMaxAppsDefault element from your alloc file.\n2. Configure root queue in the alloc file and set maxRunningApps to the value you used to specify in queueMaxAppsDefault.\n3. Configure maxRunningApps at whichever parent you want, which would be applied at the parent level and to its children which don't have it set.\n\nNow for any child queue, if there is no maxRunningApps set on it, FS would recursively look at its parent's maxRunningApps and try to enforce it on the child.\nIf maxRunningApps is not set for any of the parent node in its ancestry, then root's maxRunningApps would take effect, which is basically your default maxRunningApps if that makes sense.\n\nSample alloc :\n{code:xml}\n<queue name=\"root\">\n     <maxRunningApps>$defaultValue<maxRunningApps>\n    <queue name=\"parent1\">\n            <maxRunningApps>5<maxRunningApps>\n            <queue name=\"childOfParent1\" />\n   </queue>\n\n      <queue name=\"parent2\">\n            <queue name=\"childOfParent2\" />\n   </queue>       \n{code}\n\nIn the alloc above, queue \"childOfParent1\" will inherit maxRunningApps(=5) from parent1, while queue \"childOfParent2\" will inherit maxRunningApps from root queue.(FYI, root queue and root.default queue are auto-created by Fair scheduler irrespective of whether user configures it or not)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-06T18:44:10.788+0000","updated":"2015-08-06T18:44:10.788+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14660603","id":"14660603","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"body":"Sry, in my comment above I missed a closing \"</queue>\" element at the end of the alloc xml.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-06T18:47:59.170+0000","updated":"2015-08-06T18:47:59.170+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14660651","id":"14660651","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"body":"[~ashwinshankar77], I don't think the sample alloc is a good example. The maxRunningApps for root is usually set to a very high value, since it is the limit of concurrent running apps of the whole cluster. Also, using your sample alloc file still has some problem, the fairScheduler UI would show a Integer.MAX_VALUE as the max running apps of a child. Which is confusing for the user, since MaxRunningAppsEnforcer.canAppBeRunnable() does limit the running apps of a child to be less than their parent.\n\n[~asuresh], I could open several related JIRA to broaden the scope of this one, but I think directly inherit parent property is simple and straightforward. Since the real problem is if the queueMaxAppsDefault is not set or set to a large value, the child could end up with more running apps than its parent.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-06T19:27:44.022+0000","updated":"2015-08-06T19:27:44.022+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14660760","id":"14660760","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"body":"[~l201514],\nJust trying to understand, what is the point of inheriting maxApp from parent when it is anyway going to be enforced at the parent by looking at number of applications running at parent(which includes number of applications running in child) ? just because you inherit maxApp at child, that doesn't mean you can always run $maxApp at child, rather it depends on how many apps are running in its siblings, which would be looked at and enforced at the parent.\nMaybe if you can give an example illustrating your case, that would be helpful.\nI can see that the UI needs to be fixed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-06T20:39:11.125+0000","updated":"2015-08-06T20:39:11.125+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14660787","id":"14660787","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"body":"One example could be queueMaxAppsDefault is set to 50, and \"parent\" has a maxRunningApps of 25. But if the child queues of the \"parent\" do not have maxRunningApps set, they are going to get 50 as their max instead of 25. In this case, MaxRunningAppEnforcer could end up letting more apps running in the child queues.\n\nAlso, I don't think there is a direct way to find out the maxRunningApps number of a parent queue from the scheduler UI.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-06T21:04:23.132+0000","updated":"2015-08-06T21:04:23.132+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14660859","id":"14660859","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. In this case, MaxRunningAppEnforcer could end up letting more apps running in the child queues.\nAre you sure about this ? if queueMaxAppsDefault is set to 50 and the child does not have maxApps set, then their maxApps would be taken as 50, which is true like you said, but that doesn't mean they can run 50. They wouldn't be able to run more than 25, which is their parent's maxApps, since every application submitted (FS.addApplicationAttempt()) has to go through MaxRunningAppEnforcer.canAppBeRunnable(), which would recursively look and see if the new app would violate maxApp at any of its queue's ancestors, which means the child would be limited to 25 apps, not 50, no ?\n\n{code:java}\n    // Check queue and all parent queues\n    while (queue != null) {\n      int queueMaxApps = allocConf.getQueueMaxApps(queue.getName());\n      if (queue.getNumRunnableApps() >= queueMaxApps) {\n        return false;\n      }\n      queue = queue.getParent();\n    }\n{code}\n\nYes I agree that we do need something to fix the UI, but I don't believe we are fixing the an incorrect behavior of \"maxapps\" logic.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-06T21:48:31.254+0000","updated":"2015-08-06T21:48:31.254+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14660895","id":"14660895","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"body":"Considering an other example, grandparent -> parent -> child\n\n1. grandparent queue has a MaxRunningApps of 500\n2. queueMaxAppsDefault is set to 25\n3. parent queue doesn't have MaxAppRunning set\n4. child queue has a max of 50\n\nIn this case, child queue cannot exceed the 25, since its parent will get the queueMaxAppsDefault as its max instead of the max from grandparent. Although, this kind of queue structure is uncommon, it represents the problem. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-06T22:24:47.290+0000","updated":"2015-08-06T22:24:47.290+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14660925","id":"14660925","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"body":"Yes, this is valid case when inheriting would be useful. I'm just mildly concerned about couple things : what if someone doesn't want to inherit, but wants to use the default. Also since we don't inherit other properties like minshare, would this behavior cause confusion due to inconsistency. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-06T22:50:27.899+0000","updated":"2015-08-06T22:50:27.899+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14660948","id":"14660948","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"body":"for that, we can maybe introduce something like a \"default\" as follows, which would let the queue use the default value.\n{code}\n<queue name=\"queue\">\n            <maxRunningApps>default<maxRunningApps>\n</queue>\n{code}\n\nAlso, we need to do the same thing for other queue properties if we agree to add such queue inherit behavior. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-06T23:06:10.171+0000","updated":"2015-08-06T23:06:10.171+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14661153","id":"14661153","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"body":"It depends on the use case, if a user has lots of queues, and wants the default value to be take effect, then based on your proposal he has to configure\nmaxRunningApps=\"default\" for every one of them, which can be painful. Also I don't think we want to inherit queue properties like minshare, weight which are queue specific properties and won't make sense inheriting.\nMy 2 cents : in the example you described above( grandparent -> parent -> child), if you think that's a corner case and if its just about configuring one queue, would it work for you to just set maxApp at parent to >50, so that child queue can run 50 apps ?\n[~kasha@cloudera.com], [~asuresh] thoughts on all of this ?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-07T01:11:25.061+0000","updated":"2015-08-07T01:11:25.061+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14661251","id":"14661251","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"body":"That makes sense. If you feel like this change is unnecessary, I can mark it as won't fix","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-07T03:21:30.683+0000","updated":"2015-08-07T03:21:30.683+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14662056","id":"14662056","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"body":"There is still the UI issue with maxApp that you brought up. Feel free to fix it in this jira, or raise another jira and mark this as \"Wont fix\".","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-07T16:32:29.676+0000","updated":"2015-08-07T16:32:29.676+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14662122","id":"14662122","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"body":"If we don't allow a queue inherit properties from its parent, I am not sure what is the right way to fix the UI issue. For example,\n\n1. queueMaxAppsDefault is not set \n2. parent queue have MaxAppRunning set to 50\n3. child queue doesn't have MaxAppRunning set\n\nWhat value should we display for the child queue, should it inherit 50 from its parent?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-07T17:32:41.507+0000","updated":"2015-08-07T17:32:41.507+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14662228","id":"14662228","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"body":"Yeah, thats a problem. Maybe we should display the child queue's maxApp to say \"Not configured\"(or something along those lines) in those cases instead of Integer.MAX_VALUE ? Ideally we would want to show maxApps = 50 on the parent queue on the UI, but unfortunately I believe the scheduler page supports \"Queue status\" box(the box that shows up when we click on the arrow on the left of a leaf queue) only for leaf queues and not parent queues.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-07T18:32:45.615+0000","updated":"2015-08-07T18:32:45.615+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14662391","id":"14662391","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"body":"From FairSchedulerPage, it looks like the UI has already handle the Integer.MAX_VALUE case.\n{code}\n    protected void render(Block html) {\n      ResponseInfo ri = info(\"\\'\" + qinfo.getQueueName() + \"\\' Queue Status\").\n          _(\"Used Resources:\", qinfo.getUsedResources().toString()).\n          _(\"Num Active Applications:\", qinfo.getNumActiveApplications()).\n          _(\"Num Pending Applications:\", qinfo.getNumPendingApplications()).\n          _(\"Min Resources:\", qinfo.getMinResources().toString()).\n          _(\"Max Resources:\", qinfo.getMaxResources().toString());\n      int maxApps = qinfo.getMaxApplications();\n      if (maxApps < Integer.MAX_VALUE) {\n          ri._(\"Max Running Applications:\", qinfo.getMaxApplications());\n      }\n      ri._(STEADY_FAIR_SHARE + \":\", qinfo.getSteadyFairShare().toString());\n      ri._(INSTANTANEOUS_FAIR_SHARE + \":\", qinfo.getFairShare().toString());\n      html._(InfoBlock.class);\n\n      // clear the info contents so this queue's info doesn't accumulate into another queue's info\n      ri.clear();\n    }\n{code}\n\nI think the best way to fix the UI is also displaying the information(i.e. Queue status box) for parent queue. By doing this, there will be no more confusion","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=l201514","name":"l201514","key":"l201514","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siqi Li","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-07T20:35:12.718+0000","updated":"2015-08-07T20:35:12.718+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14662408","id":"14662408","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"body":"Yes agreed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ashwinshankar77","name":"ashwinshankar77","key":"ashwinshankar77","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Ashwin Shankar","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-07T20:41:42.089+0000","updated":"2015-08-07T20:41:42.089+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12774287/comment/14662716","id":"14662716","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kasha","name":"kasha","key":"kasha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karthik Kambatla","active":true,"timeZone":"America/Los_Angeles"},"body":"If the child queue is going to be limited by the value set at the parent queue, it seems reasonable to show that value. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kasha","name":"kasha","key":"kasha","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Karthik Kambatla","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-08T00:53:39.431+0000","updated":"2015-08-08T00:53:39.431+0000"}],"maxResults":27,"total":27,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-3176/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i25hvj:"}}