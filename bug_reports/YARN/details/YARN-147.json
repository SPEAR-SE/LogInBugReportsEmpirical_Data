{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12610658","self":"https://issues.apache.org/jira/rest/api/2/issue/12610658","key":"YARN-147","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323272","id":"12323272","description":"2.0.3-alpha release","name":"2.0.3-alpha","archived":false,"released":true,"releaseDate":"2013-02-14"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/3","id":"3","description":"The problem is a duplicate of an existing issue.","name":"Duplicate"},"customfield_12312322":null,"customfield_12310220":"2012-10-06T04:19:23.001+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Dec 18 23:02:49 UTC 2012","customfield_12310420":"244117","customfield_12312320":null,"customfield_12310222":"10002_*:*_4_*:*_865729607_*|*_1_*:*_4_*:*_5527433571_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-12-18T23:02:49.845+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-147/watchers","watchCount":18,"isWatching":false},"created":"2012-10-05T23:10:06.691+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"9.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323272","id":"12323272","description":"2.0.3-alpha release","name":"2.0.3-alpha","archived":false,"released":true,"releaseDate":"2013-02-14"}],"issuelinks":[{"id":"12358605","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12358605","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"outwardIssue":{"id":"12560197","key":"YARN-3","self":"https://issues.apache.org/jira/rest/api/2/issue/12560197","fields":{"summary":"Add support for CPU isolation/monitoring of containers","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":21146}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-02-15T13:12:40.632+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12319323","id":"12319323","name":"nodemanager"}],"timeoriginalestimate":null,"description":"This is a clone for YARN-3 to be able to submit the patch as YARN-3 does not show the SUBMIT PATCH button.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12549094","id":"12549094","filename":"YARN-147-v1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-10-14T21:58:56.826+0000","size":41102,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12549094/YARN-147-v1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12549422","id":"12549422","filename":"YARN-147-v2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-10-17T01:30:03.892+0000","size":41480,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12549422/YARN-147-v2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12549755","id":"12549755","filename":"YARN-147-v3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-10-18T21:28:10.034+0000","size":43611,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12549755/YARN-147-v3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12549783","id":"12549783","filename":"YARN-147-v4.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-10-18T23:51:20.172+0000","size":43605,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12549783/YARN-147-v4.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12550094","id":"12550094","filename":"YARN-147-v5.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-10-19T22:09:17.616+0000","size":43807,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12550094/YARN-147-v5.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12550652","id":"12550652","filename":"YARN-147-v6.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-10-24T17:24:35.656+0000","size":44447,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12550652/YARN-147-v6.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12555695","id":"12555695","filename":"YARN-147-v8.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-12-03T00:11:23.485+0000","size":44992,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12555695/YARN-147-v8.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12561571","id":"12561571","filename":"YARN-147-v9.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-12-18T21:11:54.179+0000","size":45497,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12561571/YARN-147-v9.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12548069","id":"12548069","filename":"YARN-3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"created":"2012-10-05T23:11:12.142+0000","size":41217,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12548069/YARN-3.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"29889","customfield_12312823":null,"summary":"Add support for CPU isolation/monitoring of containers","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13470773","id":"13470773","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"body":"Attaching last patch from YARN-3 from Andrew, had to tweak a few imports in LCE java that were not applying.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"created":"2012-10-05T23:11:12.145+0000","updated":"2012-10-05T23:11:12.145+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13470786","id":"13470786","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"body":"duplicating it for test-patch purposes.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"created":"2012-10-05T23:32:42.712+0000","updated":"2012-10-05T23:32:42.712+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13470908","id":"13470908","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12548069/YARN-3.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 2 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:red}-1 findbugs{color}.  The patch appears to introduce 1 new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-YARN-Build/73//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-YARN-Build/73//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-yarn-server-nodemanager.html\nConsole output: https://builds.apache.org/job/PreCommit-YARN-Build/73//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2012-10-06T04:19:23.001+0000","updated":"2012-10-06T04:19:23.001+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13470926","id":"13470926","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"body":"\n*CgroupsLCEResourcesHandler*\n\na few lines exceed 80 chars, reformat\n\n*CgroupsLCEResourcesHandler.setConf()*\n\nmove these assignments to init()\ncgroupMount, default should be true, so the mounts are created if they don't exist\n cgroupMountPath, if there is no default we should fail if not set, can't we have a sensible default?\n \n*CgroupsLCEResourcesHandler.pathForCgroup()*\n\ndefault value for cgroupPrefix has '/', here will produce a '//' in the path\n\n*CgroupsLCEResourcesHandler.updateCgroup()*\n\nLOG.debug should be within an IF LOG.DebugEnabled BLOCK to avoid concatenation of the message if not logging.\n\nThe  writer close should be done in a finally after checking f != null. this is generating the findbugs warning\n\n*CgroupsLCEResourcesHandler.parseMtab()*\n\nWhy not move the filereader constructor to the try block below\n\nNf the filereader cannot be open/read, is this acceptable or should stop execution by throwing exception?\n\nNo need to close fREader, closing in takes care of.\n\n*container-executor.c mount_cgroup()*\n\nUse an ELSE block to avoid return in the middle of the function.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"created":"2012-10-06T05:59:27.982+0000","updated":"2012-10-06T20:14:22.050+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13475906","id":"13475906","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"body":"updated patch as per Tucu's review","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-10-14T21:58:56.829+0000","updated":"2012-10-14T21:58:56.829+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13475909","id":"13475909","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"body":"hi Tucu,\n\nthanks very much for opening this new jira and reviewing the patch. I've updated a new version which addresses most of your comments.\n\nanswers to the questions in your review:\n.bq cgroupMountPath, if there is no default we should fail if not set, can't we have a sensible default?\n\nI've added a check to fail if not set. as far as I can tell, there isn't a single default path for cgroups -- some distributions use \"/sys/fs/cgroup\", some use \"/cgroup\", others, \"/cgroups\". I've even seen \"/mnt/cgroup\" (Debian perhaps?); these also vary across releases of the same distro. :-(\n\n.bq default value for cgroupPrefix has '/', here will produce a '//' in the path\n\nyes, I made that choice deliberately. I wanted to convey that cgroupPrefix can be a path (which is why I kept the '/') and when I use it, I also added a '/' in case the user did not put a '/' at the right place in the prefix. my understanding is that on Unix, '//' in a path is interpreted as '/', no?\n\n.bq Nf the filereader cannot be open/read, is this acceptable or should stop execution by throwing exception?\n\neh, we could go either way here, but I think it's reasonable to not throw the exception. if the file can't be read, then the map from cgroup controller to path isn't built, and we already have existing checks which skip controllers which can't be found in the path (say, if the file can be read correctly, but the CPU controller isn't mounted).\n\n\nok, great. I'm going to mark this as \"patch available\" and see if the findbugs warning has gone away (I can't seem to get it to run locally).\n\n\nthanks!!\nAndrew\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-10-14T22:05:30.763+0000","updated":"2012-10-14T22:05:30.763+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13476220","id":"13476220","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:green}+1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12549094/YARN-147-v1.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 2 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-YARN-Build/89//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-YARN-Build/89//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2012-10-15T15:51:43.384+0000","updated":"2012-10-15T15:51:43.384+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13476268","id":"13476268","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"body":"Andrew, thanks for updating the patch. Mostly minor stuff:\n\n* CgroupsLCEResourcesHandler has an unused import for FileNotFoundException\n* CgroupsLCEResourcesHandler, on the double '//', on the init() method, trim the '/' is present  at the beginning or end of the cgroupPrefix\n* CgroupsLCEResourcesHandler, parseMtab, no need have a local var for the fReader, the FileReader creation could be done directly in the BufferedReader constructor.\n* CgroupsLCEResourcesHandler, parseMtab, the last exception should print MTAB_FILE instead the BufferReader instance.\n* CgroupsLCEResourcesHandler, on parseMtab error I think we should thrown an exception to halt things. My reasoning is that if I've configured things to use cgroups, I'd expect them to be working as opposed to have a warning message lost in the logs. This would help identify misconfigurations.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"created":"2012-10-15T17:08:51.125+0000","updated":"2012-10-15T17:08:51.125+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13477523","id":"13477523","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"body":"thanks for the additional comments, Tucu!  I've updated the patch as per your review. hopefully I have done everything correctly.\n\nbtw, I have this patch in github:\nhttps://github.com/adferguson/hadoop-common/tree/adf-yarn-147\nyou can see the changes for this patch in the most recent commit.\n\n\nthanks!\nAndrew","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-10-17T01:30:03.894+0000","updated":"2012-10-17T01:30:03.894+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13477535","id":"13477535","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:green}+1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12549422/YARN-147-v2.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 2 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-YARN-Build/93//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-YARN-Build/93//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2012-10-17T02:02:45.521+0000","updated":"2012-10-17T02:02:45.521+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13478030","id":"13478030","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for working on this, Andrew!  I took a quick look at the native part of this patch.\n\n{{get_kv_key}}, {{get_kv_value}}: I would recommend that your API look something like this:\n{code}\n/**\n * If str is a string of the form key=val, find 'key'\n * \n * @param input    The input string\n * @param out      Where to put the output string.\n * @param out_len  The length of the output buffer.\n *\n * @return         -ENAMETOOLONG if out_len is not long enough;\n *                 -EINVAL if there is no equals sign in the input;\n *                 0 on success\n */\nint get_key(const char *input, char *out, size_t out_len);\n{code}\n\nThis API doesn't require you to modify the input or allocate memory-- two things that make the code very hard to follow.  It gives the caller the choice of how much memory to allocate and how to allocate it (stack, malloc, etc.)\n\n{code}\n  char pid_buf[21];\n  snprintf(pid_buf, 21, \"%d\", pid);\n{code}\n\n{{snprintf(pid_buf, sizeof(pid_buf), \"%d\", pid);}} would be considered better style.\n\nMore importantly, it would probably be better for you to use {{fopen}} / {{fprintf}} / {{fclose}} here.  If you do want to use the raw {{open}} / {{write}} / {{close}} methods, you have to correctly handle short writes and {{EINTR}}, which you are not doing here.\n\n{{mount_cgroup}}: you really need to check the return code of {{mount}} and do something if it fails.\n\nI would also recommend that you allocate {{hier_path}} on the stack with \n{code}\nchar hier_path[PATH_MAX]\n{code}\nor similar.  Using {{malloc}} here is not really worth it.\n\n{code}\nstpncpy(buf, hierarchy, strlen(hierarchy));\n{code}\n\nThis seems to do the same thing here as the more widely available and portable {{strncpy}} function.  (You're not using the pointer which {{stpncpy}} returns.)  Better yet, use {{snprintf(buf, sizeof(buf), \"%s\", hierarchy);}} which will do bounds checking properly.\n\n{{main.c}}: Just a general comment.  I really recommend using {{getopt_long}} to parse options.  I've seen manual option parsing grow into a huge mess over time as everyone adds \"just one more option.\"  You don't have to do that in this change (although it would be easy enough to do), but please consider it in the future.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-10-17T16:58:35.183+0000","updated":"2012-10-17T16:58:35.183+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13479382","id":"13479382","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"body":"update native code per review by Colin","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-10-18T21:28:10.036+0000","updated":"2012-10-18T21:28:10.036+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13479387","id":"13479387","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"body":"hi Colin,\n\nthanks for looking at the native code. since the changes were pretty extensive, would you mind taking a careful look again? if it's easier for you, the incremental changes can be seen here:\nhttps://github.com/adferguson/hadoop-common/commits/adf-yarn-147\n\nI hope I've faithfully implemented the new key-value API you suggested -- let me know if that's not the case.\n\nIf the mount fails, I let the exception bubble all the way up to stop the NodeManager, as Tucu suggested before about a different error.\n\nThe one thing I did not do is change the open / write / close methods to fopen / fprintf / fclose, as the rest of the native code does not use those methods. Which would you prefer to see: adjust my patch to use fopen, etc., or fix my use of open, etc.?\n\nYes, I totally agree that it would be better if main.c used getopt_long; it definitely smells like another JIRA to me. :-)\n\n\nthanks!\nAndrew","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-10-18T21:32:23.299+0000","updated":"2012-10-18T21:32:23.299+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13479498","id":"13479498","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"body":"small fix in two places: don't log & re-throw the same exception -- construct new exceptions with better context, and use the previous one as the cause.\n\nthanks Tucu for pointing this out!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-10-18T23:51:20.174+0000","updated":"2012-10-18T23:51:20.174+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13480319","id":"13480319","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"{{get_kv_key}}, {{get_kv_value}}: thanks for implementing the API I suggested.  It looks a lot better.  You might consider using {{strspn}} to simplify the code a bit (it returns a number of bytes, rather than a pointer, like {{index}} does.)  However, this is up to you (it's fine as-is).  It's more traditional to put the doxygen into the header file than the {{.c}} file.  Header files tend to define an interface, so that's where I go to find out how that interface should be used.\n\n{{mount_cgroup}}: it looks like if {{result = -1}}, the call to {{fprintf}} will print out {{errno}}, which has not been set.  You could either set {{errno}} instead of {{result}} in the preceding code, or restructure the code a bit.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-10-19T19:50:27.820+0000","updated":"2012-10-19T19:50:27.820+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13480437","id":"13480437","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"body":"thanks again, Colin.  I'm going to stick with {{strchr}} instead of {{strspn}} because I think it's clearer that we get NULL when there is no = in the input string, rather than having to check if the length of the \"key\" is the same as the length of the string in that case.\n\nthanks for noticing that the error handling wasn't quite right in {{mount_cgroup}}.\n\nupdated patch to follow in a sec.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-10-19T22:07:21.962+0000","updated":"2012-10-19T22:07:21.962+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13480441","id":"13480441","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"body":"updated patch with most recent suggestions from Colin.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-10-19T22:09:17.618+0000","updated":"2012-10-19T22:09:17.618+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13480467","id":"13480467","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"body":"Looks good to me.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cmccabe","name":"cmccabe","key":"cmccabe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cmccabe&avatarId=29060","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cmccabe&avatarId=29060","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cmccabe&avatarId=29060","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cmccabe&avatarId=29060"},"displayName":"Colin P. McCabe","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-10-19T22:36:26.022+0000","updated":"2012-10-19T22:36:26.022+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13480475","id":"13480475","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"body":"+1 pending jenkins (kicked it)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"created":"2012-10-19T22:44:05.211+0000","updated":"2012-10-19T22:44:05.211+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13480504","id":"13480504","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:green}+1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12550094/YARN-147-v5.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 2 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-YARN-Build/105//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-YARN-Build/105//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2012-10-19T23:05:00.574+0000","updated":"2012-10-19T23:05:00.574+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13482582","id":"13482582","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sseth","name":"sseth","key":"sseth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siddharth Seth","active":true,"timeZone":"America/Los_Angeles"},"body":"From a quick look, I'm not sure if the LCE will continue to work without cgroups. ? LAUNCH_CONTAINER seems to want a \"key=\" as the resources parameter, and the DefaultLCEResourceHandler sends in a \"none\". ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sseth","name":"sseth","key":"sseth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siddharth Seth","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-10-23T19:07:59.965+0000","updated":"2012-10-23T19:07:59.965+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13482670","id":"13482670","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sseth","name":"sseth","key":"sseth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siddharth Seth","active":true,"timeZone":"America/Los_Angeles"},"body":"Andrew, could you please comment on testing with and without cgroups.\n\nI don't know enough about cgroups to review the functionality. Otherwise, if this has been tested, I'm also +1 on getting this in (after resolving the previous comment), based on the previous reviews. Thanks!\n\nMinor,\n- LCEResourcesHandler, some of the function names (preExecute / postExecute) are a little tough to understand, without looking at where they're used. Would be nice to have JavaDocs / and maybe more verbose function names.\nThis is nice to have, and can be a separate jira.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sseth","name":"sseth","key":"sseth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Siddharth Seth","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-10-23T20:50:11.675+0000","updated":"2012-10-23T20:50:11.675+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13482751","id":"13482751","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"Got lost between YARN-3 and YARN-147 :)\n\nVery nice to have patch, I am willing to get it in ASAP given the amount of time it's been around.\n\nSome comments below.\n - yarn.nodemanager.linux-container-executor.cgroups.mount has different defaults in code and in yarn-default.xml\n - If the configs can be done away with (see below), ignore this comment. The descriptions for all the new configs in yarn-default.xml heavily reference code. We should simplify them to not address code and instead make them understandable by users and cross reference other related parameters.\n - {code}    // Based on testing, ApplicationMaster executables don't terminate until\n    // a little after the container appears to have finished. Therefore, we\n    // wait a short bit for the cgroup to become empty before deleting it.\n   {code}\n   Can you explain this? Is this sleep necessary. Depending on its importance, we'll need to fix the following Id check, AMs don't always have ID equaling one.\n - container-executor.c: If a mount-point is already mounted, mount gives a EBUSY error, mount_cgroup() will need to be fixed to support remounts (for e.g. on NM restarts). We could unmount cgroup fs on shutdown but that isn't always guaranteed.\n - Please update if you have tested it on a secure setup with LCE enabled with and without cgroups.\n\nThe following are already raised by others in some way, but I don't see them fixed in the latest patch. Unless I am missing something:\n - Not sure of the benefit of configurable yarn.nodemanager.linux-container-executor.cgroups.mount-path. Couldn't NM just always mount to a path that it creates and owns? Similar comment for the hierarchy-prefix.\n - CgroupsLCEResourcesHandler is swallowing exceptions and errors in multiple places - updateCgroup() and createCgroup(). In the later, if cgroups are enabled, and we can't create the file, it is a critical error?\n\nOne overarching improvement worth pursing immediately, either now or in follow up tickets:\n - Make ResourcesHandler top level. I'd like to merge the ContainersMonitor functionality with this so as to monitor/enforce memory limits also. ContainersMinotor is top-level, we should make ResourcesHandler also top-level so that other platforms don't need to create this type-hierarchy all over again when they wish to implement some or all of this functionality.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-10-23T22:20:50.609+0000","updated":"2012-10-23T22:20:50.609+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13483255","id":"13483255","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"body":"Cancelling patch while comments are addressed, particularly the one Sid raised - we can't break LCE.\n\nAlso, we need to make sure this continues to work on RHEL5/CentOS5 which doesn't have cgroups.\n\nOne more thing - can we please do reviews/discussions on YARN-3 to ensure we keep track in one place? Thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=acmurthy","name":"acmurthy","key":"acmurthy","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arun C Murthy","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-10-24T14:11:13.396+0000","updated":"2012-10-24T14:11:13.396+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13483268","id":"13483268","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"body":"hi [~acmurthy], I've started posting replies on YARN-3 instead. the LCE bug is fixed and I'll post a new patch after addressing [~vinodkv]'s comments. thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-10-24T14:24:58.841+0000","updated":"2012-10-24T14:24:58.841+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13483414","id":"13483414","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"body":"updated as per reviews on comments here and on YARN-3.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-10-24T17:24:35.659+0000","updated":"2012-10-24T17:24:35.659+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13534645","id":"13534645","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12555695/YARN-147-v8.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 2 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:red}-1 findbugs{color}.  The patch appears to introduce 1 new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager:\n\n                  org.apache.hadoop.yarn.server.nodemanager.TestLinuxContainerExecutorWithMocks\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-YARN-Build/230//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-YARN-Build/230//artifact/trunk/patchprocess/newPatchFindbugsWarningshadoop-yarn-server-nodemanager.html\nConsole output: https://builds.apache.org/job/PreCommit-YARN-Build/230//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2012-12-18T05:07:58.501+0000","updated":"2012-12-18T05:07:58.501+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13535326","id":"13535326","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"body":"hi,\n\nthis version fixes the broken test case in the previous patch, and should hopefully fix the findbugs warning.\n\nthanks!\nAndrew","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=adferguson","name":"adferguson","key":"adferguson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Andrew Ferguson","active":true,"timeZone":"America/New_York"},"created":"2012-12-18T21:11:54.182+0000","updated":"2012-12-18T21:11:54.182+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13535394","id":"13535394","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:green}+1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12561571/YARN-147-v9.patch\n  against trunk revision .\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:green}+1 tests included{color}.  The patch appears to include 2 new or modified test files.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-YARN-Build/235//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-YARN-Build/235//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2012-12-18T22:07:25.921+0000","updated":"2012-12-18T22:07:25.921+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12610658/comment/13535434","id":"13535434","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"body":"Closing this as dup of YARN-3.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tucu00","name":"tucu00","key":"tucu00","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alejandro Abdelnur","active":true,"timeZone":"Europe/Madrid"},"created":"2012-12-18T23:02:49.865+0000","updated":"2012-12-18T23:02:49.865+0000"}],"maxResults":30,"total":30,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-147/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i05h8f:"}}