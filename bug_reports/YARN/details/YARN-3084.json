{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12769243","self":"https://issues.apache.org/jira/rest/api/2/issue/12769243","key":"YARN-3084","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/6","id":"6","description":"The problem isn't valid and it can't be fixed.","name":"Invalid"},"customfield_12312322":null,"customfield_12310220":"2015-01-22T10:32:51.344+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Mar 27 11:55:08 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_5536819143_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2015-03-27T11:56:23.927+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-3084/watchers","watchCount":7,"isWatching":false},"created":"2015-01-22T09:56:04.897+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12327197","id":"12327197","description":"2.6.0 release","name":"2.6.0","archived":false,"released":true,"releaseDate":"2014-11-18"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2015-03-27T11:56:24.029+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12319322","id":"12319322","name":"resourcemanager"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12322519","id":"12322519","name":"webapp","description":"Web app related issues"}],"timeoriginalestimate":null,"description":"Hello,\n1.\tI want to run the simple Map Reduce job example (with the REST API 2.6 for yarn applications) and to calculate PI… for now it doesn’t work.\n\nWhen I use the command in the hortonworks terminal it works: “hadoop jar /usr/hdp/2.2.0.0-2041/hadoop-mapreduce/hadoop-mapreduce-examples-2.6.0.2.2.0.0-2041.jar pi 10 10”.\n\nBut I want to submit the job with the REST API and not in the terminal as a command line. [http://hadoop.apache.org/docs/current/hadoop-yarn/hadoop-yarn-site/ResourceManagerRest.html#Cluster_Applications_APISubmit_Application]\n\n2.\tI do succeed with other REST API requests: get state, get new application id and even kill(change state), but when I try to submit my example, the response is:\n\n--------------------------------------------------\n--------------------------------------------------\nThe Response Header:\nKey : null ,Value : [HTTP/1.1 202 Accepted]\nKey : Date ,Value : [Thu, 22 Jan 2015 07:47:24 GMT, Thu, 22 Jan 2015 07:47:24 GMT]\nKey : Content-Length ,Value : [0]\nKey : Expires ,Value : [Thu, 22 Jan 2015 07:47:24 GMT, Thu, 22 Jan 2015 07:47:24 GMT]\nKey : Location ,Value : [http://[my port]:8088/ws/v1/cluster/apps/application_1421661392788_0038]\nKey : Content-Type ,Value : [application/json]\nKey : Server ,Value : [Jetty(6.1.26.hwx)]\nKey : Pragma ,Value : [no-cache, no-cache]\nKey : Cache-Control ,Value : [no-cache]\n\nThe Respone Body:\nNull (No Response)\n--------------------------------------------------\n--------------------------------------------------\n3.\tI need help with the http request body filling. I am doing a POST http request and I know that I am doing it right (in java).\n\n4.\tI think the problem is in the request body.\n\n5.\tI used this guy’s answer to help me build my map reduce example xml but it does not work: [http://hadoop-forum.org/forum/general-hadoop-discussion/miscellaneous/2136-how-can-i-run-mapreduce-job-by-rest-api].\n\n6.\tWhat am I missing? (the description is not clear to me in the submit section of the rest api 2.6)\n\n7.\tDoes someone have an xml example for using a simple MR job?\n\n8.\tThanks! Here is the XML file I am using for the request body:\n--------------------------------------------------\n--------------------------------------------------\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n<application-submission-context>    \n\t<application-id>application_1421661392788_0038</application-id>\n    <application-name>test_21_1</application-name>\t\n\t<queue>default</queue>\n    <priority>3</priority>\n    <am-container-spec>      \n\t\t<environment>\t\t\t\n\t\t\t<entry>\t\t\t  \n\t\t\t\t<key>CLASSPATH</key>\n\t\t\t\t<value>/usr/hdp/2.2.0.0-2041/hadoop/conf&lt;CPS&gt;/usr/hdp/2.2.0.0-2041/hadoop/lib/*&lt;CPS&gt;/usr/hdp/2.2.0.0-2041/hadoop/.//*&lt;CPS&gt;/usr/hdp/2.2.0.0-2041/hadoop-hdfs/./&lt;CPS&gt;/usr/hdp/2.2.0.0-2041/hadoop-hdfs/lib/*&lt;CPS&gt;/usr/hdp/2.2.0.0-2041/hadoop-hdfs/.//*&lt;CPS&gt;/usr/hdp/2.2.0.0-2041/hadoop-yarn/lib/*&lt;CPS&gt;/usr/hdp/2.2.0.0-2041/hadoop-yarn/.//*&lt;CPS&gt;/usr/hdp/2.2.0.0-2041/hadoop-mapreduce/lib/*&lt;CPS&gt;/usr/hdp/2.2.0.0-2041/hadoop-mapreduce/.//*&lt;CPS&gt;&lt;CPS&gt;/usr/share/java/mysql-connector-java-5.1.17.jar&lt;CPS&gt;/usr/share/java/mysql-connector-java.jar&lt;CPS&gt;/usr/hdp/current/hadoop-mapreduce-client/*&lt;CPS&gt;/usr/hdp/current/tez-client/*&lt;CPS&gt;/usr/hdp/current/tez-client/lib/*&lt;CPS&gt;/etc/tez/conf/&lt;CPS&gt;/usr/hdp/2.2.0.0-2041/tez/*&lt;CPS&gt;/usr/hdp/2.2.0.0-2041/tez/lib/*&lt;CPS&gt;/etc/tez/conf</value>\n\t\t\t</entry>\n\t\t</environment>\n\t\t<commands>\n\t\t\t<command>hadoop jar /usr/hdp/2.2.0.0-2041/hadoop-mapreduce/hadoop-mapreduce-examples-2.6.0.2.2.0.0-2041.jar pi 10 10</command>\n\t\t</commands>\n    </am-container-spec>\n    <unmanaged-AM>false</unmanaged-AM>\n    <max-app-attempts>2</max-app-attempts>\n    <resource>      \n\t\t<memory>1024</memory>\n\t\t<vCores>1</vCores>\n    </resource>    \n\t<application-type>MAPREDUCE</application-type>\n    <keep-containers-across-application-attempts>false</keep-containers-across-application-attempts>\n    <application-tags>      \n\t\t<tag>Michael</tag>      \n\t\t<tag>PI example</tag>    \n\t</application-tags>\n</application-submission-context>\n--------------------------------------------------\n--------------------------------------------------\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12707749","id":"12707749","filename":"submit-app.json","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vvasudev","name":"vvasudev","key":"vvasudev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Varun Vasudev","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-03-27T11:55:51.538+0000","size":1854,"mimeType":"application/json","content":"https://issues.apache.org/jira/secure/attachment/12707749/submit-app.json"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12700559","id":"12700559","filename":"yarn-yarn-resourcemanager-sandbox.hortonworks.com.log","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=seano","name":"seano","key":"seano","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sean Roberts","active":true,"timeZone":"Europe/London"},"created":"2015-02-24T19:43:46.503+0000","size":91773,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12700559/yarn-yarn-resourcemanager-sandbox.hortonworks.com.log"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"YARN REST API 2.6 - can't submit simple job in hortonworks-allways job failes to run","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Xquery","name":"Xquery","key":"xquery","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Br","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Xquery","name":"Xquery","key":"xquery","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Br","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Using eclipse on windows 7 (client)to run the map reduce job on the host of Hortonworks HDP 2.2 (hortonworks is on vmware version 6.0.2 build-1744117)","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12769243/comment/14287214","id":"14287214","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"body":"202, accepted, looks like the RM accepted it.\n\n# does it appear in the queue of job submissions??\n# what does the RM log say?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org","name":"stevel@apache.org","key":"stevel@apache.org","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"},"displayName":"Steve Loughran","active":true,"timeZone":"Europe/London"},"created":"2015-01-22T10:32:51.344+0000","updated":"2015-01-22T10:32:51.344+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12769243/comment/14287336","id":"14287336","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Xquery","name":"Xquery","key":"xquery","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Br","active":true,"timeZone":"Etc/UTC"},"body":"Hi,\nfirst thanks for your quick reply...\n\n1. Where can i see the queue? i looked for it but i still dont get how to get to it\n2. I cant reach the logs...\n\nThe only clue I have regarding this job fails is:\n\nThats the only information i can see from the URL: http://192.168.38.133:8088/ws/v1/cluster/apps/application_1421661392788_0039\n(the links there when i try to use them for the logs dont work....http://sandbox.hortonworks.com:8088/proxy/application_1421661392788_0039/ [i replace and insert my host ip]\nand also the link for the container logs dont work..... http://sandbox.hortonworks.com:8042/node/containerlogs/container_1421661392788_0039_02_000001/dr.who\n----------------------------------\n<app>\n<id>application_1421661392788_0039</id>\n<user>dr.who</user>\n<name>test_33</name>\n<queue>default</queue>\n<state>FAILED</state>\n<finalStatus>FAILED</finalStatus>\n<progress>0.0</progress>\n<trackingUI>History</trackingUI>\n<trackingUrl>\nhttp://sandbox.hortonworks.com:8088/cluster/app/application_1421661392788_0039\n</trackingUrl>\n<diagnostics>\nApplication application_1421661392788_0039 failed 2 times due to AM Container for appattempt_1421661392788_0039_000002 exited with exitCode: 0 For more detailed output, check application tracking page:http://sandbox.hortonworks.com:8088/proxy/application_1421661392788_0039/Then, click on links to logs of each attempt. Diagnostics: Failing this attempt. Failing the application.\n</diagnostics>\n<clusterId>1421661392788</clusterId>\n<applicationType>MAPREDUCE</applicationType>\n<applicationTags>michael,pi example</applicationTags>\n<startedTime>1421923561425</startedTime>\n<finishedTime>1421923723426</finishedTime>\n<elapsedTime>162001</elapsedTime>\n<amContainerLogs>\nhttp://sandbox.hortonworks.com:8042/node/containerlogs/container_1421661392788_0039_02_000001/dr.who\n</amContainerLogs>\n<amHostHttpAddress>sandbox.hortonworks.com:8042</amHostHttpAddress>\n<allocatedMB>-1</allocatedMB>\n<allocatedVCores>-1</allocatedVCores>\n<runningContainers>-1</runningContainers>\n<memorySeconds>200857</memorySeconds>\n<vcoreSeconds>160</vcoreSeconds>\n<preemptedResourceMB>0</preemptedResourceMB>\n<preemptedResourceVCores>0</preemptedResourceVCores>\n<numNonAMContainerPreempted>0</numNonAMContainerPreempted>\n<numAMContainerPreempted>0</numAMContainerPreempted>\n</app>","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Xquery","name":"Xquery","key":"xquery","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michael Br","active":true,"timeZone":"Etc/UTC"},"created":"2015-01-22T12:21:06.895+0000","updated":"2015-01-22T12:21:06.895+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12769243/comment/14335288","id":"14335288","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=seano","name":"seano","key":"seano","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sean Roberts","active":true,"timeZone":"Europe/London"},"body":"I ran the same but with a simplified job request:\n{code}\n{\n  \"application-id\":\"application_1424804952495_0004\",\n  \"application-name\":\"seanpi2\",\n  \"am-container-spec\":\n  {\n    \"commands\":\n    {\n      \"command\":\"hadoop jar /usr/hdp/current/hadoop-mapreduce-client/hadoop-mapreduce-examples.jar pi 2 2\"\n    }\n  },\n  \"application-type\":\"YARN\"\n}\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=seano","name":"seano","key":"seano","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sean Roberts","active":true,"timeZone":"Europe/London"},"created":"2015-02-24T19:26:37.941+0000","updated":"2015-02-24T19:26:37.941+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12769243/comment/14335311","id":"14335311","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=seano","name":"seano","key":"seano","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sean Roberts","active":true,"timeZone":"Europe/London"},"body":"Apologies, didn't mean to hit submit.\n\nI submitted with that job. Interestingly, the 'pi' runs and is successful but the parent job reports a failure.\n\nApplication application_1424804952495_0004 failed 2 times due to AM Container for appattempt_1424804952495_0004_000002 exited with exitCode: 0\n\nAttaching resource manager logs as yarn-yarn-resourcemanager-sandbox.hortonworks.com.log","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=seano","name":"seano","key":"seano","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sean Roberts","active":true,"timeZone":"Europe/London"},"created":"2015-02-24T19:44:01.283+0000","updated":"2015-02-24T19:44:01.283+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12769243/comment/14336010","id":"14336010","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vvasudev","name":"vvasudev","key":"vvasudev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Varun Vasudev","active":true,"timeZone":"Asia/Kolkata"},"body":"[~Xquery], [~seano] the REST API is analogous to the RPC API. It's meant to launch application masters, and not run the application itself. In the examples that you submitted, the RM allocated the container and would have run \"hadoop jar /usr/hdp/current/hadoop-mapreduce-client/hadoop-mapreduce-examples.jar pi 2 2\" on the NM. The RM then expects the application master to register with the RM. In your case no application master is launched and the attempt is marked as failed. After two attempts, the app itself is marked as failed.\n\nIn addition, specifically in your pi example, the code generates the input maps before submitting the job to YARN. This generation is done on the client side. If you wish to run the MapReduce job using the REST API, you need to write some code to generate the input maps.\n\nIf you're looking to just play around with the API, the distributed shell app might be a better option. There's a sample of the json at http://hadoop.apache.org/docs/current/hadoop-yarn/hadoop-yarn-site/ResourceManagerRest.html#Cluster_Applications_APISubmit_Application\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vvasudev","name":"vvasudev","key":"vvasudev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Varun Vasudev","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-02-25T04:58:24.619+0000","updated":"2015-02-25T04:58:24.619+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12769243/comment/14336523","id":"14336523","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Xquery","name":"Xquery","key":"Xquery","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"},"displayName":"Xquery","active":false,"timeZone":"Etc/UTC"},"body":"Hello Varun and Sean,\n\nThanks for your help! Finally some good progress :-)\n\nVarun - I do understand and plan to write code. \nStill, I want remote execution only. Therefore, I still need \n\nassistance with the following steps:\n1.\tFirst, for launching the application master, I see I need to provide it in the request.\nI tried to do it, but couldn’t find AppMaster.jar on the HDFS/local FS.\nI assume there is AppMaster per YARN-based application (MR, Pig, Hive etc.).\nCan you let me know how can I find/install/download such AppMaster jar?\n\n2.\tAfter I launched the application master, in order to run the map reduce remotely, I need to run another rest api request (I guess), but couldn’t find any example for it. Do you have REST API example of how to run map reduce using REST? (or an explained how to/steps)\n\n3.\tI didn’t understand - what does “input maps” means?\nAlso, if I want to run the application as user A password B, where I supposed to add my credentials and Identify; When I submit my map reduce job, isn’t yarn expects me to identify? \n\nThanks,\nMichael","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Xquery","name":"Xquery","key":"Xquery","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"},"displayName":"Xquery","active":false,"timeZone":"Etc/UTC"},"created":"2015-02-25T14:20:00.932+0000","updated":"2015-02-25T14:20:00.932+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12769243/comment/14383715","id":"14383715","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vvasudev","name":"vvasudev","key":"vvasudev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Varun Vasudev","active":true,"timeZone":"Asia/Kolkata"},"body":"[~Xquery] My apologies for not replying for so long. For some reason I didn't get any notification that you had replied to me. In response to your questions -\n\n{quote{\n1. First, for launching the application master, I see I need to provide it in the request. I tried to do it, but couldn’t find AppMaster.jar on the HDFS/local FS. I assume there is AppMaster per YARN-based application (MR, Pig, Hive etc.). Can you let me know how can I find/install/download such AppMaster jar?\n{quote}\n\nI would recommend using the DistributedShell jar. You can build it yourself from the Hadoop source code. The jar can be found at hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/target. Copy this jar to a location on HDFS that's readable by the user running the job. I've attached a sample json file which you can use to submit to the REST API. One thing you should note - please update the values for \"size\" and \"timestamp\" under the \"AppMaster.jar\" key. The value for \"resource\" should be the full path to the jar on HDFS.\n\nThe DistributedShell app runs a command on multiple machines and exits. The commands write their output to a local file and that output is aggregated at the end of the job if log aggregation is enabled.\n\nIn the json I've uploaded, copy the script you want to run to HDFS(making sure it's readable by the user submitting the job). Set the value of the key \"DISTRIBUTEDSHELLSCRIPTTIMESTAMP\" to the timestamp for this script(on HDFS), the value of the key \"DISTRIBUTEDSHELLSCRIPTLEN\" to the size of the script and the value of \"DISTRIBUTEDSHELLSCRIPTLOCATION\" to the location on HDFS.\n\nThe 'num_containers' parameter(part of the \"command\" key) is the number of containers you wish to launch.\n\n{quote}\n2. After I launched the application master, in order to run the map reduce remotely, I need to run another rest api request (I guess), but couldn’t find any example for it. Do you have REST API example of how to run map reduce using REST? (or an explained how to/steps)\n{quote}\n\nI don't have an example for running MapReduce using REST. The MapReduce client for YARN is a thick client which does a lot of calculations such as creating the splits for the map before it submits the job. You will have to implement that logic yourself if you wish to submit MapReduce jobs. You don't need to run any other API once you submit the job. The AppMaster is responsible for scheduling your mappers and reducers.\n\n{quote}\nAlso, if I want to run the application as user A password B, where I supposed to add my credentials and Identify; When I submit my map reduce job, isn’t yarn expects me to identify? \n{quote}\n\nHadoop requires you to setup kerberos for secure mode. In secure mode, jobs are executed as the user who submitted the job. Credentials are picked up when you submit the job.\n\nI'm going to close this issue since it doesn't seem like an issue with the REST API itself. If you have any further questions, we can discuss them offline.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vvasudev","name":"vvasudev","key":"vvasudev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Varun Vasudev","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-03-27T11:55:08.521+0000","updated":"2015-03-27T11:55:08.521+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-3084/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i24npj:"}}