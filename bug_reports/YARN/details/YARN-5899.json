{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13021385","self":"https://issues.apache.org/jira/rest/api/2/issue/13021385","key":"YARN-5899","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334216","id":"12334216","description":"2.9.0 release","name":"2.9.0","archived":false,"released":true,"releaseDate":"2017-11-17"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12337978","id":"12337978","name":"3.0.0-alpha2","archived":false,"released":true,"releaseDate":"2017-01-25"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2016-11-19T03:16:55.210+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Jan 12 03:04:53 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_2_*:*_327544512_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_2_*:*_4338573136","customfield_12312321":null,"resolutiondate":"2017-01-10T08:44:37.133+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-5899/watchers","watchCount":3,"isWatching":false},"created":"2016-11-17T08:36:00.386+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/5","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/trivial.svg","name":"Trivial","id":"5"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12335735","id":"12335735","description":"3.0.0-alpha1 release","name":"3.0.0-alpha1","archived":false,"released":true,"releaseDate":"2016-09-03"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-01-12T03:04:53.196+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12327621","id":"12327621","name":"capacity scheduler"}],"timeoriginalestimate":null,"description":"A small fix inside function canAssignToThisQueue() for printing DEBUG info. Please see patch attached.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12337978","id":"12337978","name":"3.0.0-alpha2","archived":false,"released":true,"releaseDate":"2017-01-25"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12839753","id":"12839753","filename":"YARN-5899.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-11-21T03:33:54.241+0000","size":2295,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12839753/YARN-5899.001.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12845468","id":"12845468","filename":"YARN-5899.002.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-04T02:05:25.880+0000","size":3920,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12845468/YARN-5899.002.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Debug log in AbstractCSQueue#canAssignToThisQueue needs improvement","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021385/comment/15678485","id":"15678485","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"body":"Could you please attach a patch here. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"created":"2016-11-19T03:16:55.210+0000","updated":"2016-11-19T03:16:55.210+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021385/comment/15682390","id":"15682390","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Hi [~sunilg], patch attached. Thank you.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-11-21T03:34:56.544+0000","updated":"2016-11-21T03:34:56.544+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021385/comment/15682398","id":"15682398","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"It is just a small fix. I believe the intention is to print some debug information when we are able to assign to the queue, i.e., returning true. (See YARN-3361 where this change was made at the first place.)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-11-21T03:38:59.005+0000","updated":"2016-11-21T03:38:59.005+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021385/comment/15682480","id":"15682480","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 17s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  6m 58s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 33s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 21s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 39s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 17s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m  1s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 21s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 32s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 30s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 30s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 18s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 36s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 14s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m  5s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 18s{color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 41m 45s{color} | {color:red} hadoop-yarn-server-resourcemanager in the patch failed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 16s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 57m 18s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| Failed junit tests | hadoop.yarn.server.resourcemanager.TestRMRestart |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:a9ad5d6 |\n| JIRA Issue | YARN-5899 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12839753/YARN-5899.001.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 2e80844a03a9 3.13.0-95-generic #142-Ubuntu SMP Fri Aug 12 17:00:09 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / c65d6b6 |\n| Default Java | 1.8.0_111 |\n| findbugs | v3.0.0 |\n| unit | https://builds.apache.org/job/PreCommit-YARN-Build/13990/artifact/patchprocess/patch-unit-hadoop-yarn-project_hadoop-yarn_hadoop-yarn-server_hadoop-yarn-server-resourcemanager.txt |\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/13990/testReport/ |\n| modules | C: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager U: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager |\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/13990/console |\n| Powered by | Apache Yetus 0.4.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-11-21T04:37:06.409+0000","updated":"2016-11-21T04:37:06.409+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021385/comment/15682565","id":"15682565","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"The UT failure is known and tracked by YARN-5548.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2016-11-21T05:21:26.907+0000","updated":"2016-11-21T05:21:26.907+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021385/comment/15780909","id":"15780909","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"body":"Thanks for the patch. I ll take a look today. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"created":"2016-12-27T18:02:33.028+0000","updated":"2016-12-27T18:02:33.028+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021385/comment/15792372","id":"15792372","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"body":"Hi [~Ying Zhang]\n\nYour observation is correct. We are using that debug log to get some more information when assign to queue is passed. So your patch is correct. I think we can also add one more debug info in case when we return false case also (wherever we have current debug log). We could print \n{noformat}\nLOG.debug(\"Failed to assignToQueue: \" + getQueueName() + \" usedResources: \" + queueUsage.getUsed() + \", clusterResources: \" + clusterResource +  \", maxLimitCapacity: \" + currentLimitResource + \", currTotalUsed:\" + usedExceptKillable);\t\t\n{noformat}\n\nThoughts?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"created":"2017-01-02T07:11:24.271+0000","updated":"2017-01-02T07:11:46.059+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021385/comment/15794349","id":"15794349","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Hi [~sunilg], thanks for the review. Agree. I've updated the patch, please take a look.  Besides those you've listed here, I'm thinking \"resourceCouldBeUnreserved\" would also be useful.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-03T07:06:24.642+0000","updated":"2017-01-03T07:13:00.929+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021385/comment/15794470","id":"15794470","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"body":"Thanks. Looks fine for me. Will wait for jenkins to come back.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"created":"2017-01-03T08:11:21.656+0000","updated":"2017-01-03T08:11:21.656+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021385/comment/15796889","id":"15796889","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Not sure why there wasn't Jenkins result. Delete and re-attach YARN-5899.002.patch to try to start Jenkins again.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-04T02:07:06.628+0000","updated":"2017-01-04T02:07:36.316+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021385/comment/15797005","id":"15797005","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 10s{color} | {color:blue} Docker mode activated. {color} |\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 13m 25s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 33s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 21s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 35s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 17s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m  3s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 21s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 32s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 30s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 30s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 18s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 33s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvneclipse {color} | {color:green}  0m 13s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m  7s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 19s{color} | {color:green} the patch passed {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 40m 44s{color} | {color:red} hadoop-yarn-server-resourcemanager in the patch failed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 16s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 62m 36s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| Failed junit tests | hadoop.yarn.server.resourcemanager.TestRMRestart |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:a9ad5d6 |\n| JIRA Issue | YARN-5899 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12845468/YARN-5899.002.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux b2ab3f90ec0b 3.13.0-95-generic #142-Ubuntu SMP Fri Aug 12 17:00:09 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 8fadd69 |\n| Default Java | 1.8.0_111 |\n| findbugs | v3.0.0 |\n| unit | https://builds.apache.org/job/PreCommit-YARN-Build/14545/artifact/patchprocess/patch-unit-hadoop-yarn-project_hadoop-yarn_hadoop-yarn-server_hadoop-yarn-server-resourcemanager.txt |\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/14545/testReport/ |\n| modules | C: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager U: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager |\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/14545/console |\n| Powered by | Apache Yetus 0.5.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-01-04T03:11:27.451+0000","updated":"2017-01-04T03:11:27.451+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021385/comment/15797093","id":"15797093","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"This patch only introduces some modification to debug information. No test case is needed. I've enabled DEBUG mode and test it manually. Failed test case TestRMRestart.testFinishedAppRemovalAfterRMRestart is known and tracked by YARN-5548.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-04T04:03:07.673+0000","updated":"2017-01-04T04:04:39.467+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021385/comment/15804844","id":"15804844","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"body":"+1. Committing later today if there are no objections.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"created":"2017-01-06T15:52:53.317+0000","updated":"2017-01-06T15:52:53.317+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021385/comment/15814350","id":"15814350","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"body":"Thanks [~Ying Zhang] for the contribution. Committed to trunk and branch-2.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"created":"2017-01-10T08:44:37.765+0000","updated":"2017-01-10T08:44:37.765+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021385/comment/15814370","id":"15814370","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Jenkins build Hadoop-trunk-Commit #11097 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/11097/])\nYARN-5899. Debug log in AbstractCSQueue#canAssignToThisQueue needs (sunilg: rev 9594c35dcb655add1991d8fd15897b40c4ad6205)\n* (edit) hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/capacity/AbstractCSQueue.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2017-01-10T08:52:14.108+0000","updated":"2017-01-10T08:52:14.108+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13021385/comment/15819998","id":"15819998","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"body":"Thanks [~sunilg] for the review and commit.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Ying+Zhang","name":"Ying Zhang","key":"ying zhang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ying+zhang&avatarId=26746","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ying+zhang&avatarId=26746","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ying+zhang&avatarId=26746","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ying+zhang&avatarId=26746"},"displayName":"Ying Zhang","active":true,"timeZone":"Asia/Shanghai"},"created":"2017-01-12T03:04:53.196+0000","updated":"2017-01-12T03:04:53.196+0000"}],"maxResults":16,"total":16,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-5899/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i36fwn:"}}