{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13177381","self":"https://issues.apache.org/jira/rest/api/2/issue/13177381","key":"YARN-8632","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12342758","id":"12342758","name":"3.2.0","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2018-08-10T18:12:44.425+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Aug 24 18:52:32 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_545684046_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_945660443","customfield_12312321":null,"resolutiondate":"2018-08-24T18:26:33.057+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-8632/watchers","watchCount":3,"isWatching":false},"created":"2018-08-07T12:10:48.602+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"5.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12541659","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12541659","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"13140379","key":"YARN-7964","self":"https://issues.apache.org/jira/rest/api/2/issue/13140379","fields":{"summary":"Yarn Scheduler Load Simulator (SLS): MetricsLogRunnable stops working when there are too many jobs needed to load from sls","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-08-24T18:52:32.489+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12324210","id":"12324210","name":"scheduler-load-simulator"}],"timeoriginalestimate":null,"description":"Recently, I have been using [SchedulerLoadSimulator|https://hadoop.apache.org/docs/r2.7.2/hadoop-sls/SchedulerLoadSimulator.html] to validate the impact of changes on my FairScheduler. I encountered some problems.\r\n Firstly, I fix a npe bug with the patch in https://issues.apache.org/jira/browse/YARN-4302\r\n Secondly, everything seems to be ok, but I just get \"[]\" in file realtimetrack.json. Finally, I find the MetricsLogRunnable thread will exit because of npe,\r\n the reason is \"wrapper.getQueueSet()\" is still null when executing \"String metrics = web.generateRealTimeTrackingMetrics();\"\r\n So, we should put \"String metrics = web.generateRealTimeTrackingMetrics();\" in try section to avoid MetricsLogRunnable thread exit with unexpected exception. \r\n My hadoop version is 2.7.2, it seems that hadoop trunk branch also has the second problem and I have made a patch to solve it.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12935358","id":"12935358","filename":"YARN-8632.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"created":"2018-08-13T11:50:44.167+0000","size":1410,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12935358/YARN-8632.001.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12936000","id":"12936000","filename":"YARN-8632.002.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"created":"2018-08-17T10:50:03.188+0000","size":1432,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12936000/YARN-8632.002.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12936796","id":"12936796","filename":"YARN-8632.003.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"created":"2018-08-23T08:27:15.358+0000","size":1572,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12936796/YARN-8632.003.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12936981","id":"12936981","filename":"YARN-8632.004.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"created":"2018-08-24T10:14:34.049+0000","size":1947,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12936981/YARN-8632.004.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12935357","id":"12935357","filename":"YARN-8632-branch-2.7.2.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"created":"2018-08-13T11:50:27.808+0000","size":1289,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12935357/YARN-8632-branch-2.7.2.001.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Threads in SLS quit without logging exception ","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13177381/comment/16576121","id":"16576121","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"body":"[~ywskycn] or [~yufeigu]  Woud you like to review the patch? Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"created":"2018-08-10T11:16:29.865+0000","updated":"2018-08-10T11:16:29.865+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13177381/comment/16576666","id":"16576666","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeigu","name":"yufeigu","key":"yufeigu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yufeigu&avatarId=31240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yufeigu&avatarId=31240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yufeigu&avatarId=31240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yufeigu&avatarId=31240"},"displayName":"Yufei Gu","active":true,"timeZone":"America/Los_Angeles"},"body":"Added you to the contributor list and assign this to you. Will review later.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeigu","name":"yufeigu","key":"yufeigu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yufeigu&avatarId=31240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yufeigu&avatarId=31240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yufeigu&avatarId=31240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yufeigu&avatarId=31240"},"displayName":"Yufei Gu","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-08-10T18:12:44.425+0000","updated":"2018-08-10T18:12:44.425+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13177381/comment/16576875","id":"16576875","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeigu","name":"yufeigu","key":"yufeigu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yufeigu&avatarId=31240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yufeigu&avatarId=31240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yufeigu&avatarId=31240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yufeigu&avatarId=31240"},"displayName":"Yufei Gu","active":true,"timeZone":"America/Los_Angeles"},"body":"Your patch doesn't apply to trunk. You said the bug is in trunk as well, can you provide a patch for the trunk?\r\nWhat is the version does your patch target? 2.7.2?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeigu","name":"yufeigu","key":"yufeigu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yufeigu&avatarId=31240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yufeigu&avatarId=31240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yufeigu&avatarId=31240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yufeigu&avatarId=31240"},"displayName":"Yufei Gu","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-08-10T21:28:28.430+0000","updated":"2018-08-10T21:28:47.282+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13177381/comment/16578158","id":"16578158","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"body":"Sorry for unclear information!\r\nI have updated the patch, the target of YARN-8632-branch-2.7.2.001.patch is branch-2.7.2, and the target of YARN-8632.001.patch is branch trunk.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"created":"2018-08-13T11:52:43.900+0000","updated":"2018-08-13T11:52:43.900+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13177381/comment/16578898","id":"16578898","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 22s{color} | {color:blue} Docker mode activated. {color} |\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |\r\n|| || || || {color:brown} trunk Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 24m 36s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 26s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 15s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 28s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 10m 55s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 37s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 21s{color} | {color:green} trunk passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 27s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 21s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 21s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 23s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 11m 42s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 43s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 19s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 10m 23s{color} | {color:green} hadoop-sls in the patch passed. {color} |\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 26s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 63m 20s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:ba1ab08 |\r\n| JIRA Issue | YARN-8632 |\r\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12935358/YARN-8632.001.patch |\r\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  |\r\n| uname | Linux f923d6ae1d25 4.4.0-130-generic #156-Ubuntu SMP Thu Jun 14 08:53:28 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /testptch/patchprocess/precommit/personality/provided.sh |\r\n| git revision | trunk / b4031a8 |\r\n| maven | version: Apache Maven 3.3.9 |\r\n| Default Java | 1.8.0_171 |\r\n| findbugs | v3.1.0-RC1 |\r\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/21589/testReport/ |\r\n| Max. process+thread count | 457 (vs. ulimit of 10000) |\r\n| modules | C: hadoop-tools/hadoop-sls U: hadoop-tools/hadoop-sls |\r\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/21589/console |\r\n| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"created":"2018-08-13T20:53:45.306+0000","updated":"2018-08-13T20:53:45.306+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13177381/comment/16578945","id":"16578945","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeigu","name":"yufeigu","key":"yufeigu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yufeigu&avatarId=31240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yufeigu&avatarId=31240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yufeigu&avatarId=31240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yufeigu&avatarId=31240"},"displayName":"Yufei Gu","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks for the patch. Some comments:\r\n# It is not a good practice to catch runtime exception. Normally we should let the program exit if a runtime exception happens. Create a new exception if you think it is necessary and throw and catch it explicitly.\r\n# Use {{LOG.info(\"message\", e)}} instead of {{e.printStackTrace();}} \r\n# {{(SchedulerWrapper)scheduler;}} needs a space before \"scheduler\"\r\n# Create a unitest if possible.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeigu","name":"yufeigu","key":"yufeigu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yufeigu&avatarId=31240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yufeigu&avatarId=31240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yufeigu&avatarId=31240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yufeigu&avatarId=31240"},"displayName":"Yufei Gu","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-08-13T21:47:17.103+0000","updated":"2018-08-13T21:47:17.103+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13177381/comment/16583766","id":"16583766","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"body":"Thanks for your review!\r\n{quote}\r\nIt is not a good practice to catch runtime exception. Normally we should let the program exit if a runtime exception happens. Create a new exception if you think it is necessary and throw and catch it explicitly.\r\n{quote}\r\nI agree, but we should make log to remind user no matter which kind of exception occurs in the periodic scheduling thread. As stated in the description, I just get \"[]\" in file realtimetrack.json without any exception message, I didn’t know what happened until I debugged the code.\r\nAttatched YARN-8632.002.patch according to comments","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"created":"2018-08-17T10:48:43.093+0000","updated":"2018-08-17T10:48:43.093+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13177381/comment/16583824","id":"16583824","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  1m  5s{color} | {color:blue} Docker mode activated. {color} |\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |\r\n|| || || || {color:brown} trunk Compile Tests {color} ||\r\n| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red} 35m  4s{color} | {color:red} root in trunk failed. {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 34s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 28s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 34s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 13m 28s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 52s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 24s{color} | {color:green} trunk passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 32s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 25s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 25s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 14s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 29s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 14m 22s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 49s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 20s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 10m 20s{color} | {color:green} hadoop-sls in the patch passed. {color} |\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 31s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 81m  3s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:ba1ab08 |\r\n| JIRA Issue | YARN-8632 |\r\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12936000/YARN-8632.002.patch |\r\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  |\r\n| uname | Linux b4cc79be12ab 3.13.0-153-generic #203-Ubuntu SMP Thu Jun 14 08:52:28 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /testptch/patchprocess/precommit/personality/provided.sh |\r\n| git revision | trunk / fa121eb |\r\n| maven | version: Apache Maven 3.3.9 |\r\n| Default Java | 1.8.0_171 |\r\n| mvninstall | https://builds.apache.org/job/PreCommit-YARN-Build/21618/artifact/out/branch-mvninstall-root.txt |\r\n| findbugs | v3.1.0-RC1 |\r\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/21618/testReport/ |\r\n| Max. process+thread count | 448 (vs. ulimit of 10000) |\r\n| modules | C: hadoop-tools/hadoop-sls U: hadoop-tools/hadoop-sls |\r\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/21618/console |\r\n| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"created":"2018-08-17T12:12:27.818+0000","updated":"2018-08-17T12:12:27.818+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13177381/comment/16586344","id":"16586344","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeigu","name":"yufeigu","key":"yufeigu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yufeigu&avatarId=31240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yufeigu&avatarId=31240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yufeigu&avatarId=31240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yufeigu&avatarId=31240"},"displayName":"Yufei Gu","active":true,"timeZone":"America/Los_Angeles"},"body":"For that sake, we need to \"setUncaughtExceptionHandler\" for the thread, and provide a handler. Catching every exception in {{run()}} isn't enough. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeigu","name":"yufeigu","key":"yufeigu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yufeigu&avatarId=31240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yufeigu&avatarId=31240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yufeigu&avatarId=31240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yufeigu&avatarId=31240"},"displayName":"Yufei Gu","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-08-20T18:21:35.544+0000","updated":"2018-08-20T18:21:35.544+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13177381/comment/16589918","id":"16589918","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"body":"It seems that \"setUncaughtExceptionHandler\" is not suitable in thread pool, refer to \r\nhttps://issues.apache.org/jira/browse/HADOOP-12748\r\n[http://literatejava.com/threading/silent-thread-death-unhandled-exceptions/|http://literatejava.com/threading/silent-thread-death-unhandled-exceptions/]\r\n\r\nUsing try catch block to catch Exception may not be a good method but it does solve the problem in this jira, but I also find it is used in\r\n[AppLevelAggregator|https://github.com/apache/hadoop/blob/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timelineservice/src/main/java/org/apache/hadoop/yarn/server/timelineservice/collector/AppLevelTimelineCollectorWithAgg.java#L139]\r\n[EntityLogScanner|https://github.com/apache/hadoop/blob/trunk/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-timeline-pluginstorage/src/main/java/org/apache/hadoop/yarn/server/timeline/EntityGroupFSTimelineStore.java#L865], etc. which are related to function scheduleAtFixedRate.\r\n\r\nFortunately, I noticed HADOOP-12749 HADOOP-14966 provide a nice way to log uncaught exception in thread pool, so the patch of branch brunk will be very easy.\r\nAttatched YARN-8632.003.patch","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"created":"2018-08-23T08:44:13.206+0000","updated":"2018-08-23T08:49:53.299+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13177381/comment/16590028","id":"16590028","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 16s{color} | {color:blue} Docker mode activated. {color} |\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |\r\n|| || || || {color:brown} trunk Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 22m 13s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 28s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 19s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 31s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 12m 36s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 42s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 21s{color} | {color:green} trunk passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 29s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 25s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 25s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 15s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 28s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 13m 42s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 58s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 23s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 10m 20s{color} | {color:red} hadoop-sls in the patch failed. {color} |\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 24s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 65m 22s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Reason || Tests ||\r\n| Failed junit tests | hadoop.yarn.sls.TestSLSRunner |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:ba1ab08 |\r\n| JIRA Issue | YARN-8632 |\r\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12936796/YARN-8632.003.patch |\r\n| Optional Tests |  dupname  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  |\r\n| uname | Linux e40660a5fc15 3.13.0-139-generic #188-Ubuntu SMP Tue Jan 9 14:43:09 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /testptch/patchprocess/precommit/personality/provided.sh |\r\n| git revision | trunk / 1ac0144 |\r\n| maven | version: Apache Maven 3.3.9 |\r\n| Default Java | 1.8.0_181 |\r\n| findbugs | v3.1.0-RC1 |\r\n| unit | https://builds.apache.org/job/PreCommit-YARN-Build/21665/artifact/out/patch-unit-hadoop-tools_hadoop-sls.txt |\r\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/21665/testReport/ |\r\n| Max. process+thread count | 449 (vs. ulimit of 10000) |\r\n| modules | C: hadoop-tools/hadoop-sls U: hadoop-tools/hadoop-sls |\r\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/21665/console |\r\n| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"created":"2018-08-23T10:16:57.571+0000","updated":"2018-08-23T10:16:57.571+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13177381/comment/16590570","id":"16590570","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeigu","name":"yufeigu","key":"yufeigu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yufeigu&avatarId=31240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yufeigu&avatarId=31240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yufeigu&avatarId=31240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yufeigu&avatarId=31240"},"displayName":"Yufei Gu","active":true,"timeZone":"America/Los_Angeles"},"body":"[~luxianghao], thanks for the patch. Nice finding. +1 for the patch v3. Will commit later. Do you need a patch for 2.7?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeigu","name":"yufeigu","key":"yufeigu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yufeigu&avatarId=31240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yufeigu&avatarId=31240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yufeigu&avatarId=31240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yufeigu&avatarId=31240"},"displayName":"Yufei Gu","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-08-23T17:27:18.664+0000","updated":"2018-08-23T17:27:18.664+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13177381/comment/16591435","id":"16591435","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"body":"[~yufeigu]\r\nThanks for your review! Patch for 2.7 is not necessary for me.\r\nAttatched YARN-8632.004.patch to avoid npe. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=luxianghao","name":"luxianghao","key":"luxianghao","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=luxianghao&avatarId=33482","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=luxianghao&avatarId=33482","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=luxianghao&avatarId=33482","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=luxianghao&avatarId=33482"},"displayName":"Xianghao Lu","active":true,"timeZone":"Asia/Shanghai"},"created":"2018-08-24T10:14:20.010+0000","updated":"2018-08-24T10:14:20.010+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13177381/comment/16591501","id":"16591501","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 22s{color} | {color:blue} Docker mode activated. {color} |\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |\r\n|| || || || {color:brown} trunk Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 21m  9s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 26s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 17s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 27s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 11m 55s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 39s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 21s{color} | {color:green} trunk passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 25s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 19s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 19s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 12s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 22s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 12m 47s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 43s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 18s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 10m 14s{color} | {color:green} hadoop-sls in the patch passed. {color} |\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 27s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 61m 45s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:ba1ab08 |\r\n| JIRA Issue | YARN-8632 |\r\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12936981/YARN-8632.004.patch |\r\n| Optional Tests |  dupname  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  |\r\n| uname | Linux c61d94021620 3.13.0-144-generic #193-Ubuntu SMP Thu Mar 15 17:03:53 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /testptch/patchprocess/precommit/personality/provided.sh |\r\n| git revision | trunk / 96c4575 |\r\n| maven | version: Apache Maven 3.3.9 |\r\n| Default Java | 1.8.0_181 |\r\n| findbugs | v3.1.0-RC1 |\r\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/21674/testReport/ |\r\n| Max. process+thread count | 446 (vs. ulimit of 10000) |\r\n| modules | C: hadoop-tools/hadoop-sls U: hadoop-tools/hadoop-sls |\r\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/21674/console |\r\n| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"created":"2018-08-24T11:22:15.131+0000","updated":"2018-08-24T11:22:15.131+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13177381/comment/16592032","id":"16592032","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeigu","name":"yufeigu","key":"yufeigu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yufeigu&avatarId=31240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yufeigu&avatarId=31240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yufeigu&avatarId=31240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yufeigu&avatarId=31240"},"displayName":"Yufei Gu","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 for the patch v4. Committed to trunk. Thanks [~luxianghao] for the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=yufeigu","name":"yufeigu","key":"yufeigu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=yufeigu&avatarId=31240","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yufeigu&avatarId=31240","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yufeigu&avatarId=31240","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yufeigu&avatarId=31240"},"displayName":"Yufei Gu","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-08-24T18:25:33.439+0000","updated":"2018-08-24T18:25:33.439+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13177381/comment/16592062","id":"16592062","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Jenkins build Hadoop-trunk-Commit #14825 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/14825/])\nYARN-8632. Threads in SLS quit without logging exception. Contributed by (yufei_gu: rev 8563fd67befeb0026a95ae268395baf04cd3c22f)\n* (edit) hadoop-tools/hadoop-sls/src/main/java/org/apache/hadoop/yarn/sls/scheduler/SchedulerMetrics.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2018-08-24T18:52:32.489+0000","updated":"2018-08-24T18:52:32.489+0000"}],"maxResults":16,"total":16,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-8632/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3ws1b:"}}