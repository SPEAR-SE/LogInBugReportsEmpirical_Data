{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12836728","self":"https://issues.apache.org/jira/rest/api/2/issue/12836728","key":"YARN-3790","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329059","id":"12329059","description":"2.8.0 release","name":"2.8.0","archived":false,"released":true,"releaseDate":"2017-03-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335735","id":"12335735","description":"3.0.0-alpha1 release","name":"3.0.0-alpha1","archived":false,"released":true,"releaseDate":"2016-09-03"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2015-06-10T08:20:44.278+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Jun 25 16:17:50 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_55652338_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_1199836898","customfield_12312321":null,"resolutiondate":"2015-06-24T17:38:29.917+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-3790/watchers","watchCount":10,"isWatching":false},"created":"2015-06-10T04:53:40.740+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12428401","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12428401","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"12839144","key":"YARN-3833","self":"https://issues.apache.org/jira/rest/api/2/issue/12839144","fields":{"summary":"TestWorkPreservingRMRestart#testSchedulerRecovery fails in trunk","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zxu","name":"zxu","key":"zxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhihai xu","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-08-30T01:20:53.220+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12322906","id":"12322906","name":"fairscheduler","description":"Fair Scheduler"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12324324","id":"12324324","name":"test"}],"timeoriginalestimate":null,"description":"Failure trace is as follows\n\n{noformat}\nTests run: 28, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 284.078 sec <<< FAILURE! - in org.apache.hadoop.yarn.server.resourcemanager.TestWorkPreservingRMRestart\ntestSchedulerRecovery[1](org.apache.hadoop.yarn.server.resourcemanager.TestWorkPreservingRMRestart)  Time elapsed: 6.502 sec  <<< FAILURE!\njava.lang.AssertionError: expected:<6144> but was:<8192>\n\tat org.junit.Assert.fail(Assert.java:88)\n\tat org.junit.Assert.failNotEquals(Assert.java:743)\n\tat org.junit.Assert.assertEquals(Assert.java:118)\n\tat org.junit.Assert.assertEquals(Assert.java:555)\n\tat org.junit.Assert.assertEquals(Assert.java:542)\n\tat org.apache.hadoop.yarn.server.resourcemanager.TestWorkPreservingRMRestart.assertMetrics(TestWorkPreservingRMRestart.java:853)\n\tat org.apache.hadoop.yarn.server.resourcemanager.TestWorkPreservingRMRestart.checkFSQueue(TestWorkPreservingRMRestart.java:342)\n\tat org.apache.hadoop.yarn.server.resourcemanager.TestWorkPreservingRMRestart.testSchedulerRecovery(TestWorkPreservingRMRestart.java:241)\n{noformat}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329059","id":"12329059","description":"2.8.0 release","name":"2.8.0","archived":false,"released":true,"releaseDate":"2017-03-22"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12738905","id":"12738905","filename":"YARN-3790.000.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zxu","name":"zxu","key":"zxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhihai xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-06-10T20:21:08.353+0000","size":2757,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12738905/YARN-3790.000.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"usedResource from rootQueue metrics may get stale data for FS scheduler after recovering the container","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14580209","id":"14580209","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zxu","name":"zxu","key":"zxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhihai xu","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi [~rohithsharma], thanks for reporting this issue. I think this test fails intermittently.\nThe following is stack trace for the test failure:\n{code}\njava.lang.AssertionError: expected:<6144> but was:<8192>\n\tat org.junit.Assert.fail(Assert.java:88)\n\tat org.junit.Assert.failNotEquals(Assert.java:743)\n\tat org.junit.Assert.assertEquals(Assert.java:118)\n\tat org.junit.Assert.assertEquals(Assert.java:555)\n\tat org.junit.Assert.assertEquals(Assert.java:542)\n\tat org.apache.hadoop.yarn.server.resourcemanager.TestWorkPreservingRMRestart.assertMetrics(TestWorkPreservingRMRestart.java:852)\n\tat org.apache.hadoop.yarn.server.resourcemanager.TestWorkPreservingRMRestart.checkFSQueue(TestWorkPreservingRMRestart.java:341)\n\tat org.apache.hadoop.yarn.server.resourcemanager.TestWorkPreservingRMRestart.testSchedulerRecovery(TestWorkPreservingRMRestart.java:240)\n{code}\nThe failure is {{rootMetrics}}'s available resource is not correct for FairScheduler.\nI know what cause this test failure.\nFor FairScheduler, {{updateRootQueueMetrics}} is used to update {{rootMetrics}}'s available resource.\nBut {{updateRootQueueMetrics}} is not called in/after {{recoverContainersOnNode}}, in this case, we can only depend UpdateThread to update {{rootMetrics}}'s available resource. Currently UpdateThread will be triggered in {{addNode}}. The timing in UpdateThread will decide whether this test will succeed or not. If UpdateThread call {{update}} after {{recoverContainersOnNode}}, the test will succeed. If UpdateThread call {{update}} before {{recoverContainersOnNode}}, the test will fail.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zxu","name":"zxu","key":"zxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhihai xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-06-10T08:20:44.278+0000","updated":"2015-06-10T08:20:44.278+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14580228","id":"14580228","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"body":"bq. I think this test fails intermittently.\nYes, it is failing intermittenlty. May be issue summary can be updated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"created":"2015-06-10T08:34:04.915+0000","updated":"2015-06-10T08:34:04.915+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14580255","id":"14580255","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"body":"Thanks for looking into this issue,\nbq. If UpdateThread call update after recoverContainersOnNode, the test will succeed\nIn the test, I see below code which verify for contaner to recover right?\n{code}\n    // Wait for RM to settle down on recovering containers;\n    waitForNumContainersToRecover(2, rm2, am1.getApplicationAttemptId());\n    Set<ContainerId> launchedContainers =\n        ((RMNodeImpl) rm2.getRMContext().getRMNodes().get(nm1.getNodeId()))\n          .getLaunchedContainers();\n    assertTrue(launchedContainers.contains(amContainer.getContainerId()));\n    assertTrue(launchedContainers.contains(runningContainer.getContainerId()));\n{code}\n\nAm I missing anything?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"created":"2015-06-10T08:54:50.308+0000","updated":"2015-06-10T08:54:50.308+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14580965","id":"14580965","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zxu","name":"zxu","key":"zxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhihai xu","active":true,"timeZone":"America/Los_Angeles"},"body":"[~rohithsharma], thanks for updating the title.\nThe containers are recovered. {{rootMetrics}}'s used resource is also updated, But {{rootMetrics}}'s available resource is not updated.\nThe following logs in the failed test proved it:\n{code}\n2015-06-09 22:55:42,964 INFO  [ResourceManager Event Processor] fair.FairScheduler (FairScheduler.java:addNode(855)) - Added node 127.0.0.1:1234 cluster capacity: <memory:8192, vCores:8>\n2015-06-09 22:55:42,964 DEBUG [AsyncDispatcher event handler] rmapp.RMAppImpl (RMAppImpl.java:handle(756)) - Processing event for application_1433915736884_0001 of type NODE_UPDATE\n2015-06-09 22:55:42,964 DEBUG [AsyncDispatcher event handler] rmapp.RMAppImpl (RMAppImpl.java:processNodeUpdate(820)) - Received node update event:NODE_USABLE for node:127.0.0.1:1234 with state:RUNNING\n2015-06-09 22:55:42,964 DEBUG [FairSchedulerUpdateThread] fair.FSLeafQueue (FSLeafQueue.java:updateDemand(287)) - The updated demand for root.default is <memory:0, vCores:0>; the max is <memory:2147483647, vCores:2147483647>\n2015-06-09 22:55:42,964 DEBUG [FairSchedulerUpdateThread] fair.FSLeafQueue (FSLeafQueue.java:updateDemand(289)) - The updated fairshare for root.default is <memory:0, vCores:0>\n2015-06-09 22:55:42,964 DEBUG [FairSchedulerUpdateThread] fair.FSParentQueue (FSParentQueue.java:updateDemand(163)) - Counting resource from root.default <memory:0, vCores:0>; Total resource consumption for root now <memory:0, vCores:0>\n2015-06-09 22:55:42,964 DEBUG [FairSchedulerUpdateThread] fair.FSLeafQueue (FSLeafQueue.java:updateDemandForApp(298)) - Counting resource from application_1433915736884_0001 <memory:0, vCores:0>; Total resource consumption for root.zxu now <memory:0, vCores:0>\n2015-06-09 22:55:42,964 DEBUG [FairSchedulerUpdateThread] fair.FSLeafQueue (FSLeafQueue.java:updateDemand(287)) - The updated demand for root.zxu is <memory:0, vCores:0>; the max is <memory:2147483647, vCores:2147483647>\n2015-06-09 22:55:42,964 DEBUG [FairSchedulerUpdateThread] fair.FSLeafQueue (FSLeafQueue.java:updateDemand(289)) - The updated fairshare for root.zxu is <memory:0, vCores:0>\n2015-06-09 22:55:42,964 DEBUG [FairSchedulerUpdateThread] fair.FSParentQueue (FSParentQueue.java:updateDemand(163)) - Counting resource from root.zxu <memory:0, vCores:0>; Total resource consumption for root now <memory:0, vCores:0>\n2015-06-09 22:55:42,964 DEBUG [FairSchedulerUpdateThread] fair.FSParentQueue (FSParentQueue.java:updateDemand(177)) - The updated demand for root is <memory:0, vCores:0>; the max is <memory:2147483647, vCores:2147483647>\n2015-06-09 22:55:42,964 DEBUG [FairSchedulerUpdateThread] fair.FSQueue (FSQueue.java:setFairShare(196)) - The updated fairShare for root is <memory:8192, vCores:8>\n2015-06-09 22:55:42,965 INFO  [ResourceManager Event Processor] scheduler.AbstractYarnScheduler (AbstractYarnScheduler.java:recoverContainersOnNode(349)) - Recovering container container_id { app_attempt_id { application_id { id: 1 cluster_timestamp: 1433915736884 } attemptId: 1 } id: 1 } container_state: C_RUNNING resource { memory: 1024 virtual_cores: 1 } priority { priority: 0 } diagnostics: \"recover container\" container_exit_status: 0 creation_time: 0 nodeLabelExpression: \"\"\n2015-06-09 22:55:42,965 DEBUG [ResourceManager Event Processor] rmcontainer.RMContainerImpl (RMContainerImpl.java:handle(382)) - Processing container_1433915736884_0001_01_000001 of type RECOVER\n2015-06-09 22:55:42,965 DEBUG [AsyncDispatcher event handler] event.AsyncDispatcher (AsyncDispatcher.java:dispatch(167)) - Dispatching the event org.apache.hadoop.yarn.server.resourcemanager.rmapp.RMAppRunningOnNodeEvent.EventType: APP_RUNNING_ON_NODE\n2015-06-09 22:55:42,965 INFO  [ResourceManager Event Processor] rmcontainer.RMContainerImpl (RMContainerImpl.java:handle(394)) - container_1433915736884_0001_01_000001 Container Transitioned from NEW to RUNNING\n2015-06-09 22:55:42,965 DEBUG [AsyncDispatcher event handler] rmapp.RMAppImpl (RMAppImpl.java:handle(756)) - Processing event for application_1433915736884_0001 of type APP_RUNNING_ON_NODE\n2015-06-09 22:55:42,965 INFO  [ResourceManager Event Processor] scheduler.SchedulerNode (SchedulerNode.java:allocateContainer(154)) - Assigned container container_1433915736884_0001_01_000001 of capacity <memory:1024, vCores:1> on host 127.0.0.1:1234, which has 1 containers, <memory:1024, vCores:1> used and <memory:7168, vCores:7> available after allocation\n2015-06-09 22:55:42,966 INFO  [ResourceManager Event Processor] scheduler.SchedulerApplicationAttempt (SchedulerApplicationAttempt.java:recoverContainer(651)) - SchedulerAttempt appattempt_1433915736884_0001_000001 is recovering container container_1433915736884_0001_01_000001\n2015-06-09 22:55:42,966 INFO  [ResourceManager Event Processor] scheduler.AbstractYarnScheduler (AbstractYarnScheduler.java:recoverContainersOnNode(349)) - Recovering container container_id { app_attempt_id { application_id { id: 1 cluster_timestamp: 1433915736884 } attemptId: 1 } id: 2 } container_state: C_RUNNING resource { memory: 1024 virtual_cores: 1 } priority { priority: 0 } diagnostics: \"recover container\" container_exit_status: 0 creation_time: 0 nodeLabelExpression: \"\"\n2015-06-09 22:55:42,966 DEBUG [ResourceManager Event Processor] rmcontainer.RMContainerImpl (RMContainerImpl.java:handle(382)) - Processing container_1433915736884_0001_01_000002 of type RECOVER\n2015-06-09 22:55:42,966 DEBUG [AsyncDispatcher event handler] event.AsyncDispatcher (AsyncDispatcher.java:dispatch(167)) - Dispatching the event org.apache.hadoop.yarn.server.resourcemanager.rmapp.RMAppRunningOnNodeEvent.EventType: APP_RUNNING_ON_NODE\n2015-06-09 22:55:42,966 INFO  [ResourceManager Event Processor] rmcontainer.RMContainerImpl (RMContainerImpl.java:handle(394)) - container_1433915736884_0001_01_000002 Container Transitioned from NEW to RUNNING\n2015-06-09 22:55:42,967 DEBUG [AsyncDispatcher event handler] rmapp.RMAppImpl (RMAppImpl.java:handle(756)) - Processing event for application_1433915736884_0001 of type APP_RUNNING_ON_NODE\n2015-06-09 22:55:42,967 INFO  [ResourceManager Event Processor] scheduler.SchedulerNode (SchedulerNode.java:allocateContainer(154)) - Assigned container container_1433915736884_0001_01_000002 of capacity <memory:1024, vCores:1> on host 127.0.0.1:1234, which has 2 containers, <memory:2048, vCores:2> used and <memory:6144, vCores:6> available after allocation\n2015-06-09 22:55:42,967 INFO  [ResourceManager Event Processor] scheduler.SchedulerApplicationAttempt (SchedulerApplicationAttempt.java:recoverContainer(651)) - SchedulerAttempt appattempt_1433915736884_0001_000001 is recovering container container_1433915736884_0001_01_000002\n2015-06-09 22:55:42,967 INFO  [ResourceManager Event Processor] scheduler.AbstractYarnScheduler (AbstractYarnScheduler.java:recoverContainersOnNode(349)) - Recovering container container_id { app_attempt_id { application_id { id: 1 cluster_timestamp: 1433915736884 } attemptId: 1 } id: 3 } container_state: C_COMPLETE resource { memory: 1024 virtual_cores: 1 } priority { priority: 0 } diagnostics: \"recover container\" container_exit_status: 0 creation_time: 0 nodeLabelExpression: \"\"\n2015-06-09 22:55:42,967 DEBUG [ResourceManager Event Processor] rmcontainer.RMContainerImpl (RMContainerImpl.java:handle(382)) - Processing container_1433915736884_0001_01_000003 of type RECOVER\n2015-06-09 22:55:42,967 DEBUG [AsyncDispatcher event handler] event.AsyncDispatcher (AsyncDispatcher.java:dispatch(167)) - Dispatching the event org.apache.hadoop.yarn.server.resourcemanager.rmapp.attempt.event.RMAppAttemptContainerFinishedEvent.EventType: CONTAINER_FINISHED\n2015-06-09 22:55:42,967 INFO  [ResourceManager Event Processor] rmcontainer.RMContainerImpl (RMContainerImpl.java:handle(394)) - container_1433915736884_0001_01_000003 Container Transitioned from NEW to COMPLETED\n2015-06-09 22:55:42,967 DEBUG [AsyncDispatcher event handler] attempt.RMAppAttemptImpl (RMAppAttemptImpl.java:handle(781)) - Processing event for appattempt_1433915736884_0001_000001 of type CONTAINER_FINISHED\nContainer State is : RUNNING\nContainer State is : RUNNING\nReceived completed containers [ContainerStatus: [ContainerId: container_1433915736884_0001_01_000003, State: COMPLETE, Diagnostics: recover container, ExitStatus: 0, ]]\n2015-06-09 22:55:43,266 DEBUG [Thread-645] fair.FSAppAttempt (FSAppAttempt.java:getHeadroom(200)) - Headroom calculation for application_1433915736884_0001:Min((queueFairShare=<memory:8192, vCores:8> - queueUsage=<memory:2048, vCores:2>), maxAvailableResource=<memory:6144, vCores:6>Headroom=<memory:6144, vCores:6>\n{code}\nThe Headroom calculation log show queueUsage=<memory:2048, vCores:2>, the code which update  {{rootMetrics}}'s used resource is at {{AppSchedulingInfo#recoverContainer}}\n{code}\nmetrics.allocateResources(user, 1, rmContainer.getAllocatedResource(), false);\n{code}\nAnd we can find the {{update}}/{{updateDemand}} is called by UpdateThread before {{recoverContainersOnNode}}.\n\nThe following is the log from the succeeded test.\n{code}\n2015-06-09 23:40:53,432 INFO  [ResourceManager Event Processor] fair.FairScheduler (FairScheduler.java:addNode(855)) - Added node 127.0.0.1:1234 cluster capacity: <memory:8192, vCores:8>\n2015-06-09 23:40:53,432 DEBUG [AsyncDispatcher event handler] rmapp.RMAppImpl (RMAppImpl.java:handle(756)) - Processing event for application_1433918447351_0001 of type NODE_UPDATE\n2015-06-09 23:40:53,432 DEBUG [AsyncDispatcher event handler] rmapp.RMAppImpl (RMAppImpl.java:processNodeUpdate(820)) - Received node update event:NODE_USABLE for node:127.0.0.1:1234 with state:RUNNING\n2015-06-09 23:40:53,432 INFO  [ResourceManager Event Processor] scheduler.AbstractYarnScheduler (AbstractYarnScheduler.java:recoverContainersOnNode(349)) - Recovering container container_id { app_attempt_id { application_id { id: 1 cluster_timestamp: 1433918447351 } attemptId: 1 } id: 1 } container_state: C_RUNNING resource { memory: 1024 virtual_cores: 1 } priority { priority: 0 } diagnostics: \"recover container\" container_exit_status: 0 creation_time: 0 nodeLabelExpression: \"\"\n2015-06-09 23:40:53,433 DEBUG [ResourceManager Event Processor] rmcontainer.RMContainerImpl (RMContainerImpl.java:handle(382)) - Processing container_1433918447351_0001_01_000001 of type RECOVER\n2015-06-09 23:40:53,433 INFO  [ResourceManager Event Processor] rmcontainer.RMContainerImpl (RMContainerImpl.java:handle(394)) - container_1433918447351_0001_01_000001 Container Transitioned from NEW to RUNNING\n2015-06-09 23:40:53,433 DEBUG [AsyncDispatcher event handler] event.AsyncDispatcher (AsyncDispatcher.java:dispatch(167)) - Dispatching the event org.apache.hadoop.yarn.server.resourcemanager.rmapp.RMAppRunningOnNodeEvent.EventType: APP_RUNNING_ON_NODE\n2015-06-09 23:40:53,433 INFO  [ResourceManager Event Processor] scheduler.SchedulerNode (SchedulerNode.java:allocateContainer(154)) - Assigned container container_1433918447351_0001_01_000001 of capacity <memory:1024, vCores:1> on host 127.0.0.1:1234, which has 1 containers, <memory:1024, vCores:1> used and <memory:7168, vCores:7> available after allocation\n2015-06-09 23:40:53,433 DEBUG [AsyncDispatcher event handler] rmapp.RMAppImpl (RMAppImpl.java:handle(756)) - Processing event for application_1433918447351_0001 of type APP_RUNNING_ON_NODE\n2015-06-09 23:40:53,434 INFO  [ResourceManager Event Processor] scheduler.SchedulerApplicationAttempt (SchedulerApplicationAttempt.java:recoverContainer(651)) - SchedulerAttempt appattempt_1433918447351_0001_000001 is recovering container container_1433918447351_0001_01_000001\n2015-06-09 23:40:53,435 INFO  [ResourceManager Event Processor] scheduler.AbstractYarnScheduler (AbstractYarnScheduler.java:recoverContainersOnNode(349)) - Recovering container container_id { app_attempt_id { application_id { id: 1 cluster_timestamp: 1433918447351 } attemptId: 1 } id: 2 } container_state: C_RUNNING resource { memory: 1024 virtual_cores: 1 } priority { priority: 0 } diagnostics: \"recover container\" container_exit_status: 0 creation_time: 0 nodeLabelExpression: \"\"\n2015-06-09 23:40:53,435 DEBUG [ResourceManager Event Processor] rmcontainer.RMContainerImpl (RMContainerImpl.java:handle(382)) - Processing container_1433918447351_0001_01_000002 of type RECOVER\n2015-06-09 23:40:53,435 INFO  [ResourceManager Event Processor] rmcontainer.RMContainerImpl (RMContainerImpl.java:handle(394)) - container_1433918447351_0001_01_000002 Container Transitioned from NEW to RUNNING\n2015-06-09 23:40:53,435 DEBUG [AsyncDispatcher event handler] event.AsyncDispatcher (AsyncDispatcher.java:dispatch(167)) - Dispatching the event org.apache.hadoop.yarn.server.resourcemanager.rmapp.RMAppRunningOnNodeEvent.EventType: APP_RUNNING_ON_NODE\n2015-06-09 23:40:53,435 INFO  [ResourceManager Event Processor] scheduler.SchedulerNode (SchedulerNode.java:allocateContainer(154)) - Assigned container container_1433918447351_0001_01_000002 of capacity <memory:1024, vCores:1> on host 127.0.0.1:1234, which has 2 containers, <memory:2048, vCores:2> used and <memory:6144, vCores:6> available after allocation\n2015-06-09 23:40:53,435 DEBUG [AsyncDispatcher event handler] rmapp.RMAppImpl (RMAppImpl.java:handle(756)) - Processing event for application_1433918447351_0001 of type APP_RUNNING_ON_NODE\n2015-06-09 23:40:53,435 INFO  [ResourceManager Event Processor] scheduler.SchedulerApplicationAttempt (SchedulerApplicationAttempt.java:recoverContainer(651)) - SchedulerAttempt appattempt_1433918447351_0001_000001 is recovering container container_1433918447351_0001_01_000002\n2015-06-09 23:40:53,436 INFO  [ResourceManager Event Processor] scheduler.AbstractYarnScheduler (AbstractYarnScheduler.java:recoverContainersOnNode(349)) - Recovering container container_id { app_attempt_id { application_id { id: 1 cluster_timestamp: 1433918447351 } attemptId: 1 } id: 3 } container_state: C_COMPLETE resource { memory: 1024 virtual_cores: 1 } priority { priority: 0 } diagnostics: \"recover container\" container_exit_status: 0 creation_time: 0 nodeLabelExpression: \"\"\n2015-06-09 23:40:53,436 DEBUG [ResourceManager Event Processor] rmcontainer.RMContainerImpl (RMContainerImpl.java:handle(382)) - Processing container_1433918447351_0001_01_000003 of type RECOVER\n2015-06-09 23:40:53,436 INFO  [ResourceManager Event Processor] rmcontainer.RMContainerImpl (RMContainerImpl.java:handle(394)) - container_1433918447351_0001_01_000003 Container Transitioned from NEW to COMPLETED\n2015-06-09 23:40:53,436 DEBUG [AsyncDispatcher event handler] event.AsyncDispatcher (AsyncDispatcher.java:dispatch(167)) - Dispatching the event org.apache.hadoop.yarn.server.resourcemanager.rmapp.attempt.event.RMAppAttemptContainerFinishedEvent.EventType: CONTAINER_FINISHED\n2015-06-09 23:40:53,436 DEBUG [AsyncDispatcher event handler] attempt.RMAppAttemptImpl (RMAppAttemptImpl.java:handle(781)) - Processing event for appattempt_1433918447351_0001_000001 of type CONTAINER_FINISHED\n2015-06-09 23:40:53,436 DEBUG [FairSchedulerUpdateThread] fair.FSLeafQueue (FSLeafQueue.java:updateDemand(287)) - The updated demand for root.default is <memory:0, vCores:0>; the max is <memory:2147483647, vCores:2147483647>\n2015-06-09 23:40:53,436 DEBUG [FairSchedulerUpdateThread] fair.FSLeafQueue (FSLeafQueue.java:updateDemand(289)) - The updated fairshare for root.default is <memory:0, vCores:0>\n2015-06-09 23:40:53,436 DEBUG [FairSchedulerUpdateThread] fair.FSParentQueue (FSParentQueue.java:updateDemand(163)) - Counting resource from root.default <memory:0, vCores:0>; Total resource consumption for root now <memory:0, vCores:0>\n2015-06-09 23:40:53,437 DEBUG [FairSchedulerUpdateThread] fair.FSLeafQueue (FSLeafQueue.java:updateDemandForApp(298)) - Counting resource from application_1433918447351_0001 <memory:2048, vCores:2>; Total resource consumption for root.zxu now <memory:0, vCores:0>\n2015-06-09 23:40:53,437 DEBUG [FairSchedulerUpdateThread] fair.FSLeafQueue (FSLeafQueue.java:updateDemand(287)) - The updated demand for root.zxu is <memory:2048, vCores:2>; the max is <memory:2147483647, vCores:2147483647>\n2015-06-09 23:40:53,437 DEBUG [FairSchedulerUpdateThread] fair.FSLeafQueue (FSLeafQueue.java:updateDemand(289)) - The updated fairshare for root.zxu is <memory:0, vCores:0>\n2015-06-09 23:40:53,437 DEBUG [FairSchedulerUpdateThread] fair.FSParentQueue (FSParentQueue.java:updateDemand(163)) - Counting resource from root.zxu <memory:2048, vCores:2>; Total resource consumption for root now <memory:0, vCores:0>\n2015-06-09 23:40:53,437 DEBUG [FairSchedulerUpdateThread] fair.FSParentQueue (FSParentQueue.java:updateDemand(177)) - The updated demand for root is <memory:2048, vCores:2>; the max is <memory:2147483647, vCores:2147483647>\n2015-06-09 23:40:53,437 DEBUG [FairSchedulerUpdateThread] fair.FSQueue (FSQueue.java:setFairShare(196)) - The updated fairShare for root is <memory:8192, vCores:8>\nContainer State is : RUNNING\nContainer State is : RUNNING\nReceived completed containers [ContainerStatus: [ContainerId: container_1433918447351_0001_01_000003, State: COMPLETE, Diagnostics: recover container, ExitStatus: 0, ]]\n2015-06-09 23:40:53,632 INFO  [Thread-643] resourcemanager.TestWorkPreservingRMRestart (TestWorkPreservingRMRestart.java:testSchedulerRecovery(240)) - testSchedulerRecovery end\n2015-06-09 23:40:53,733 DEBUG [Thread-643] fair.FSAppAttempt (FSAppAttempt.java:getHeadroom(200)) - Headroom calculation for application_1433918447351_0001:Min((queueFairShare=<memory:8192, vCores:8> - queueUsage=<memory:2048, vCores:2>), maxAvailableResource=<memory:6144, vCores:6>Headroom=<memory:6144, vCores:6>\n{code}\nAnd we can find the {{update}}/{{updateDemand}} is called by UpdateThread after {{recoverContainersOnNode}}. The test passed, because {{update}} set {{rootMetrics}}'s available resource correctly after {{recoverContainersOnNode}} updated  {{rootMetrics}}'s used resource.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zxu","name":"zxu","key":"zxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhihai xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-06-10T19:17:48.795+0000","updated":"2015-06-10T19:17:48.795+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14581026","id":"14581026","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zxu","name":"zxu","key":"zxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhihai xu","active":true,"timeZone":"America/Los_Angeles"},"body":"I uploaded a patch YARN-3790.000.patch which will move {{updateRootQueueMetrics}} after {{recoverContainersOnNode}} in {{addNode}}.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zxu","name":"zxu","key":"zxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhihai xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-06-10T20:24:23.763+0000","updated":"2015-06-10T20:24:23.763+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14581151","id":"14581151","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"\\\\\n\\\\\n| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | pre-patch |  16m  3s | Pre-patch trunk compilation is healthy. |\n| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |\n| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |\n| {color:green}+1{color} | javac |   7m 33s | There were no new javac warning messages. |\n| {color:green}+1{color} | javadoc |   9m 36s | There were no new javadoc warning messages. |\n| {color:green}+1{color} | release audit |   0m 23s | The applied patch does not increase the total number of release audit warnings. |\n| {color:green}+1{color} | checkstyle |   0m 45s | There were no new checkstyle issues. |\n| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |\n| {color:green}+1{color} | install |   1m 33s | mvn install still works. |\n| {color:green}+1{color} | eclipse:eclipse |   0m 33s | The patch built with eclipse:eclipse. |\n| {color:green}+1{color} | findbugs |   1m 26s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |\n| {color:green}+1{color} | yarn tests |  50m 55s | Tests passed in hadoop-yarn-server-resourcemanager. |\n| | |  88m 51s | |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Patch URL | http://issues.apache.org/jira/secure/attachment/12738905/YARN-3790.000.patch |\n| Optional Tests | javadoc javac unit findbugs checkstyle |\n| git revision | trunk / c7729ef |\n| hadoop-yarn-server-resourcemanager test log | https://builds.apache.org/job/PreCommit-YARN-Build/8235/artifact/patchprocess/testrun_hadoop-yarn-server-resourcemanager.txt |\n| Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/8235/testReport/ |\n| Java | 1.7.0_55 |\n| uname | Linux asf909.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/8235/console |\n\n\nThis message was automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2015-06-10T22:08:45.853+0000","updated":"2015-06-10T22:08:45.853+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14585450","id":"14585450","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"body":"Thank @zhihai for your detailed explanation.. I got the problem..:-)\nOverall patch looks good to me, I think we should change this JIRA component to scheduler since code change is in FairScheduler","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"created":"2015-06-15T05:38:09.734+0000","updated":"2015-06-15T05:38:09.734+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14585471","id":"14585471","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zxu","name":"zxu","key":"zxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhihai xu","active":true,"timeZone":"America/Los_Angeles"},"body":"[~rohithsharma] thanks for the review, yes, I just updated the component to FairScheduler.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zxu","name":"zxu","key":"zxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhihai xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-06-15T06:07:07.005+0000","updated":"2015-06-15T06:07:07.005+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14595372","id":"14595372","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"body":"[~jianhe] Do you have any comments on the patch?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"created":"2015-06-22T05:00:46.012+0000","updated":"2015-06-22T05:00:46.012+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14596441","id":"14596441","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jianhe","name":"jianhe","key":"jianhe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jian He","active":true,"timeZone":"America/Los_Angeles"},"body":"lgtm, thanks [~zxu] and [~rohithsharma]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jianhe","name":"jianhe","key":"jianhe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jian He","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-06-22T18:56:25.633+0000","updated":"2015-06-22T18:56:25.633+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14598044","id":"14598044","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=iwasakims","name":"iwasakims","key":"iwasakims","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=iwasakims&avatarId=18289","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=iwasakims&avatarId=18289","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=iwasakims&avatarId=18289","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=iwasakims&avatarId=18289"},"displayName":"Masatake Iwasaki","active":true,"timeZone":"Asia/Tokyo"},"body":"I'm +1(non-binding) too. Thanks for working on this. I saw the test failure 2 times on YARN-3705 and would like this to come in.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=iwasakims","name":"iwasakims","key":"iwasakims","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=iwasakims&avatarId=18289","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=iwasakims&avatarId=18289","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=iwasakims&avatarId=18289","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=iwasakims&avatarId=18289"},"displayName":"Masatake Iwasaki","active":true,"timeZone":"Asia/Tokyo"},"created":"2015-06-23T17:48:45.470+0000","updated":"2015-06-23T17:48:45.470+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14599799","id":"14599799","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"body":"Committed to trunk/branch-2. Thanks [~zxu] for your contributions and [~jianhe] and [~iwasakims] for review.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"created":"2015-06-24T17:38:29.946+0000","updated":"2015-06-24T17:38:29.946+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14599809","id":"14599809","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-trunk-Commit #8059 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/8059/])\nYARN-3790. usedResource from rootQueue metrics may get stale data for FS scheduler after recovering the container (Zhihai Xu via rohithsharmaks) (rohithsharmaks: rev dd4b387d96abc66ddebb569b3775b18b19aed027)\n* hadoop-yarn-project/CHANGES.txt\n* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-06-24T17:44:26.527+0000","updated":"2015-06-24T17:44:26.527+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14599821","id":"14599821","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zxu","name":"zxu","key":"zxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhihai xu","active":true,"timeZone":"America/Los_Angeles"},"body":"thanks [~jianhe] and [~iwasakims] for the review! thanks [~rohithsharma] for the review and committing the patch!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zxu","name":"zxu","key":"zxu","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhihai xu","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-06-24T17:50:24.799+0000","updated":"2015-06-24T17:50:24.799+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14599880","id":"14599880","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-trunk-Commit #8060 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/8060/])\nMove YARN-3790 from 2.7.1 to 2.8 in CHANGES.txt (rohithsharmaks: rev 2df00d53d13d16628b6bde5e05133d239f138f52)\n* hadoop-yarn-project/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-06-24T18:17:05.698+0000","updated":"2015-06-24T18:17:05.698+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14601053","id":"14601053","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #239 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/239/])\nYARN-3790. usedResource from rootQueue metrics may get stale data for FS scheduler after recovering the container (Zhihai Xu via rohithsharmaks) (rohithsharmaks: rev dd4b387d96abc66ddebb569b3775b18b19aed027)\n* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java\n* hadoop-yarn-project/CHANGES.txt\nMove YARN-3790 from 2.7.1 to 2.8 in CHANGES.txt (rohithsharmaks: rev 2df00d53d13d16628b6bde5e05133d239f138f52)\n* hadoop-yarn-project/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-06-25T11:42:15.092+0000","updated":"2015-06-25T11:42:15.092+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14601072","id":"14601072","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Yarn-trunk #969 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/969/])\nYARN-3790. usedResource from rootQueue metrics may get stale data for FS scheduler after recovering the container (Zhihai Xu via rohithsharmaks) (rohithsharmaks: rev dd4b387d96abc66ddebb569b3775b18b19aed027)\n* hadoop-yarn-project/CHANGES.txt\n* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java\nMove YARN-3790 from 2.7.1 to 2.8 in CHANGES.txt (rohithsharmaks: rev 2df00d53d13d16628b6bde5e05133d239f138f52)\n* hadoop-yarn-project/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-06-25T11:50:33.046+0000","updated":"2015-06-25T11:50:33.046+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14601371","id":"14601371","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk #2167 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2167/])\nYARN-3790. usedResource from rootQueue metrics may get stale data for FS scheduler after recovering the container (Zhihai Xu via rohithsharmaks) (rohithsharmaks: rev dd4b387d96abc66ddebb569b3775b18b19aed027)\n* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java\n* hadoop-yarn-project/CHANGES.txt\nMove YARN-3790 from 2.7.1 to 2.8 in CHANGES.txt (rohithsharmaks: rev 2df00d53d13d16628b6bde5e05133d239f138f52)\n* hadoop-yarn-project/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-06-25T15:33:42.614+0000","updated":"2015-06-25T15:33:42.614+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14601411","id":"14601411","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #228 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/228/])\nYARN-3790. usedResource from rootQueue metrics may get stale data for FS scheduler after recovering the container (Zhihai Xu via rohithsharmaks) (rohithsharmaks: rev dd4b387d96abc66ddebb569b3775b18b19aed027)\n* hadoop-yarn-project/CHANGES.txt\n* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java\nMove YARN-3790 from 2.7.1 to 2.8 in CHANGES.txt (rohithsharmaks: rev 2df00d53d13d16628b6bde5e05133d239f138f52)\n* hadoop-yarn-project/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-06-25T15:49:27.135+0000","updated":"2015-06-25T15:49:27.135+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14601447","id":"14601447","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #237 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/237/])\nYARN-3790. usedResource from rootQueue metrics may get stale data for FS scheduler after recovering the container (Zhihai Xu via rohithsharmaks) (rohithsharmaks: rev dd4b387d96abc66ddebb569b3775b18b19aed027)\n* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java\n* hadoop-yarn-project/CHANGES.txt\nMove YARN-3790 from 2.7.1 to 2.8 in CHANGES.txt (rohithsharmaks: rev 2df00d53d13d16628b6bde5e05133d239f138f52)\n* hadoop-yarn-project/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-06-25T16:11:11.219+0000","updated":"2015-06-25T16:11:11.219+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12836728/comment/14601465","id":"14601465","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Mapreduce-trunk #2185 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2185/])\nYARN-3790. usedResource from rootQueue metrics may get stale data for FS scheduler after recovering the container (Zhihai Xu via rohithsharmaks) (rohithsharmaks: rev dd4b387d96abc66ddebb569b3775b18b19aed027)\n* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/scheduler/fair/FairScheduler.java\n* hadoop-yarn-project/CHANGES.txt\nMove YARN-3790 from 2.7.1 to 2.8 in CHANGES.txt (rohithsharmaks: rev 2df00d53d13d16628b6bde5e05133d239f138f52)\n* hadoop-yarn-project/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2015-06-25T16:17:50.246+0000","updated":"2015-06-25T16:17:50.246+0000"}],"maxResults":21,"total":21,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-3790/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2fv1j:"}}