{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12667668","self":"https://issues.apache.org/jira/rest/api/2/issue/12667668","key":"YARN-1175","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12324806","id":"12324806","description":"2.1.1-beta bug-fix release","name":"2.1.1-beta","archived":false,"released":true,"releaseDate":"2013-09-16"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2013-09-09T22:10:09.987+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Sep 09 22:28:31 UTC 2013","customfield_12310420":"347605","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_6189311_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-09-09T22:28:31.204+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-1175/watchers","watchCount":2,"isWatching":false},"created":"2013-09-09T20:45:21.913+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-09-24T23:33:16.489+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12319650","id":"12319650","name":"applications/distributed-shell"}],"timeoriginalestimate":null,"description":"Run distributed shell with -shell_command \"pwd\". Do $ yarn logs on that application.\n\nCount number of characters in Log Contents field. Number of characters will be smaller than LogLength field by one.\n\n{code:title=mock-up yarn logs output}\n$ /usr/bin/yarn logs -applicationId application_1378424977532_0088\n...\nLogType: stdout\nLogLength: 87\nLog Contents:\n/mypath/appcache/application_1378424977532_0088/container_1378424977532_0088_01_000002\n{code}\n\n----\n{panel}\nTh length of \n\"/mypath/appcache/application_1378424977532_0088/container_1378424977532_0088_01_000002\"\nis 86.\n{panel}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"347904","customfield_12312823":null,"summary":"LogLength shown in $ yarn logs is 1 character longer than actual stdout","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tassapola","name":"tassapola","key":"tassapola","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tassapol Athiapinya","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tassapola","name":"tassapola","key":"tassapola","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tassapol Athiapinya","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667668/comment/13762370","id":"13762370","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"body":"I believe there's a trailing newline character in the log which would bring the count to 87.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"created":"2013-09-09T22:10:09.987+0000","updated":"2013-09-09T22:10:09.987+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667668/comment/13762375","id":"13762375","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tassapola","name":"tassapola","key":"tassapola","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tassapol Athiapinya","active":true,"timeZone":"America/Los_Angeles"},"body":"I understand that point. As an end user, it feels little bit weird. Looking at unix filesystem, when a file is empty, the file has 0 bytes in size. In this case, even if we do -shell_commands echo, LogLength would show up as 1.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tassapola","name":"tassapola","key":"tassapola","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tassapol Athiapinya","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-09T22:15:39.889+0000","updated":"2013-09-09T22:15:39.889+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667668/comment/13762379","id":"13762379","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tassapola","name":"tassapola","key":"tassapola","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tassapol Athiapinya","active":true,"timeZone":"America/Los_Angeles"},"body":"Also, for distributed shell of running echo, AppMaster.stdout which does not print out anything, has LogLength of 0. There is inconsistency between the app master which does not call any print command and echo stdout which calls prints with \"\" (no end of line).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tassapola","name":"tassapola","key":"tassapola","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tassapol Athiapinya","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-09T22:18:30.519+0000","updated":"2013-09-09T22:18:30.519+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667668/comment/13762388","id":"13762388","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"body":"It is consistent with the contents of the log.  If nothing is ever printed to a log file then the log file has zero bytes in it and the log length is correctly reported as zero.  If a single {{echo}} is used then the log contents are correctly reported as 1 since {{echo}} will output a single newline character when given no additional arguments.  This is analogous to this situation with a regular shell session:\n\n{noformat}\n$ > /tmp/x  \n$ echo > /tmp/y\n$ ls -l /tmp/[xy]\n-rw-r--r-- 1 user group 0 Sep  9 22:22 /tmp/x\n-rw-r--r-- 1 user group 1 Sep  9 22:22 /tmp/y\n{noformat}\n\nNote that /tmp/x has a size of 0 and /tmp/y has a size of 1.  LogLength is simply reporting the number of bytes in the logfile, and not all of those bytes are visible characters.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jlowe","name":"jlowe","key":"jlowe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jason Lowe","active":true,"timeZone":"America/Chicago"},"created":"2013-09-09T22:24:50.369+0000","updated":"2013-09-09T22:24:50.369+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667668/comment/13762391","id":"13762391","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tassapola","name":"tassapola","key":"tassapola","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tassapol Athiapinya","active":true,"timeZone":"America/Los_Angeles"},"body":"Thank you [~jlowe] for clarification. I will close this issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tassapola","name":"tassapola","key":"tassapola","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tassapol Athiapinya","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-09T22:27:14.120+0000","updated":"2013-09-09T22:27:14.120+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12667668/comment/13762394","id":"13762394","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tassapola","name":"tassapola","key":"tassapola","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tassapol Athiapinya","active":true,"timeZone":"America/Los_Angeles"},"body":"It works as intended.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=tassapola","name":"tassapola","key":"tassapola","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Tassapol Athiapinya","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-09T22:28:31.221+0000","updated":"2013-09-09T22:28:31.221+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-1175/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1nxtz:"}}