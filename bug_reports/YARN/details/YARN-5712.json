{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13010022","self":"https://issues.apache.org/jira/rest/api/2/issue/13010022","key":"YARN-5712","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":null,"customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"2016-10-05 22:32:37.008","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-5712/watchers","watchCount":4,"isWatching":false},"created":"2016-10-05T22:32:37.008+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-10-05T22:32:37.008+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12322519","id":"12322519","name":"webapp","description":"Web app related issues"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12325004","id":"12325004","name":"yarn"}],"timeoriginalestimate":null,"description":"Scenario:\n\n1) Deployed custom web application as Yarn application\n\n2) Custom web application URL is exposed as the tracking URL\n\n3) When user clicks the application link (Tracking URL) from Yarn RM UI, Yarn web proxy forwards the request to custom web application URL\n\n4) Custom web app is handling basic AUTH and it expects Authorization header to allow user from moving forward. If authorization header is missing, then it will prompt the user to enter user ID and password (standard HTTP basic auth)\n\n5) Yarn web proxy is not forwarding the Authorization header back to the custom web app (and hence the custom web app always prompts user for the credentials)\n\nYarn web proxy currently supports few set of pass through headers while forwarding the request to the tracking URL of the container application (runtime web application deployed through Yarn)\n\nhttps://github.com/apache/hadoop/blob/2e1d0ff4e901b8313c8d71869735b94ed8bc40a0/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy/src/main/java/org/apache/hadoop/yarn/server/webproxy/WebAppProxyServlet.java#L80\n\nThe runtime web application is expecting \"Authorization\" header to perform basic HTTP authentication but the Yarn proxy is not forwarding the header.\n\nI understand the security reason behind why limited headers are exposed, but in situations where additional headers need to be propogated, there should be an option to include them.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"WebAppProxyServlet is not passing the Authorization Header","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijikarthi","name":"vijikarthi","key":"vijikarthi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijikarthi&avatarId=26938","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijikarthi&avatarId=26938","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijikarthi&avatarId=26938","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijikarthi&avatarId=26938"},"displayName":"Vijay Srinivasaraghavan","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vijikarthi","name":"vijikarthi","key":"vijikarthi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=vijikarthi&avatarId=26938","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=vijikarthi&avatarId=26938","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=vijikarthi&avatarId=26938","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=vijikarthi&avatarId=26938"},"displayName":"Vijay Srinivasaraghavan","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[],"maxResults":0,"total":0,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-5712/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i34hxz:"}}