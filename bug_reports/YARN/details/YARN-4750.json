{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12945750","self":"https://issues.apache.org/jira/rest/api/2/issue/12945750","key":"YARN-4750","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2016-03-01T15:41:55.910+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Mar 02 06:09:58 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-4750/watchers","watchCount":7,"isWatching":false},"created":"2016-03-01T07:32:07.699+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lavkesh","name":"lavkesh","key":"lavkesh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lavkesh Lahngir","active":true,"timeZone":"Asia/Singapore"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-03-02T06:09:58.257+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"description":"App metrics(rather app attempt metrics) like Vcore-seconds and MB-seconds are saved in the state store when there is an attempt state transition. Values for running attempts will be in memory and will not be saved when there is an RM restart/failover. For recovered app metrics value will be reset. In that case, these values will be incomplete. \n\nWas this intentional or have we not found a correct way to fix it?\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"App metrics may not be correct when an app is recovered","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lavkesh","name":"lavkesh","key":"lavkesh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lavkesh Lahngir","active":true,"timeZone":"Asia/Singapore"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=lavkesh","name":"lavkesh","key":"lavkesh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lavkesh Lahngir","active":true,"timeZone":"Asia/Singapore"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12945750/comment/15173917","id":"15173917","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jianhe","name":"jianhe","key":"jianhe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jian He","active":true,"timeZone":"America/Los_Angeles"},"body":"this was intentional, as the thought was persisting the metrics periodically while the app is running will cause too much load on state-store.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jianhe","name":"jianhe","key":"jianhe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jian He","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-01T15:41:55.910+0000","updated":"2016-03-01T15:41:55.910+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12945750/comment/15175105","id":"15175105","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srikanth.sampath","name":"srikanth.sampath","key":"srikanth.sampath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srikanth.sampath&avatarId=26120","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srikanth.sampath&avatarId=26120","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srikanth.sampath&avatarId=26120","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srikanth.sampath&avatarId=26120"},"displayName":"Srikanth Sampath","active":true,"timeZone":"Etc/UTC"},"body":"Agree [~jianhe]that it would be expensive to do update periodically.  However, it will be useful to indicate that the metrics are compromised.  One option can be to set the value to a special value (say a negative number) so as to to indicate a compromised value one time.  Just carrying on silently, can be misleading.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=srikanth.sampath","name":"srikanth.sampath","key":"srikanth.sampath","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=srikanth.sampath&avatarId=26120","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=srikanth.sampath&avatarId=26120","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=srikanth.sampath&avatarId=26120","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=srikanth.sampath&avatarId=26120"},"displayName":"Srikanth Sampath","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-02T06:09:58.257+0000","updated":"2016-03-02T06:09:58.257+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-4750/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2tyn3:"}}