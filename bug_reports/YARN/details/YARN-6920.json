{
  "expand": "renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations",
  "id": "13091599",
  "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599",
  "key": "YARN-6920",
  "fields": {
    "issuetype": {
      "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
      "id": "1",
      "description": "A problem which impairs or prevents the functions of the product.",
      "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
      "name": "Bug",
      "subtask": false,
      "avatarId": 21133
    },
    "timespent": null,
    "project": {
      "self": "https://issues.apache.org/jira/rest/api/2/project/12313722",
      "id": "12313722",
      "key": "YARN",
      "name": "Hadoop YARN",
      "avatarUrls": {
        "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135",
        "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135",
        "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135",
        "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"
      },
      "projectCategory": {
        "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/10292",
        "id": "10292",
        "description": "Scalable Distributed Computing",
        "name": "Hadoop"
      }
    },
    "fixVersions": [
      {
        "self": "https://issues.apache.org/jira/rest/api/2/version/12334216",
        "id": "12334216",
        "description": "2.9.0 release",
        "name": "2.9.0",
        "archived": false,
        "released": true,
        "releaseDate": "2017-11-17"
      },
      {
        "self": "https://issues.apache.org/jira/rest/api/2/version/12338418",
        "id": "12338418",
        "description": "3.0.0-beta1 release",
        "name": "3.0.0-beta1",
        "archived": false,
        "released": true,
        "releaseDate": "2017-10-03"
      }
    ],
    "aggregatetimespent": null,
    "resolution": {
      "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
      "id": "1",
      "description": "A fix for this issue is checked into the tree and tested.",
      "name": "Fixed"
    },
    "customfield_12312322": null,
    "customfield_12310220": "2017-08-01T16:54:06.510+0000",
    "customfield_12312520": null,
    "customfield_12312323": null,
    "customfield_12312521": "Mon Oct 23 07:26:11 UTC 2017",
    "customfield_12310420": "9223372036854775807",
    "customfield_12312320": null,
    "customfield_12310222": "1_*:*_1_*:*_28752094_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_1_*:*_524812306",
    "customfield_12312321": null,
    "resolutiondate": "2017-08-08T02:05:48.184+0000",
    "workratio": -1,
    "customfield_12312328": null,
    "customfield_12312329": null,
    "customfield_12312923": null,
    "customfield_12312326": null,
    "customfield_12312920": null,
    "customfield_12310300": null,
    "customfield_12312327": null,
    "customfield_12312921": null,
    "customfield_12312324": null,
    "customfield_12312720": null,
    "customfield_12312325": null,
    "lastViewed": null,
    "watches": {
      "self": "https://issues.apache.org/jira/rest/api/2/issue/YARN-6920/watchers",
      "watchCount": 6,
      "isWatching": false
    },
    "created": "2017-08-01T16:19:43.834+0000",
    "customfield_12310192": null,
    "customfield_12310191": null,
    "priority": {
      "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
      "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
      "name": "Major",
      "id": "3"
    },
    "labels": [],
    "customfield_12312333": null,
    "customfield_12312334": null,
    "customfield_12313422": "false",
    "customfield_12310310": "4.0",
    "customfield_12312331": null,
    "customfield_12312332": null,
    "timeestimate": null,
    "aggregatetimeoriginalestimate": null,
    "customfield_12311120": null,
    "customfield_12312330": null,
    "versions": [],
    "issuelinks": [],
    "customfield_12312339": null,
    "assignee": {
      "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
      "name": "asuresh",
      "key": "asuresh",
      "avatarUrls": {
        "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
      },
      "displayName": "Arun Suresh",
      "active": true,
      "timeZone": "America/Los_Angeles"
    },
    "customfield_12312337": null,
    "customfield_12312338": null,
    "updated": "2017-10-23T14:43:35.319+0000",
    "customfield_12312335": null,
    "customfield_12312336": null,
    "status": {
      "self": "https://issues.apache.org/jira/rest/api/2/status/5",
      "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
      "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
      "name": "Resolved",
      "id": "5",
      "statusCategory": {
        "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
        "id": 3,
        "key": "done",
        "colorName": "green",
        "name": "Done"
      }
    },
    "components": [
      {
        "self": "https://issues.apache.org/jira/rest/api/2/component/12319323",
        "id": "12319323",
        "name": "nodemanager"
      }
    ],
    "timeoriginalestimate": null,
    "description": "Container re-initialization can cause resource accounting leaks in the {{ContainerScheduler}}. This has been manifesting as {{TestNMClient}} failures. Opening this JIRA to track the fix.\r\n",
    "customfield_10010": null,
    "timetracking": {},
    "customfield_12312026": null,
    "customfield_12312023": null,
    "customfield_12310320": [
      {
        "self": "https://issues.apache.org/jira/rest/api/2/version/12334216",
        "id": "12334216",
        "description": "2.9.0 release",
        "name": "2.9.0",
        "archived": false,
        "released": true,
        "releaseDate": "2017-11-17"
      },
      {
        "self": "https://issues.apache.org/jira/rest/api/2/version/12338418",
        "id": "12338418",
        "description": "3.0.0-beta1 release",
        "name": "3.0.0-beta1",
        "archived": false,
        "released": true,
        "releaseDate": "2017-10-03"
      }
    ],
    "customfield_12312024": null,
    "customfield_12312340": null,
    "attachment": [
      {
        "self": "https://issues.apache.org/jira/rest/api/2/attachment/12879937",
        "id": "12879937",
        "filename": "YARN-6920.001.patch",
        "author": {
          "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
          "name": "asuresh",
          "key": "asuresh",
          "avatarUrls": {
            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
          },
          "displayName": "Arun Suresh",
          "active": true,
          "timeZone": "America/Los_Angeles"
        },
        "created": "2017-08-02T00:18:26.573+0000",
        "size": 1276,
        "mimeType": "text/x-diff",
        "content": "https://issues.apache.org/jira/secure/attachment/12879937/YARN-6920.001.patch"
      },
      {
        "self": "https://issues.apache.org/jira/rest/api/2/attachment/12879941",
        "id": "12879941",
        "filename": "YARN-6920.002.patch",
        "author": {
          "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
          "name": "asuresh",
          "key": "asuresh",
          "avatarUrls": {
            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
          },
          "displayName": "Arun Suresh",
          "active": true,
          "timeZone": "America/Los_Angeles"
        },
        "created": "2017-08-02T01:48:56.258+0000",
        "size": 4397,
        "mimeType": "text/x-diff",
        "content": "https://issues.apache.org/jira/secure/attachment/12879941/YARN-6920.002.patch"
      },
      {
        "self": "https://issues.apache.org/jira/rest/api/2/attachment/12880081",
        "id": "12880081",
        "filename": "YARN-6920.003.patch",
        "author": {
          "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
          "name": "asuresh",
          "key": "asuresh",
          "avatarUrls": {
            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
          },
          "displayName": "Arun Suresh",
          "active": true,
          "timeZone": "America/Los_Angeles"
        },
        "created": "2017-08-02T18:28:06.431+0000",
        "size": 7772,
        "mimeType": "text/x-diff",
        "content": "https://issues.apache.org/jira/secure/attachment/12880081/YARN-6920.003.patch"
      },
      {
        "self": "https://issues.apache.org/jira/rest/api/2/attachment/12880112",
        "id": "12880112",
        "filename": "YARN-6920.004.patch",
        "author": {
          "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
          "name": "asuresh",
          "key": "asuresh",
          "avatarUrls": {
            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
          },
          "displayName": "Arun Suresh",
          "active": true,
          "timeZone": "America/Los_Angeles"
        },
        "created": "2017-08-02T22:16:35.629+0000",
        "size": 7766,
        "mimeType": "text/x-diff",
        "content": "https://issues.apache.org/jira/secure/attachment/12880112/YARN-6920.004.patch"
      }
    ],
    "aggregatetimeestimate": null,
    "customfield_12312341": null,
    "customfield_12312220": null,
    "customfield_12312022": null,
    "customfield_12310921": null,
    "customfield_12310920": "9223372036854775807",
    "customfield_12312823": null,
    "summary": "Fix resource leak that happens during container re-initialization.",
    "creator": {
      "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
      "name": "asuresh",
      "key": "asuresh",
      "avatarUrls": {
        "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
      },
      "displayName": "Arun Suresh",
      "active": true,
      "timeZone": "America/Los_Angeles"
    },
    "subtasks": [],
    "customfield_12310291": null,
    "reporter": {
      "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
      "name": "asuresh",
      "key": "asuresh",
      "avatarUrls": {
        "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
      },
      "displayName": "Arun Suresh",
      "active": true,
      "timeZone": "America/Los_Angeles"
    },
    "customfield_12310290": null,
    "aggregateprogress": {
      "progress": 0,
      "total": 0
    },
    "customfield_12311024": null,
    "environment": null,
    "customfield_12313520": null,
    "customfield_12311020": null,
    "duedate": null,
    "customfield_12310250": null,
    "progress": {
      "progress": 0,
      "total": 0
    },
    "comment": {
      "comments": [
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16109197",
          "id": "16109197",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "It looks like its been failing after YARN-6706. [~haibochen] Can you take a look ?",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-01T16:20:17.826+0000",
          "updated": "2017-08-01T16:31:45.701+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16109281",
          "id": "16109281",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=haibochen",
            "name": "haibochen",
            "key": "haibochen",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Haibo Chen",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "Sure. Will take a look.",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=haibochen",
            "name": "haibochen",
            "key": "haibochen",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Haibo Chen",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-01T16:54:06.510+0000",
          "updated": "2017-08-01T16:54:06.510+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16110009",
          "id": "16110009",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "Actually, let me take over this [~haibochen], if you don't mind.\nOn further investigation, it looks like the actual issue is due to the fact that during container re-initialization, the container resources which should have been reclaimed by the ContainerScheduler before re-launching the re-initialized container, was never re-claimed - which resulted in a resource leak.\nThis was not happening earlier either, but due to the fact that prior to YARN-6706, if maxOppQueueLength == 0, we never even used to perform a resource availability check, the ContainerManager test-cases used to pass :)\nWill post the fix shortly along with some additional assertions.  ",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-01T23:56:48.551+0000",
          "updated": "2017-08-01T23:56:48.551+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16110047",
          "id": "16110047",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=haibochen",
            "name": "haibochen",
            "key": "haibochen",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Haibo Chen",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "Assigned to you as such.",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=haibochen",
            "name": "haibochen",
            "key": "haibochen",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Haibo Chen",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-02T00:36:39.019+0000",
          "updated": "2017-08-02T00:36:39.019+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16110086",
          "id": "16110086",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa",
            "name": "hadoopqa",
            "key": "hadoopqa",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"
            },
            "displayName": "Hadoop QA",
            "active": true,
            "timeZone": "Etc/UTC"
          },
          "body": "| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 19s{color} | {color:blue} Docker mode activated. {color} |\n|| || || || {color:brown} Prechecks {color} ||\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |\n|| || || || {color:brown} trunk Compile Tests {color} ||\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 15m 14s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 31s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 19s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 28s{color} | {color:green} trunk passed {color} |\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 49s{color} | {color:red} hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager in trunk has 5 extant Findbugs warnings. {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 18s{color} | {color:green} trunk passed {color} |\n|| || || || {color:brown} Patch Compile Tests {color} ||\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 26s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 27s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 27s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 17s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 26s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 53s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 16s{color} | {color:green} the patch passed {color} |\n|| || || || {color:brown} Other Tests {color} ||\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 13m 42s{color} | {color:green} hadoop-yarn-server-nodemanager in the patch passed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 16s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 35m 58s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:14b5c93 |\n| JIRA Issue | YARN-6920 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12879937/YARN-6920.001.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux e7cf421177a4 4.4.0-43-generic #63-Ubuntu SMP Wed Oct 12 13:48:03 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 9625a03 |\n| Default Java | 1.8.0_131 |\n| findbugs | v3.1.0-RC1 |\n| findbugs | https://builds.apache.org/job/PreCommit-YARN-Build/16658/artifact/patchprocess/branch-findbugs-hadoop-yarn-project_hadoop-yarn_hadoop-yarn-server_hadoop-yarn-server-nodemanager-warnings.html |\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/16658/testReport/ |\n| modules | C: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager U: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager |\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/16658/console |\n| Powered by | Apache Yetus 0.6.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa",
            "name": "hadoopqa",
            "key": "hadoopqa",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"
            },
            "displayName": "Hadoop QA",
            "active": true,
            "timeZone": "Etc/UTC"
          },
          "created": "2017-08-02T01:09:04.079+0000",
          "updated": "2017-08-02T01:09:04.079+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16110113",
          "id": "16110113",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "Think I posted an incomplete patch earlier - updated it.\n[~haibochen] / [~jianhe] - quick review ?",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-02T01:51:04.059+0000",
          "updated": "2017-08-02T01:51:04.059+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16110149",
          "id": "16110149",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa",
            "name": "hadoopqa",
            "key": "hadoopqa",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"
            },
            "displayName": "Hadoop QA",
            "active": true,
            "timeZone": "Etc/UTC"
          },
          "body": "| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 20s{color} | {color:blue} Docker mode activated. {color} |\n|| || || || {color:brown} Prechecks {color} ||\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\n|| || || || {color:brown} trunk Compile Tests {color} ||\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 13m 47s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 29s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 20s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 28s{color} | {color:green} trunk passed {color} |\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 42s{color} | {color:red} hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager in trunk has 5 extant Findbugs warnings. {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 18s{color} | {color:green} trunk passed {color} |\n|| || || || {color:brown} Patch Compile Tests {color} ||\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 24s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 26s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 26s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 18s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 26s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 50s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 15s{color} | {color:green} the patch passed {color} |\n|| || || || {color:brown} Other Tests {color} ||\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 13m  7s{color} | {color:green} hadoop-yarn-server-nodemanager in the patch passed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 16s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 33m 41s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:14b5c93 |\n| JIRA Issue | YARN-6920 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12879941/YARN-6920.002.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 2dea263a73f7 3.13.0-119-generic #166-Ubuntu SMP Wed May 3 12:18:55 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 6814324 |\n| Default Java | 1.8.0_131 |\n| findbugs | v3.1.0-RC1 |\n| findbugs | https://builds.apache.org/job/PreCommit-YARN-Build/16659/artifact/patchprocess/branch-findbugs-hadoop-yarn-project_hadoop-yarn_hadoop-yarn-server_hadoop-yarn-server-nodemanager-warnings.html |\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/16659/testReport/ |\n| modules | C: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager U: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager |\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/16659/console |\n| Powered by | Apache Yetus 0.6.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa",
            "name": "hadoopqa",
            "key": "hadoopqa",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"
            },
            "displayName": "Hadoop QA",
            "active": true,
            "timeZone": "Etc/UTC"
          },
          "created": "2017-08-02T02:24:28.334+0000",
          "updated": "2017-08-02T02:24:28.334+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16111434",
          "id": "16111434",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=haibochen",
            "name": "haibochen",
            "key": "haibochen",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Haibo Chen",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "I applied the 2rd patch, but TestNMClient is still failing for me. Am I missing something.",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=haibochen",
            "name": "haibochen",
            "key": "haibochen",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Haibo Chen",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-02T18:02:32.480+0000",
          "updated": "2017-08-02T18:02:32.480+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16111478",
          "id": "16111478",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "Hmmm... That could be some timing issue..\nAttaching v3 patch.. with a minor change in {{TestNMClient}}. Let's see if it runs through Jenkins fine.",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-02T18:29:18.145+0000",
          "updated": "2017-08-02T18:29:18.145+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16111786",
          "id": "16111786",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa",
            "name": "hadoopqa",
            "key": "hadoopqa",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"
            },
            "displayName": "Hadoop QA",
            "active": true,
            "timeZone": "Etc/UTC"
          },
          "body": "| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 20s{color} | {color:blue} Docker mode activated. {color} |\n|| || || || {color:brown} Prechecks {color} ||\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  1s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 2 new or modified test files. {color} |\n|| || || || {color:brown} trunk Compile Tests {color} ||\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 50s{color} | {color:blue} Maven dependency ordering for branch {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 14m 11s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  9m 16s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 59s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  3s{color} | {color:green} trunk passed {color} |\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 53s{color} | {color:red} hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager in trunk has 5 extant Findbugs warnings. {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 47s{color} | {color:green} trunk passed {color} |\n|| || || || {color:brown} Patch Compile Tests {color} ||\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 11s{color} | {color:blue} Maven dependency ordering for patch {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 46s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  5m 42s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  5m 42s{color} | {color:green} the patch passed {color} |\n| {color:orange}-0{color} | {color:orange} checkstyle {color} | {color:orange}  0m 56s{color} | {color:orange} hadoop-yarn-project/hadoop-yarn: The patch generated 1 new + 208 unchanged - 0 fixed = 209 total (was 208) {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  2s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 40s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 45s{color} | {color:green} the patch passed {color} |\n|| || || || {color:brown} Other Tests {color} ||\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 14m  8s{color} | {color:green} hadoop-yarn-server-nodemanager in the patch passed. {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 30m 42s{color} | {color:red} hadoop-yarn-client in the patch failed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 29s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 93m 26s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| Failed junit tests | hadoop.yarn.client.TestFederationRMFailoverProxyProvider |\n|   | hadoop.yarn.client.api.impl.TestNMClient |\n| Timed out junit tests | org.apache.hadoop.yarn.client.api.impl.TestAMRMClient |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:14b5c93 |\n| JIRA Issue | YARN-6920 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12880081/YARN-6920.003.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux b97802280eab 3.13.0-123-generic #172-Ubuntu SMP Mon Jun 26 18:04:35 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 12e44e7 |\n| Default Java | 1.8.0_131 |\n| findbugs | v3.1.0-RC1 |\n| findbugs | https://builds.apache.org/job/PreCommit-YARN-Build/16671/artifact/patchprocess/branch-findbugs-hadoop-yarn-project_hadoop-yarn_hadoop-yarn-server_hadoop-yarn-server-nodemanager-warnings.html |\n| checkstyle | https://builds.apache.org/job/PreCommit-YARN-Build/16671/artifact/patchprocess/diff-checkstyle-hadoop-yarn-project_hadoop-yarn.txt |\n| unit | https://builds.apache.org/job/PreCommit-YARN-Build/16671/artifact/patchprocess/patch-unit-hadoop-yarn-project_hadoop-yarn_hadoop-yarn-client.txt |\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/16671/testReport/ |\n| modules | C: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client U: hadoop-yarn-project/hadoop-yarn |\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/16671/console |\n| Powered by | Apache Yetus 0.6.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa",
            "name": "hadoopqa",
            "key": "hadoopqa",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"
            },
            "displayName": "Hadoop QA",
            "active": true,
            "timeZone": "Etc/UTC"
          },
          "created": "2017-08-02T21:56:30.283+0000",
          "updated": "2017-08-02T21:56:30.283+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16111826",
          "id": "16111826",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "Juggling around with the sleep statements and times and fixing the checkstyle.\nThe other two testcase errors are unrelated.\n",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-02T22:17:35.749+0000",
          "updated": "2017-08-02T22:17:35.749+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16111945",
          "id": "16111945",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa",
            "name": "hadoopqa",
            "key": "hadoopqa",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"
            },
            "displayName": "Hadoop QA",
            "active": true,
            "timeZone": "Etc/UTC"
          },
          "body": "| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 16s{color} | {color:blue} Docker mode activated. {color} |\n|| || || || {color:brown} Prechecks {color} ||\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 2 new or modified test files. {color} |\n|| || || || {color:brown} trunk Compile Tests {color} ||\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 48s{color} | {color:blue} Maven dependency ordering for branch {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 14m  5s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  9m  6s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 58s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  4s{color} | {color:green} trunk passed {color} |\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 50s{color} | {color:red} hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager in trunk has 5 extant Findbugs warnings. {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 46s{color} | {color:green} trunk passed {color} |\n|| || || || {color:brown} Patch Compile Tests {color} ||\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 10s{color} | {color:blue} Maven dependency ordering for patch {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 45s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  5m 48s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  5m 48s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 56s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  3s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 41s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 44s{color} | {color:green} the patch passed {color} |\n|| || || || {color:brown} Other Tests {color} ||\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 14m  0s{color} | {color:green} hadoop-yarn-server-nodemanager in the patch passed. {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 30m 57s{color} | {color:red} hadoop-yarn-client in the patch failed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 27s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 93m  6s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| Failed junit tests | hadoop.yarn.client.TestFederationRMFailoverProxyProvider |\n| Timed out junit tests | org.apache.hadoop.yarn.client.api.impl.TestAMRMClient |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:14b5c93 |\n| JIRA Issue | YARN-6920 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12880112/YARN-6920.004.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux 69df7d87ff39 3.13.0-123-generic #172-Ubuntu SMP Mon Jun 26 18:04:35 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 79df1e7 |\n| Default Java | 1.8.0_131 |\n| findbugs | v3.1.0-RC1 |\n| findbugs | https://builds.apache.org/job/PreCommit-YARN-Build/16672/artifact/patchprocess/branch-findbugs-hadoop-yarn-project_hadoop-yarn_hadoop-yarn-server_hadoop-yarn-server-nodemanager-warnings.html |\n| unit | https://builds.apache.org/job/PreCommit-YARN-Build/16672/artifact/patchprocess/patch-unit-hadoop-yarn-project_hadoop-yarn_hadoop-yarn-client.txt |\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/16672/testReport/ |\n| modules | C: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client U: hadoop-yarn-project/hadoop-yarn |\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/16672/console |\n| Powered by | Apache Yetus 0.6.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa",
            "name": "hadoopqa",
            "key": "hadoopqa",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"
            },
            "displayName": "Hadoop QA",
            "active": true,
            "timeZone": "Etc/UTC"
          },
          "created": "2017-08-03T00:01:00.608+0000",
          "updated": "2017-08-03T00:01:00.608+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16112099",
          "id": "16112099",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa",
            "name": "hadoopqa",
            "key": "hadoopqa",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"
            },
            "displayName": "Hadoop QA",
            "active": true,
            "timeZone": "Etc/UTC"
          },
          "body": "| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 13s{color} | {color:blue} Docker mode activated. {color} |\n|| || || || {color:brown} Prechecks {color} ||\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 2 new or modified test files. {color} |\n|| || || || {color:brown} trunk Compile Tests {color} ||\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 47s{color} | {color:blue} Maven dependency ordering for branch {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 14m 47s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  8m 43s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 58s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  3s{color} | {color:green} trunk passed {color} |\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 51s{color} | {color:red} hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager in trunk has 5 extant Findbugs warnings. {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 45s{color} | {color:green} trunk passed {color} |\n|| || || || {color:brown} Patch Compile Tests {color} ||\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 10s{color} | {color:blue} Maven dependency ordering for patch {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 45s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  5m 21s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  5m 21s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 56s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  1s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 39s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 43s{color} | {color:green} the patch passed {color} |\n|| || || || {color:brown} Other Tests {color} ||\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 13m 14s{color} | {color:green} hadoop-yarn-server-nodemanager in the patch passed. {color} |\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 19m 31s{color} | {color:red} hadoop-yarn-client in the patch failed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 29s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 80m 36s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| Failed junit tests | hadoop.yarn.client.api.impl.TestAMRMProxy |\n|   | hadoop.yarn.client.TestFederationRMFailoverProxyProvider |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:14b5c93 |\n| JIRA Issue | YARN-6920 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12880112/YARN-6920.004.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux ac3750fee0c2 3.13.0-123-generic #172-Ubuntu SMP Mon Jun 26 18:04:35 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / 79df1e7 |\n| Default Java | 1.8.0_131 |\n| findbugs | v3.1.0-RC1 |\n| findbugs | https://builds.apache.org/job/PreCommit-YARN-Build/16675/artifact/patchprocess/branch-findbugs-hadoop-yarn-project_hadoop-yarn_hadoop-yarn-server_hadoop-yarn-server-nodemanager-warnings.html |\n| unit | https://builds.apache.org/job/PreCommit-YARN-Build/16675/artifact/patchprocess/patch-unit-hadoop-yarn-project_hadoop-yarn_hadoop-yarn-client.txt |\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/16675/testReport/ |\n| modules | C: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client U: hadoop-yarn-project/hadoop-yarn |\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/16675/console |\n| Powered by | Apache Yetus 0.6.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa",
            "name": "hadoopqa",
            "key": "hadoopqa",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"
            },
            "displayName": "Hadoop QA",
            "active": true,
            "timeZone": "Etc/UTC"
          },
          "created": "2017-08-03T03:03:24.190+0000",
          "updated": "2017-08-03T03:03:24.190+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16113188",
          "id": "16113188",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "{{TestFederationRMFailoverProxyProvider}} failure has been tracked by YARN-6932 and the {{TestAMRMClient}} failure is unrelated. [~haibochen], can you check if {{TestNMClient}} works for you now ? - given that Jenkins is fine with it.\n",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-03T17:57:21.485+0000",
          "updated": "2017-08-03T17:57:21.485+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16113296",
          "id": "16113296",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=haibochen",
            "name": "haibochen",
            "key": "haibochen",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Haibo Chen",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "Hmm.. It still does not fix TestNMClient for me.  Is this the same failure that you have seen?\n\"java.lang.AssertionError: Exception is not expected: org.apache.hadoop.yarn.exceptions.YarnException: Cannot perform RE_INIT on [container_1501785504205_0001_01_000001]. Current state is [REINITIALIZING, isReInitializing=true].\"\nLooking at the log, it looks like NM cannot find the pid file because the container launch context is empty, and therefore waits for up to maxKillWaitTime which is 2000. So it seems like a timing issue to me. Also, I set some breakpoints which happened to mess up the time on NM, and then I got the same Exception but with container being in DONE state. ",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=haibochen",
            "name": "haibochen",
            "key": "haibochen",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Haibo Chen",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-03T18:52:49.502+0000",
          "updated": "2017-08-03T18:52:49.502+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16113298",
          "id": "16113298",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=haibochen",
            "name": "haibochen",
            "key": "haibochen",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Haibo Chen",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "Can you add the error message or stack trace of what you saw, and also elaborate a little bit on how the change in ContainerScheduler fixes it?",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=haibochen",
            "name": "haibochen",
            "key": "haibochen",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Haibo Chen",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-03T18:54:04.485+0000",
          "updated": "2017-08-03T18:54:04.485+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16113318",
          "id": "16113318",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "Without this patch, the test case would time out (the testcase timeout is 200s) and you should see the following in the logs:\n{noformat}\n....\n2017-08-03 11:58:04,094 INFO  container.ContainerImpl (ContainerImpl.java:transition(1382)) - Relaunching Container [container_1501786677410_0001_01_000002] for re-initialization !!\n2017-08-03 11:58:04,094 INFO  container.ContainerImpl (ContainerImpl.java:handle(1691)) - Container container_1501786677410_0001_01_000002 transitioned from REINITIALIZING to SCHEDULED\n2017-08-03 11:58:04,094 WARN  scheduler.ContainerScheduler (ContainerScheduler.java:pickOpportunisticContainersToKill(384)) - There are no sufficient resources to start guaranteed [container_1501786677410_0001_01_000002]at the moment. Opportunistic containers are in the process ofbeing killed to make room.\n....\n{noformat}\n\nWith the patch, if the test does fail for you - it might be due to some other assertion failure, not a timeout. And you should not see the above call to {{pickOpportunisticContainersToKill()}} in the logs.\n\nReason:\nDuring container re-initialization, the container process is killed and re-launched. This transfers control back to the ContainerScheduler, which, after YARN-6706 always checks to see if resources are available to launch the container, irrespective of whether queuing is turned on or off. Un-fortunately, when the container was killed for re-initialization, we had neglected to subtract (reclaim) the containers resources from the utilization tracker, due to which the afore mentioned check fails on re launch. This patch makes sure the resources are reclaimed.\n",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-03T19:13:18.318+0000",
          "updated": "2017-08-03T19:13:18.318+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16113915",
          "id": "16113915",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jianhe",
            "name": "jianhe",
            "key": "jianhe",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Jian He",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "So, the CONTAINER_COMPLETED event will first decrement the resource and the try to start a container, it is possible that a different container gets started later on SCHEDULE_CONTAINER event. I think we need to make sure the same container gets started ?\nProbably we can have a new event called RESTART_CONTAINER and ContainerScheduler#handle can simply starts the container - skipping all those dec/inc resource utilizations, checking opportunistic containers etc.  And for service container, user should be expected to always use Guaranteed type.",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jianhe",
            "name": "jianhe",
            "key": "jianhe",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Jian He",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-04T04:06:41.870+0000",
          "updated": "2017-08-04T04:06:41.870+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16113973",
          "id": "16113973",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "Thanks for taking a look [~jianhe]\nbq. ..it is possible that a different container gets started later on SCHEDULE_CONTAINER event ?\nIt is possible, but given the following invariant:\n# *Total Resources of Guaranteed containers ALLOCATED on a Node cannot exceed the Node capacity*: The RM ensures that Guaranteed container are never over-allocated on an NM\n# *Total (Opportunistic + Guaranteed) resources of RUNNING containers cannot exceed Node capacity*: The ContainerSchedulerenforces this.\n# *Running Opportunistic containers will be preempted to make room for Guaranteed containers*: Also enforced by the ContainerScheduler\n\nWe don't really have to worry about if a different container starts in the meanwhile. If the new container that was started is a Guaranteed, then the Node should have the resources to begin with.. and if Opportunistic, then, it will probably be killed when our ReInitializing container is restarted.\n\nbq.  And for service container, user should be expected to always use Guaranteed type.\nYup. There is already an {{enforceExecutionType}} field in the ResourceRequest::ExecutionTypeRequest that an AM can use to ensure that container it receives against this request is of Guaranteed type.",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-04T05:45:09.103+0000",
          "updated": "2017-08-04T05:46:25.340+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16114006",
          "id": "16114006",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jianhe",
            "name": "jianhe",
            "key": "jianhe",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Jian He",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "I see, thanks for the explanation, so, it's guaranteed the Guaranteed container will be started. \nBut I was wondering if this will cause unnecessary churn. Like:\n1) CONTAINER_COMPLETED sent\n2) opportunistic container started.\n3) SCHEDULE_CONTAINER sent\n3) opportunistic killed and make room for the original upgrading container.\nIf above is possible occur, we can eliminate this by skipping checking if should launch opportunistic container, and container upgrade can happen more smoothly.",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jianhe",
            "name": "jianhe",
            "key": "jianhe",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Jian He",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-04T06:18:58.170+0000",
          "updated": "2017-08-04T06:18:58.170+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16114021",
          "id": "16114021",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "True.. the sequence of events you mentioned can happen. I am hoping that once YARN-5972 is completed, freezing and later thawing of the opportunistic container using cgroups freezer / docker pause - rather than simply killing it - will ensure no work is lost (we have seen good results in production on Windows). I can maybe raise a JIRA to optimize the above path and keep it open till we finish with YARN-5972. That way, I can get some data and see an optimization is required. Thoughts ?",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-04T06:48:22.571+0000",
          "updated": "2017-08-04T06:48:22.571+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16117208",
          "id": "16117208",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "Ping [~haibo.chen] / [~jianhe]. Do you guys want me to make the [afore mentioned|https://issues.apache.org/jira/browse/YARN-6920?focusedCommentId=16114021&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16114021] optimization here - or should I raise a JIRA to handle this later. I would prefer the later though, if atleast to not hold-up getting {{TestNMClient}} to pass again in trunk.",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-07T20:28:53.908+0000",
          "updated": "2017-08-07T20:28:53.908+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16117260",
          "id": "16117260",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jianhe",
            "name": "jianhe",
            "key": "jianhe",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Jian He",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": " [~asuresh],  yep, I'm fine to fix it in a separate jira.\n I would think the optimization is required in addition to YARN-5972, because the container upgrade process is expected to be quick (we have been working towards this goal to make localization happen before upgrade). And pause and unpause may also introduce additional delay which can be avoided. ",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jianhe",
            "name": "jianhe",
            "key": "jianhe",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Jian He",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-07T21:00:55.738+0000",
          "updated": "2017-08-07T21:00:55.738+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16117322",
          "id": "16117322",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "Sure.. Raised YARN-6963 to track that.\nLet me know if this patch is fine and I'll check it in.",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-07T21:19:43.093+0000",
          "updated": "2017-08-07T21:19:43.093+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16117334",
          "id": "16117334",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jianhe",
            "name": "jianhe",
            "key": "jianhe",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Jian He",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "yep, the patch lgtm",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jianhe",
            "name": "jianhe",
            "key": "jianhe",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Jian He",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-07T21:27:41.350+0000",
          "updated": "2017-08-07T21:27:41.350+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16117336",
          "id": "16117336",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=haibochen",
            "name": "haibochen",
            "key": "haibochen",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Haibo Chen",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "[~asuresh] Seems like I am hitting another issue (due to race condition) before the one you pointed out. Your change looks good to me. But since I cannot download and verify, I'll let [~jianhe] +1 and commit.",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=haibochen",
            "name": "haibochen",
            "key": "haibochen",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Haibo Chen",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-07T21:28:33.472+0000",
          "updated": "2017-08-07T21:28:33.472+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16117367",
          "id": "16117367",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "Kicked Jenkins off again for this patch - to verify that the last successful run was not just a one off thing.\nWill commit it after, if successful - based on [~jianhe]'s lgtm ",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-07T21:47:56.974+0000",
          "updated": "2017-08-07T21:48:16.859+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16117547",
          "id": "16117547",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa",
            "name": "hadoopqa",
            "key": "hadoopqa",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"
            },
            "displayName": "Hadoop QA",
            "active": true,
            "timeZone": "Etc/UTC"
          },
          "body": "| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 29s{color} | {color:blue} Docker mode activated. {color} |\n|| || || || {color:brown} Prechecks {color} ||\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 2 new or modified test files. {color} |\n|| || || || {color:brown} trunk Compile Tests {color} ||\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 12s{color} | {color:blue} Maven dependency ordering for branch {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 17m 24s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 13m 55s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  1m 14s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m 25s{color} | {color:green} trunk passed {color} |\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  1m 15s{color} | {color:red} hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager in trunk has 5 extant Findbugs warnings. {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  1m 10s{color} | {color:green} trunk passed {color} |\n|| || || || {color:brown} Patch Compile Tests {color} ||\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 14s{color} | {color:blue} Maven dependency ordering for patch {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  1m  7s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  8m 42s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  8m 42s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  1m  8s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m 20s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  2m 23s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 55s{color} | {color:green} the patch passed {color} |\n|| || || || {color:brown} Other Tests {color} ||\n| {color:red}-1{color} | {color:red} unit {color} | {color:red} 15m 18s{color} | {color:red} hadoop-yarn-server-nodemanager in the patch failed. {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 21m 15s{color} | {color:green} hadoop-yarn-client in the patch passed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 33s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 99m 20s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Reason || Tests ||\n| Failed junit tests | hadoop.yarn.server.nodemanager.containermanager.TestContainerManager |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:14b5c93 |\n| JIRA Issue | YARN-6920 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12880112/YARN-6920.004.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux b7693b3f98b5 3.13.0-116-generic #163-Ubuntu SMP Fri Mar 31 14:13:22 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / adb84f3 |\n| Default Java | 1.8.0_131 |\n| findbugs | v3.1.0-RC1 |\n| findbugs | https://builds.apache.org/job/PreCommit-YARN-Build/16752/artifact/patchprocess/branch-findbugs-hadoop-yarn-project_hadoop-yarn_hadoop-yarn-server_hadoop-yarn-server-nodemanager-warnings.html |\n| unit | https://builds.apache.org/job/PreCommit-YARN-Build/16752/artifact/patchprocess/patch-unit-hadoop-yarn-project_hadoop-yarn_hadoop-yarn-server_hadoop-yarn-server-nodemanager.txt |\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/16752/testReport/ |\n| modules | C: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client U: hadoop-yarn-project/hadoop-yarn |\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/16752/console |\n| Powered by | Apache Yetus 0.6.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa",
            "name": "hadoopqa",
            "key": "hadoopqa",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"
            },
            "displayName": "Hadoop QA",
            "active": true,
            "timeZone": "Etc/UTC"
          },
          "created": "2017-08-07T23:25:46.424+0000",
          "updated": "2017-08-07T23:25:46.424+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16117670",
          "id": "16117670",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa",
            "name": "hadoopqa",
            "key": "hadoopqa",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"
            },
            "displayName": "Hadoop QA",
            "active": true,
            "timeZone": "Etc/UTC"
          },
          "body": "| (x) *{color:red}-1 overall{color}* |\n\\\\\n\\\\\n|| Vote || Subsystem || Runtime || Comment ||\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 17s{color} | {color:blue} Docker mode activated. {color} |\n|| || || || {color:brown} Prechecks {color} ||\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 2 new or modified test files. {color} |\n|| || || || {color:brown} trunk Compile Tests {color} ||\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m  9s{color} | {color:blue} Maven dependency ordering for branch {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 13m 49s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green} 10m  3s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 59s{color} | {color:green} trunk passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  5s{color} | {color:green} trunk passed {color} |\n| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 53s{color} | {color:red} hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager in trunk has 5 extant Findbugs warnings. {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 48s{color} | {color:green} trunk passed {color} |\n|| || || || {color:brown} Patch Compile Tests {color} ||\n| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 12s{color} | {color:blue} Maven dependency ordering for patch {color} |\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 56s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  5m 58s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  5m 58s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  1m  5s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  1m  8s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  1m 42s{color} | {color:green} the patch passed {color} |\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 44s{color} | {color:green} the patch passed {color} |\n|| || || || {color:brown} Other Tests {color} ||\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 13m 32s{color} | {color:green} hadoop-yarn-server-nodemanager in the patch passed. {color} |\n| {color:green}+1{color} | {color:green} unit {color} | {color:green} 19m 45s{color} | {color:green} hadoop-yarn-client in the patch passed. {color} |\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 27s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\n| {color:black}{color} | {color:black} {color} | {color:black} 82m 14s{color} | {color:black} {color} |\n\\\\\n\\\\\n|| Subsystem || Report/Notes ||\n| Docker |  Image:yetus/hadoop:14b5c93 |\n| JIRA Issue | YARN-6920 |\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12880112/YARN-6920.004.patch |\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  findbugs  checkstyle  |\n| uname | Linux e676d3b40006 3.13.0-119-generic #166-Ubuntu SMP Wed May 3 12:18:55 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux |\n| Build tool | maven |\n| Personality | /testptch/hadoop/patchprocess/precommit/personality/provided.sh |\n| git revision | trunk / bc20680 |\n| Default Java | 1.8.0_131 |\n| findbugs | v3.1.0-RC1 |\n| findbugs | https://builds.apache.org/job/PreCommit-YARN-Build/16758/artifact/patchprocess/branch-findbugs-hadoop-yarn-project_hadoop-yarn_hadoop-yarn-server_hadoop-yarn-server-nodemanager-warnings.html |\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/16758/testReport/ |\n| modules | C: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client U: hadoop-yarn-project/hadoop-yarn |\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/16758/console |\n| Powered by | Apache Yetus 0.6.0-SNAPSHOT   http://yetus.apache.org |\n\n\nThis message was automatically generated.\n\n",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa",
            "name": "hadoopqa",
            "key": "hadoopqa",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"
            },
            "displayName": "Hadoop QA",
            "active": true,
            "timeZone": "Etc/UTC"
          },
          "created": "2017-08-08T00:50:25.846+0000",
          "updated": "2017-08-08T00:50:25.846+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16117722",
          "id": "16117722",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "body": "Committed this to trunk and branch-2. Thanks for the reviews [~jianhe], [~haibo.chen]",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=asuresh",
            "name": "asuresh",
            "key": "asuresh",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Arun Suresh",
            "active": true,
            "timeZone": "America/Los_Angeles"
          },
          "created": "2017-08-08T02:05:48.228+0000",
          "updated": "2017-08-08T02:05:48.228+0000"
        },
        {
          "self": "https://issues.apache.org/jira/rest/api/2/issue/13091599/comment/16214763",
          "id": "16214763",
          "author": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=Naganarasimha",
            "name": "Naganarasimha",
            "key": "naganarasimha",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Naganarasimha G R",
            "active": true,
            "timeZone": "Asia/Kolkata"
          },
          "body": "Hi [~asuresh],\r\n\r\nHope the description can be updated as it seems to be incomplete now ?",
          "updateAuthor": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=Naganarasimha",
            "name": "Naganarasimha",
            "key": "naganarasimha",
            "avatarUrls": {
              "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
              "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
              "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
              "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Naganarasimha G R",
            "active": true,
            "timeZone": "Asia/Kolkata"
          },
          "created": "2017-10-23T07:26:11.618+0000",
          "updated": "2017-10-23T07:26:11.618+0000"
        }
      ],
      "maxResults": 31,
      "total": 31,
      "startAt": 0
    },
    "votes": {
      "self": "https://issues.apache.org/jira/rest/api/2/issue/YARN-6920/votes",
      "votes": 0,
      "hasVoted": false
    },
    "worklog": {
      "startAt": 0,
      "maxResults": 20,
      "total": 0,
      "worklogs": []
    },
    "customfield_12311820": "0|i3i9vz:"
  }
}