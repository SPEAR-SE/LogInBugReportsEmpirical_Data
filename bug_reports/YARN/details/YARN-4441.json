{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12920787","self":"https://issues.apache.org/jira/rest/api/2/issue/12920787","key":"YARN-4441","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2015-12-10T15:25:51.005+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Mon Dec 14 10:12:00 UTC 2015","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-4441/watchers","watchCount":7,"isWatching":false},"created":"2015-12-10T15:18:28.407+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12335735","id":"12335735","description":"3.0.0-alpha1 release","name":"3.0.0-alpha1","archived":false,"released":true,"releaseDate":"2016-09-03"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-05-02T06:00:23.919+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"description":"\nIf the application is already finished ie either failled, killed, or succeded\nthe kill operation should not be logged as success. ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[],"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Kill application request from the webservice(ui) is showing success even for the finished applications","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohdshahidkhan","name":"mohdshahidkhan","key":"mohdshahidkhan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Shahid Khan","active":true,"timeZone":"Asia/Kolkata"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohdshahidkhan","name":"mohdshahidkhan","key":"mohdshahidkhan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Shahid Khan","active":true,"timeZone":"Asia/Kolkata"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920787/comment/15051117","id":"15051117","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"body":"Hi [~mohdshahidkhan]\nThis is intentional. If application state is Final State stored, we will not return any error as its going to finished/completed immediately.\n\nI am not really sure this is what you were also expecting. Kindly share details otherwise.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-12-10T15:25:51.005+0000","updated":"2015-12-10T15:25:51.005+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920787/comment/15052256","id":"15052256","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohdshahidkhan","name":"mohdshahidkhan","key":"mohdshahidkhan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Shahid Khan","active":true,"timeZone":"Asia/Kolkata"},"body":"If an application is already finished, then the killing the application does does not make any sense.\nFrom UI we can call the kill operation and that event is logged as below.\nAnd in the audit log we are getting the success message for the operation Kill Application Request is successful.\n\nin the below code the problem is there at the first if check. \nSuppose application_xyz is already finished and when the kill request will come the target state will be KILLED and actual will be finished, the first if check will be true. \nSecond if check also will be true as the target is KILLED and killApp method will be called and same will log the \n USER=dr.who\tOPERATION=Kill Application Request\tTARGET=ClientRMService\tRESULT=SUCCESS\tAPPID=application_xyz  | RMAuditLogger.java:91\n USER=dr.who\tOPERATION=Kill Application Request\tTARGET=RMWebService\tRESULT=SUCCESS\tAPPID=application_xyz  | MAuditLogger.java:91\n\n{Code}\n if (!app.getState().toString().equals(targetState.getState())) {\n      // user is attempting to change state. right we only\n      // allow users to kill the app\n\n      if (targetState.getState().equals(YarnApplicationState.KILLED.toString())) {\n        return killApp(app, callerUGI, hsr);\n      }\n      throw new BadRequestException(\"Only '\"\n          + YarnApplicationState.KILLED.toString()\n          + \"' is allowed as a target state.\");\n    }\n{Code}\n\nI think we should not allow to call the killApp if the application is already finished.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohdshahidkhan","name":"mohdshahidkhan","key":"mohdshahidkhan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Shahid Khan","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-12-11T06:21:27.658+0000","updated":"2015-12-11T06:21:27.658+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920787/comment/15053064","id":"15053064","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"body":"hi [~mohdshahidkhan]\nI still not very much liking the idea of throwing some new exceptions in this context.\nThere were a series of discussions happened in YARN-107 for same, and as per a common consensus this current approach is taken [YARN-107:comments|https://issues.apache.org/jira/browse/YARN-107?focusedCommentId=13720845&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13720845]. In my opinion, user wants to kill application due to some potential reason and that operation's intend  is to bring down the app. So if the app is in its final states, then its clearly fine that app will be shutdown. So throwing a new exception is not much needed. \nComing to audit log, we have only success and failure in auditlog. And here we have the operation result as success eventhough kill doesnt happen (app is already finished/completed). So writing failure audit log is in-appropriate. Hence I think if needed, we can try to improve audit log success message to have some custom input which can give some details here. cc/[~rohithsharma] Thoughts?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-12-11T17:32:00.587+0000","updated":"2015-12-11T17:32:00.587+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920787/comment/15053085","id":"15053085","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"body":"May be audit log can be changed to appropriate log message. But nevertheless of any points, this would lead to compatibility issue. I would prefer to keep it as-it-is!!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rohithsharma","name":"rohithsharma","key":"rohithsharma","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rohith Sharma K S","active":true,"timeZone":"Australia/Sydney"},"created":"2015-12-11T17:42:06.372+0000","updated":"2015-12-11T17:42:06.372+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920787/comment/15055504","id":"15055504","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohdshahidkhan","name":"mohdshahidkhan","key":"mohdshahidkhan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Shahid Khan","active":true,"timeZone":"Asia/Kolkata"},"body":"Thanks [#Sunil G] and [#Rohith Sharma K S] for the analysis.\nHave discussed the same with  [#Rohith Sharma K S] and  want to clarify that  we do not want to throw the new exception just want the avoid the killApp call in case the application's state is already stored in the app store.\n\nIn RMWebServices updateAppState API \n//currentlty we are ignoring the killAPP call for the application which are already killed.\n{code}\nif (!app.getState().toString().equals(targetState.getState())) {\n      // user is attempting to change state. right we only\n      // allow users to kill the app\n\n      if (targetState.getState().equals(YarnApplicationState.KILLED.toString())) {\n        return killApp(app, callerUGI, hsr);\n      }\n      throw new BadRequestException(\"Only '\"\n          + YarnApplicationState.KILLED.toString()\n          + \"' is allowed as a target state.\");\n    }\n   {code} \n #My proposal is to ignore the call also for the applications whose state's are stored to the application store.\n    \n    {code}\nif (!app.getState().toString().equals(targetState.getState()) && !(app.isAppFinalStateStored())) {\n      // user is attempting to change state. right we only\n      // allow users to kill the app\n\n      if (targetState.getState().equals(YarnApplicationState.KILLED.toString())) {\n        return killApp(app, callerUGI, hsr);\n      }\n      throw new BadRequestException(\"Only '\"\n          + YarnApplicationState.KILLED.toString()\n          + \"' is allowed as a target state.\");\n    }\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohdshahidkhan","name":"mohdshahidkhan","key":"mohdshahidkhan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Shahid Khan","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-12-14T06:29:23.120+0000","updated":"2015-12-14T06:29:23.120+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920787/comment/15055636","id":"15055636","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vvasudev","name":"vvasudev","key":"vvasudev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Varun Vasudev","active":true,"timeZone":"Asia/Kolkata"},"body":"[~mohdshahidkhan] - Why shouldn't the logic you're proposing apply to RPC calls as well?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vvasudev","name":"vvasudev","key":"vvasudev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Varun Vasudev","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-12-14T08:45:07.050+0000","updated":"2015-12-14T08:45:07.050+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920787/comment/15055682","id":"15055682","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohdshahidkhan","name":"mohdshahidkhan","key":"mohdshahidkhan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Shahid Khan","active":true,"timeZone":"Asia/Kolkata"},"body":"No handling needed for the RPC calls, the API already has the handling, ClientRMService.forceKillApplication() is skipping the the kill event if the application is in store state, our intention is to avoid the the ClientRMService.forceKillApplication() call from the RMWebService if the application's state is stored to application store.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohdshahidkhan","name":"mohdshahidkhan","key":"mohdshahidkhan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Shahid Khan","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-12-14T09:16:41.655+0000","updated":"2015-12-14T09:16:41.655+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920787/comment/15055686","id":"15055686","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vvasudev","name":"vvasudev","key":"vvasudev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Varun Vasudev","active":true,"timeZone":"Asia/Kolkata"},"body":"Why? The reason the webservice implementation calls the RPC function is to avoid having different logic between the two. If the RPC implementation decides to log the call in the audit log then that logic applies to the webservices side as well. I agree with [~sunilg] and [~rohithsharma] - this doesn't seem like an issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vvasudev","name":"vvasudev","key":"vvasudev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Varun Vasudev","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-12-14T09:21:07.696+0000","updated":"2015-12-14T09:21:07.696+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920787/comment/15055734","id":"15055734","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohdshahidkhan","name":"mohdshahidkhan","key":"mohdshahidkhan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Shahid Khan","active":true,"timeZone":"Asia/Kolkata"},"body":"Hi [#Varun Vasudev] why to send the kill request if the application is already finished?\n\nPlease check the ApplicationCLI killApplication API , we have similar check before invoking the RPC call to  kill the app.\n\n{Code}\n if (appReport.getYarnApplicationState() == YarnApplicationState.FINISHED\n        || appReport.getYarnApplicationState() == YarnApplicationState.KILLED\n        || appReport.getYarnApplicationState() == YarnApplicationState.FAILED) {\n      sysout.println(\"Application \" + applicationId + \" has already finished \");\n    } else {\n      sysout.println(\"Killing application \" + applicationId);\n      client.killApplication(appId);\n    }\n{Code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mohdshahidkhan","name":"mohdshahidkhan","key":"mohdshahidkhan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mohammad Shahid Khan","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-12-14T10:04:44.355+0000","updated":"2015-12-14T10:04:44.355+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920787/comment/15055747","id":"15055747","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vvasudev","name":"vvasudev","key":"vvasudev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Varun Vasudev","active":true,"timeZone":"Asia/Kolkata"},"body":"That's a performance optimization for the RPC client - it avoids a RPC round trip. There's nothing stopping you from writing a YARN client without that check. The equivalent to the CLI code you posted would be to grey out the button on the web UI if the application is finished(which is a patch I'd be ok with).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vvasudev","name":"vvasudev","key":"vvasudev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Varun Vasudev","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-12-14T10:12:00.323+0000","updated":"2015-12-14T10:12:00.323+0000"}],"maxResults":10,"total":10,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-4441/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2ppzz:"}}