{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13127356","self":"https://issues.apache.org/jira/rest/api/2/issue/13127356","key":"YARN-7684","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12329059","id":"12329059","description":"2.8.0 release","name":"2.8.0","archived":false,"released":true,"releaseDate":"2017-03-22"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2017-12-27T09:54:15.343+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Fri Jan 05 02:27:09 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_2_*:*_624089178_*|*_3_*:*_1_*:*_58738826_*|*_4_*:*_1_*:*_136576_*|*_5_*:*_2_*:*_867741_*|*_10002_*:*_1_*:*_3517025","customfield_12312321":null,"resolutiondate":"2018-01-04T08:44:37.114+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-7684/watchers","watchCount":3,"isWatching":false},"created":"2017-12-27T09:48:47.811+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334006","id":"12334006","description":"2.7.3 release","name":"2.7.3","archived":false,"released":true,"releaseDate":"2016-08-25"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-01-05T02:27:09.402+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12322519","id":"12322519","name":"webapp","description":"Web app related issues"}],"timeoriginalestimate":null,"description":"The Total Memory  and VCores display in the yarn UI is not correct with labeled node\r\n\r\nrecreate steps:\r\n1. should have a hadoop cluster\r\n2. enabled the yarn Node Labels feature\r\n3. create a label eg: yarn rmadmin -addToClusterNodeLabels \"test\"\r\n4. add a node into the label eg: yarn rmadmin -replaceLabelsOnNode \"zhaoyim02.com=test\"\r\n5. then go to the yarn UI http://<hostname>:8088/cluster/nodes\r\n\r\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12334006","id":"12334006","description":"2.7.3 release","name":"2.7.3","archived":false,"released":true,"releaseDate":"2016-08-25"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12904144","id":"12904144","filename":"TestResultsAfterPortingYARN-4484.pdf","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"created":"2018-01-02T03:37:28.063+0000","size":558397,"mimeType":"application/pdf","content":"https://issues.apache.org/jira/secure/attachment/12904144/TestResultsAfterPortingYARN-4484.pdf"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12903783","id":"12903783","filename":"yarn_issue.pdf","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-27T09:48:40.376+0000","size":186937,"mimeType":"application/pdf","content":"https://issues.apache.org/jira/secure/attachment/12903783/yarn_issue.pdf"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12903919","id":"12903919","filename":"YARN-7684-branch-2.7.3.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-28T16:00:20.604+0000","size":1408,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12903919/YARN-7684-branch-2.7.3.001.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"The Total Memory  and VCores display in the yarn UI is not correct with labeled node","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13127356/comment/16304404","id":"16304404","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"body":"I already fix this issue, I need to assign this issue to myself.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-27T09:50:37.505+0000","updated":"2017-12-27T09:50:37.505+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13127356/comment/16304418","id":"16304418","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"body":"I added to you as a contributor.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"created":"2017-12-27T09:54:15.343+0000","updated":"2017-12-27T09:54:15.343+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13127356/comment/16305156","id":"16305156","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"body":"@Sunil G Thanks! This is my first try to contribute to hadoop community, once I submit the patch, I will add you as the reviewer. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-28T08:16:34.242+0000","updated":"2017-12-28T08:16:34.242+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13127356/comment/16305554","id":"16305554","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user zhaoyim opened a pull request:\n\n    https://github.com/apache/hadoop/pull/320\n\n    YARN-7684. Fix The Total Memory and VCores display in the yarn UI is …\n\n    The Total Memory and VCores display in the yarn UI is not correct with labeled node\r\n    \r\n    Use the cluster resource memory and Vcores info instead of the root queue metrics, availableMB + allocatedMB. and availableVirtualCores + allocatedVirtualCores.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/zhaoyim/hadoop branch-2.7.3\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/hadoop/pull/320.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #320\n    \n----\ncommit fcec8fd9bde074dda399d56dd426d4fd9aa9c55f\nAuthor: zhaoyim <yyyiming@...>\nDate:   2017-12-28T15:53:22Z\n\n    YARN-7684. Fix The Total Memory and VCores display in the yarn UI is not correct with labeled node\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-28T16:03:24.749+0000","updated":"2017-12-28T16:03:24.749+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13127356/comment/16305558","id":"16305558","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"body":"[~sunilg] I create a  pr for the fix. Could you help review the code? Thanks!\r\n\r\nAlso I saw this problem also happened on version > 2.7.3. Will I need to porting this fix into other upstreams? Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-28T16:08:39.570+0000","updated":"2017-12-28T16:08:39.570+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13127356/comment/16306077","id":"16306077","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m  0s{color} | {color:blue} Docker mode activated. {color} |\r\n| {color:red}-1{color} | {color:red} docker {color} | {color:red}  7m 50s{color} | {color:red} Docker failed to build yetus/hadoop:c420dfe. {color} |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| JIRA Issue | YARN-7684 |\r\n| GITHUB PR | https://github.com/apache/hadoop/pull/320 |\r\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/19054/console |\r\n| Powered by | Apache Yetus 0.7.0-SNAPSHOT   http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-29T08:28:37.880+0000","updated":"2017-12-29T08:28:37.880+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13127356/comment/16306156","id":"16306156","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"body":"Yes. Using cluster resource might be solving this temporary.\r\nHowever we have partitions and hence cluster resource is not correct when we view total resource per label.\r\n\r\n{{ this.totalMB = availableMB + allocatedMB;}}\r\nFor root queue, ideally we should be able to sum up to parent root level. For label, I think we have not correctly calculating queue metrics. YARN-4484 has handled this case, however if its not working now, we need to see how it got broken.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"created":"2017-12-29T09:45:30.875+0000","updated":"2017-12-29T09:45:30.875+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13127356/comment/16306359","id":"16306359","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"body":"[~sunilg] \r\nThanks for your update! You are correct, when we view total resource per label, the cluster resource is not correct.\r\n\r\nAnd please ignore my comment about the issue happened on version > 2.7.3. This is my mistake to understand.  Sorry for the wrong comments!\r\n\r\n I noticed the [YARN-4484|https://issues.apache.org/jira/browse/YARN-4484] fix target release is 2.8.0, we did not try the 2.8.0 release, we just found the problem on 2.7.1 and 2.7.3. So next we will try your fix on  2.8.0. Any results I will update here. Thanks!\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-29T16:26:39.821+0000","updated":"2017-12-29T16:26:39.821+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13127356/comment/16307653","id":"16307653","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"body":"[~sunilg]\r\nI porting the YARN-4484 patch back to 2.7.3 and test the fix in my 2.7.3 cluster, The total mem and cpus are show correct. And after submit jobs, they are still show correct. But in my understand view total resource per label is not correct. I paste my test results [^TestResultsAfterPortingYARN-4484.pdf] in the attachment. Could you have a look? Thanks a lot!\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"created":"2018-01-02T03:39:36.308+0000","updated":"2018-01-02T03:39:36.308+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13127356/comment/16307727","id":"16307727","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"body":"I will say that clicking on NodeLabels link on nodes count wont redirect to show per label resource. Its not designed in that way. We were planning to show total cluster resource.\r\nAnd in Node Labels page, we can see per label whats the total resource on last column.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-01-02T06:43:34.961+0000","updated":"2018-01-02T06:43:34.961+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13127356/comment/16310979","id":"16310979","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"body":"[~sunilg] Thanks for clarify! If so, I will close this issue. Thanks again for you time!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"created":"2018-01-04T08:25:45.018+0000","updated":"2018-01-04T08:25:45.018+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13127356/comment/16310981","id":"16310981","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user zhaoyim closed the pull request at:\n\n    https://github.com/apache/hadoop/pull/320\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2018-01-04T08:28:39.364+0000","updated":"2018-01-04T08:28:39.364+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13127356/comment/16311006","id":"16311006","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"body":"Thanks [~zhaoyim] I re-opened to close this as Wont fix. and you could provide 2.7 patch in YARN-4484 to include in next release.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-01-04T08:44:01.834+0000","updated":"2018-01-04T08:44:01.834+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13127356/comment/16311009","id":"16311009","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"body":"This is already covered in 2.8+ version. YARN-4484 could be backported to 2.7 as needed.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sunilg","name":"sunilg","key":"sunilg","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Sunil Govindan","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-01-04T08:44:37.150+0000","updated":"2018-01-04T08:44:37.150+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13127356/comment/16312385","id":"16312385","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"body":"[~sunilg]  Sorry for trouble you again! You said I can create a 2.7 patch include the YARN-4484 fix, but  I am not sure how to do it. Because in the HowToContribute doc I saw, it said \"If you are unsure of the target branch then trunk is usually the best choice. Committers will usually merge the patch to downstream branches.\"  I guess the YARN-4484 fix already include in the trunk branch, so only the committers can merge the patch to 2.7 branch, right? Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhaoyim","name":"zhaoyim","key":"zhaoyim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Zhao Yi Ming","active":true,"timeZone":"Etc/UTC"},"created":"2018-01-05T02:27:09.402+0000","updated":"2018-01-05T02:27:09.402+0000"}],"maxResults":15,"total":15,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-7684/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3obbz:"}}