{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13149171","self":"https://issues.apache.org/jira/rest/api/2/issue/13149171","key":"YARN-8096","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12342758","id":"12342758","name":"3.2.0","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2018-03-30T15:33:59.668+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Apr 17 20:46:19 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_104938_*|*_3_*:*_1_*:*_44410699_*|*_5_*:*_1_*:*_0_*|*_10002_*:*_2_*:*_1531285420","customfield_12312321":null,"resolutiondate":"2018-04-17T20:08:25.532+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-8096/watchers","watchCount":3,"isWatching":false},"created":"2018-03-30T14:25:04.508+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12341435","id":"12341435","description":"3.0.0 GA release","name":"3.0.0","archived":false,"released":true,"releaseDate":"2017-12-13"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-04-17T20:46:19.162+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"In AmIpFilter#getProxyAddresses() we have the following condition:\r\n{code:java}\r\n if (proxyAddresses == null || (lastUpdate + UPDATE_INTERVAL) >= now) { \r\n   //update RM address \r\n }\r\n{code}\r\nBy design, the address should be updated if the last update was more then 5 min ago. But as we see this condition is wrong.\r\n\r\nCurrently, RM address updates permanently. But after 5 minutes after the last update, RM address will never be updated again. As a result, we are always redirected to the fail page that was added by YARN-4767, even if a network issue is resolved now.\r\n\r\nSo, we should change this condition to:\r\n{code:java}\r\n if (proxyAddresses == null || (lastUpdate + UPDATE_INTERVAL) <= now) \\{ \r\n   //update RM address \r\n }\r\n{code}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12917026","id":"12917026","filename":"YARN-8096.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"created":"2018-03-30T14:26:00.269+0000","size":1143,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12917026/YARN-8096.001.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12917066","id":"12917066","filename":"YARN-8096.002.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"created":"2018-03-30T21:51:49.902+0000","size":4666,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12917066/YARN-8096.002.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12917092","id":"12917092","filename":"YARN-8096.003.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"created":"2018-03-31T06:44:55.586+0000","size":4833,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12917092/YARN-8096.003.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Wrong condition in AmIpFilter#getProxyAddresses() to update the proxy IP list","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16420550","id":"16420550","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"body":"[^YARN-8096.001.patch]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"created":"2018-03-30T14:26:04.095+0000","updated":"2018-03-30T14:26:04.095+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16420624","id":"16420624","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"body":"| (x) *{color:red}-1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 16s{color} | {color:blue} Docker mode activated. {color} |\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n| {color:red}-1{color} | {color:red} test4tests {color} | {color:red}  0m  0s{color} | {color:red} The patch doesn't appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. {color} |\r\n|| || || || {color:brown} trunk Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 25m 37s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 21s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 15s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 23s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 10m 46s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 28s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 17s{color} | {color:green} trunk passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 21s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 17s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 17s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 10s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 19s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 11m 41s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 36s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 15s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 29s{color} | {color:green} hadoop-yarn-server-web-proxy in the patch passed. {color} |\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 22s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 53m 17s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:8620d2b |\r\n| JIRA Issue | YARN-8096 |\r\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12917026/YARN-8096.001.patch |\r\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  |\r\n| uname | Linux 937c70d32205 3.13.0-139-generic #188-Ubuntu SMP Tue Jan 9 14:43:09 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /testptch/patchprocess/precommit/personality/provided.sh |\r\n| git revision | trunk / 6590747 |\r\n| maven | version: Apache Maven 3.3.9 |\r\n| Default Java | 1.8.0_151 |\r\n| findbugs | v3.1.0-RC1 |\r\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/20166/testReport/ |\r\n| Max. process+thread count | 341 (vs. ulimit of 10000) |\r\n| modules | C: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy U: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy |\r\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/20166/console |\r\n| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"created":"2018-03-30T15:33:59.668+0000","updated":"2018-03-30T15:33:59.668+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16420641","id":"16420641","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=giovanni.fumarola","name":"giovanni.fumarola","key":"giovanni.fumarola","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=giovanni.fumarola&avatarId=23807","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=giovanni.fumarola&avatarId=23807","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=giovanni.fumarola&avatarId=23807","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=giovanni.fumarola&avatarId=23807"},"displayName":"Giovanni Matteo Fumarola","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks [~oshevchenko] for the patch and for catching this bug.\r\n\r\nLGTM +1.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=giovanni.fumarola","name":"giovanni.fumarola","key":"giovanni.fumarola","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=giovanni.fumarola&avatarId=23807","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=giovanni.fumarola&avatarId=23807","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=giovanni.fumarola&avatarId=23807","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=giovanni.fumarola&avatarId=23807"},"displayName":"Giovanni Matteo Fumarola","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-03-30T16:00:01.260+0000","updated":"2018-03-30T16:00:01.260+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16420670","id":"16420670","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"body":"[~giovanni.fumarola] Thanks a lot for the review. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"created":"2018-03-30T16:28:51.706+0000","updated":"2018-03-30T16:28:51.706+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16420685","id":"16420685","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elgoiri","name":"elgoiri","key":"elgoiri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Íñigo Goiri","active":true,"timeZone":"Etc/UTC"},"body":"[~oshevchenko], I added you to the list of contributors and assigned the JIRA to you.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elgoiri","name":"elgoiri","key":"elgoiri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Íñigo Goiri","active":true,"timeZone":"Etc/UTC"},"created":"2018-03-30T16:41:33.992+0000","updated":"2018-03-30T16:41:33.992+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16420688","id":"16420688","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=giovanni.fumarola","name":"giovanni.fumarola","key":"giovanni.fumarola","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=giovanni.fumarola&avatarId=23807","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=giovanni.fumarola&avatarId=23807","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=giovanni.fumarola&avatarId=23807","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=giovanni.fumarola&avatarId=23807"},"displayName":"Giovanni Matteo Fumarola","active":true,"timeZone":"America/Los_Angeles"},"body":"I took a second look of the patch and we should have an unit test to avoid this.\r\nCan you please add one?\r\n\r\nNIT: Can you change the System.currentTimeMillis(); with Time.monotonicNow();\r\n\r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=giovanni.fumarola","name":"giovanni.fumarola","key":"giovanni.fumarola","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=giovanni.fumarola&avatarId=23807","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=giovanni.fumarola&avatarId=23807","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=giovanni.fumarola&avatarId=23807","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=giovanni.fumarola&avatarId=23807"},"displayName":"Giovanni Matteo Fumarola","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-03-30T16:43:06.889+0000","updated":"2018-03-30T16:43:06.889+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16420689","id":"16420689","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"body":"Thank you [~elgoiri] .","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"created":"2018-03-30T16:45:09.758+0000","updated":"2018-03-30T16:45:09.758+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16420692","id":"16420692","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"body":"[~giovanni.fumarola], I'll add the unit test and create a new path. \r\n\r\nThanks for the hint with Time.monotonicNow(). I did not create a test since I can't mock System.currentTimeMillis() without PowerMock.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"created":"2018-03-30T16:49:57.893+0000","updated":"2018-03-30T16:49:57.893+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16420799","id":"16420799","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elgoiri","name":"elgoiri","key":"elgoiri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Íñigo Goiri","active":true,"timeZone":"Etc/UTC"},"body":"[~oshevchenko], you can make the UPDATE_INTERVAL configurable to a small value and then check that in the beginning there is an update, then it doesn't update and after the UPDATE_INTERVAL passes, there is another update. I would use GenericTestUtils for waiting for these events to happens instead of purely hardcoded sleeps.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elgoiri","name":"elgoiri","key":"elgoiri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Íñigo Goiri","active":true,"timeZone":"Etc/UTC"},"created":"2018-03-30T18:14:33.807+0000","updated":"2018-03-30T18:14:33.807+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16420819","id":"16420819","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"body":"[~elgoiri] This property is final.\r\n{code:java}\r\nprivate static final long UPDATE_INTERVAL = 5 * 60 * 1000;\r\n{code}\r\nShould I change it? Perhaps we can add some property to configure it to YarnConfiguration and yarn-default.xml.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"created":"2018-03-30T18:31:08.462+0000","updated":"2018-03-30T18:31:08.462+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16420822","id":"16420822","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elgoiri","name":"elgoiri","key":"elgoiri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Íñigo Goiri","active":true,"timeZone":"Etc/UTC"},"body":"Yes, you can get it from YarnConfiguration and actually use conf.getTimeDuration().","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elgoiri","name":"elgoiri","key":"elgoiri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Íñigo Goiri","active":true,"timeZone":"Etc/UTC"},"created":"2018-03-30T18:36:57.880+0000","updated":"2018-03-30T18:36:57.880+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16420972","id":"16420972","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"body":"For initialization, AmIpFilter is used FilterConfig and doesn't take into account any Configuration object. So, we can't add some property to the YarnConfiguration and use it in tests. \r\nI added seter for updateInterval and created the unit test which uses GenericTestUtils to waiting for configuration update.\r\n\r\nPlease, review the patch.  [^YARN-8096.002.patch] \r\nThanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"created":"2018-03-30T21:51:52.060+0000","updated":"2018-03-30T21:51:52.060+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16421061","id":"16421061","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elgoiri","name":"elgoiri","key":"elgoiri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Íñigo Goiri","active":true,"timeZone":"Etc/UTC"},"body":"Thanks [~oshevchenko], there is no need to check for the exception as the unit test throwing an exception is enough.\r\nThe only reason would be to destroy() the filter but is that needed?\r\n\r\nBTW, to make this easier to backport to 2.9, we shouldn't use the lambda.\r\nOtherwise, we can provide a patch for branch-2.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elgoiri","name":"elgoiri","key":"elgoiri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Íñigo Goiri","active":true,"timeZone":"Etc/UTC"},"created":"2018-03-30T23:34:21.841+0000","updated":"2018-03-30T23:34:21.841+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16421063","id":"16421063","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elgoiri","name":"elgoiri","key":"elgoiri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Íñigo Goiri","active":true,"timeZone":"Etc/UTC"},"body":"Can we also use:\r\n{code}\r\nprivate static long updateInterval = TimeUnit.MINUTES.toMillis(5);\r\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elgoiri","name":"elgoiri","key":"elgoiri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Íñigo Goiri","active":true,"timeZone":"Etc/UTC"},"created":"2018-03-30T23:37:41.552+0000","updated":"2018-03-30T23:38:23.354+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16421194","id":"16421194","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"body":"[~elgoiri] Thanks a lot for the review.\r\nThe next changes were added:\r\n1. Removed check for the exception. I added it for more information in the case when test crash.\r\n2. Removed lambda. Please let me know if I should provide two patches with and without lambda for different versions.\r\n3. Removed destroy() the filter after the test.\r\n4. Replaced hardcoded updateInterval time on TimeUnit.MINUTES.toMillis(5);\r\n5. Renamed unknown host in the test.\r\n\r\nPlease review this changes.\r\nThanks.\r\n [^YARN-8096.003.patch] ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"created":"2018-03-31T06:44:57.565+0000","updated":"2018-03-31T06:44:57.565+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16421225","id":"16421225","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"body":"| (/) *{color:green}+1 overall{color}* |\r\n\\\\\r\n\\\\\r\n|| Vote || Subsystem || Runtime || Comment ||\r\n| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 19s{color} | {color:blue} Docker mode activated. {color} |\r\n|| || || || {color:brown} Prechecks {color} ||\r\n| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |\r\n| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 1 new or modified test files. {color} |\r\n|| || || || {color:brown} trunk Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 25m 28s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 22s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 15s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 24s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 10m 56s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 30s{color} | {color:green} trunk passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 17s{color} | {color:green} trunk passed {color} |\r\n|| || || || {color:brown} Patch Compile Tests {color} ||\r\n| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  0m 23s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} compile {color} | {color:green}  0m 18s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javac {color} | {color:green}  0m 18s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 11s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  0m 20s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |\r\n| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 11m 37s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |\r\n| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  0m 35s{color} | {color:green} the patch passed {color} |\r\n| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  0m 16s{color} | {color:green} the patch passed {color} |\r\n|| || || || {color:brown} Other Tests {color} ||\r\n| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 31s{color} | {color:green} hadoop-yarn-server-web-proxy in the patch passed. {color} |\r\n| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 22s{color} | {color:green} The patch does not generate ASF License warnings. {color} |\r\n| {color:black}{color} | {color:black} {color} | {color:black} 53m 26s{color} | {color:black} {color} |\r\n\\\\\r\n\\\\\r\n|| Subsystem || Report/Notes ||\r\n| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:8620d2b |\r\n| JIRA Issue | YARN-8096 |\r\n| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12917092/YARN-8096.003.patch |\r\n| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  |\r\n| uname | Linux 173dd588317f 3.13.0-139-generic #188-Ubuntu SMP Tue Jan 9 14:43:09 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |\r\n| Build tool | maven |\r\n| Personality | /testptch/patchprocess/precommit/personality/provided.sh |\r\n| git revision | trunk / acfd764 |\r\n| maven | version: Apache Maven 3.3.9 |\r\n| Default Java | 1.8.0_151 |\r\n| findbugs | v3.1.0-RC1 |\r\n|  Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/20174/testReport/ |\r\n| Max. process+thread count | 334 (vs. ulimit of 10000) |\r\n| modules | C: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy U: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-web-proxy |\r\n| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/20174/console |\r\n| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |\r\n\r\n\r\nThis message was automatically generated.\r\n\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=genericqa","name":"genericqa","key":"genericqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=genericqa&avatarId=33630","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=genericqa&avatarId=33630","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=genericqa&avatarId=33630","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=genericqa&avatarId=33630"},"displayName":"genericqa","active":true,"timeZone":"Etc/UTC"},"created":"2018-03-31T08:44:10.901+0000","updated":"2018-03-31T08:44:10.901+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16421387","id":"16421387","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elgoiri","name":"elgoiri","key":"elgoiri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Íñigo Goiri","active":true,"timeZone":"Etc/UTC"},"body":" [^YARN-8096.003.patch] LGTM.\r\nThe only quesiton is returning true when we get a ServletException; should we check at the end the addresses to be empty?\r\n\r\n[~giovanni.fumarola], further comments?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elgoiri","name":"elgoiri","key":"elgoiri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Íñigo Goiri","active":true,"timeZone":"Etc/UTC"},"created":"2018-03-31T16:42:23.633+0000","updated":"2018-03-31T16:42:23.633+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16421437","id":"16421437","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"body":"Thanks [~elgoiri].\r\nIf we got ServletException this means that proxy address was updated since we use \"unknownhost\". We can check at the end the addresses is empty to make sure but I thought this redundant because the aim is to check that addresses were updated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"created":"2018-03-31T19:29:01.710+0000","updated":"2018-03-31T19:29:01.710+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16441398","id":"16441398","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=giovanni.fumarola","name":"giovanni.fumarola","key":"giovanni.fumarola","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=giovanni.fumarola&avatarId=23807","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=giovanni.fumarola&avatarId=23807","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=giovanni.fumarola&avatarId=23807","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=giovanni.fumarola&avatarId=23807"},"displayName":"Giovanni Matteo Fumarola","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks [~oshevchenko] for the patch.\r\n\r\nLGTM +1.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=giovanni.fumarola","name":"giovanni.fumarola","key":"giovanni.fumarola","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=giovanni.fumarola&avatarId=23807","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=giovanni.fumarola&avatarId=23807","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=giovanni.fumarola&avatarId=23807","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=giovanni.fumarola&avatarId=23807"},"displayName":"Giovanni Matteo Fumarola","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-04-17T19:53:45.096+0000","updated":"2018-04-17T19:53:45.096+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16441428","id":"16441428","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elgoiri","name":"elgoiri","key":"elgoiri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Íñigo Goiri","active":true,"timeZone":"Etc/UTC"},"body":"Thanks [~oshevchenko] for the patch and [~giovanni.fumarola] for the review.\r\nCommitted to trunk.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=elgoiri","name":"elgoiri","key":"elgoiri","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Íñigo Goiri","active":true,"timeZone":"Etc/UTC"},"created":"2018-04-17T20:08:47.056+0000","updated":"2018-04-17T20:08:47.056+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13149171/comment/16441478","id":"16441478","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"body":"Thanks a lot [~elgoiri] and [~giovanni.fumarola] for the review and help in contributing.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=oshevchenko","name":"oshevchenko","key":"oshevchenko","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=oshevchenko&avatarId=36674","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=oshevchenko&avatarId=36674","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=oshevchenko&avatarId=36674","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=oshevchenko&avatarId=36674"},"displayName":"Oleksandr Shevchenko","active":true,"timeZone":"Europe/Kiev"},"created":"2018-04-17T20:46:19.162+0000","updated":"2018-04-17T20:46:19.162+0000"}],"maxResults":21,"total":21,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-8096/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3rzs7:"}}