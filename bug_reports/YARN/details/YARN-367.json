{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12630090","self":"https://issues.apache.org/jira/rest/api/2/issue/12630090","key":"YARN-367","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/6","id":"6","description":"The problem isn't valid and it can't be fixed.","name":"Invalid"},"customfield_12312322":null,"customfield_12310220":"2013-01-31T17:27:19.756+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Mar 14 19:14:45 UTC 2013","customfield_12310420":"310586","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_3622236643_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-03-14T05:59:51.855+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-367/watchers","watchCount":5,"isWatching":false},"created":"2013-01-31T07:49:15.279+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-03-14T19:14:45.216+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12319323","id":"12319323","name":"nodemanager"}],"timeoriginalestimate":null,"description":"If yarn.nodemanager.local-dirs is not explicitly set, and if the default local-dirs are not the children of hadoop.tmp.dir, the exception will occur when the wordcount example is run. Bellow is log info.\n\n==========\n\n2013-01-30 22:16:04,229 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.ContainerManagerImpl: Start request for container_1359612879014_0001_01_000001 by user zshen\n2013-01-30 22:16:04,247 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.ContainerManagerImpl: Creating a new application reference for app application_1359612879014_0001\n2013-01-30 22:16:04,250 INFO org.apache.hadoop.yarn.server.nodemanager.NMAuditLogger: USER=zshen\tIP=127.0.0.1\tOPERATION=Start Container Request\tTARGET=ContainerManageImpl\tRESULT=SUCCESS\tAPPID=application_1359612879014_0001\tCONTAINERID=container_1359612879014_0001_01_000001\n2013-01-30 22:16:04,252 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.Application: Application application_1359612879014_0001 transitioned from NEW to INITING\n2013-01-30 22:16:04,252 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.Application: Adding container_1359612879014_0001_01_000001 to application application_1359612879014_0001\n2013-01-30 22:16:04,257 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.Application: Application application_1359612879014_0001 transitioned from INITING to RUNNING\n2013-01-30 22:16:04,262 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.container.Container: Container container_1359612879014_0001_01_000001 transitioned from NEW to LOCALIZING\n2013-01-30 22:16:04,268 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.LocalizedResource: Resource hdfs://localhost:9001/tmp/hadoop-yarn/staging/zshen/.staging/job_1359612879014_0001/appTokens transitioned from INIT to DOWNLOADING\n2013-01-30 22:16:04,268 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.LocalizedResource: Resource hdfs://localhost:9001/tmp/hadoop-yarn/staging/zshen/.staging/job_1359612879014_0001/job.jar transitioned from INIT to DOWNLOADING\n2013-01-30 22:16:04,268 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.LocalizedResource: Resource hdfs://localhost:9001/tmp/hadoop-yarn/staging/zshen/.staging/job_1359612879014_0001/job.splitmetainfo transitioned from INIT to DOWNLOADING\n2013-01-30 22:16:04,268 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.LocalizedResource: Resource hdfs://localhost:9001/tmp/hadoop-yarn/staging/zshen/.staging/job_1359612879014_0001/job.split transitioned from INIT to DOWNLOADING\n2013-01-30 22:16:04,269 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.LocalizedResource: Resource hdfs://localhost:9001/tmp/hadoop-yarn/staging/zshen/.staging/job_1359612879014_0001/job.xml transitioned from INIT to DOWNLOADING\n2013-01-30 22:16:04,269 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.ResourceLocalizationService: Created localizer for container_1359612879014_0001_01_000001\n2013-01-30 22:16:04,401 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.ResourceLocalizationService: Writing credentials to the nmPrivate file /tmp/hadoop-zshen/nm-local-dir/nmPrivate/container_1359612879014_0001_01_000001.tokens. Credentials list: \n2013-01-30 22:16:04,423 INFO org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor: Initializing user zshen\n2013-01-30 22:16:04,569 INFO org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor: Copying from /tmp/hadoop-zshen/nm-local-dir/nmPrivate/container_1359612879014_0001_01_000001.tokens to /tmp/hadoop-zshen/nm-local-dir/usercache/zshen/appcache/application_1359612879014_0001/container_1359612879014_0001_01_000001.tokens\n2013-01-30 22:16:04,570 INFO org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor: CWD set to /tmp/hadoop-zshen/nm-local-dir/usercache/zshen/appcache/application_1359612879014_0001 = file:/tmp/hadoop-zshen/nm-local-dir/usercache/zshen/appcache/application_1359612879014_0001\n2013-01-30 22:16:04,955 INFO org.apache.hadoop.yarn.server.nodemanager.NodeStatusUpdaterImpl: Sending out status for container: container_id {, app_attempt_id {, application_id {, id: 1, cluster_timestamp: 1359612879014, }, attemptId: 1, }, id: 1, }, state: C_RUNNING, diagnostics: \"\", exit_status: -1000, \n2013-01-30 22:16:05,117 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.LocalizedResource: Resource hdfs://localhost:9001/tmp/hadoop-yarn/staging/zshen/.staging/job_1359612879014_0001/appTokens transitioned from DOWNLOADING to LOCALIZED\n2013-01-30 22:16:05,312 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.LocalizedResource: Resource hdfs://localhost:9001/tmp/hadoop-yarn/staging/zshen/.staging/job_1359612879014_0001/job.jar transitioned from DOWNLOADING to LOCALIZED\n2013-01-30 22:16:05,465 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.LocalizedResource: Resource hdfs://localhost:9001/tmp/hadoop-yarn/staging/zshen/.staging/job_1359612879014_0001/job.splitmetainfo transitioned from DOWNLOADING to LOCALIZED\n2013-01-30 22:16:05,608 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.LocalizedResource: Resource hdfs://localhost:9001/tmp/hadoop-yarn/staging/zshen/.staging/job_1359612879014_0001/job.split transitioned from DOWNLOADING to LOCALIZED\n2013-01-30 22:16:05,751 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.LocalizedResource: Resource hdfs://localhost:9001/tmp/hadoop-yarn/staging/zshen/.staging/job_1359612879014_0001/job.xml transitioned from DOWNLOADING to LOCALIZED\n2013-01-30 22:16:05,752 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.container.Container: Container container_1359612879014_0001_01_000001 transitioned from LOCALIZING to LOCALIZED\n2013-01-30 22:16:05,866 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.container.Container: Container container_1359612879014_0001_01_000001 transitioned from LOCALIZED to RUNNING\n2013-01-30 22:16:05,866 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.monitor.ContainersMonitorImpl: ResourceCalculatorPlugin is unavailable on this system. org.apache.hadoop.yarn.server.nodemanager.containermanager.monitor.ContainersMonitorImpl is disabled.\n2013-01-30 22:16:05,910 WARN org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch: Failed to launch container.\njava.io.FileNotFoundException: File /Users/zshen/Deployment/hadoop-3.0.0-SNAPSHOT/data/nm-local-dir/usercache/zshen/appcache/application_1359612879014_0001/container_1359612879014_0001_01_000001 does not exist\n\tat org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:498)\n\tat org.apache.hadoop.fs.FileSystem.primitiveMkdir(FileSystem.java:996)\n\tat org.apache.hadoop.fs.DelegateToFileSystem.mkdir(DelegateToFileSystem.java:150)\n\tat org.apache.hadoop.fs.FilterFs.mkdir(FilterFs.java:187)\n\tat org.apache.hadoop.fs.FileContext$4.next(FileContext.java:730)\n\tat org.apache.hadoop.fs.FileContext$4.next(FileContext.java:726)\n\tat org.apache.hadoop.fs.FileContext$FSLinkResolver.resolve(FileContext.java:2379)\n\tat org.apache.hadoop.fs.FileContext.mkdir(FileContext.java:726)\n\tat org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor.createDir(DefaultContainerExecutor.java:330)\n\tat org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor.launchContainer(DefaultContainerExecutor.java:135)\n\tat org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:242)\n\tat org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:68)\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:138)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n\tat java.lang.Thread.run(Thread.java:680)\n2013-01-30 22:16:05,913 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.container.Container: Container container_1359612879014_0001_01_000001 transitioned from RUNNING to EXITED_WITH_FAILURE\n2013-01-30 22:16:05,914 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch: Cleaning up container container_1359612879014_0001_01_000001\n2013-01-30 22:16:05,934 INFO org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor: Deleting absolute path : /tmp/hadoop-zshen/nm-local-dir/usercache/zshen/appcache/application_1359612879014_0001/container_1359612879014_0001_01_000001\n2013-01-30 22:16:05,934 WARN org.apache.hadoop.yarn.server.nodemanager.NMAuditLogger: USER=zshen\tOPERATION=Container Finished - Failed\tTARGET=ContainerImpl\tRESULT=FAILURE\tDESCRIPTION=Container failed with state: EXITED_WITH_FAILURE\tAPPID=application_1359612879014_0001\tCONTAINERID=container_1359612879014_0001_01_000001\n2013-01-30 22:16:05,937 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.container.Container: Container container_1359612879014_0001_01_000001 transitioned from EXITED_WITH_FAILURE to DONE\n2013-01-30 22:16:05,937 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.Application: Removing container_1359612879014_0001_01_000001 from application application_1359612879014_0001\n2013-01-30 22:16:05,937 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.monitor.ContainersMonitorImpl: ResourceCalculatorPlugin is unavailable on this system. org.apache.hadoop.yarn.server.nodemanager.containermanager.monitor.ContainersMonitorImpl is disabled.\n2013-01-30 22:16:05,958 INFO org.apache.hadoop.yarn.server.nodemanager.NodeStatusUpdaterImpl: Sending out status for container: container_id {, app_attempt_id {, application_id {, id: 1, cluster_timestamp: 1359612879014, }, attemptId: 1, }, id: 1, }, state: C_COMPLETE, diagnostics: \"\", exit_status: -1, \n2013-01-30 22:16:05,959 INFO org.apache.hadoop.yarn.server.nodemanager.NodeStatusUpdaterImpl: Removed completed container container_1359612879014_0001_01_000001\n2013-01-30 22:16:06,965 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.Application: Application application_1359612879014_0001 transitioned from RUNNING to APPLICATION_RESOURCES_CLEANINGUP\n2013-01-30 22:16:06,965 INFO org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor: Deleting absolute path : /tmp/hadoop-zshen/nm-local-dir/usercache/zshen/appcache/application_1359612879014_0001\n2013-01-30 22:16:06,966 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.AuxServices: Got event APPLICATION_STOP for appId application_1359612879014_0001\n2013-01-30 22:16:06,970 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.Application: Application application_1359612879014_0001 transitioned from APPLICATION_RESOURCES_CLEANINGUP to FINISHED\n2013-01-30 22:16:06,970 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.loghandler.NonAggregatingLogHandler: Scheduling Log Deletion for application: application_1359612879014_0001, with delay of 10800 seconds\n\n==========\n\nBelow is the setting in hdfs-site.xml.\n\n==========\n\n<property>\n    <name>hadoop.tmp.dir</name>\n    <value>/Users/zshen/Deployment/hadoop-3.0.0-SNAPSHOT/data</value>\n</property>\n\n==========","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"310931","customfield_12312823":null,"summary":"Exception when yarn.nodemanager.local-dirs is not explicitly set","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12630090/comment/13567843","id":"13567843","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi, Zhijie.  I was able to reproduce this bug.  When overriding hadoop.tmp.dir, typical usage is to specify it in core-site.xml instead of hdfs-site.xml, so that all of the Hadoop processes receive the new value.  After I moved my configuration of hadoop.tmp.dir to core-site.xml, I stopped seeing this bug.\n\nWhen I repro'd, I noticed that localization is attempting to use the default local dir for usercache, but then container launch is trying to use the local dir I configured in hdfs-site.xml.  Therefore, container launch doesn't find the container working directory in the place it expects:\n\n2013-01-31 09:02:28,623 INFO  nodemanager.DefaultContainerExecutor (DefaultContainerExecutor.java:startLocalizer(101)) - CWD set to /tmp/hadoop-chris/nm-local-dir/usercache/chris/appcache/application_1359651644148_0002 = file:/tmp/hadoop-chris/nm-local-dir/usercache/chris/appcache/application_1359651644148_0002\n\n2013-01-31 09:02:29,922 WARN  launcher.ContainerLaunch (ContainerLaunch.java:call(247)) - Failed to launch container.\njava.io.FileNotFoundException: File /Users/chris/hadoop-deploy-trunk/hadoop-3.0.0-SNAPSHOT/data/nm-local-dir/usercache/chris/appcache/application_1359651644148_0002/container_1359651644148_0002_01_000001 does not exist\n\nMy theory is that configuration is getting loaded in 2 different ways for localization and container launch.  The configuration for localization is not loading hdfs-site.xml, but the configuration for container launch is loading hdfs-site.xml, so the 2 pieces are seeing different configurations.  I'm not sure if YARN daemons should be loading hdfs-site.xml.  Whatever the choice, it probably should be consistent throughout the code.\n\nThis would be good to track down eventually, but for now, I expect you can quickly fix your environment by moving your hadoop.tmp.dir configuration into core-site.xml.  I hope this helps!\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-01-31T17:27:19.756+0000","updated":"2013-01-31T17:27:19.756+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12630090/comment/13568914","id":"13568914","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=initialcontext","name":"initialcontext","key":"initialcontext","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eli Reisman","active":true,"timeZone":"Etc/UTC"},"body":"This is great, I was actually about to do the same thing. there are a number of settings in the confs that I am sure after doing 3 installs in a row according to the instructions online of Hadoop 2.0.x and having wierd conf things that result in errors just like this. The AM Container failure never reports a good exception message, and sometimes even the nodemanager logs of the job attempt are not very specific due to the nature of the missing config, or ...?\n\nPoint being, its almost always a config setting, and the framework almost never provides a clue other than job start and immediate failure (outfile not found as in Zhijie's example here, or more cryptic) as to what really made it choke.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=initialcontext","name":"initialcontext","key":"initialcontext","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eli Reisman","active":true,"timeZone":"Etc/UTC"},"created":"2013-02-01T18:00:39.521+0000","updated":"2013-02-01T18:00:39.521+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12630090/comment/13602070","id":"13602070","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. Below is the setting in hdfs-site.xml.\nbq. <name>hadoop.tmp.dir</name>\n\n*This.* hadoop.tmp.dir is not supposed to be in there if you want to reuse it for YARN too. It should be in core-site.xml, YARN won't read hdfs-default.xml for any of *its* configs. Closing this as invalid.\n\nZhijie/Eli, can one of you validate if the AM container launch is correctly reported or not here and file a corresponding ticket?\n\nEli, can you file more tickets so that we can track any other individual bugs (besides this) you might have run into? Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-03-14T05:59:23.231+0000","updated":"2013-03-14T05:59:23.231+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12630090/comment/13602071","id":"13602071","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"Closing this as invalid as per my comment above. Please reopen if you disagree.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-03-14T05:59:51.881+0000","updated":"2013-03-14T05:59:51.881+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12630090/comment/13602546","id":"13602546","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"@Vinod, I've verified it. hadoop.tmp.dir was visible to YARN when it was put into core-site.xml, and the exception was gone.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-03-14T18:26:13.331+0000","updated":"2013-03-14T18:26:13.331+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12630090/comment/13602598","id":"13602598","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=initialcontext","name":"initialcontext","key":"initialcontext","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eli Reisman","active":true,"timeZone":"Etc/UTC"},"body":"I will look back at my notes and my final GIRAPH-13 patch now that its working and ready for review. I have been saving up some issues to put up until the patch was done and verified and I knew it wasn't just my fault for errors!\n\nGot a few funny things like this to put up. There were a couple things that were documented as optional or not required to get the YARN cluster up but if they weren't set in yarn-site or core-site (etc) the cluster just never worked for me on several 2.0.x Hadoop on OSX. So I'll post some things coming up in the next few days here.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=initialcontext","name":"initialcontext","key":"initialcontext","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Eli Reisman","active":true,"timeZone":"Etc/UTC"},"created":"2013-03-14T19:14:45.216+0000","updated":"2013-03-14T19:14:45.216+0000"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-367/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1hln3:"}}