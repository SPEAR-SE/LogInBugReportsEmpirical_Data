{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12654240","self":"https://issues.apache.org/jira/rest/api/2/issue/12654240","key":"YARN-871","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2013-06-24T10:20:38.344+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Apr 15 21:41:39 UTC 2014","customfield_12310420":"334517","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_956504566_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-07-02T21:43:24.360+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-871/watchers","watchCount":7,"isWatching":false},"created":"2013-06-21T20:01:39.815+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-04-15T21:41:39.723+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Built the latest trunk, deployed a single node cluster and ran examples, such as\n\n{code}\n hadoop jar hadoop-3.0.0-SNAPSHOT/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.0.0-SNAPSHOT.jar teragen 10 out1\n{code}\n\nThe job failed with the following console message:\n{code}\n13/06/21 12:51:25 INFO mapreduce.Job: Running job: job_1371844267731_0001\n13/06/21 12:51:31 INFO mapreduce.Job: Job job_1371844267731_0001 running in uber mode : false\n13/06/21 12:51:31 INFO mapreduce.Job:  map 0% reduce 0%\n13/06/21 12:51:31 INFO mapreduce.Job: Job job_1371844267731_0001 failed with state FAILED due to: Application application_1371844267731_0001 failed 2 times due to AM Container for appattempt_1371844267731_0001_000002 exited with  exitCode: 127 due to: \n.Failing this attempt.. Failing the application.\n13/06/21 12:51:31 INFO mapreduce.Job: Counters: 0\n{code}\n\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12589151","id":"12589151","filename":"yarn-zshen-resourcemanager-ZShens-MacBook-Pro.local.log","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-21T20:04:14.011+0000","size":53365,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12589151/yarn-zshen-resourcemanager-ZShens-MacBook-Pro.local.log"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"334843","customfield_12312823":null,"summary":"Failed to run MR example against latest trunk","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654240/comment/13690662","id":"13690662","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"Attach the RM log for diagnostic","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-21T20:04:14.013+0000","updated":"2013-06-21T20:04:14.013+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654240/comment/13691868","id":"13691868","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj.k","name":"devaraj.k","key":"devaraj.k","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj K","active":true,"timeZone":"America/Los_Angeles"},"body":"{code:xml}\n2013-06-24 20:58:05,102 INFO org.apache.hadoop.yarn.server.resourcemanager.rmapp.RMAppImpl: Application application_1372087479441_0002 failed 2 times due to Error launching appattempt_1372087479441_0002_000002. Got exception: java.io.IOException: Failed on local exception: java.io.IOException: java.io.IOException: Server asks us to fall back to SIMPLE auth, but this client is configured to only allow secure connections.; Host Details : local host is: \"HOST-10-18-91-57/10.18.91.57\"; destination host is: \"HOST-10-18-91-57\":12356; \n\tat org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:764)\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1318)\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1266)\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:206)\n\tat $Proxy23.startContainer(Unknown Source)\n\tat org.apache.hadoop.yarn.api.impl.pb.client.ContainerManagementProtocolPBClientImpl.startContainer(ContainerManagementProtocolPBClientImpl.java:110)\n\tat org.apache.hadoop.yarn.server.resourcemanager.amlauncher.AMLauncher.launch(AMLauncher.java:110)\n\tat org.apache.hadoop.yarn.server.resourcemanager.amlauncher.AMLauncher.run(AMLauncher.java:228)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n\tat java.lang.Thread.run(Thread.java:619)\nCaused by: java.io.IOException: java.io.IOException: Server asks us to fall back to SIMPLE auth, but this client is configured to only allow secure connections.\n\tat org.apache.hadoop.ipc.Client$Connection$1.run(Client.java:589)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat javax.security.auth.Subject.doAs(Subject.java:396)\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1489)\n\tat org.apache.hadoop.ipc.Client$Connection.handleSaslConnectionFailure(Client.java:552)\n\tat org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:635)\n\tat org.apache.hadoop.ipc.Client$Connection.access$2200(Client.java:258)\n\tat org.apache.hadoop.ipc.Client.getConnection(Client.java:1367)\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1285)\n\t... 9 more\nCaused by: java.io.IOException: Server asks us to fall back to SIMPLE auth, but this client is configured to only allow secure connections.\n\tat org.apache.hadoop.security.SaslRpcClient.saslConnect(SaslRpcClient.java:250)\n\tat org.apache.hadoop.ipc.Client$Connection.setupSaslConnection(Client.java:464)\n\tat org.apache.hadoop.ipc.Client$Connection.access$1500(Client.java:258)\n\tat org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:628)\n\tat org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:625)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat javax.security.auth.Subject.doAs(Subject.java:396)\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1489)\n\tat org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:624)\n\t... 12 more\n. Failing the application.\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=devaraj.k","name":"devaraj.k","key":"devaraj.k","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Devaraj K","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-24T10:20:38.344+0000","updated":"2013-06-24T10:20:38.344+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654240/comment/13692108","id":"13692108","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"[~devaraj.k], the posted exception seems to be related to HADOOP-9421 and YARN-827. YARN-874 is tracking the issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-24T16:22:08.105+0000","updated":"2013-06-24T16:22:08.105+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654240/comment/13698267","id":"13698267","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djp","name":"djp","key":"djp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=djp&avatarId=16954","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=djp&avatarId=16954","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=djp&avatarId=16954","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=djp&avatarId=16954"},"displayName":"Junping Du","active":true,"timeZone":"Asia/Shanghai"},"body":"Hi [~zjshen], given YARN-874 is committed, shall we resolve it?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=djp","name":"djp","key":"djp","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=djp&avatarId=16954","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=djp&avatarId=16954","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=djp&avatarId=16954","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=djp&avatarId=16954"},"displayName":"Junping Du","active":true,"timeZone":"Asia/Shanghai"},"created":"2013-07-02T21:29:13.835+0000","updated":"2013-07-02T21:29:13.835+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654240/comment/13698286","id":"13698286","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks, [~djp]! Close it as cannot reproduce","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-07-02T21:43:24.376+0000","updated":"2013-07-02T21:43:24.376+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654240/comment/13969693","id":"13969693","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maruscia","name":"maruscia","key":"maruscia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maruscia&avatarId=19524","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maruscia&avatarId=19524","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maruscia&avatarId=19524","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maruscia&avatarId=19524"},"displayName":"Mara Sorella","active":true,"timeZone":"Etc/UTC"},"body":"The reported user os appears to be OSX, then the issue may be related to to this SO question: http://stackoverflow.com/questions/20390217/mapreduce-job-in-headless-environment-fails-n-times-due-to-am-container-exceptio (check out Answer 1)\nThe hadoop-env.sh file hardcodes the java executable file path as /bin/java while on MacOs it defaults to /usr/bin/java.\n\nWould it be better to avoid the hardcoding and rely on $PATH?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maruscia","name":"maruscia","key":"maruscia","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maruscia&avatarId=19524","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maruscia&avatarId=19524","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maruscia&avatarId=19524","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maruscia&avatarId=19524"},"displayName":"Mara Sorella","active":true,"timeZone":"Etc/UTC"},"created":"2014-04-15T16:32:53.141+0000","updated":"2014-04-15T16:32:53.141+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12654240/comment/13970089","id":"13970089","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. The hadoop-env.sh file hardcodes the java executable file path as /bin/java while on MacOs it defaults to /usr/bin/java.\n\n[~maruscia], would you mind double checking your hadoop-env.sh. It shouldn't have hard coded /bin/java. I don't see it in the source code. Usually we have $JAVA_HOME/bin/java.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zjshen","name":"zjshen","key":"zjshen","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Zhijie Shen","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-15T21:41:39.723+0000","updated":"2014-04-15T21:41:39.723+0000"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-871/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1lpdz:"}}