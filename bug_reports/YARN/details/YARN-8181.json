{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13153772","self":"https://issues.apache.org/jira/rest/api/2/issue/13153772","key":"YARN-8181","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/6","id":"6","description":"The problem isn't valid and it can't be fixed.","name":"Invalid"},"customfield_12312322":null,"customfield_12310220":"2018-04-19T18:03:08.395+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Apr 19 22:33:49 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_19792621_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2018-04-19T22:33:49.290+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-8181/watchers","watchCount":2,"isWatching":false},"created":"2018-04-19T17:03:56.700+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":["Docker"],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-05-16T19:58:08.119+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Hi All,\r\n\r\nI want to use docker container run time but could not solve the facing problem. I am following the guide below and the NM log is as follows. I can not see any docker containers to be created. It works when I use default LCE. Please also find how I submit a job at the end as well.\r\n\r\nDo you have any guide on how can I make Docker rum_time works?\r\n\r\nMay you please let me know how can use LCE binary to make sure my docker setup is correct?\r\n\r\nI confirmed that \"docker run\" works fine. I really like this developing feature and would like to contribute to it. Many thanks in advance.\r\n\r\n[https://hadoop.apache.org/docs/current/hadoop-yarn/hadoop-yarn-site/DockerContainers.html]\r\n{code:java}\r\nNM LOG:\r\n...\r\n2018-04-19 11:49:24,568 INFO SecurityLogger.org.apache.hadoop.ipc.Server: Auth successful for appattempt_1524151293356_0005_000001 (auth:SIMPLE)\r\n2018-04-19 11:49:24,580 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.ContainerManagerImpl: Start request for container_1524151293356_0005_01_000001 by user ubuntu\r\n2018-04-19 11:49:24,584 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.ContainerManagerImpl: Creating a new application reference for app application_1524151293356_0005\r\n2018-04-19 11:49:24,584 INFO org.apache.hadoop.yarn.server.nodemanager.NMAuditLogger: USER=ubuntu    IP=130.245.127.176    OPERATION=Start Container Request    TARGET=ContainerManageImpl    RESULT=SUCCESS    APPID=application_1524151293356_0005    CONTAINERID=container_1524151293356_0005_01_000001\r\n2018-04-19 11:49:24,585 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.ApplicationImpl: Application application_1524151293356_0005 transitioned from NEW to INITING\r\n2018-04-19 11:49:24,585 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.ApplicationImpl: Adding container_1524151293356_0005_01_000001 to application application_1524151293356_0005\r\n2018-04-19 11:49:24,585 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.ApplicationImpl: Application application_1524151293356_0005 transitioned from INITING to RUNNING\r\n2018-04-19 11:49:24,588 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerImpl: Container container_1524151293356_0005_01_000001 transitioned from NEW to LOCALIZING\r\n2018-04-19 11:49:24,588 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.AuxServices: Got event CONTAINER_INIT for appId application_1524151293356_0005\r\n2018-04-19 11:49:24,589 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.ResourceLocalizationService: Created localizer for container_1524151293356_0005_01_000001\r\n2018-04-19 11:49:24,616 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.ResourceLocalizationService: Writing credentials to the nmPrivate file /tmp/hadoop-ubuntu/nm-local-dir/nmPrivate/container_1524151293356_0005_01_000001.tokens\r\n2018-04-19 11:49:28,090 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerImpl: Container container_1524151293356_0005_01_000001 transitioned from LOCALIZING to SCHEDULED\r\n2018-04-19 11:49:28,090 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.scheduler.ContainerScheduler: Starting container [container_1524151293356_0005_01_000001]\r\n2018-04-19 11:49:28,212 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerImpl: Container container_1524151293356_0005_01_000001 transitioned from SCHEDULED to RUNNING\r\n2018-04-19 11:49:28,212 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.monitor.ContainersMonitorImpl: Starting resource-monitoring for container_1524151293356_0005_01_000001\r\n2018-04-19 11:49:29,401 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch: Container container_1524151293356_0005_01_000001 succeeded\r\n2018-04-19 11:49:29,401 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerImpl: Container container_1524151293356_0005_01_000001 transitioned from RUNNING to EXITED_WITH_SUCCESS\r\n2018-04-19 11:49:29,401 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch: Cleaning up container container_1524151293356_0005_01_000001\r\n2018-04-19 11:49:29,520 INFO org.apache.hadoop.yarn.server.nodemanager.LinuxContainerExecutor: Removing Docker container : container_1524151293356_0005_01_000001\r\n2018-04-19 11:49:34,517 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch: Could not get pid for container_1524151293356_0005_01_000001. Waited for 5000 ms.\r\n2018-04-19 11:49:34,517 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch: Unable to obtain pid, but docker container request detected. Attempting to reap container container_1524151293356_0005_01_000001\r\n2018-04-19 11:49:36,927 INFO org.apache.hadoop.yarn.server.nodemanager.LinuxContainerExecutor: Deleting absolute path : /tmp/hadoop-ubuntu/nm-local-dir/usercache/ubuntu/appcache/application_1524151293356_0005/container_1524151293356_0005_01_000001\r\n2018-04-19 11:49:36,928 INFO org.apache.hadoop.yarn.server.nodemanager.NMAuditLogger: USER=ubuntu    OPERATION=Container Finished - Succeeded    TARGET=ContainerImpl    RESULT=SUCCESS    APPID=application_1524151293356_0005    CONTAINERID=container_1524151293356_0005_01_000001\r\n2018-04-19 11:49:36,929 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerImpl: Container container_1524151293356_0005_01_000001 transitioned from EXITED_WITH_SUCCESS to DONE\r\n2018-04-19 11:49:36,938 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.ApplicationImpl: Removing container_1524151293356_0005_01_000001 from application application_1524151293356_0005\r\n2018-04-19 11:49:36,938 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.monitor.ContainersMonitorImpl: Stopping resource-monitoring for container_1524151293356_0005_01_000001\r\n2018-04-19 11:49:36,938 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.AuxServices: Got event CONTAINER_STOP for appId application_1524151293356_0005\r\n2018-04-19 11:49:37,941 INFO org.apache.hadoop.yarn.server.nodemanager.NodeStatusUpdaterImpl: Removed completed containers from NM context: [container_1524151293356_0005_01_000001]\r\n2018-04-19 11:49:50,966 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.ApplicationImpl: Application application_1524151293356_0005 transitioned from RUNNING to APPLICATION_RESOURCES_CLEANINGUP\r\n2018-04-19 11:49:50,967 INFO org.apache.hadoop.yarn.server.nodemanager.LinuxContainerExecutor: Deleting absolute path : /tmp/hadoop-ubuntu/nm-local-dir/usercache/ubuntu/appcache/application_1524151293356_0005\r\n2018-04-19 11:49:50,967 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.AuxServices: Got event APPLICATION_STOP for appId application_1524151293356_0005\r\n2018-04-19 11:49:50,967 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.ApplicationImpl: Application application_1524151293356_0005 transitioned from APPLICATION_RESOURCES_CLEANINGUP to FINISHED\r\n2018-04-19 11:49:50,967 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.loghandler.NonAggregatingLogHandler: Scheduling Log Deletion for application: application_1524151293356_0005, with delay of 10800 seconds\r\n\r\n{code}\r\n{code:java}\r\nvars=\"YARN_CONTAINER_RUNTIME_TYPE=docker,YARN_CONTAINER_RUNTIME_DOCKER_IMAGE=hadoop-ubuntu:latest\"\r\n\r\n#vars=\"YARN_CONTAINER_RUNTIME_TYPE=docker,YARN_CONTAINER_RUNTIME_DOCKER_IMAGE=hadoop-ubuntu:latest,YARN_CONTAINER_RUNTIME_DOCKER_RUN_OVERRIDE_DISABLE=false,YARN_CONTAINER_RUNTIME_DOCKER_CONTAINER_NETWORK=host\"\r\n\r\n#vars=\"YARN_CONTAINER_RUNTIME_TYPE=default\"\r\n\r\nhadoop jar /home/ubuntu/hadoop-3.1.0/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.0.jar pi -Dyarn.app.mapreduce.am.env=$vars -Dmapreduce.map.env=$vars -Dmapreduce.reduce.env=$vars 2 10\r\n{code}\r\n{code:java}\r\nNumber of Maps  = 2\r\nSamples per Map = 10\r\nWrote input for Map #0\r\nWrote input for Map #1\r\nStarting Job\r\n2018-04-19 11:49:22,786 INFO client.RMProxy: Connecting to ResourceManager at bay1-vm1/130.245.127.176:8032\r\n2018-04-19 11:49:23,435 INFO mapreduce.JobResourceUploader: Disabling Erasure Coding for path: /tmp/hadoop-yarn/staging/ubuntu/.staging/job_1524151293356_0005\r\n2018-04-19 11:49:23,601 INFO input.FileInputFormat: Total input files to process : 2\r\n2018-04-19 11:49:23,756 INFO mapreduce.JobSubmitter: number of splits:2\r\n2018-04-19 11:49:23,824 INFO Configuration.deprecation: yarn.resourcemanager.system-metrics-publisher.enabled is deprecated. Instead, use yarn.system-metrics-publisher.enabled\r\n2018-04-19 11:49:24,015 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1524151293356_0005\r\n2018-04-19 11:49:24,017 INFO mapreduce.JobSubmitter: Executing with tokens: []\r\n2018-04-19 11:49:24,262 INFO conf.Configuration: resource-types.xml not found\r\n2018-04-19 11:49:24,262 INFO resource.ResourceUtils: Unable to find 'resource-types.xml'.\r\n2018-04-19 11:49:24,350 INFO impl.YarnClientImpl: Submitted application application_1524151293356_0005\r\n2018-04-19 11:49:24,398 INFO mapreduce.Job: The url to track the job: http://bay1-vm1:8088/proxy/application_1524151293356_0005/\r\n2018-04-19 11:49:24,399 INFO mapreduce.Job: Running job: job_1524151293356_0005\r\n2018-04-19 11:49:50,658 INFO mapreduce.Job: Job job_1524151293356_0005 running in uber mode : false\r\n2018-04-19 11:49:50,660 INFO mapreduce.Job:  map 0% reduce 0%\r\n2018-04-19 11:49:50,676 INFO mapreduce.Job: Job job_1524151293356_0005 failed with state FAILED due to: Application application_1524151293356_0005 failed 2 times due to AM Container for appattempt_1524151293356_0005_000002 exited with  exitCode: 0\r\nFailing this attempt.Diagnostics: For more detailed output, check the application tracking page: http://bay1-vm1:8088/cluster/app/application_1524151293356_0005 Then click on links to logs of each attempt.\r\n. Failing the application.\r\n2018-04-19 11:49:50,702 INFO mapreduce.Job: Counters: 0\r\nJob job_1524151293356_0005 failed!\r\nruntime in seconds: 34\r\n{code}\r\n ","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Docker container run_time","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sajavadi","name":"sajavadi","key":"sajavadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Seyyed Ahmad Javadi","active":true,"timeZone":"America/New_York"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sajavadi","name":"sajavadi","key":"sajavadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Seyyed Ahmad Javadi","active":true,"timeZone":"America/New_York"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13153772/comment/16444491","id":"16444491","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shanekumpf%40gmail.com","name":"shanekumpf@gmail.com","key":"shanekumpf@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shane Kumpf","active":true,"timeZone":"America/Denver"},"body":"[~sajavadi] - Thanks for the report and your interest in this feature! The documentation is available here: [http://hadoop.apache.org/docs/current/hadoop-yarn/hadoop-yarn-site/DockerContainers.html]\r\n\r\nRegarding the behavior above, the container completed successfully and very quickly. I expect the image isn't privileged/trusted (and the ENTRYPOINT/CMD in your Dockerfile is something like {{bash}}).\r\n\r\nAs a result of being a non-privileged/untrusted image, the MR launcher script is not executed in the container so the PI mapper/reducers never actually run here. Instead, whatever is set in the Dockerfile will be executed in the container. If the Dockerfile is setup to use a command that will not keep the container alive, the container completes very quickly, as you saw.\r\n\r\nCan you try the following to add this image as privileged/trusted and rerun the pi job?\r\n # Add {{docker.privileged-containers.registries}} to {{container-executor.cfg}} under the {{[docker]}} section with the value {{local}} (if the configuration already exists, append {{local}} to the list).\r\n # Tag the {{hadoop-ubuntu}} image with so that it is in the {{local}} namespace with {{docker tag hadoop-ubuntu:latest local/hadoop-ubuntu:latest}}.\r\n # Change {{YARN_CONTAINER_RUNTIME_DOCKER_IMAGE}}'s value to {{local/hadoop-ubuntu:latest}}. \r\n\r\nLet me know if that works and I'll open an issue to update the documentation with similar pointers.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shanekumpf%40gmail.com","name":"shanekumpf@gmail.com","key":"shanekumpf@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shane Kumpf","active":true,"timeZone":"America/Denver"},"created":"2018-04-19T18:03:08.395+0000","updated":"2018-04-19T18:03:08.395+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13153772/comment/16444862","id":"16444862","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sajavadi","name":"sajavadi","key":"sajavadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Seyyed Ahmad Javadi","active":true,"timeZone":"America/New_York"},"body":"{color:#333333}Thank you so much Shane,{color}\r\n\r\n \r\n\r\n{color:#333333}I did what you have suggested and now I am getting another error, I could not solve it, thus really appropriated if you give your suggestion on that as well?{color}\r\n\r\n{color:#333333}Is this fine that my $HADOOP_HOME is /home/ubuntu/hadoop-3.1.0 ? {color}\r\n\r\n{color:#333333}I am using use ubuntu and did create new user/group for hadoop installation purpose. {color}\r\n\r\n \r\n\r\n{color:#333333}container-executor.cfg{color}\r\n{code:java}\r\nyarn.nodemanager.linux-container-executor.group=ubuntu\r\nmin.user.id=0\r\n#feature.tc.enabled=1\r\n#feature.docker.enabled=1\r\nallowed.system.users=ubuntu\r\n# The configs below deal with settings for Docker\r\n[docker]\r\nmodule.enabled=true\r\ndocker.privileged-containers.enabled=true\r\ndocker.binary=/usr/bin/docker\r\ndocker.allowed.capabilities=SYS_CHROOT,MKNOD,SETFCAP,SETPCAP,FSETID,CHOWN,AUDIT_WRITE,SETGID,NET_RAW,FOWNER,SETUID,DAC_OVERRIDE,KILL,NET_BIND_SERVICE\r\n#  docker.allowed.devices=## comma seperated list of devices that can be mounted into a container\r\ndocker.allowed.networks=bridge,host,none\r\ndocker.allowed.ro-mounts=/sys/fs/cgroup\r\ndocker.privileged-containers.registries=local\r\n#docker.host-pid-namespace.enabled=false\r\ndocker.allowed.rw-mounts=/home/ubuntu/hadoop-3.1.0,/home/ubuntu/hadoop-3.1.0/logs\r\n#docker.privileged-containers.enabled=true\r\n#docker.allowed.volume-drivers=## comma seperated list of allowed volume-drivers\r\n\r\n# The configs below deal with settings for FPGA resource\r\n#[fpga]\r\n#  module.enabled=## Enable/Disable the FPGA resource handler module. set to \"true\" to enable, disabled by default\r\n#  fpga.major-device-number=## Major device number of FPGA, by default is 246. Strongly recommend setting this\r\n#  fpga.allowed-device-minor-numbers=## Comma separated allowed minor device numbers, empty means all FPGA devices managed by YARN.\r\n\r\n\r\n#[docker]\r\n#  module.enabled=true\r\n#  docker.privileged-containers.enabled=true\r\n#  docker.privileged-containers.registries=centos\r\n#  docker.allowed.capabilities=SYS_CHROOT,MKNOD,SETFCAP,SETPCAP,FSETID,CHOWN,AUDIT_WRITE,SETGID,NET_RAW,FOWNER,SETUID,DAC_OVERRIDE,KILL,NET_BIND_SERVICE\r\n#  docker.allowed.networks=bridge,host,none\r\n#  docker.allowed.ro-mounts=/sys/fs/cgroup\r\n#  docker.allowed.rw-mounts=/var/hadoop/yarn/local-dir,/var/hadoop/yarn/log-dir\r\n~                                                                                \r\n{code}\r\n{code:java}\r\n.. ~/hadoop-3.1.0/etc/hadoop$ docker images\r\nREPOSITORY            TAG                 IMAGE ID            CREATED             SIZE\r\nlocal/hadoop-ubuntu   latest              d8335693084b        7 hours ago         2.06GB\r\nhadoop-ubuntu         latest              d8335693084b        7 hours ago         2.06GB\r\nubuntu                16.04               c9d990395902        7 days ago          113MB\r\n{code}\r\n{code:java}\r\n2018-04-19 17:29:09,413 INFO SecurityLogger.org.apache.hadoop.ipc.Server: Auth successful for appattempt_1524172890453_0002_000002 (auth:SIMPLE)\r\n2018-04-19 17:29:09,425 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.ContainerManagerImpl: Start request for container_1524172890453_0002_02_000001 by user ubuntu\r\n2018-04-19 17:29:09,448 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.ContainerManagerImpl: Creating a new application reference for app application_1524172890453_0002\r\n2018-04-19 17:29:09,449 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.ApplicationImpl: Application application_1524172890453_0002 transitioned from NEW to INITING\r\n2018-04-19 17:29:09,450 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.ApplicationImpl: Adding container_1524172890453_0002_02_000001 to application application_1524172890453_0002\r\n2018-04-19 17:29:09,450 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.ApplicationImpl: Application application_1524172890453_0002 transitioned from INITING to RUNNING\r\n2018-04-19 17:29:09,451 INFO org.apache.hadoop.yarn.server.nodemanager.NMAuditLogger: USER=ubuntu    IP=130.245.127.176    OPERATION=Start Container Request    TARGET=ContainerManageImpl    RESULT=SUCCESS    APPID=application_1524172890453_0002    CONTAINERID=container_1524172890453_0002_02_000001\r\n2018-04-19 17:29:09,454 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerImpl: Container container_1524172890453_0002_02_000001 transitioned from NEW to LOCALIZING\r\n2018-04-19 17:29:09,454 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.AuxServices: Got event CONTAINER_INIT for appId application_1524172890453_0002\r\n2018-04-19 17:29:09,455 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.ResourceLocalizationService: Created localizer for container_1524172890453_0002_02_000001\r\n2018-04-19 17:29:09,472 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.ResourceLocalizationService: Writing credentials to the nmPrivate file /tmp/hadoop-ubuntu/nm-local-dir/nmPrivate/container_1524172890453_0002_02_000001.tokens\r\n2018-04-19 17:29:12,875 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerImpl: Container container_1524172890453_0002_02_000001 transitioned from LOCALIZING to SCHEDULED\r\n2018-04-19 17:29:12,875 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.scheduler.ContainerScheduler: Starting container [container_1524172890453_0002_02_000001]\r\n2018-04-19 17:29:12,978 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerImpl: Container container_1524172890453_0002_02_000001 transitioned from SCHEDULED to RUNNING\r\n2018-04-19 17:29:12,978 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.monitor.ContainersMonitorImpl: Starting resource-monitoring for container_1524172890453_0002_02_000001\r\n2018-04-19 17:29:13,032 WARN org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.privileged.PrivilegedOperationExecutor: Shell execution returned exit code: 29. Privileged Execution Operation Stderr:\r\nInvalid docker ro mount '/tmp/hadoop-ubuntu/nm-local-dir/filecache:/tmp/hadoop-ubuntu/nm-local-dir/filecache', realpath=/tmp/hadoop-ubuntu/nm-local-dir/filecache\r\nError constructing docker command, docker error code=13, error message='Invalid docker read-only mount'\r\n\r\nStdout: main : command provided 4\r\nmain : run as user is ubuntu\r\nmain : requested yarn user is ubuntu\r\nCreating script paths...\r\nCreating local dirs...\r\n\r\nFull command array for failed execution:\r\n[/home/ubuntu/hadoop-3.1.0/bin/container-executor, ubuntu, ubuntu, 4, application_1524172890453_0002, container_1524172890453_0002_02_000001, /tmp/hadoop-ubuntu/nm-local-dir/usercache/ubuntu/appcache/application_1524172890453_0002/container_1524172890453_0002_02_000001, /tmp/hadoop-ubuntu/nm-local-dir/nmPrivate/application_1524172890453_0002/container_1524172890453_0002_02_000001/launch_container.sh, /tmp/hadoop-ubuntu/nm-local-dir/nmPrivate/application_1524172890453_0002/container_1524172890453_0002_02_000001/container_1524172890453_0002_02_000001.tokens, /tmp/hadoop-ubuntu/nm-local-dir/nmPrivate/application_1524172890453_0002/container_1524172890453_0002_02_000001/container_1524172890453_0002_02_000001.pid, /tmp/hadoop-ubuntu/nm-local-dir, /home/ubuntu/hadoop-3.1.0/logs/userlogs, /tmp/hadoop-ubuntu/nm-docker-cmds/docker.container_1524172890453_0002_02_0000011911992431676582343.cmd, cgroups=none]\r\n2018-04-19 17:29:13,032 WARN org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.runtime.DockerLinuxContainerRuntime: Launch container failed. Exception:\r\norg.apache.hadoop.yarn.server.nodemanager.containermanager.linux.privileged.PrivilegedOperationException: ExitCodeException exitCode=29: Invalid docker ro mount '/tmp/hadoop-ubuntu/nm-local-dir/filecache:/tmp/hadoop-ubuntu/nm-local-dir/filecache', realpath=/tmp/hadoop-ubuntu/nm-local-dir/filecache\r\nError constructing docker command, docker error code=13, error message='Invalid docker read-only mount'\r\n\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.privileged.PrivilegedOperationExecutor.executePrivilegedOperation(PrivilegedOperationExecutor.java:180)\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.runtime.DockerLinuxContainerRuntime.launchContainer(DockerLinuxContainerRuntime.java:897)\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.runtime.DelegatingLinuxContainerRuntime.launchContainer(DelegatingLinuxContainerRuntime.java:141)\r\n    at org.apache.hadoop.yarn.server.nodemanager.LinuxContainerExecutor.launchContainer(LinuxContainerExecutor.java:545)\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.launchContainer(ContainerLaunch.java:511)\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:304)\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:101)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    at java.lang.Thread.run(Thread.java:748)\r\nCaused by: ExitCodeException exitCode=29: Invalid docker ro mount '/tmp/hadoop-ubuntu/nm-local-dir/filecache:/tmp/hadoop-ubuntu/nm-local-dir/filecache', realpath=/tmp/hadoop-ubuntu/nm-local-dir/filecache\r\nError constructing docker command, docker error code=13, error message='Invalid docker read-only mount'\r\n\r\n    at org.apache.hadoop.util.Shell.runCommand(Shell.java:1009)\r\n    at org.apache.hadoop.util.Shell.run(Shell.java:902)\r\n    at org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:1227)\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.privileged.PrivilegedOperationExecutor.executePrivilegedOperation(PrivilegedOperationExecutor.java:152)\r\n    ... 10 more\r\n2018-04-19 17:29:13,034 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.runtime.DockerLinuxContainerRuntime: Docker command used: run cap-add=SYS_CHROOT,MKNOD,SETFCAP,SETPCAP,FSETID,CHOWN,AUDIT_WRITE,SETGID,NET_RAW,FOWNER,SETUID,DAC_OVERRIDE,KILL,NET_BIND_SERVICE cap-drop=ALL detach=true docker-command=run docker-config=/tmp/hadoop-ubuntu/nm-local-dir/nmPrivate/application_1524172890453_0002/container_1524172890453_0002_02_000001 group-add=1000,4,24,27,30,46,110,115,116,117 image=local/hadoop-ubuntu:latest launch-command=bash,/tmp/hadoop-ubuntu/nm-local-dir/usercache/ubuntu/appcache/application_1524172890453_0002/container_1524172890453_0002_02_000001/launch_container.sh name=container_1524172890453_0002_02_000001 net=host ro-mounts=/tmp/hadoop-ubuntu/nm-local-dir/filecache:/tmp/hadoop-ubuntu/nm-local-dir/filecache,/tmp/hadoop-ubuntu/nm-local-dir/usercache/ubuntu/filecache:/tmp/hadoop-ubuntu/nm-local-dir/usercache/ubuntu/filecache rw-mounts=/home/ubuntu/hadoop-3.1.0/logs/userlogs/application_1524172890453_0002/container_1524172890453_0002_02_000001:/home/ubuntu/hadoop-3.1.0/logs/userlogs/application_1524172890453_0002/container_1524172890453_0002_02_000001,/tmp/hadoop-ubuntu/nm-local-dir/usercache/ubuntu/appcache/application_1524172890453_0002:/tmp/hadoop-ubuntu/nm-local-dir/usercache/ubuntu/appcache/application_1524172890453_0002 user=1000:1000 workdir=/tmp/hadoop-ubuntu/nm-local-dir/usercache/ubuntu/appcache/application_1524172890453_0002/container_1524172890453_0002_02_000001\r\n2018-04-19 17:29:13,034 WARN org.apache.hadoop.yarn.server.nodemanager.LinuxContainerExecutor: Exit code from container container_1524172890453_0002_02_000001 is : 29\r\n2018-04-19 17:29:13,034 WARN org.apache.hadoop.yarn.server.nodemanager.LinuxContainerExecutor: Exception from container-launch with container ID: container_1524172890453_0002_02_000001 and exit code: 29\r\norg.apache.hadoop.yarn.server.nodemanager.containermanager.runtime.ContainerExecutionException: Launch container failed\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.runtime.DockerLinuxContainerRuntime.launchContainer(DockerLinuxContainerRuntime.java:904)\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.linux.runtime.DelegatingLinuxContainerRuntime.launchContainer(DelegatingLinuxContainerRuntime.java:141)\r\n    at org.apache.hadoop.yarn.server.nodemanager.LinuxContainerExecutor.launchContainer(LinuxContainerExecutor.java:545)\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.launchContainer(ContainerLaunch.java:511)\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:304)\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:101)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    at java.lang.Thread.run(Thread.java:748)\r\n2018-04-19 17:29:13,035 INFO org.apache.hadoop.yarn.server.nodemanager.ContainerExecutor: Exception from container-launch.\r\n2018-04-19 17:29:13,035 INFO org.apache.hadoop.yarn.server.nodemanager.ContainerExecutor: Container id: container_1524172890453_0002_02_000001\r\n2018-04-19 17:29:13,035 INFO org.apache.hadoop.yarn.server.nodemanager.ContainerExecutor: Exit code: 29\r\n2018-04-19 17:29:13,035 INFO org.apache.hadoop.yarn.server.nodemanager.ContainerExecutor: Exception message: Invalid docker ro mount '/tmp/hadoop-ubuntu/nm-local-dir/filecache:/tmp/hadoop-ubuntu/nm-local-dir/filecache', realpath=/tmp/hadoop-ubuntu/nm-local-dir/filecache\r\n2018-04-19 17:29:13,035 INFO org.apache.hadoop.yarn.server.nodemanager.ContainerExecutor: Error constructing docker command, docker error code=13, error message='Invalid docker read-only mount'\r\n2018-04-19 17:29:13,035 INFO org.apache.hadoop.yarn.server.nodemanager.ContainerExecutor:\r\n2018-04-19 17:29:13,035 INFO org.apache.hadoop.yarn.server.nodemanager.ContainerExecutor: Shell output: main : command provided 4\r\n2018-04-19 17:29:13,035 INFO org.apache.hadoop.yarn.server.nodemanager.ContainerExecutor: main : run as user is ubuntu\r\n2018-04-19 17:29:13,035 INFO org.apache.hadoop.yarn.server.nodemanager.ContainerExecutor: main : requested yarn user is ubuntu\r\n2018-04-19 17:29:13,035 INFO org.apache.hadoop.yarn.server.nodemanager.ContainerExecutor: Creating script paths...\r\n2018-04-19 17:29:13,035 INFO org.apache.hadoop.yarn.server.nodemanager.ContainerExecutor: Creating local dirs...\r\n2018-04-19 17:29:13,036 WARN org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch: Container launch failed : Container exited with a non-zero exit code 29.\r\n2018-04-19 17:29:13,036 ERROR org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch: Failed to get tail of the container's prelaunch error log file\r\njava.io.FileNotFoundException: File /home/ubuntu/hadoop-3.1.0/logs/userlogs/application_1524172890453_0002/container_1524172890453_0002_02_000001/prelaunch.err does not exist\r\n    at org.apache.hadoop.fs.RawLocalFileSystem.deprecatedGetFileStatus(RawLocalFileSystem.java:641)\r\n    at org.apache.hadoop.fs.RawLocalFileSystem.getFileLinkStatusInternal(RawLocalFileSystem.java:930)\r\n    at org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:631)\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.handleContainerExitWithFailure(ContainerLaunch.java:589)\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.handleContainerExitCode(ContainerLaunch.java:555)\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:338)\r\n    at org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:101)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    at java.lang.Thread.run(Thread.java:748)\r\n2018-04-19 17:29:13,041 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerImpl: Container container_1524172890453_0002_02_000001 transitioned from RUNNING to EXITED_WITH_FAILURE\r\n2018-04-19 17:29:13,043 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch: Cleaning up container container_1524172890453_0002_02_000001\r\n2018-04-19 17:29:18,158 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch: Could not get pid for container_1524172890453_0002_02_000001. Waited for 5000 ms.\r\n2018-04-19 17:29:18,158 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch: Unable to obtain pid, but docker container request detected. Attempting to reap container container_1524172890453_0002_02_000001\r\n2018-04-19 17:29:20,578 INFO org.apache.hadoop.yarn.server.nodemanager.LinuxContainerExecutor: Deleting absolute path : /tmp/hadoop-ubuntu/nm-local-dir/usercache/ubuntu/appcache/application_1524172890453_0002/container_1524172890453_0002_02_000001\r\n2018-04-19 17:29:20,579 WARN org.apache.hadoop.yarn.server.nodemanager.NMAuditLogger: USER=ubuntu    OPERATION=Container Finished - Failed    TARGET=ContainerImpl    RESULT=FAILURE    DESCRIPTION=Container failed with state: EXITED_WITH_FAILURE    APPID=application_1524172890453_0002    CONTAINERID=container_1524172890453_0002_02_000001\r\n2018-04-19 17:29:20,588 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerImpl: Container container_1524172890453_0002_02_000001 transitioned from EXITED_WITH_FAILURE to DONE\r\n2018-04-19 17:29:20,588 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.ApplicationImpl: Removing container_1524172890453_0002_02_000001 from application application_1524172890453_0002\r\n2018-04-19 17:29:20,589 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.monitor.ContainersMonitorImpl: Stopping resource-monitoring for container_1524172890453_0002_02_000001\r\n2018-04-19 17:29:20,589 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.AuxServices: Got event CONTAINER_STOP for appId application_1524172890453_0002\r\n2018-04-19 17:29:21,600 INFO org.apache.hadoop.yarn.server.nodemanager.NodeStatusUpdaterImpl: Removed completed containers from NM context: [container_1524172890453_0002_02_000001]\r\n2018-04-19 17:29:21,601 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.ApplicationImpl: Application application_1524172890453_0002 transitioned from RUNNING to APPLICATION_RESOURCES_CLEANINGUP\r\n2018-04-19 17:29:21,602 INFO org.apache.hadoop.yarn.server.nodemanager.LinuxContainerExecutor: Deleting absolute path : /tmp/hadoop-ubuntu/nm-local-dir/usercache/ubuntu/appcache/application_1524172890453_0002\r\n2018-04-19 17:29:21,602 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.AuxServices: Got event APPLICATION_STOP for appId application_1524172890453_0002\r\n2018-04-19 17:29:21,602 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.application.ApplicationImpl: Application application_1524172890453_0002 transitioned from APPLICATION_RESOURCES_CLEANINGUP to FINISHED\r\n2018-04-19 17:29:21,602 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.loghandler.NonAggregatingLogHandler: Scheduling Log Deletion for application: application_1524172890453_0002, with delay of 10800 seconds\r\n2018-04-19 17:31:34,197 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.ResourceLocalizationService: Cache Size Before Clean: 0, Total Deleted: 0, Public Deleted: 0, Private Deleted: 0\r\n\r\n\r\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sajavadi","name":"sajavadi","key":"sajavadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Seyyed Ahmad Javadi","active":true,"timeZone":"America/New_York"},"created":"2018-04-19T21:56:38.883+0000","updated":"2018-04-19T21:56:38.883+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13153772/comment/16444886","id":"16444886","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shanekumpf%40gmail.com","name":"shanekumpf@gmail.com","key":"shanekumpf@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shane Kumpf","active":true,"timeZone":"America/Denver"},"body":"I'm glad to hear that helped.\r\n\r\nThe error is here:\r\n{code:java}\r\nInvalid docker ro mount '/tmp/hadoop-ubuntu/nm-local-dir/filecache:/tmp/hadoop-ubuntu/nm-local-dir/filecache', realpath=/tmp/hadoop-ubuntu/nm-local-dir/filecache\r\nError constructing docker command, docker error code=13, error message='Invalid docker read-only mount'{code}\r\nThe nm-local-dir, {{/tmp/hadoop-ubuntu/nm-local-dir,}} is missing from {{docker.allowed.ro-mounts}} in {{container-executor.cfg}}.\r\n\r\nCurrently, this looks to be configuration related more than a software bug (although, it does highlight doc improvements that I will file). If the above doesn't resolve the issue, can we take the discussion to the user list instead of here in a bug report? Doing so would have the benefit of helping other users that are trying out these features, but aren't following the bug reports. :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=shanekumpf%40gmail.com","name":"shanekumpf@gmail.com","key":"shanekumpf@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shane Kumpf","active":true,"timeZone":"America/Denver"},"created":"2018-04-19T22:10:31.596+0000","updated":"2018-04-19T22:10:31.596+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13153772/comment/16444905","id":"16444905","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sajavadi","name":"sajavadi","key":"sajavadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Seyyed Ahmad Javadi","active":true,"timeZone":"America/New_York"},"body":"Thanks again and sure, how can we take the discussion to the user list?\r\n\r\nI was not actually sure that bug report is the correct option, sorry for that. After adding the above to the container-executor.cfg, I get back to the first place where containers seem end very soon. I very much like to have a discussion on how Dockerfile should be and other steps, since I could not find a detailed guide for such a cool feature online.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=sajavadi","name":"sajavadi","key":"sajavadi","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Seyyed Ahmad Javadi","active":true,"timeZone":"America/New_York"},"created":"2018-04-19T22:26:42.237+0000","updated":"2018-04-19T22:26:42.237+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13153772/comment/16444913","id":"16444913","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sajavadi], please see http://hadoop.apache.org/mailing_lists.html. You can send emails to user@hadoop.apache.org. You can subscribe to the list for other related discussions.\r\n\r\nResolving this for now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vinodkv","name":"vinodkv","key":"vinodkv","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vinod Kumar Vavilapalli","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-04-19T22:33:49.314+0000","updated":"2018-04-19T22:33:49.314+0000"}],"maxResults":5,"total":5,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-8181/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3ss07:"}}