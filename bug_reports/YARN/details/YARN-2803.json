{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12752587","self":"https://issues.apache.org/jira/rest/api/2/issue/12752587","key":"YARN-2803","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12313722","id":"12313722","key":"YARN","name":"Hadoop YARN","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12313722&avatarId=15135","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12313722&avatarId=15135","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12313722&avatarId=15135"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10292","id":"10292","description":"Scalable Distributed Computing","name":"Hadoop"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12327197","id":"12327197","description":"2.6.0 release","name":"2.6.0","archived":false,"released":true,"releaseDate":"2014-11-18"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2014-11-04T01:33:54.093+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Nov 08 15:18:19 UTC 2014","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_72873702_*|*_1_*:*_1_*:*_260256370_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-11-07T21:00:38.580+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-2803/watchers","watchCount":8,"isWatching":false},"created":"2014-11-04T00:28:28.555+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/2","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12400409","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12400409","type":{"id":"12310050","name":"Regression","inward":"is broken by","outward":"breaks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310050"},"inwardIssue":{"id":"12723333","key":"YARN-2198","self":"https://issues.apache.org/jira/rest/api/2/issue/12723333","fields":{"summary":"Remove the need to run NodeManager as privileged account for Windows Secure Container Executor","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-12-01T03:11:20.157+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12319323","id":"12319323","name":"nodemanager"}],"timeoriginalestimate":null,"description":"This problem is visible by running {{TestMRJobs#testDistributedCache}} or {{TestUberAM#testDistributedCache}} on Windows.  Both tests fail.  Running git bisect, I traced it to the YARN-2198 patch to remove the need to run NodeManager as a privileged account.  The tests started failing when that patch was committed.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12310320":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12327197","id":"12327197","description":"2.6.0 release","name":"2.6.0","archived":false,"released":true,"releaseDate":"2014-11-18"}],"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12680024","id":"12680024","filename":"YARN-2803.0.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-07T00:45:59.017+0000","size":1702,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12680024/YARN-2803.0.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12680238","id":"12680238","filename":"YARN-2803.1.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-07T19:30:38.819+0000","size":2354,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12680238/YARN-2803.1.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12680251","id":"12680251","filename":"YARN-2803.2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-07T20:25:12.518+0000","size":2356,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12680251/YARN-2803.2.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"MR distributed cache not working correctly on Windows after NodeManager privileged account changes.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14195451","id":"14195451","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"Here is the stack trace from a failure.\n\n{code}\ntestDistributedCache(org.apache.hadoop.mapreduce.v2.TestMRJobs)  Time elapsed: 1\n6.844 sec  <<< FAILURE!\njava.lang.AssertionError: null\n        at org.junit.Assert.fail(Assert.java:86)\n        at org.junit.Assert.assertTrue(Assert.java:41)\n        at org.junit.Assert.assertTrue(Assert.java:52)\n        at org.apache.hadoop.mapreduce.v2.TestMRJobs._testDistributedCache(TestMRJobs.java:881)\n        at org.apache.hadoop.mapreduce.v2.TestMRJobs.testDistributedCache(TestMRJobs.java:891)\n{code}\n\nThe task log shows the assertion failing when it tries to find job.jar/lib/lib2.jar.\n\n{code}\n2014-11-03 15:36:33,652 FATAL [main] org.apache.hadoop.mapred.YarnChild: Error running child : java.lang.AssertionError\n\tat org.junit.Assert.fail(Assert.java:86)\n\tat org.junit.Assert.assertTrue(Assert.java:41)\n\tat org.junit.Assert.assertNotNull(Assert.java:621)\n\tat org.junit.Assert.assertNotNull(Assert.java:631)\n\tat org.apache.hadoop.mapreduce.v2.TestMRJobs$DistributedCacheChecker.setup(TestMRJobs.java:764)\n\tat org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:142)\n\tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:784)\n\tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)\n\tat org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:169)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat javax.security.auth.Subject.doAs(Subject.java:415)\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1640)\n\tat org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:164)\n{code}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-04T00:32:32.293+0000","updated":"2014-11-04T00:32:32.293+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14195532","id":"14195532","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"body":"I'll have a look, [~rusanu], did this happen when you ran the unit tests?  Can you have a look also?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-04T01:33:54.093+0000","updated":"2014-11-04T01:33:54.093+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14197005","id":"14197005","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"body":"So, having looked at this a bit (with some help from [~cnauroth]) I've added some logging and it looks to be some kind of pathing issue, the files are there, just not quite how the classloader expects them to be.  \n\n2014-11-04 14:22:53,956 INFO [main] org.apache.hadoop.mapreduce.v2.TestMRJobs: THE PATH TO THE PLACE IS file:/C:/boo/1415139741659/org.apache.hadoop.mapreduce.v2.TestMRJobs-localDir-nm-0_0/usercache/cwelch/appcache/application_1415139755128_0001/container_1415139755128_0001_01_000001/job.jar/job.jar/^M\n\n(ignore the c:/boo, that was a different troubleshooting step (which made no difference...))  notice the duplicated job.jar/job.jar - the files are present in the higher level \"job.jar\" directory, but not in the duplicated path, so in some form or fashion an additional level is being added to the path now, it's not clear to me why as of yet.  Continuing to investigate.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-04T22:39:43.277+0000","updated":"2014-11-04T22:39:43.277+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14197155","id":"14197155","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"body":"A little more info - inside the job.jar directory is a job.jar file, I believe this is where the duplication is taking place, as the resource path is finding that entry both during the search for just job.jar and the path which has it as a parent directory (the test is failing while looking for \"job.jar/lib/lib1.jar\".  It might be a classpath ordering issue.  Still looking...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-04T23:49:25.412+0000","updated":"2014-11-04T23:49:25.412+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14197205","id":"14197205","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"body":"on both Mac (where the test passes) and windows (where not) the directory layout looks to be the same where the issue lies, and there is a job.jar/job.jar (directory/file) present both places, but only on windows does it end up finding the resource \"job.jar\" as the doubled path, and then failing to find the lib1.jar subsequently (no doubt, because of the former).  Pretty sure it's a classpath issue, don't think it's related to link differences as I don't believe that was newly introduced.  and, still looking...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-05T00:22:40.221+0000","updated":"2014-11-05T00:22:40.221+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14197305","id":"14197305","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"body":"On Mac, cl.getResource(\"job.jar/\") returns the directory (higher level entry), on windows the same call is returning the jar file path (job.jar/job.jar).  I think this is the essential issue, because when asking subsequently for \"job.jar/lib/lib1.jar\" the former finds the resource and the latter (win) will not, as it is starting from the wrong place.  This certainly looks like a classpath issue, either different content or different order.  still looking.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-05T01:30:37.320+0000","updated":"2014-11-05T01:30:37.320+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14199370","id":"14199370","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"body":"So, these tests pass with the revision directly before [YARN-2198] checkin, and fail for it and subsequent revisions (having checked several, including current trunk - although behavior seems to differ slightly from the checkin until now). A couple of differences are notable, although which is responsible is not yet clear.  Post 2198 the classpath*jar ends up with a reference to itself, which does not seem correct (although it may or may not be the cause).  the non-secure windows path also ends up with a reference to the classpath jar in the nmPrivate directory instead of in the usercache area as it did before the change.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-05T23:36:29.582+0000","updated":"2014-11-05T23:36:29.582+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14199459","id":"14199459","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"body":"Enumerating the entries for job.jar indicates the issue, on the working revision there are two, one of which can then be used to get to the job.jar/lib/lib1.jar, on the broken revision that entry does not exist, which I think suggests that the classpath entry for the directory which contains that directory has gone missing.\nworking:\n{code}\nJURL /C:/Users/cwelch/AppData/Local/Temp/1415233136660/org.apache.hadoop.mapreduce.v2.TestMRJobs-localDir-nm-2_3/usercache/cwelch/appcache/application_1415233156844_0001/container_1415233156844_0001_01_000002/job.jar/^M\n2014-11-05 16:19:48,074 INFO [main] org.apache.hadoop.mapreduce.v2.TestMRJobs: JJURL /C:/Users/cwelch/AppData/Local/Temp/1415233136660/org.apache.hadoop.mapreduce.v2.TestMRJobs-localDir-nm-2_0/usercache/cwelch/appcache/application_1415233156844_0001/container_1415233156844_0001_01_000001/job.jar/^M\n2014-11-05 16:19:48,074 INFO [main] org.apache.hadoop.mapreduce.v2.TestMRJobs: JJURL /C:/Users/cwelch/AppData/Local/Temp/1415233136660/org.apache.hadoop.mapreduce.v2.TestMRJobs-localDir-nm-2_0/usercache/cwelch/appcache/application_1415233156844_0001/container_1415233156844_0001_01_000001/job.jar/job.jar/^M\n2014-11-05 16:19:48,074 INFO [main] org.apache.hadoop.mapreduce.v2.TestMRJobs: JJURL /C:/Users/cwelch/AppData/Local/Temp/1415233136660/org.apache.hadoop.mapreduce.v2.TestMRJobs-localDir-nm-2_3/usercache/cwelch/appcache/application_1415233156844_0001/container_1415233156844_0001_01_000002/job.jar/job.jar/^M\n{code}\n\nnot working\n{code}\n2014-11-05 16:05:37,813 INFO [main] org.apache.hadoop.mapreduce.v2.TestMRJobs: JJURL /C:/Users/cwelch/AppData/Local/Temp/1415232295468/org.apache.hadoop.mapreduce.v2.TestMRJobs-localDir-nm-0_2/usercache/cwelch/appcache/application_1415232314590_0001/container_1415232314590_0001_01_000001/job.jar/job.jar/^M\n2014-11-05 16:05:37,813 INFO [main] org.apache.hadoop.mapreduce.v2.TestMRJobs: JJURL /C:/Users/cwelch/AppData/Local/Temp/1415232295468/org.apache.hadoop.mapreduce.v2.TestMRJobs-localDir-nm-1_1/usercache/cwelch/appcache/application_1415232314590_0001/container_1415232314590_0001_01_000002/job.jar/job.jar/^M\n{code}\n\nlooking into differences wrt the container... entry on the classpath\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-06T00:28:26.656+0000","updated":"2014-11-06T00:28:26.656+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14201303","id":"14201303","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"body":"Patch to revert behavior for jar creation location, which resolves this issue for non-secure windows.  As it is it probably breaks secure windows, I may look at making the behavior conditional (however, I suspect secure windows will fail this test/is broken as well, so I'm not sure that making this conditional really matters at the moment...).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-07T00:45:59.026+0000","updated":"2014-11-07T00:45:59.026+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14201373","id":"14201373","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12680024/YARN-2803.0.patch\n  against trunk revision 75b820c.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-YARN-Build/5763//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-YARN-Build/5763//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-11-07T01:26:53.803+0000","updated":"2014-11-07T01:26:53.803+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14201377","id":"14201377","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"body":"The fix is to cause existing unit tests which fail on windows to now pass, there is no need for additional tests, they're already there.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-07T01:30:03.997+0000","updated":"2014-11-07T01:30:03.997+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14201577","id":"14201577","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 for the patch.  I verified that {{TestMRJobs}} and {{TestUberAM}} pass in my Windows environment.\n\nI'm going to hold off on committing until tomorrow in case anyone else watching wants to comment regarding secure mode.  I do think we need to commit this, because without it, we have a regression in non-secure mode on Windows, which has been shipping for several releases already.  Secure mode is still under development as I understand it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-07T04:23:27.613+0000","updated":"2014-11-07T04:23:27.613+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14201708","id":"14201708","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jianhe","name":"jianhe","key":"jianhe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jian He","active":true,"timeZone":"America/Los_Angeles"},"body":"the original response to why this change is made, but I didn't pay further attention..\nhttps://issues.apache.org/jira/browse/YARN-2198?focusedCommentId=14158260&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14158260\n\nThought this might break windows security,  I'm OK to get this patch in and fix windows security separately.  thanks Craig and Chris !","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jianhe","name":"jianhe","key":"jianhe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jian He","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-07T07:06:06.526+0000","updated":"2014-11-07T07:06:06.526+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14201787","id":"14201787","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jianhe","name":"jianhe","key":"jianhe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jian He","active":true,"timeZone":"America/Los_Angeles"},"body":"just thought more, [~cwelch], I think it's fine to add a security enable conditional check and also skip the two distributed cache tests for Windows-secuirty,  and open a follow-up jira to either fix windows-secuirty to conform with the non-secure behavior or add a new unit test for windows-secure-distributed-cache. what do you think ?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=jianhe","name":"jianhe","key":"jianhe","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Jian He","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-07T08:24:34.062+0000","updated":"2014-11-07T08:24:34.062+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14202504","id":"14202504","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"body":"Right, we currently don't run (can't..) any unit tests through the secure windows codepath (which is problematic...) so disabling the tests in that case is accomplished :-) I'm going to put up a patch in a few which will retain the existing logic for windows secure even though we know it is not quite correct - the patch as it is now will completely break windows secure mode, so I think it's better for now to allow that path to function as it did before and only change the non-secure path so that we fix this issue - I think we'll want to go with that patch for now, and to open a follow-on to address the windows-secure case in a better way.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-07T19:22:57.481+0000","updated":"2014-11-07T19:22:57.481+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14202523","id":"14202523","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"body":"Patch which retains windows secure behavior for classpath jar location while fixing non secure windows by returning it to using \"pwd\"","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-07T19:30:38.825+0000","updated":"2014-11-07T19:30:38.825+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14202571","id":"14202571","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks again, Craig.  I re-verified that the tests pass in my environment with this version of the patch.  I agree with the argument to retain the current behavior of secure mode (such as it is).\n\nSorry to nitpick, but it looks like some lines are indented by 1 space instead of 2.  Would you mind fixing that?  I'll be +1 after that.\n\n{code}\n        if (exec instanceof WindowsSecureContainerExecutor) {\n         jarDir = nmPrivateClasspathJarDir;\n        } else {\n         jarDir = pwd; \n        }\n{code}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-07T20:03:34.083+0000","updated":"2014-11-07T20:03:34.083+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14202584","id":"14202584","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12680238/YARN-2803.1.patch\n  against trunk revision 2ac1be7.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-YARN-Build/5787//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-YARN-Build/5787//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-11-07T20:17:21.541+0000","updated":"2014-11-07T20:17:21.541+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14202598","id":"14202598","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"body":"Now, with better indentation.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cwelch","name":"cwelch","key":"cwelch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Craig Welch","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-07T20:25:12.525+0000","updated":"2014-11-07T20:25:12.525+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14202602","id":"14202602","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 for the v2 patch.  I'll commit this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-07T20:27:26.440+0000","updated":"2014-11-07T20:27:26.440+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14202625","id":"14202625","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-trunk-Commit #6483 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/6483/])\nYARN-2803. MR distributed cache not working correctly on Windows after NodeManager privileged account changes. Contributed by Craig Welch. (cnauroth: rev 06b797947c980d7d21864eb8b700cf565756aac1)\n* hadoop-yarn-project/CHANGES.txt\n* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2014-11-07T20:43:02.032+0000","updated":"2014-11-07T20:43:02.032+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14202664","id":"14202664","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"I have committed this to trunk, branch-2 and branch-2.6.  Craig, thank you for tracking down the bug and providing a fix.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-11-07T21:00:38.614+0000","updated":"2014-11-07T21:00:38.614+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14202676","id":"14202676","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"{color:red}-1 overall{color}.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12680251/YARN-2803.2.patch\n  against trunk revision a71e930.\n\n    {color:green}+1 @author{color}.  The patch does not contain any @author tags.\n\n    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no new tests are needed for this patch.\n                        Also please list what manual steps were performed to verify this patch.\n\n    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.\n\n    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.\n\n    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.\n\n    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.\n\n    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager.\n\n    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-YARN-Build/5789//testReport/\nConsole output: https://builds.apache.org/job/PreCommit-YARN-Build/5789//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-11-07T21:06:31.624+0000","updated":"2014-11-07T21:06:31.624+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14203397","id":"14203397","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Yarn-trunk #737 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/737/])\nYARN-2803. MR distributed cache not working correctly on Windows after NodeManager privileged account changes. Contributed by Craig Welch. (cnauroth: rev 06b797947c980d7d21864eb8b700cf565756aac1)\n* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java\n* hadoop-yarn-project/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2014-11-08T11:42:39.885+0000","updated":"2014-11-08T11:42:39.885+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14203442","id":"14203442","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Hdfs-trunk #1927 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1927/])\nYARN-2803. MR distributed cache not working correctly on Windows after NodeManager privileged account changes. Contributed by Craig Welch. (cnauroth: rev 06b797947c980d7d21864eb8b700cf565756aac1)\n* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java\n* hadoop-yarn-project/CHANGES.txt\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2014-11-08T14:01:16.669+0000","updated":"2014-11-08T14:01:16.669+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12752587/comment/14203467","id":"14203467","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in Hadoop-Mapreduce-trunk #1951 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1951/])\nYARN-2803. MR distributed cache not working correctly on Windows after NodeManager privileged account changes. Contributed by Craig Welch. (cnauroth: rev 06b797947c980d7d21864eb8b700cf565756aac1)\n* hadoop-yarn-project/CHANGES.txt\n* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/containermanager/launcher/ContainerLaunch.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2014-11-08T15:18:19.211+0000","updated":"2014-11-08T15:18:19.211+0000"}],"maxResults":26,"total":26,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/YARN-2803/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i21x5z:"}}