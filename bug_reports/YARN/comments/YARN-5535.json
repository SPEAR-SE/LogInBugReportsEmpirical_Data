[YARN-4041 has made token recovery asynchronous during recovery. 
Its been merged into 2.7 branch, but i think not present in 2.7.1

With this optimization, recovery seems more faster when token renewer was slow., Thanks [~sunilg] for the comments. 
I think Removing RMDelegationToken and SequenceNumber may take a long timeï¼Œlead to can't handle other events
{code:title=ZKRMStateStore.java|borderStyle=solid}
  @Override
  protected synchronized void removeRMDelegationTokenState(
      RMDelegationTokenIdentifier rmDTIdentifier) throws Exception {
    String nodeRemovePath =
        getNodePath(delegationTokensRootPath, DELEGATION_TOKEN_PREFIX
            + rmDTIdentifier.getSequenceNumber());
    if (LOG.isDebugEnabled()) {
      LOG.debug("Removing RMDelegationToken_"
          + rmDTIdentifier.getSequenceNumber());
    }
    if (existsWithRetries(nodeRemovePath, false) != null) {
      ArrayList<Op> opList = new ArrayList<Op>();
      opList.add(Op.delete(nodeRemovePath, -1));
      doDeleteMultiWithRetries(opList);
    } else {
      LOG.debug("Attempted to delete a non-existing znode " + nodeRemovePath);
    }
  }
{code}, Hi [~tangshangwen], Is this removal of RM delegation token happening synchronously during recovery ?
IIUC, Recovery of application doesnt involve removal of delegation token (atleast synchronously), or correct me if i am wrong or missing something !
, I'm sorry, it is after recovery ,  and i found even queue size very large
{noformat}
[2016-08-12T19:43:25.986+08:00] [INFO] yarn.event.AsyncDispatcher.handle(AsyncDispatcher.java:235) [AsyncDispatcher event handler] : Size of event-queue is 643000
[2016-08-12T19:43:25.986+08:00] [INFO] yarn.event.AsyncDispatcher.handle(AsyncDispatcher.java:235) [AsyncDispatcher event handler] : Size of event-queue is 644000
[2016-08-12T19:43:25.986+08:00] [INFO] yarn.event.AsyncDispatcher.handle(AsyncDispatcher.java:235) [AsyncDispatcher event handler] : Size of event-queue is 645000
[2016-08-12T19:43:25.986+08:00] [INFO] yarn.event.AsyncDispatcher.handle(AsyncDispatcher.java:235) [AsyncDispatcher event handler] : Size of event-queue is 646000
{noformat} ]