[I have reproduced this error. I run a mapreduce job. At runtime, I find the MRAppMaster process and kill it. The NodeManager will report this to ResourceManager. The ResourceManager will report it to RMAppImpl object, and it will recreate a RMAppAttempt as current RMAppAttempt. But during this period, the containers request by former MRAppMaster will be allocated to current RMAppAttempt. The current RMAppAttempt can not deal this message . The state machine does not include transition from current to CONTAINER_ALLOCATED.]