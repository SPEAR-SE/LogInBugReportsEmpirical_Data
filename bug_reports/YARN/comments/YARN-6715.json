[I've seen that there's already a case for this: https://issues.apache.org/jira/browse/YARN-5567 (thanks [~miklos.szegedi@cloudera.com] for linking).

Shouldn't we at least update the Hadoop documentation and source code? https://hadoop.apache.org/docs/current/hadoop-yarn/hadoop-yarn-site/NodeManager.html#External_Health_Script

This page says "If the script *exits with a non-zero exit code*, times out or results in an exception being thrown, the node is marked as unhealthy" which is completely false and I was misled by this statement. I spent 2-3 hours figuring out why returning a non-zero doesn't work and eventually I had to debug the Node manager. ]