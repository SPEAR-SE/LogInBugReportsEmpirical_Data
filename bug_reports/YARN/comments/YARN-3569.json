[Tried to write a test case using the MiniYarnCluster but the app gets stuck in accepted state. I have filed the following issue for it [YARN-3608|https://issues.apache.org/jira/browse/YARN-3608]., [~spandan], what is your use case ? If you want to get applications for the given queues, you can use below API in YarnClient.
{code}
  public abstract List<ApplicationReport> getApplications(Set<String> queues,
      Set<String> users, Set<String> applicationTypes,
      EnumSet<YarnApplicationState> applicationStates)
{code}, \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | pre-patch |  17m 17s | Pre-patch trunk compilation is healthy. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:red}-1{color} | tests included |   0m  0s | The patch doesn't appear to include any new or modified tests.  Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. |
| {color:green}+1{color} | javac |   8m 48s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |   9m 47s | There were no new javadoc warning messages. |
| {color:green}+1{color} | release audit |   0m 25s | The applied patch does not increase the total number of release audit warnings. |
| {color:green}+1{color} | checkstyle |   0m 34s | There were no new checkstyle issues. |
| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |
| {color:green}+1{color} | install |   1m 34s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 34s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | findbugs |   0m 50s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |
| {color:red}-1{color} | yarn tests |   6m 57s | Tests failed in hadoop-yarn-client. |
| | |  46m 51s | |
\\
\\
|| Reason || Tests ||
| Timed out tests | org.apache.hadoop.yarn.client.TestResourceTrackerOnHA |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12731637/YARN-3569.patch |
| Optional Tests | javadoc javac unit findbugs checkstyle |
| git revision | trunk / c46d4ba |
| hadoop-yarn-client test log | https://builds.apache.org/job/PreCommit-YARN-Build/8101/artifact/patchprocess/testrun_hadoop-yarn-client.txt |
| Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/8101/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf903.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/8101/console |


This message was automatically generated., [~jianhe]. The use case I was thinking is as follows. Say for example if you have an instance of YarnClient and then you decide to find out what all queues does the RM currently have. So I do yarnClient.getAllQueues(). Now I decide to figure out what all applications are in each of these queues. For using the getApplications() function that you suggested, you have to iterate through the list of queueInfos returned and extract the name of each of the queues. It would be better and easier from the user perspective if he could just access a queue in the list and call queueinfo.getApplications() to get all the apps on the queue. Currently this always returns an empty list and patch provided should fix it.

On another note I have manually verified that if you do yanClient.getQueueInfo(queuename).getApplications() it does indeed returns the running apps in that queue. No reason as to why fixing the route from yarnClient.getAllQueues() should not be done., [~spandan], the problem with returning applications in getAllQueues() / getRootQueueInfos() / getChildQueueInfos() APIs is that the number of applications can potentially become very large. It was a deliberate decision to only return apps for the case of getQueueInfo(String queueName).

We have two choices
 # add additional APIs corresponding to bulk-queue-info requests which also return the applications
 # Just document that users will have to manually get applications list after they get the list of queue-names and that queueInfo.getApplications() will be empty.

I prefer we do #2. Thoughts?

Canceling patch while we continue discussion., [~vinodkv]
I think we should do both 1 and 2.
For doing 1 we can just have a overloaded function that takes a boolean parameter. getAllApplications(boolean). The boolean parameter would indicate whether we want the application list for a queue or not. This will cater to the use case that was pointed out in my previous comment.

For doing 2 we should inform people about this and point to the new api mentioned in point 1.

Any thoughts on this ?]