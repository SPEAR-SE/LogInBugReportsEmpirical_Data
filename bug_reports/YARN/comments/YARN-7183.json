[There are 2 different meanings for above mentioned cases
# FinalStatus is "FAILED" and State is "FAILED"  : AM unable to launch it self. It may be because of several reasons which need to be check for diagnosis message!
# FinalStatus is "FAILED" and State is "FINISHED" : AM registered and started running successfully. But AM is unregistered with "FAILED" stated. It means AM has failed to run application. 

, Closing as invalid! Please use user mailing lists to ask such doubts!, [~rohit12sh]  Thanks for your time to answer this issue.

This is an existing application which was running in production with Yarn 2.8.0. 
After upgrading the cluster to Yarn 2.8.1, on failure scenarios now we see the different state (FINISHED instead of FAILED).
I believe this is a bug introduced in Yarn 2.8.1.

The spark application in both case returning exit code 15. In both cases, AM was running before throwing the error.


, Can you attach RM logs ? And point to application id?, Here is the relevant log from Yarn 2.8.1 RM [[^state_issue_yarn_281.log.zip]] ==> application id is application_1502985025699_2813

Here is the relevant log from Yarn 2.8.0 RM [^state_issue_yarn_280.log.zip] ==> application id is application_1501528954366_8919, [~rohit12sh] - Were you able to look into this issue?]