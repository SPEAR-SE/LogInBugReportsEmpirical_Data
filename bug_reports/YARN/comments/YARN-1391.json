[This is related to YARN-1382, {color:green}+1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12618147/YARN-1391.v1.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 3 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-YARN-Build/2642//testReport/
Console output: https://builds.apache.org/job/PreCommit-YARN-Build/2642//console

This message is automatically generated., > in case of multiple node managers on a single machine.
Can you provide more details on real scenarios for multiple NMs on a single machine (beside test purpose)?, Siqi asked me to chime in. 
An example of a real yet untypical scenario I am aware of is an HPC scale up machine. A single node manager does not scale to manage all containers that can run concurrently there. So you have a choice of either unnecessarily fragmenting this machine into a bunch of smaller VM/OS's or run a bunch of NM's without any overhead of virtualization.

It's always been possible to run multiple TT's in MRv1 as well., Patch isn't applying anymore. Please update. Other than that, couple more comments:
 - The FairScheduler changes seem completely orthogonal. Please drop them here and file a new ticket. Similarly, the new test in TestFairScheduler..
 - Can you also add a test in TestYARNCLI similar to the one for web-services? Making sure we are consistent across interfaces., I think this patch can still be applied to the trunk, {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12618147/YARN-1391.v1.patch
  against trunk revision 52bbe0f.

    {color:red}-1 patch{color}.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-YARN-Build/5216//console

This message is automatically generated., Uploaded a new patch which can be applied to trunk. I am quite sure what need to be changed in TestYarnCLI, {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12672452/YARN-1391.v2.patch
  against trunk revision 8dfe54f.

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 2 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager:

                  org.apache.hadoop.yarn.server.nodemanager.TestDirectoryCollection

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-YARN-Build/5220//testReport/
Console output: https://builds.apache.org/job/PreCommit-YARN-Build/5220//console

This message is automatically generated., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:red}-1{color} | patch |   0m  0s | The patch command could not apply the patch during dryrun. |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12672452/YARN-1391.v2.patch |
| Optional Tests | javadoc javac unit findbugs checkstyle |
| git revision | trunk / f1a152c |
| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/7632/console |


This message was automatically generated., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:red}-1{color} | patch |   0m  0s | The patch command could not apply the patch during dryrun. |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12672452/YARN-1391.v2.patch |
| Optional Tests | javadoc javac unit findbugs checkstyle |
| git revision | trunk / f1a152c |
| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/7650/console |


This message was automatically generated., Cancel the patch as it seems cannot be applied anymore. [~l201514], mind rebase the patch against latest trunk? Thx!, [~djp] Looks like, the trunk has already have this patch. Maybe there is a duplicate jira for this. I am going to close this jira, here is the duplicate jira YARN-3266]