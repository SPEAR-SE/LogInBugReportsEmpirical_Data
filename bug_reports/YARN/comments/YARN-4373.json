[I am seriously surprised with this issue where applications can not be found in {{rmcontext}} during recovery. Currently, Active services will not get started as long as recovery finishes which means none of the ports are open to listen. Once applications are recovery either it can be completed apps or running, both are added to {{rmcontext}}.
Would you provide full RM logs for this issue? , I'm also incredulous.  I'm still working to reproduce the issue.  It was reported by our testing team.  If/when I reproduce it, I'll post the details., This issue was actually that if the name node is unreachable, there's a window after a job finishes where the RM will redirect to the JHS, but because the name node isn't reachable, the job's history hasn't been transferred yet.  That's not something that we can easily resolve, so I'm closing this as invalid.]