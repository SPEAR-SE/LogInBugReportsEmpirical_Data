[If the include list is provided it specifies the list of nodes that are allowed to participate in the cluster.  Any node not in that list is not allowed to register with the cluster, and any node actively part of the cluster that is not in that list will be decomissioned., That is supposed to be. But when I put in the include list the name of the nodes and refresh with yarn rmadmin -refreshNodes all the nodemanagers in the list are immediately decommissioned.

$ cat yarn.include
ip-10-0-0-104
ip-10-0-0-105
ip-10-0-0-106
ip-10-0-0-107
$ yarn rmadmin -refreshNodes

and the four running nodemanagers are killed.
, Ah, it wasn't clear to me from the log above that the file had the nodes in the include list.  According to the log above, it only contained the line "a" per this log snippet:
{noformat}
2015-10-29 18:51:51,900 INFO org.apache.hadoop.util.HostsFileReader: Refreshing hosts (include/exclude) list
2015-10-29 18:51:51,900 INFO org.apache.hadoop.util.HostsFileReader: Adding a to the list of included hosts from /opt/yarn/hadoop/etc/hadoop/yarn.include
2015-10-2918:51:51,901 INFO org.apache.hadoop.yarn.server.resourcemanager.RMAuditLogger: USER=hdmaster IP=10.0.0.10 OPERATION=refreshNodes TARGET=AdminService RESULT=SUCCESS
{noformat}

I think you're include list should have qualified names like ip-10-0-0-106.ec2.internal instead of just ip-10-0-0-106., Thank you! Using FQDM is working. , Reopening to fix resolution type.  Fixed is normally reserved for JIRAs that have corresponding code changes.]