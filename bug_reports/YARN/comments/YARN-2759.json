[In the patch, I add a test case which add label "p1" twice to see whether the resource for "p1" is changed(reset).
Without the patch, the test will be failed., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12677485/YARN-2759.000.patch
  against trunk revision b0e19c9.

    {color:red}-1 patch{color}.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-YARN-Build/5594//console

This message is automatically generated., Hi [~zxu],
Thanks for raising these issues and upload patch, but could you please make them to a consolidated patch? Since too many tiny patches will cause lots of committer review/commit/rebase/merge problems.
I would suggest to merge all *NodeLabelsManager to a single JIRA, put it under YARN-2492, and close others as duplications.

Thanks,
Wangda, thanks [~leftnoteasy], 
I merged the patch in this issue into YARN-2753's patch because both patch touch same files.]