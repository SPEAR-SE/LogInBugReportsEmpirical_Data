[Yes this looks to be a problem.
check this [synchronization locking problem | https://issues.apache.org/jira/browse/YARN-897?focusedCommentId=13706284&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13706284] The ordering always should be from root to leaf queue. I think there can be other places too where this ordering is mixed. , This is a duplicate of YARN-1398 which existed before this ticket got opened. We can continue at YARN-1398.]