[This issue occurs since LogAggregationIndexedFileController appends "-ifile" to the suffix configured in yarn.nodemanager.remote-app-log-dir-suffix*_,_* when yarn.log-aggregation.IndexedFormat.remote-app-log-dir-suffix is not configured as seen in below code.
{code:java}
if (this.remoteRootLogDirSuffix == null
    || this.remoteRootLogDirSuffix.isEmpty()) {
  this.remoteRootLogDirSuffix = conf.get(
      YarnConfiguration.NM_REMOTE_APP_LOG_DIR_SUFFIX,
      YarnConfiguration.DEFAULT_NM_REMOTE_APP_LOG_DIR_SUFFIX)
      + "-ifile";
}
{code}
 
Not sure why "-ifile" is being appended here by default. To ensure that it doesn't aggregates logs in the same folder the older LogAggregationTFileController logs were present?, Did this really occur in Hadoop 2.7.3?  LogAggregationIndexedFileController was added by YARN-7072, but not until 2.9.
, [~jlowe] We have faced this on HDP Distribution with Hadoop version 2.7.3 but which has most of the latest code from Apache. The issue will also occur in trunk version., [~jlowe] YARN-7072 seems to have been backported in HDP distribution with hadoop version 2.7.3. That's why the discrepancy is there in versions I guess.]