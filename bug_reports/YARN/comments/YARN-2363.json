[Most application submits result in a proxy tracking URL, but occasionally the client sees a transient "N/A" URL.  Here's a snippet of Pig client output where a MapReduce job was submitted with no tracking URL received:

{noformat}
2014-07-23 19:19:16,658 [JobControl] INFO org.apache.hadoop.mapred.ResourceMgrDelegate - Submitted application application_1403199204249_357708 to ResourceManager at
xx/xx:xx
2014-07-23 19:19:16,660 [JobControl] INFO  org.apache.hadoop.mapreduce.Job - The url to track the job: N/A
{noformat}

I believe this can occur if the client tries to get an application report just as the app is submitted.  YarnClientImpl.submitApplication won't return until the app is past the NEW_SAVING state, but if the client slips in while the app is in the SUBMITTED state then I think we could end up with no tracking URL due to the lack of a current attempt.  From RMAppImpl.createAndGetApplicationReport:

{code}
      String trackingUrl = UNAVAILABLE;
      String host = UNAVAILABLE;
      String origTrackingUrl = UNAVAILABLE;
[...]
      if (allowAccess) {
        if (this.currentAttempt != null) {
          currentApplicationAttemptId = this.currentAttempt.getAppAttemptId();
          trackingUrl = this.currentAttempt.getTrackingUrl();
          origTrackingUrl = this.currentAttempt.getOriginalTrackingUrl();
{code}

So if we don't have a current attempt we'll return "N/A" as the tracking URL.  Arguably we should return the proxied URL which will redirect to the RM app page if there is no tracking URL set yet so at least the client/user has a URL that can be used to track the application.
, Quick patch that generates a default proxy URL if the user has access to the app but there isn't a current attempt., patch looks good to me.
+1 (non-binding), {color:green}+1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12658270/YARN-2363.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-YARN-Build/4462//testReport/
Console output: https://builds.apache.org/job/PreCommit-YARN-Build/4462//console

This message is automatically generated., LGTM. We also see this quite a bit, and it would be great to get this committed. Thanks!, +1. This will be a big help to users, [~jlowe]., Thanks for the reviews, [~mitdesai], [~sjlee0], and [~jeagles]!  Committing this., I committed this to trunk and branch-2., SUCCESS: Integrated in Hadoop-Yarn-trunk #685 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/685/])
YARN-2363. Submitted applications occasionally lack a tracking URL. Contributed by Jason Lowe (jlowe: rev 9ea7b6c063c0bdd4551962e21d0173f671e9df03)
* hadoop-yarn-project/CHANGES.txt
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/TestRMAppTransitions.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/RMAppImpl.java
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #1901 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1901/])
YARN-2363. Submitted applications occasionally lack a tracking URL. Contributed by Jason Lowe (jlowe: rev 9ea7b6c063c0bdd4551962e21d0173f671e9df03)
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/TestRMAppTransitions.java
* hadoop-yarn-project/CHANGES.txt
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/RMAppImpl.java
, FAILURE: Integrated in Hadoop-Hdfs-trunk #1876 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1876/])
YARN-2363. Submitted applications occasionally lack a tracking URL. Contributed by Jason Lowe (jlowe: rev 9ea7b6c063c0bdd4551962e21d0173f671e9df03)
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/test/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/TestRMAppTransitions.java
* hadoop-yarn-project/CHANGES.txt
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmapp/RMAppImpl.java
]