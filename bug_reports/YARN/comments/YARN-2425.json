[This should be automatically fixed as part of YARN-2704., turns out YARN-2704 doesn't solve this problem completely. 
there are race conditions that RM could try to launch the AM container or AM tries to launch the task container before NM actually receives the token from RM. reopen this., Is this still the issue?, This is fixed now since you can get HDFS delegation tokens via WebHDFS.]