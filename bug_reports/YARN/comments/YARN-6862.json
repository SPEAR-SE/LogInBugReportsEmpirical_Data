[[~daemon] Thanks for raising the jira.
Could you please share some more information regarding cluster and logs if any (NM logs)., I updated the summary to be something more specific.  Also please do not set the Fix version field, as that should only be set once a patch is committed to one or more branches.  The Target Version is intended to track the intended version(s) for the fix., [~sunilg] Thanks.

We only can see used memory from NM logs, and from NM logs we can see some logs as follows:

2017-07-24 22:19:08,551 INFO org.apache.hadoop.yarn.server.nodemanager.containermanager.monitor.ContainersMonitorImpl: Memory usage of ProcessTree 23933 for container-id container_e6717_1500903083707_0014_01_000259: -1B of 1 GB physical memory used; -1B of 2.1 GB virtual memory used

Because we collect resource usage metrics direct from MonitoringThread#run method, so the metrics is very reliable.
, I believe the case of it returning -1B is when the process exited just as the resource monitor was going to examine it.  It's an invalid result because there is no process there.  We should not be aggregating those results if that's indeed the case., [~jlowe]  It is very likely that the process is exists, but the resource usage especially the used CPU is very problematic.
I think we should fix it.]