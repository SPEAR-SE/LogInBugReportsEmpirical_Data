[Cross origin support exists for Timeline Service V1, linking related tickets., Uploaded the initial patch. It refactors the timeline service CORS support and moves it into hadoop-yarn-server-common.

To preserve the current timeline service behaviour, I've renamed the classes to YarnCrossOriginFilterInitializer and YarnCrossOriginFilter. The timeline service CrossOriginFilterInitializer inherits from YarnCrossOriginFilterInitializer and allows the existing configs to work without any change.

I added a getPrefix function and modified the getFilterParameters function in YarnCrossOriginFilterInitializer to allow it to be shared by the timeline service and YARN.

[~jeagles], [~pramachandran] - can you please review the changes?, \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:red}-1{color} | pre-patch |  20m 50s | Pre-patch trunk has 7 extant Findbugs (version 3.0.0) warnings. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 4 new or modified test files. |
| {color:green}+1{color} | javac |   7m 37s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |   9m 51s | There were no new javadoc warning messages. |
| {color:green}+1{color} | release audit |   0m 23s | The applied patch does not increase the total number of release audit warnings. |
| {color:green}+1{color} | site |   3m  1s | Site still builds. |
| {color:red}-1{color} | checkstyle |   1m 48s | The applied patch generated  5 new checkstyle issues (total was 0, now 5). |
| {color:green}+1{color} | whitespace |   0m  1s | The patch has no lines that end in whitespace. |
| {color:green}+1{color} | install |   1m 26s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 32s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | findbugs |   3m 33s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |
| {color:red}-1{color} | yarn tests |   1m 56s | Tests failed in hadoop-yarn-common. |
| {color:red}-1{color} | yarn tests |   2m 51s | Tests failed in hadoop-yarn-server-applicationhistoryservice. |
| {color:green}+1{color} | yarn tests |   0m 26s | Tests passed in hadoop-yarn-server-common. |
| | |  54m 20s | |
\\
\\
|| Reason || Tests ||
| Failed unit tests | hadoop.yarn.logaggregation.TestAggregatedLogDeletionService |
|   | hadoop.yarn.server.applicationhistoryservice.TestApplicationHistoryServer |
|   | hadoop.yarn.server.timeline.security.TestTimelineAuthenticationFilter |
|   | hadoop.yarn.server.timeline.webapp.TestTimelineWebServicesWithSSL |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12753551/YARN-4009.001.patch |
| Optional Tests | javadoc javac unit findbugs checkstyle site |
| git revision | trunk / 2e251a7 |
| Pre-patch Findbugs warnings | https://builds.apache.org/job/PreCommit-YARN-Build/8960/artifact/patchprocess/trunkFindbugsWarningshadoop-yarn-server-common.html |
| checkstyle |  https://builds.apache.org/job/PreCommit-YARN-Build/8960/artifact/patchprocess/diffcheckstylehadoop-yarn-server-common.txt |
| hadoop-yarn-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/8960/artifact/patchprocess/testrun_hadoop-yarn-common.txt |
| hadoop-yarn-server-applicationhistoryservice test log | https://builds.apache.org/job/PreCommit-YARN-Build/8960/artifact/patchprocess/testrun_hadoop-yarn-server-applicationhistoryservice.txt |
| hadoop-yarn-server-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/8960/artifact/patchprocess/testrun_hadoop-yarn-server-common.txt |
| Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/8960/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf906.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/8960/console |


This message was automatically generated., The general approach seems to be correct, allowing for backwards compatibility while offering the new feature to more YARN services. I'll have  a look at the patch more in detail this week., [~jeagles] - did you get a chance to review the patch? Thanks!, [~vvasudev], going to take a look tomorrow., Uploaded a newer version of the patch with some documentation fixed., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | pre-patch |  21m 28s | Pre-patch trunk compilation is healthy. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 4 new or modified test files. |
| {color:green}+1{color} | javac |   7m 48s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |  10m 10s | There were no new javadoc warning messages. |
| {color:green}+1{color} | release audit |   0m 23s | The applied patch does not increase the total number of release audit warnings. |
| {color:green}+1{color} | site |   3m  3s | Site still builds. |
| {color:red}-1{color} | checkstyle |   1m 47s | The applied patch generated  5 new checkstyle issues (total was 0, now 5). |
| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |
| {color:green}+1{color} | install |   1m 31s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 33s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | findbugs |   3m 36s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |
| {color:green}+1{color} | yarn tests |   1m 57s | Tests passed in hadoop-yarn-common. |
| {color:green}+1{color} | yarn tests |   3m 48s | Tests passed in hadoop-yarn-server-applicationhistoryservice. |
| {color:green}+1{color} | yarn tests |   0m 25s | Tests passed in hadoop-yarn-server-common. |
| | |  56m 33s | |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12756213/YARN-4009.002.patch |
| Optional Tests | javadoc javac unit findbugs checkstyle site |
| git revision | trunk / bf2f2b4 |
| checkstyle |  https://builds.apache.org/job/PreCommit-YARN-Build/9162/artifact/patchprocess/diffcheckstylehadoop-yarn-server-common.txt |
| hadoop-yarn-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9162/artifact/patchprocess/testrun_hadoop-yarn-common.txt |
| hadoop-yarn-server-applicationhistoryservice test log | https://builds.apache.org/job/PreCommit-YARN-Build/9162/artifact/patchprocess/testrun_hadoop-yarn-server-applicationhistoryservice.txt |
| hadoop-yarn-server-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9162/artifact/patchprocess/testrun_hadoop-yarn-server-common.txt |
| Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/9162/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf909.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/9162/console |


This message was automatically generated., Uploaded a new version of the patch that moves the filter into hadoop-common. No reason why the filter needs to be YARN specific., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | pre-patch |  23m 31s | Pre-patch trunk compilation is healthy. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 4 new or modified test files. |
| {color:green}+1{color} | javac |   7m 55s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |  10m  0s | There were no new javadoc warning messages. |
| {color:green}+1{color} | release audit |   0m 24s | The applied patch does not increase the total number of release audit warnings. |
| {color:green}+1{color} | site |   3m  2s | Site still builds. |
| {color:red}-1{color} | checkstyle |   2m 10s | The applied patch generated  5 new checkstyle issues (total was 0, now 5). |
| {color:green}+1{color} | whitespace |   0m  0s | The patch has no lines that end in whitespace. |
| {color:green}+1{color} | install |   1m 29s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 33s | The patch built with eclipse:eclipse. |
| {color:red}-1{color} | findbugs |   5m 26s | The patch appears to introduce 1 new Findbugs (version 3.0.0) warnings. |
| {color:green}+1{color} | common tests |  23m 27s | Tests passed in hadoop-common. |
| {color:red}-1{color} | yarn tests |   1m 56s | Tests failed in hadoop-yarn-common. |
| {color:green}+1{color} | yarn tests |   3m 47s | Tests passed in hadoop-yarn-server-applicationhistoryservice. |
| {color:green}+1{color} | yarn tests |   0m 25s | Tests passed in hadoop-yarn-server-common. |
| | |  85m  1s | |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hadoop-yarn-server-applicationhistoryservice |
| Failed unit tests | hadoop.yarn.logaggregation.TestAggregatedLogsBlock |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12756252/YARN-4009.003.patch |
| Optional Tests | javadoc javac unit findbugs checkstyle site |
| git revision | trunk / bf2f2b4 |
| checkstyle |  https://builds.apache.org/job/PreCommit-YARN-Build/9168/artifact/patchprocess/diffcheckstylehadoop-common.txt |
| Findbugs warnings | https://builds.apache.org/job/PreCommit-YARN-Build/9168/artifact/patchprocess/newPatchFindbugsWarningshadoop-yarn-server-applicationhistoryservice.html |
| hadoop-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9168/artifact/patchprocess/testrun_hadoop-common.txt |
| hadoop-yarn-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9168/artifact/patchprocess/testrun_hadoop-yarn-common.txt |
| hadoop-yarn-server-applicationhistoryservice test log | https://builds.apache.org/job/PreCommit-YARN-Build/9168/artifact/patchprocess/testrun_hadoop-yarn-server-applicationhistoryservice.txt |
| hadoop-yarn-server-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9168/artifact/patchprocess/testrun_hadoop-yarn-server-common.txt |
| Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/9168/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf908.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/9168/console |


This message was automatically generated., Fixed findbugs warning., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | pre-patch |  28m 25s | Pre-patch trunk compilation is healthy. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 4 new or modified test files. |
| {color:green}+1{color} | javac |   7m 53s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |  10m  1s | There were no new javadoc warning messages. |
| {color:green}+1{color} | release audit |   0m 24s | The applied patch does not increase the total number of release audit warnings. |
| {color:green}+1{color} | site |   3m  2s | Site still builds. |
| {color:red}-1{color} | checkstyle |   2m 32s | The applied patch generated  5 new checkstyle issues (total was 0, now 5). |
| {color:green}+1{color} | whitespace |   0m  1s | The patch has no lines that end in whitespace. |
| {color:green}+1{color} | install |   1m 30s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 34s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | findbugs |   5m 31s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |
| {color:green}+1{color} | common tests |  23m 12s | Tests passed in hadoop-common. |
| {color:green}+1{color} | yarn tests |   2m  0s | Tests passed in hadoop-yarn-common. |
| {color:green}+1{color} | yarn tests |   3m 13s | Tests passed in hadoop-yarn-server-applicationhistoryservice. |
| {color:green}+1{color} | yarn tests |   0m 25s | Tests passed in hadoop-yarn-server-common. |
| | |  89m 44s | |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12756279/YARN-4009.004.patch |
| Optional Tests | javadoc javac unit findbugs checkstyle site |
| git revision | trunk / bf2f2b4 |
| checkstyle |  https://builds.apache.org/job/PreCommit-YARN-Build/9174/artifact/patchprocess/diffcheckstylehadoop-common.txt |
| hadoop-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9174/artifact/patchprocess/testrun_hadoop-common.txt |
| hadoop-yarn-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9174/artifact/patchprocess/testrun_hadoop-yarn-common.txt |
| hadoop-yarn-server-applicationhistoryservice test log | https://builds.apache.org/job/PreCommit-YARN-Build/9174/artifact/patchprocess/testrun_hadoop-yarn-server-applicationhistoryservice.txt |
| hadoop-yarn-server-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9174/artifact/patchprocess/testrun_hadoop-yarn-server-common.txt |
| Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/9174/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf901.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/9174/console |


This message was automatically generated., Couple of questions: 

{code}
if (!initializers.contains(CrossOriginFilterInitializer.class.getName())) {
      if(conf.getBoolean(YarnConfiguration
          .TIMELINE_SERVICE_HTTP_CROSS_ORIGIN_ENABLED, YarnConfiguration
              .TIMELINE_SERVICE_HTTP_CROSS_ORIGIN_ENABLED_DEFAULT)) {
        initializers = CrossOriginFilterInitializer.class.getName() + ","
            + initializers;
        modifiedInitializers = true;
      }
    }
{code}

I see this code in Timeline which makes it easier to enable cross-origin support just for Timeline. I am assuming Timeline also looks at the hadoop filters defined in core-site? What happens when both of these are enabled at the same time with different settings?

Not sure if there is a question of selecting enabling cors support for different services such as NN webservices vs RM webservices.

Apart from the above, if a global config is good enough, patch looks good.
 

, [~jeagles] ? , [~jeagles] Any comments on the patch?, I have reviewed the patch and have run with the timeline cross origin filter for a long time now. From a usage concern, Cross origin support is only needed for browser running javascript that reaches out to web services. Is there a need to allow the design to enable this only for webservices (REST APIs) instead of the whole webserver (builtin UIs and REST apis)? Also, seconding [~hitesh]'s comment regarding turning this on per service. Patch looks good other that these design questions., bq. What happens when both of these are enabled at the same time with different settings?

If the filter is set in core-site.xml, it will be enabled irrespective of the value set in yarn.timeline-service.http-cross-origin.enabled. There is no change in behavior here - if a user sets the existing timeline CORS filter in core-site.xml, it will override the value set in yarn.timeline-service.http-cross-origin.enabled.

bq.  Is there a need to allow the design to enable this only for webservices (REST APIs) instead of the whole webserver (builtin UIs and REST apis)?

I don't think there's any such need. As far as I can tell, we don't treat http requests differently i.e. webservices and builtin UI requests are treated the same.

bq. Not sure if there is a question of selecting enabling cors support for different services such as NN webservices vs RM webservices.

I thought about this - I'm not sure there's any benefit to adding one more set of config knobs. The chances are if you're fine with enabling CORS for the RM, you're probably fine enabling it for the NMs and the timeline server as well. If a user wishes to disable or enable CORS for a particular service, they can always set the filter initializers to the appropriate value on the node the service is running on(either via core-site.xml or yarn-site.xml).

, Thinking more on this, a global config might be something that is okay to start with ( we already have a huge proliferation of configs which users do not set ). If there are concerns raised down the line, it should likely be easy enough to add yarn and hdfs specific configs which would override the global one in a compatible manner? [~jeagles] comments? 

, Uploaded a new version of the patch that adds additional configs to enable/disable CORS globally. This will allow individual services to enable CORS without it affecting all web services., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | pre-patch |  27m 34s | Pre-patch trunk compilation is healthy. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 4 new or modified test files. |
| {color:green}+1{color} | javac |   8m  0s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |  10m  2s | There were no new javadoc warning messages. |
| {color:green}+1{color} | release audit |   0m 22s | The applied patch does not increase the total number of release audit warnings. |
| {color:green}+1{color} | site |   3m  5s | Site still builds. |
| {color:red}-1{color} | checkstyle |   3m 20s | The applied patch generated  5 new checkstyle issues (total was 0, now 5). |
| {color:red}-1{color} | checkstyle |   3m 56s | The applied patch generated  2 new checkstyle issues (total was 211, now 212). |
| {color:red}-1{color} | whitespace |   0m  2s | The patch has 1  line(s) that end in whitespace. Use git apply --whitespace=fix. |
| {color:green}+1{color} | install |   1m 32s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 33s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | findbugs |   9m 37s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |
| {color:green}+1{color} | common tests |  23m 40s | Tests passed in hadoop-common. |
| {color:green}+1{color} | yarn tests |   0m 23s | Tests passed in hadoop-yarn-api. |
| {color:red}-1{color} | yarn tests |   1m 57s | Tests failed in hadoop-yarn-common. |
| {color:red}-1{color} | yarn tests |   3m  7s | Tests failed in hadoop-yarn-server-applicationhistoryservice. |
| {color:green}+1{color} | yarn tests |   0m 25s | Tests passed in hadoop-yarn-server-common. |
| {color:red}-1{color} | yarn tests |   7m 19s | Tests failed in hadoop-yarn-server-nodemanager. |
| {color:red}-1{color} | yarn tests |  52m 16s | Tests failed in hadoop-yarn-server-resourcemanager. |
| | | 154m 55s | |
\\
\\
|| Reason || Tests ||
| Failed unit tests | hadoop.yarn.logaggregation.TestAggregatedLogsBlock |
|   | hadoop.yarn.server.timeline.webapp.TestTimelineWebServices |
|   | hadoop.yarn.server.nodemanager.webapp.TestNMWebServicesContainers |
|   | hadoop.yarn.server.nodemanager.webapp.TestNMWebServices |
|   | hadoop.yarn.server.nodemanager.webapp.TestNMWebServicesApps |
|   | hadoop.yarn.server.resourcemanager.webapp.TestRMWebServicesNodeLabels |
|   | hadoop.yarn.server.resourcemanager.scheduler.fair.TestAllocationFileLoaderService |
|   | hadoop.yarn.server.resourcemanager.webapp.TestRMWebServicesCapacitySched |
|   | hadoop.yarn.server.resourcemanager.webapp.TestRMWebServicesDelegationTokens |
|   | hadoop.yarn.server.resourcemanager.webapp.TestRMWebServicesAppsModification |
|   | hadoop.yarn.server.resourcemanager.scheduler.fifo.TestFifoScheduler |
|   | hadoop.yarn.server.resourcemanager.webapp.TestRMWebServicesNodes |
|   | hadoop.yarn.server.resourcemanager.webapp.TestRMWebServicesApps |
|   | hadoop.yarn.server.resourcemanager.webapp.TestRMWebServicesFairScheduler |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12761924/YARN-4009.005.patch |
| Optional Tests | javadoc javac unit findbugs checkstyle site |
| git revision | trunk / c890c51 |
| checkstyle |  https://builds.apache.org/job/PreCommit-YARN-Build/9245/artifact/patchprocess/diffcheckstylehadoop-common.txt https://builds.apache.org/job/PreCommit-YARN-Build/9245/artifact/patchprocess/diffcheckstylehadoop-yarn-api.txt |
| whitespace | https://builds.apache.org/job/PreCommit-YARN-Build/9245/artifact/patchprocess/whitespace.txt |
| hadoop-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9245/artifact/patchprocess/testrun_hadoop-common.txt |
| hadoop-yarn-api test log | https://builds.apache.org/job/PreCommit-YARN-Build/9245/artifact/patchprocess/testrun_hadoop-yarn-api.txt |
| hadoop-yarn-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9245/artifact/patchprocess/testrun_hadoop-yarn-common.txt |
| hadoop-yarn-server-applicationhistoryservice test log | https://builds.apache.org/job/PreCommit-YARN-Build/9245/artifact/patchprocess/testrun_hadoop-yarn-server-applicationhistoryservice.txt |
| hadoop-yarn-server-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9245/artifact/patchprocess/testrun_hadoop-yarn-server-common.txt |
| hadoop-yarn-server-nodemanager test log | https://builds.apache.org/job/PreCommit-YARN-Build/9245/artifact/patchprocess/testrun_hadoop-yarn-server-nodemanager.txt |
| hadoop-yarn-server-resourcemanager test log | https://builds.apache.org/job/PreCommit-YARN-Build/9245/artifact/patchprocess/testrun_hadoop-yarn-server-resourcemanager.txt |
| Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/9245/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf905.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/9245/console |


This message was automatically generated., The test failures are unrelated to the patch. The tests pass on my machine - it looks like some other process took the ports and the http servers couldn't start., Will take a look at this tomorrow. The test failures are looking suspicious to me since they are all web services related. address in use errors - did one of the tests fail and leave the service running?, Kicked off another Jenkins to confirm the test case issue., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:red}-1{color} | pre-patch |  25m 48s | Findbugs (version ) appears to be broken on trunk. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 4 new or modified test files. |
| {color:green}+1{color} | javac |   8m  1s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |  10m 11s | There were no new javadoc warning messages. |
| {color:green}+1{color} | release audit |   0m 24s | The applied patch does not increase the total number of release audit warnings. |
| {color:green}+1{color} | site |   3m  7s | Site still builds. |
| {color:red}-1{color} | checkstyle |   3m  6s | The applied patch generated  5 new checkstyle issues (total was 0, now 5). |
| {color:red}-1{color} | checkstyle |   3m 37s | The applied patch generated  2 new checkstyle issues (total was 211, now 212). |
| {color:red}-1{color} | whitespace |   0m  2s | The patch has 1  line(s) that end in whitespace. Use git apply --whitespace=fix. |
| {color:green}+1{color} | install |   1m 32s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 34s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | findbugs |   9m 54s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |
| {color:green}+1{color} | common tests |  24m 33s | Tests passed in hadoop-common. |
| {color:green}+1{color} | yarn tests |   0m 23s | Tests passed in hadoop-yarn-api. |
| {color:green}+1{color} | yarn tests |   2m  1s | Tests passed in hadoop-yarn-common. |
| {color:green}+1{color} | yarn tests |   3m 55s | Tests passed in hadoop-yarn-server-applicationhistoryservice. |
| {color:green}+1{color} | yarn tests |   0m 25s | Tests passed in hadoop-yarn-server-common. |
| {color:green}+1{color} | yarn tests |   8m 33s | Tests passed in hadoop-yarn-server-nodemanager. |
| {color:green}+1{color} | yarn tests |  60m 30s | Tests passed in hadoop-yarn-server-resourcemanager. |
| | | 164m 54s | |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12761924/YARN-4009.005.patch |
| Optional Tests | javadoc javac unit findbugs checkstyle site |
| git revision | trunk / e52bc69 |
| checkstyle |  https://builds.apache.org/job/PreCommit-YARN-Build/9253/artifact/patchprocess/diffcheckstylehadoop-common.txt https://builds.apache.org/job/PreCommit-YARN-Build/9253/artifact/patchprocess/diffcheckstylehadoop-yarn-api.txt |
| whitespace | https://builds.apache.org/job/PreCommit-YARN-Build/9253/artifact/patchprocess/whitespace.txt |
| hadoop-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9253/artifact/patchprocess/testrun_hadoop-common.txt |
| hadoop-yarn-api test log | https://builds.apache.org/job/PreCommit-YARN-Build/9253/artifact/patchprocess/testrun_hadoop-yarn-api.txt |
| hadoop-yarn-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9253/artifact/patchprocess/testrun_hadoop-yarn-common.txt |
| hadoop-yarn-server-applicationhistoryservice test log | https://builds.apache.org/job/PreCommit-YARN-Build/9253/artifact/patchprocess/testrun_hadoop-yarn-server-applicationhistoryservice.txt |
| hadoop-yarn-server-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9253/artifact/patchprocess/testrun_hadoop-yarn-server-common.txt |
| hadoop-yarn-server-nodemanager test log | https://builds.apache.org/job/PreCommit-YARN-Build/9253/artifact/patchprocess/testrun_hadoop-yarn-server-nodemanager.txt |
| hadoop-yarn-server-resourcemanager test log | https://builds.apache.org/job/PreCommit-YARN-Build/9253/artifact/patchprocess/testrun_hadoop-yarn-server-resourcemanager.txt |
| Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/9253/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf905.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/9253/console |


This message was automatically generated., [~jeagles] Did you get a chance to look at the latest patch? , +1. I have tried this patch out and reviewed the code. Minor nits 
* Configuration usage set(_config setting_, 'true") is better as setBoolean(_config setting_, true)
* timeline server now uses its own different way to enable. So if i turn on resource manager and timeline server both on but nothing else, I get a CORS disabled message in the timeline server log even though it is enabled. Could you file a jira to address this spurious log message?, Uploaded a new patch to address Jonathan's comments.

bq.    Configuration usage set(config setting, 'true") is better as setBoolean(config setting, true)

Fixed.

bq.    timeline server now uses its own different way to enable. So if i turn on resource manager and timeline server both on but nothing else, I get a CORS disabled message in the timeline server log even though it is enabled. Could you file a jira to address this spurious log message?

Fixed., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:red}-1{color} | pre-patch |  27m 19s | Pre-patch trunk has 1 extant Findbugs (version 3.0.0) warnings. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 4 new or modified test files. |
| {color:green}+1{color} | javac |   8m  4s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |  11m 30s | There were no new javadoc warning messages. |
| {color:red}-1{color} | release audit |   0m 19s | The applied patch generated 1 release audit warnings. |
| {color:green}+1{color} | site |   3m 35s | Site still builds. |
| {color:red}-1{color} | checkstyle |   3m 29s | The applied patch generated  6 new checkstyle issues (total was 0, now 6). |
| {color:red}-1{color} | checkstyle |   4m  4s | The applied patch generated  2 new checkstyle issues (total was 211, now 212). |
| {color:red}-1{color} | whitespace |   0m  2s | The patch has 1  line(s) that end in whitespace. Use git apply --whitespace=fix. |
| {color:green}+1{color} | install |   1m 55s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 40s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | findbugs |  11m 13s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |
| {color:green}+1{color} | common tests |   8m  1s | Tests passed in hadoop-common. |
| {color:green}+1{color} | yarn tests |   0m 27s | Tests passed in hadoop-yarn-api. |
| {color:green}+1{color} | yarn tests |   2m  8s | Tests passed in hadoop-yarn-common. |
| {color:green}+1{color} | yarn tests |   4m  5s | Tests passed in hadoop-yarn-server-applicationhistoryservice. |
| {color:green}+1{color} | yarn tests |   0m 29s | Tests passed in hadoop-yarn-server-common. |
| {color:green}+1{color} | yarn tests |   9m  2s | Tests passed in hadoop-yarn-server-nodemanager. |
| {color:red}-1{color} | yarn tests |  60m 23s | Tests failed in hadoop-yarn-server-resourcemanager. |
| | | 154m 50s | |
\\
\\
|| Reason || Tests ||
| Failed unit tests | hadoop.yarn.server.resourcemanager.security.TestRMDelegationTokens |
| Timed out tests | org.apache.hadoop.yarn.server.resourcemanager.TestRM |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12764977/YARN-4009.006.patch |
| Optional Tests | javadoc javac unit findbugs checkstyle site |
| git revision | trunk / 30e2f83 |
| Pre-patch Findbugs warnings | https://builds.apache.org/job/PreCommit-YARN-Build/9345/artifact/patchprocess/trunkFindbugsWarningshadoop-yarn-server-nodemanager.html |
| Release Audit | https://builds.apache.org/job/PreCommit-YARN-Build/9345/artifact/patchprocess/patchReleaseAuditProblems.txt |
| checkstyle |  https://builds.apache.org/job/PreCommit-YARN-Build/9345/artifact/patchprocess/diffcheckstylehadoop-common.txt https://builds.apache.org/job/PreCommit-YARN-Build/9345/artifact/patchprocess/diffcheckstylehadoop-yarn-api.txt |
| whitespace | https://builds.apache.org/job/PreCommit-YARN-Build/9345/artifact/patchprocess/whitespace.txt |
| hadoop-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9345/artifact/patchprocess/testrun_hadoop-common.txt |
| hadoop-yarn-api test log | https://builds.apache.org/job/PreCommit-YARN-Build/9345/artifact/patchprocess/testrun_hadoop-yarn-api.txt |
| hadoop-yarn-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9345/artifact/patchprocess/testrun_hadoop-yarn-common.txt |
| hadoop-yarn-server-applicationhistoryservice test log | https://builds.apache.org/job/PreCommit-YARN-Build/9345/artifact/patchprocess/testrun_hadoop-yarn-server-applicationhistoryservice.txt |
| hadoop-yarn-server-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9345/artifact/patchprocess/testrun_hadoop-yarn-server-common.txt |
| hadoop-yarn-server-nodemanager test log | https://builds.apache.org/job/PreCommit-YARN-Build/9345/artifact/patchprocess/testrun_hadoop-yarn-server-nodemanager.txt |
| hadoop-yarn-server-resourcemanager test log | https://builds.apache.org/job/PreCommit-YARN-Build/9345/artifact/patchprocess/testrun_hadoop-yarn-server-resourcemanager.txt |
| Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/9345/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf905.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/9345/console |


This message was automatically generated., The release audit and findbugs issues are unrelated to the patch. The tests pass on my local machine., [~vvasudev], I'm wondering one more thing. Instead of adding logic for disabling the log message, I was thinking about changing the logic in ApplicationHistoryServer. Seems like we could just modify the logic below to avoid double adding the cross origin filter. What do you think?

{code}
    if (!initializers.contains(CrossOriginFilterInitializer.class.getName())) {
      if(conf.getBoolean(YarnConfiguration
          .TIMELINE_SERVICE_HTTP_CROSS_ORIGIN_ENABLED, YarnConfiguration
              .TIMELINE_SERVICE_HTTP_CROSS_ORIGIN_ENABLED_DEFAULT)) {
        if (initializers.length() != 0) {
          initializers += ",";
        }
        initializers += CrossOriginFilterInitializer.class.getName();
        modifiedInitializers = true;
      }
    }

{code}, [~jeagles] - just to make sure we're on the same page - you're suggesting that if we find the HttpCrossOriginFilterInitializer(which is present in hadoop-common) in the filter initializers list, we should just remove it from the initializers list and use the timeline server configurations instead?, [~vvasudev], I'm trying hard to find a balance here. On the one hand I want to support backwards compatibility on the other hand I want configuration to be simple. I want to support way that I can enable only RM and timeline CORS support while only specifying the configuration once (not once for common CORS and once for timeline CORS). However, I want to support both the old configuration parameters.

Proposals
1) If timeline CORS is enabled () we can have the timeline cors configuration override the common CORS if they are present otherwise use the common configuration. 
2) Create a second timeline enabled flag that will only use the new CORS classes, configs and behavior. This will allow the the old way using the old configs with timeline prefix to work, but allow users to migrate to the new way to simplify configuration.

What do you think?, [~jeagles] - makes sense. I'll put up a patch with your proposals incorporated., Uploaded a new patch to address [~jeagles] suggestions., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:red}-1{color} | pre-patch |  31m 17s | Pre-patch trunk has 1 extant Findbugs (version 3.0.0) warnings. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 4 new or modified test files. |
| {color:green}+1{color} | javac |   9m  6s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |  11m 50s | There were no new javadoc warning messages. |
| {color:green}+1{color} | release audit |   0m 26s | The applied patch does not increase the total number of release audit warnings. |
| {color:green}+1{color} | site |   3m 26s | Site still builds. |
| {color:red}-1{color} | checkstyle |   3m 57s | The applied patch generated  6 new checkstyle issues (total was 0, now 6). |
| {color:red}-1{color} | checkstyle |   4m 41s | The applied patch generated  2 new checkstyle issues (total was 211, now 212). |
| {color:red}-1{color} | whitespace |   0m  3s | The patch has 1  line(s) that end in whitespace. Use git apply --whitespace=fix. |
| {color:green}+1{color} | install |   2m 28s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 48s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | findbugs |  12m  5s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |
| {color:red}-1{color} | common tests |   8m 37s | Tests failed in hadoop-common. |
| {color:green}+1{color} | yarn tests |   0m 31s | Tests passed in hadoop-yarn-api. |
| {color:green}+1{color} | yarn tests |   2m 35s | Tests passed in hadoop-yarn-common. |
| {color:green}+1{color} | yarn tests |   4m 46s | Tests passed in hadoop-yarn-server-applicationhistoryservice. |
| {color:green}+1{color} | yarn tests |   0m 32s | Tests passed in hadoop-yarn-server-common. |
| {color:green}+1{color} | yarn tests |   9m 34s | Tests passed in hadoop-yarn-server-nodemanager. |
| {color:red}-1{color} | yarn tests |  65m  3s | Tests failed in hadoop-yarn-server-resourcemanager. |
| | | 169m 30s | |
\\
\\
|| Reason || Tests ||
| Failed unit tests | hadoop.ipc.TestDecayRpcScheduler |
|   | hadoop.yarn.server.resourcemanager.scheduler.fair.TestFairScheduler |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12766370/YARN-4009.007.patch |
| Optional Tests | javadoc javac unit findbugs checkstyle site |
| git revision | trunk / da16c9b |
| Pre-patch Findbugs warnings | https://builds.apache.org/job/PreCommit-YARN-Build/9431/artifact/patchprocess/trunkFindbugsWarningshadoop-yarn-server-nodemanager.html |
| checkstyle |  https://builds.apache.org/job/PreCommit-YARN-Build/9431/artifact/patchprocess/diffcheckstylehadoop-common.txt https://builds.apache.org/job/PreCommit-YARN-Build/9431/artifact/patchprocess/diffcheckstylehadoop-yarn-api.txt |
| whitespace | https://builds.apache.org/job/PreCommit-YARN-Build/9431/artifact/patchprocess/whitespace.txt |
| hadoop-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9431/artifact/patchprocess/testrun_hadoop-common.txt |
| hadoop-yarn-api test log | https://builds.apache.org/job/PreCommit-YARN-Build/9431/artifact/patchprocess/testrun_hadoop-yarn-api.txt |
| hadoop-yarn-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9431/artifact/patchprocess/testrun_hadoop-yarn-common.txt |
| hadoop-yarn-server-applicationhistoryservice test log | https://builds.apache.org/job/PreCommit-YARN-Build/9431/artifact/patchprocess/testrun_hadoop-yarn-server-applicationhistoryservice.txt |
| hadoop-yarn-server-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9431/artifact/patchprocess/testrun_hadoop-yarn-server-common.txt |
| hadoop-yarn-server-nodemanager test log | https://builds.apache.org/job/PreCommit-YARN-Build/9431/artifact/patchprocess/testrun_hadoop-yarn-server-nodemanager.txt |
| hadoop-yarn-server-resourcemanager test log | https://builds.apache.org/job/PreCommit-YARN-Build/9431/artifact/patchprocess/testrun_hadoop-yarn-server-resourcemanager.txt |
| Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/9431/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf909.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/9431/console |


This message was automatically generated., The test failures are unrelated to the patch., [~jeagles] - did you get a chance to review the latest patch?, [~vvasudev], made a small tweak to get rid of the setLoggingDisabled call. If you are ok with this change, I would like to check this in., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:red}-1{color} | patch |   0m  1s | The patch command could not apply the patch during dryrun. |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12767844/YARN-4009.LOGGING.patch |
| Optional Tests | javadoc javac unit findbugs checkstyle site |
| git revision | trunk / d759b4b |
| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/9513/console |


This message was automatically generated., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:red}-1{color} | pre-patch |  37m 26s | Pre-patch trunk has 4 extant Findbugs (version 3.0.0) warnings. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 4 new or modified test files. |
| {color:green}+1{color} | javac |  10m 39s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |  13m 43s | There were no new javadoc warning messages. |
| {color:green}+1{color} | release audit |   0m 29s | The applied patch does not increase the total number of release audit warnings. |
| {color:green}+1{color} | site |   4m 19s | Site still builds. |
| {color:red}-1{color} | checkstyle |   4m 33s | The applied patch generated  5 new checkstyle issues (total was 0, now 5). |
| {color:red}-1{color} | checkstyle |   5m 19s | The applied patch generated  2 new checkstyle issues (total was 211, now 212). |
| {color:red}-1{color} | whitespace |   0m  2s | The patch has 1  line(s) that end in whitespace. Use git apply --whitespace=fix. |
| {color:green}+1{color} | install |   1m 57s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 42s | The patch built with eclipse:eclipse. |
| {color:green}+1{color} | findbugs |  12m 40s | The patch does not introduce any new Findbugs (version 3.0.0) warnings. |
| {color:red}-1{color} | common tests |   8m  6s | Tests failed in hadoop-common. |
| {color:green}+1{color} | yarn tests |   0m 33s | Tests passed in hadoop-yarn-api. |
| {color:green}+1{color} | yarn tests |   2m 27s | Tests passed in hadoop-yarn-common. |
| {color:green}+1{color} | yarn tests |   3m 49s | Tests passed in hadoop-yarn-server-applicationhistoryservice. |
| {color:green}+1{color} | yarn tests |   0m 32s | Tests passed in hadoop-yarn-server-common. |
| {color:green}+1{color} | yarn tests |  10m  1s | Tests passed in hadoop-yarn-server-nodemanager. |
| {color:red}-1{color} | yarn tests |  62m 29s | Tests failed in hadoop-yarn-server-resourcemanager. |
| | | 176m 56s | |
\\
\\
|| Reason || Tests ||
| Failed unit tests | hadoop.ipc.TestDecayRpcScheduler |
|   | hadoop.yarn.server.resourcemanager.scheduler.fair.TestFairScheduler |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12767880/YARN-4009.LOGGING.patch |
| Optional Tests | javadoc javac unit findbugs checkstyle site |
| git revision | trunk / ee9b80a |
| Pre-patch Findbugs warnings | https://builds.apache.org/job/PreCommit-YARN-Build/9514/artifact/patchprocess/trunkFindbugsWarningshadoop-yarn-common.html |
| Pre-patch Findbugs warnings | https://builds.apache.org/job/PreCommit-YARN-Build/9514/artifact/patchprocess/trunkFindbugsWarningshadoop-yarn-server-nodemanager.html |
| checkstyle |  https://builds.apache.org/job/PreCommit-YARN-Build/9514/artifact/patchprocess/diffcheckstylehadoop-common.txt https://builds.apache.org/job/PreCommit-YARN-Build/9514/artifact/patchprocess/diffcheckstylehadoop-yarn-api.txt |
| whitespace | https://builds.apache.org/job/PreCommit-YARN-Build/9514/artifact/patchprocess/whitespace.txt |
| hadoop-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9514/artifact/patchprocess/testrun_hadoop-common.txt |
| hadoop-yarn-api test log | https://builds.apache.org/job/PreCommit-YARN-Build/9514/artifact/patchprocess/testrun_hadoop-yarn-api.txt |
| hadoop-yarn-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9514/artifact/patchprocess/testrun_hadoop-yarn-common.txt |
| hadoop-yarn-server-applicationhistoryservice test log | https://builds.apache.org/job/PreCommit-YARN-Build/9514/artifact/patchprocess/testrun_hadoop-yarn-server-applicationhistoryservice.txt |
| hadoop-yarn-server-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9514/artifact/patchprocess/testrun_hadoop-yarn-server-common.txt |
| hadoop-yarn-server-nodemanager test log | https://builds.apache.org/job/PreCommit-YARN-Build/9514/artifact/patchprocess/testrun_hadoop-yarn-server-nodemanager.txt |
| hadoop-yarn-server-resourcemanager test log | https://builds.apache.org/job/PreCommit-YARN-Build/9514/artifact/patchprocess/testrun_hadoop-yarn-server-resourcemanager.txt |
| Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/9514/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf907.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/9514/console |


This message was automatically generated., [~jeagles] - with your patch, the timeline service will always require its own CORS configuration. Is my understanding correct? In that case, we should remove
{code}
+  /** Enables cross origin support for timeline server. Uses the filter
+   * in hadoop common instead of the timeline server specific one. */
+  public static final String TIMELINE_SERVICE_CROSS_ORIGIN_ENABLED =
+      TIMELINE_SERVICE_PREFIX + "cross-origin.enabled";
+
{code}
from YarnConfiguration.java.

The rest of the patch looks good to me., [~vvasudev], you are correct. There is no need for the new flag in the current code base. Removed in patch 8. If *yarn.timeline-service.http-cross-origin.enabled* is true then it will use timeline conf values and the fall back to the common conf settings. I think this is an acceptable compromise between backwards compatibility and utilizing the new functionality., \\
\\
| (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:red}-1{color} | pre-patch |  28m 55s | Findbugs (version ) appears to be broken on trunk. |
| {color:green}+1{color} | @author |   0m  0s | The patch does not contain any @author tags. |
| {color:green}+1{color} | tests included |   0m  0s | The patch appears to include 4 new or modified test files. |
| {color:green}+1{color} | javac |   9m 30s | There were no new javac warning messages. |
| {color:green}+1{color} | javadoc |  12m 20s | There were no new javadoc warning messages. |
| {color:green}+1{color} | release audit |   0m 31s | The applied patch does not increase the total number of release audit warnings. |
| {color:green}+1{color} | site |   4m 14s | Site still builds. |
| {color:red}-1{color} | checkstyle |   3m 26s | The applied patch generated  5 new checkstyle issues (total was 0, now 5). |
| {color:red}-1{color} | checkstyle |   4m  3s | The applied patch generated  2 new checkstyle issues (total was 211, now 212). |
| {color:red}-1{color} | whitespace |   0m  2s | The patch has 1  line(s) that end in whitespace. Use git apply --whitespace=fix. |
| {color:green}+1{color} | install |   1m 46s | mvn install still works. |
| {color:green}+1{color} | eclipse:eclipse |   0m 38s | The patch built with eclipse:eclipse. |
| {color:red}-1{color} | findbugs |  12m  0s | The patch appears to introduce 4 new Findbugs (version 3.0.0) warnings. |
| {color:green}+1{color} | common tests |   9m 26s | Tests passed in hadoop-common. |
| {color:green}+1{color} | yarn tests |   0m 27s | Tests passed in hadoop-yarn-api. |
| {color:green}+1{color} | yarn tests |   2m 24s | Tests passed in hadoop-yarn-common. |
| {color:green}+1{color} | yarn tests |   4m 22s | Tests passed in hadoop-yarn-server-applicationhistoryservice. |
| {color:green}+1{color} | yarn tests |   0m 26s | Tests passed in hadoop-yarn-server-common. |
| {color:red}-1{color} | yarn tests |   9m 12s | Tests failed in hadoop-yarn-server-nodemanager. |
| {color:red}-1{color} | yarn tests |  65m 12s | Tests failed in hadoop-yarn-server-resourcemanager. |
| | | 166m 55s | |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hadoop-yarn-common |
| FindBugs | module:hadoop-yarn-server-nodemanager |
| Failed unit tests | hadoop.yarn.server.nodemanager.TestNodeStatusUpdaterForLabels |
| Timed out tests | org.apache.hadoop.yarn.server.resourcemanager.scheduler.TestAbstractYarnScheduler |
\\
\\
|| Subsystem || Report/Notes ||
| Patch URL | http://issues.apache.org/jira/secure/attachment/12768100/YARN-4009.8.patch |
| Optional Tests | javadoc javac unit findbugs checkstyle site |
| git revision | trunk / 960201b |
| checkstyle |  https://builds.apache.org/job/PreCommit-YARN-Build/9531/artifact/patchprocess/diffcheckstylehadoop-common.txt https://builds.apache.org/job/PreCommit-YARN-Build/9531/artifact/patchprocess/diffcheckstylehadoop-yarn-api.txt |
| whitespace | https://builds.apache.org/job/PreCommit-YARN-Build/9531/artifact/patchprocess/whitespace.txt |
| Findbugs warnings | https://builds.apache.org/job/PreCommit-YARN-Build/9531/artifact/patchprocess/newPatchFindbugsWarningshadoop-yarn-common.html |
| Findbugs warnings | https://builds.apache.org/job/PreCommit-YARN-Build/9531/artifact/patchprocess/newPatchFindbugsWarningshadoop-yarn-server-nodemanager.html |
| hadoop-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9531/artifact/patchprocess/testrun_hadoop-common.txt |
| hadoop-yarn-api test log | https://builds.apache.org/job/PreCommit-YARN-Build/9531/artifact/patchprocess/testrun_hadoop-yarn-api.txt |
| hadoop-yarn-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9531/artifact/patchprocess/testrun_hadoop-yarn-common.txt |
| hadoop-yarn-server-applicationhistoryservice test log | https://builds.apache.org/job/PreCommit-YARN-Build/9531/artifact/patchprocess/testrun_hadoop-yarn-server-applicationhistoryservice.txt |
| hadoop-yarn-server-common test log | https://builds.apache.org/job/PreCommit-YARN-Build/9531/artifact/patchprocess/testrun_hadoop-yarn-server-common.txt |
| hadoop-yarn-server-nodemanager test log | https://builds.apache.org/job/PreCommit-YARN-Build/9531/artifact/patchprocess/testrun_hadoop-yarn-server-nodemanager.txt |
| hadoop-yarn-server-resourcemanager test log | https://builds.apache.org/job/PreCommit-YARN-Build/9531/artifact/patchprocess/testrun_hadoop-yarn-server-resourcemanager.txt |
| Test Results | https://builds.apache.org/job/PreCommit-YARN-Build/9531/testReport/ |
| Java | 1.7.0_55 |
| uname | Linux asf909.gq1.ygridcore.net 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux |
| Console output | https://builds.apache.org/job/PreCommit-YARN-Build/9531/console |


This message was automatically generated., Makes sense. +1 for the latest patch., FAILURE: Integrated in Hadoop-trunk-Commit #8695 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/8695/])
YARN-4009. CORS support for ResourceManager REST API. ( Varun Vasudev (jeagles: rev f8adeb712dc834c27cec15c04a986f2f635aba83)
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/test/java/org/apache/hadoop/yarn/server/timeline/webapp/TestCrossOriginFilterInitializer.java
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/http/CrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/applicationhistoryservice/ApplicationHistoryServer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/yarn-default.xml
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/webapp/WebServer.java
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/HttpCrossOriginFilterInitializer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java
* hadoop-common-project/hadoop-common/src/site/markdown/HttpAuthentication.md
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java
* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/http/TestCrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/webapp/CrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/test/java/org/apache/hadoop/yarn/server/timeline/webapp/TestCrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/NodeManagerRest.md
* hadoop-yarn-project/CHANGES.txt
* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestHttpCrossOriginFilterInitializer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/webapp/CrossOriginFilterInitializer.java
* hadoop-common-project/hadoop-common/src/main/resources/core-default.xml
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/pom.xml
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/ResourceManagerRest.md
, Thank you [~vvasudev] for putting this work together., FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #574 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/574/])
YARN-4009. CORS support for ResourceManager REST API. ( Varun Vasudev (jeagles: rev f8adeb712dc834c27cec15c04a986f2f635aba83)
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/webapp/WebServer.java
* hadoop-yarn-project/CHANGES.txt
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/applicationhistoryservice/ApplicationHistoryServer.java
* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/http/TestCrossOriginFilter.java
* hadoop-common-project/hadoop-common/src/site/markdown/HttpAuthentication.md
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/http/CrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/yarn-default.xml
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/ResourceManagerRest.md
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/test/java/org/apache/hadoop/yarn/server/timeline/webapp/TestCrossOriginFilter.java
* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestHttpCrossOriginFilterInitializer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/pom.xml
* hadoop-common-project/hadoop-common/src/main/resources/core-default.xml
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/HttpCrossOriginFilterInitializer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/test/java/org/apache/hadoop/yarn/server/timeline/webapp/TestCrossOriginFilterInitializer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/webapp/CrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/NodeManagerRest.md
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/webapp/CrossOriginFilterInitializer.java
, FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #587 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/587/])
YARN-4009. CORS support for ResourceManager REST API. ( Varun Vasudev (jeagles: rev f8adeb712dc834c27cec15c04a986f2f635aba83)
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/http/CrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java
* hadoop-common-project/hadoop-common/src/main/resources/core-default.xml
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/test/java/org/apache/hadoop/yarn/server/timeline/webapp/TestCrossOriginFilterInitializer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/applicationhistoryservice/ApplicationHistoryServer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/yarn-default.xml
* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/http/TestCrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/NodeManagerRest.md
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/webapp/WebServer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/webapp/CrossOriginFilterInitializer.java
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/HttpCrossOriginFilterInitializer.java
* hadoop-common-project/hadoop-common/src/site/markdown/HttpAuthentication.md
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/test/java/org/apache/hadoop/yarn/server/timeline/webapp/TestCrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/webapp/CrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/ResourceManagerRest.md
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/pom.xml
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java
* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestHttpCrossOriginFilterInitializer.java
* hadoop-yarn-project/CHANGES.txt
, SUCCESS: Integrated in Hadoop-Yarn-trunk #1310 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/1310/])
YARN-4009. CORS support for ResourceManager REST API. ( Varun Vasudev (jeagles: rev f8adeb712dc834c27cec15c04a986f2f635aba83)
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/webapp/WebServer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/test/java/org/apache/hadoop/yarn/server/timeline/webapp/TestCrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/webapp/CrossOriginFilterInitializer.java
* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestHttpCrossOriginFilterInitializer.java
* hadoop-common-project/hadoop-common/src/site/markdown/HttpAuthentication.md
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/test/java/org/apache/hadoop/yarn/server/timeline/webapp/TestCrossOriginFilterInitializer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/applicationhistoryservice/ApplicationHistoryServer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/NodeManagerRest.md
* hadoop-yarn-project/CHANGES.txt
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/HttpCrossOriginFilterInitializer.java
* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/http/TestCrossOriginFilter.java
* hadoop-common-project/hadoop-common/src/main/resources/core-default.xml
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/ResourceManagerRest.md
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/yarn-default.xml
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/pom.xml
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/http/CrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/webapp/CrossOriginFilter.java
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #2520 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/2520/])
YARN-4009. CORS support for ResourceManager REST API. ( Varun Vasudev (jeagles: rev f8adeb712dc834c27cec15c04a986f2f635aba83)
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/NodeManagerRest.md
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/webapp/CrossOriginFilterInitializer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/webapp/CrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/yarn-default.xml
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/webapp/WebServer.java
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/HttpCrossOriginFilterInitializer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/test/java/org/apache/hadoop/yarn/server/timeline/webapp/TestCrossOriginFilter.java
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/http/CrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/test/java/org/apache/hadoop/yarn/server/timeline/webapp/TestCrossOriginFilterInitializer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java
* hadoop-yarn-project/CHANGES.txt
* hadoop-common-project/hadoop-common/src/main/resources/core-default.xml
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/pom.xml
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/applicationhistoryservice/ApplicationHistoryServer.java
* hadoop-common-project/hadoop-common/src/site/markdown/HttpAuthentication.md
* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/http/TestCrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/ResourceManagerRest.md
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java
* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestHttpCrossOriginFilterInitializer.java
, FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #530 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/530/])
YARN-4009. CORS support for ResourceManager REST API. ( Varun Vasudev (jeagles: rev f8adeb712dc834c27cec15c04a986f2f635aba83)
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/webapp/WebServer.java
* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestHttpCrossOriginFilterInitializer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/NodeManagerRest.md
* hadoop-common-project/hadoop-common/src/site/markdown/HttpAuthentication.md
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java
* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/http/TestCrossOriginFilter.java
* hadoop-yarn-project/CHANGES.txt
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java
* hadoop-common-project/hadoop-common/src/main/resources/core-default.xml
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/test/java/org/apache/hadoop/yarn/server/timeline/webapp/TestCrossOriginFilterInitializer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/test/java/org/apache/hadoop/yarn/server/timeline/webapp/TestCrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/webapp/CrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/yarn-default.xml
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/HttpCrossOriginFilterInitializer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/pom.xml
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/http/CrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/webapp/CrossOriginFilterInitializer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/applicationhistoryservice/ApplicationHistoryServer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/ResourceManagerRest.md
, FAILURE: Integrated in Hadoop-Hdfs-trunk #2466 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/2466/])
YARN-4009. CORS support for ResourceManager REST API. ( Varun Vasudev (jeagles: rev f8adeb712dc834c27cec15c04a986f2f635aba83)
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/test/java/org/apache/hadoop/yarn/server/timeline/webapp/TestCrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/test/java/org/apache/hadoop/yarn/server/timeline/webapp/TestCrossOriginFilterInitializer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/applicationhistoryservice/ApplicationHistoryServer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/webapp/CrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/ResourceManager.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-api/src/main/java/org/apache/hadoop/yarn/conf/YarnConfiguration.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/ResourceManagerRest.md
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-common/pom.xml
* hadoop-common-project/hadoop-common/src/site/markdown/HttpAuthentication.md
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/HttpCrossOriginFilterInitializer.java
* hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/security/http/CrossOriginFilter.java
* hadoop-yarn-project/CHANGES.txt
* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/http/TestCrossOriginFilter.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-common/src/main/resources/yarn-default.xml
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-nodemanager/src/main/java/org/apache/hadoop/yarn/server/nodemanager/webapp/WebServer.java
* hadoop-common-project/hadoop-common/src/main/resources/core-default.xml
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-applicationhistoryservice/src/main/java/org/apache/hadoop/yarn/server/timeline/webapp/CrossOriginFilterInitializer.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site/src/site/markdown/NodeManagerRest.md
* hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/security/TestHttpCrossOriginFilterInitializer.java
]