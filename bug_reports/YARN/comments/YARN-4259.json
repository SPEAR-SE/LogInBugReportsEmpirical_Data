[see in [jenkins|https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/lastCompletedBuild/testReport/org.apache.hadoop.yarn.client.api.impl/TestAMRMClientOnRMRestart/testAMRMClientResendsRequestsOnRMRestart/]

{code}
java.lang.NullPointerException: null
	at org.apache.hadoop.yarn.server.resourcemanager.scheduler.AppSchedulingInfo.isRequestLabelChanged(AppSchedulingInfo.java:420)
	at org.apache.hadoop.yarn.server.resourcemanager.scheduler.AppSchedulingInfo.updateResourceRequests(AppSchedulingInfo.java:342)
	at org.apache.hadoop.yarn.server.resourcemanager.scheduler.SchedulerApplicationAttempt.updateResourceRequests(SchedulerApplicationAttempt.java:300)
	at org.apache.hadoop.yarn.server.resourcemanager.scheduler.fifo.FifoScheduler.allocate(FifoScheduler.java:350)
	at org.apache.hadoop.yarn.client.api.impl.TestAMRMClientOnRMRestart$MyFifoScheduler.allocate(TestAMRMClientOnRMRestart.java:544)
	at org.apache.hadoop.yarn.server.resourcemanager.ApplicationMasterService.allocate(ApplicationMasterService.java:507)
	at org.apache.hadoop.yarn.client.api.impl.AMRMClientImpl.allocate(AMRMClientImpl.java:277)
	at org.apache.hadoop.yarn.client.api.impl.TestAMRMClientOnRMRestart.testAMRMClientResendsRequestsOnRMRestart(TestAMRMClientOnRMRestart.java:187)

{code}, +reviewing the test, the final {{service.stop()}} calls must go into a try/finally block, so if the test raises an exception, the services still halt, I feel YARN-4250 is also tracking similar issue., Yes, it's dupe of YARN-4250., sorry, did a scan for dupes but didn't spot this one]