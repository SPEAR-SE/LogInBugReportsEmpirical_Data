[Added mapreduce related dirs to CLASSPATH, Isn't this being fixed in MAPREDUCE-4421? I think the idea is that YARN shouldn't be managing MR JARs itself., Also YARN is not supposed to have any knowledge of map reduce.  We should not launch map reduce applications with the yarn command.  There is the mapred command for that. , Does this means that MR on trunk will be broken until MAPREDUCE-4421?, Thanks for the comments. Closed it here., No, this is not tied to MAPREDUCE-4421.

bq. Does this means that MR on trunk will be broken until MAPREDUCE-4421?
No, NM exports HADOOP_MAPRED_HOME to all containers by default today, as part of the white-listed environment. You just need to start the NM with proper HADOOP_MAPRED_HOME set. I'll update the docs in the interim to reflect this., Dropping fix-version from 'non-fixed' (didn't have code-fixes) JIRAs.]