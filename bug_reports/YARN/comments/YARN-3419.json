[Attaching a patch moving to a thread safe ArrayList implementation , Submitting for review.  Specifically interested in making sure this isn't going to have a serious performance hit., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12708160/YARN-3419-1.patch
  against trunk revision ae3e8c6.

    {color:red}-1 patch{color}.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-YARN-Build/7149//console

This message is automatically generated., [~cotedm], Thank you for reporting. I think this bug was fixed on YARN-2975. What do you think?, [~ozawa] yep that will probably fix it, just on the caller side.  Didn't see that one.  I'm ok if you want to mark this as a duplicate.  Probably no reason to safeguard against others that might use FSLeafQueue improperly with the potential for more memory use with my suggested fix.  Thanks for checking!, Resolving as a dupe of YARN-2975]