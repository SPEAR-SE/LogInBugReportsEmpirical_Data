[Fixed to handle ApplicationNotFoundException, ApplicationAttemptNotFoundException and ContainerNotFoundException for "-status" commands generally for non-existent entries.

, {color:green}+1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12657814/Yarn-2356.1.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-YARN-Build/4614//testReport/
Console output: https://builds.apache.org/job/PreCommit-YARN-Build/4614//console

This message is automatically generated., [~sunilg], thanks for working on this.
Patch looks good, one minor comment: {{doesn't exist in RM or History Server.}}, we may say {{TimeLineServer}} instead of {{History Server}}, Sorry for coming late here. Thanks [~sunilg] for the patch and thanks [~jianhe] for review. Overall the patch looks good. In addition to [~jianhe] comment, I see these two observations.

1. Instead of rethrowing and catching the exception for exitCode determination, can we return the exitCode directly from printXXXReport() methods? 
2. In all the newly added tests, I think no need to catch the exception and do Assert.fail() explicitly, JUnit will fail those when exception arises.
, Thank you [~jianhe] , [~devaraj.k] for the comments.

I have updated the patch as per the comments.

However I have a point to mention regarding below comment

bq. can we return the exitCode directly from printXXXReport() methods
I could see that this return of exit code from each of the printXXXReport() was causing nested if in the caller side, and was becoming less readable. Also *killApplication* is already rethrowing exception and handling similar way.. Kindly share your thoughts on this., Thanks Sunil for the updated patch.
1.
bq. I could see that this return of exit code from each of the printXXXReport() was causing nested if in the caller side, and was becoming less readable. Also killApplication is already rethrowing exception and handling similar way.. Kindly share your thoughts on this.
Either way is fine for me. I thought it would be good if we avoid rehandling the same exception. 

2. For the tests,

Can you remove the try-catch completely like below. If the test code throws any exception, it means it is failure and no need to fail again explicitly.

{code:xml}
@Test
  public void testGetContainerReportException() throws Exception {
    ApplicationCLI cli = createAndGetAppCLI();
    ApplicationId applicationId = ApplicationId.newInstance(1234, 5);
    ApplicationAttemptId attemptId = ApplicationAttemptId.newInstance(
        applicationId, 1);
    long cntId = 1;
    ContainerId containerId1 = ContainerId.newContainerId(attemptId, cntId++);
    when(client.getContainerReport(containerId1)).thenThrow(
        new ApplicationNotFoundException("History file for application"
            + applicationId + " is not found"));
    int exitCode = cli.run(new String[] { "container", "-status",
        containerId1.toString() });
    verify(sysOut).println(
        "Application for Container with id '" + containerId1
            + "' doesn't exist in RM or Timeline Server.");
    Assert.assertNotSame("should return non-zero exit code.", 0, exitCode);

    ContainerId containerId2 = ContainerId.newContainerId(attemptId, cntId++);
{code}

3. The patch is not getting applied using 'patch' command, can you check it for next patch?
, bq.I thought it would be good if we avoid rehandling the same exception
Yes [~devaraj.k]. I also feel that is more better. Double throwing of exception can be removed. 

I also updated the test case as mentioned., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12682693/0002-YARN-2356.patch
  against trunk revision a9a0cc3.

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client:

                  org.apache.hadoop.yarn.client.TestApplicationClientProtocolOnHA

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-YARN-Build/5894//testReport/
Console output: https://builds.apache.org/job/PreCommit-YARN-Build/5894//console

This message is automatically generated., Test case failure of TestApplicationClientProtocolOnHA is not related to this patch., {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12682693/0002-YARN-2356.patch
  against trunk revision 390642a.

    {color:red}-1 patch{color}.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-YARN-Build/6084//console

This message is automatically generated., Thanks for the updated patch [~sunilg]. Unfortunately the patch has gone stale, could you please rebase the patch. Thanks., Thank you [~devaraj.k]

I have updated the patch against trunk. Kindly check, {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12686748/0003-YARN-2356.patch
  against trunk revision b437f5e.

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:red}-1 javadoc{color}.  The javadoc tool appears to have generated 3 warning messages.
        See https://builds.apache.org/job/PreCommit-YARN-Build/6099//artifact/patchprocess/diffJavadocWarnings.txt for details.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:red}-1 findbugs{color}.  The patch appears to introduce 10 new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client.

Test results: https://builds.apache.org/job/PreCommit-YARN-Build/6099//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-YARN-Build/6099//artifact/patchprocess/newPatchFindbugsWarningshadoop-yarn-client.html
Console output: https://builds.apache.org/job/PreCommit-YARN-Build/6099//console

This message is automatically generated., Thanks for rebase patch Sunil, can you look into these warnings.

{code:xml}
-1 javadoc. The javadoc tool appears to have generated 3 warning messages.
See https://builds.apache.org/job/PreCommit-YARN-Build/6099//artifact/patchprocess/diffJavadocWarnings.txt for details.
{code}

{code:xml}
+[WARNING] /home/jenkins/jenkins-slave/workspace/PreCommit-YARN-Build/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java:262: warning - @return tag has no arguments.
+[WARNING] /home/jenkins/jenkins-slave/workspace/PreCommit-YARN-Build/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java:317: warning - @return tag has no arguments.
+[WARNING] /home/jenkins/jenkins-slave/workspace/PreCommit-YARN-Build/hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java:468: warning - @return tag has no arguments.
{code}, Hi [~devaraj.k]

Thank you for the update. I have fixed the warnings, {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12686822/0004-YARN-2356.patch
  against trunk revision c78e3a7.

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:red}-1 findbugs{color}.  The patch appears to introduce 10 new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client:

                  org.apache.hadoop.yarn.client.TestApplicationClientProtocolOnHA

Test results: https://builds.apache.org/job/PreCommit-YARN-Build/6109//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-YARN-Build/6109//artifact/patchprocess/newPatchFindbugsWarningshadoop-yarn-client.html
Console output: https://builds.apache.org/job/PreCommit-YARN-Build/6109//console

This message is automatically generated., Hi Devaraj

These findbugs problems are not induced by current  JIRA. There were some rule changes done for java 7. I feel that caused the same. I cud open a new JIRA to fix this warning of PrintStream writer in all CLI classes. Kindly advice. Also test case failure is not related., Yes [~sunilg] is correct. These findbugs will be handled by YARN-2940, {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12686822/0004-YARN-2356.patch
  against trunk revision 25a0440.

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  There were no new javadoc warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:red}-1 findbugs{color}.  The patch appears to introduce 10 new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client:

                  org.apache.hadoop.yarn.client.TestResourceTrackerOnHA
                  org.apache.hadoop.yarn.client.TestApplicationClientProtocolOnHA

Test results: https://builds.apache.org/job/PreCommit-YARN-Build/6112//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-YARN-Build/6112//artifact/patchprocess/newPatchFindbugsWarningshadoop-yarn-client.html
Console output: https://builds.apache.org/job/PreCommit-YARN-Build/6112//console

This message is automatically generated., {code:xml}
-1 findbugs. The patch appears to introduce 10 new Findbugs (version 2.0.3) warnings.
{code}
These findbugs will be handled by YARN-2940.

{code:xml}
-1 core tests. The patch failed these unit tests in hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client:
org.apache.hadoop.yarn.client.TestResourceTrackerOnHA
org.apache.hadoop.yarn.client.TestApplicationClientProtocolOnHA
{code}
These test failures are unrelated to the patch and handled by YARN-2782, YARN-2783., +1, latest patch looks good to me, Thanks [~sunilg] for your contribution. Thanks [~jianhe] for review. 

Committed to trunk and branch-2., SUCCESS: Integrated in Hadoop-trunk-Commit #6717 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/6717/])
YARN-2356. yarn status command for non-existent application/application (devaraj: rev fae3e8614f4f9a42904e39c51ca68b0d1e67469f)
* hadoop-yarn-project/CHANGES.txt
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/test/java/org/apache/hadoop/yarn/client/cli/TestYarnCLI.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java
, Thank you [~devaraj.k] for reviewing and committing same, thank you [~jianhe] for reviewing the patch.

, FAILURE: Integrated in Hadoop-Yarn-trunk-Java8 #42 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk-Java8/42/])
YARN-2356. yarn status command for non-existent application/application (devaraj: rev fae3e8614f4f9a42904e39c51ca68b0d1e67469f)
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/test/java/org/apache/hadoop/yarn/client/cli/TestYarnCLI.java
* hadoop-yarn-project/CHANGES.txt
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java
, FAILURE: Integrated in Hadoop-Yarn-trunk #776 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/776/])
YARN-2356. yarn status command for non-existent application/application (devaraj: rev fae3e8614f4f9a42904e39c51ca68b0d1e67469f)
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java
* hadoop-yarn-project/CHANGES.txt
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/test/java/org/apache/hadoop/yarn/client/cli/TestYarnCLI.java
, FAILURE: Integrated in Hadoop-Hdfs-trunk #1974 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1974/])
YARN-2356. yarn status command for non-existent application/application (devaraj: rev fae3e8614f4f9a42904e39c51ca68b0d1e67469f)
* hadoop-yarn-project/CHANGES.txt
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/test/java/org/apache/hadoop/yarn/client/cli/TestYarnCLI.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java
, FAILURE: Integrated in Hadoop-Hdfs-trunk-Java8 #39 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk-Java8/39/])
YARN-2356. yarn status command for non-existent application/application (devaraj: rev fae3e8614f4f9a42904e39c51ca68b0d1e67469f)
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/test/java/org/apache/hadoop/yarn/client/cli/TestYarnCLI.java
* hadoop-yarn-project/CHANGES.txt
, FAILURE: Integrated in Hadoop-Mapreduce-trunk-Java8 #43 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk-Java8/43/])
YARN-2356. yarn status command for non-existent application/application (devaraj: rev fae3e8614f4f9a42904e39c51ca68b0d1e67469f)
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/test/java/org/apache/hadoop/yarn/client/cli/TestYarnCLI.java
* hadoop-yarn-project/CHANGES.txt
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #1993 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1993/])
YARN-2356. yarn status command for non-existent application/application (devaraj: rev fae3e8614f4f9a42904e39c51ca68b0d1e67469f)
* hadoop-yarn-project/CHANGES.txt
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/main/java/org/apache/hadoop/yarn/client/cli/ApplicationCLI.java
* hadoop-yarn-project/hadoop-yarn/hadoop-yarn-client/src/test/java/org/apache/hadoop/yarn/client/cli/TestYarnCLI.java
]