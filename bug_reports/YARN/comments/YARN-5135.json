[[~steve_l], this was fixed by YARN-4991. Think its been committed to trunk only.. let me cherry-pick to branch-2 , Cherry-picked and pushed YARN-4991 to branch-2. {{TestAMRMClient}} does catch this, but unfortunately, the test itself always timeout and fails in Jenkins., thanks. Though a test is also something to consider, given that there's nothing to stop the regression re-occuring, [~steve_l], np.. like I mentioned, there are regression tests for it (we've actually added more tests subsequently that exercise that codepath), unfortunately, TestAMRMClient seems to always timeout for Jenkins.]