[avoiding confusing, my stop RM means 'yarn-daemon.sh stop resourcemanager', Thank you for reporting, [~azuryy].  Currently, AM restarts after restarting RM. To address the problem, we have discussion under YARN-556. 

The current hadoop supports: "RM can be able to continue running existing applications on cluster after the RM has been restarted. " For more detail, please see the design note on YARN-128.
https://issues.apache.org/jira/secure/attachment/12552867/RMRestartPhase1.pdf, Sorry, I typoed and it may cunfuse you.

The current hadoop supports: "RM can be able to continue running existing applications on cluster after the RM has been restarted. Clients should not have to re-submit currently running/submitted apps."

And work-preserving restart is under development on YARN-556. , Hi [~oazwa],
Can you search the mail list of yarn-dev, I had a mail for this issue.

This issue is only for Hive jobs. It works well for general MR jobs.(only unfinished tasks restart, all finished tasks not re-run)
, This appears to be a duplicate of HIVE-6638.  As [~ozawa] mentioned, AMs are restarted when the RM restarts until YARN-556 is addressed.  When an AM restarts, it is not automatically the case that completed tasks will be recovered -- it must be supported by the output committer.  HIVE-6638 is updating Hive's OutputCommitter so it can support task recovery upon AM restart., Yes, exactly duplicated, thanks, I've closed it.]