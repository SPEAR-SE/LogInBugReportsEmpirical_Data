[[~xiajunluan] there were major changes in distributed shell recently and now there doesn't seem to be any problem for the scenario you have mentioned for current trunk. If you see this issue again then please reopen the issue. It would be really helpful if you can upload RM/NM/AM/Container logs as that will help a lot in debugging. Thanks. closing it as not reproducible.]