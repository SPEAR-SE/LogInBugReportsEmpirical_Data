[{code}
2014-03-27 10:20:24,728 INFO  capacity.CapacityScheduler (CapacityScheduler.java:doneApplicationAttempt(604)) - Unknown application appattempt_1395915220380_0001_000002 has completed!
2014-03-27 10:20:24,731 INFO  recovery.RMStateStore (RMStateStore.java:handleStoreEvent(620)) - Storing info for app: application_1395915220380_0001
2014-03-27 10:20:24,733 INFO  amlauncher.AMLauncher (AMLauncher.java:run(262)) - Cleaning master appattempt_1395915220380_0001_000002
2014-03-27 10:20:24,778 WARN  ipc.Client (Client.java:run(672)) - Exception encountered while connecting to the server : org.apache.hadoop.ipc.RemoteException(javax.security.sasl.SaslException): DIGEST-MD5: digest response format violation. Mismatched response.
2014-03-27 10:20:24,780 INFO  amlauncher.AMLauncher (AMLauncher.java:run(265)) - Error cleaning master
javax.security.sasl.SaslException: DIGEST-MD5: digest response format violation. Mismatched response. [Caused by org.apache.hadoop.ipc.RemoteException(javax.security.sasl.SaslException): DIGEST-MD5: digest response format violation. Mismatched response.]
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
        at org.apache.hadoop.yarn.ipc.RPCUtil.instantiateException(RPCUtil.java:53)
        at org.apache.hadoop.yarn.ipc.RPCUtil.unwrapAndThrowException(RPCUtil.java:104)
        at org.apache.hadoop.yarn.api.impl.pb.client.ContainerManagementProtocolPBClientImpl.stopContainers(ContainerManagementProtocolPBClientImpl.java:113)
        at org.apache.hadoop.yarn.server.resourcemanager.amlauncher.AMLauncher.cleanup(AMLauncher.java:138)
        at org.apache.hadoop.yarn.server.resourcemanager.amlauncher.AMLauncher.run(AMLauncher.java:263)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.Thread.run(Thread.java:662)
Caused by: org.apache.hadoop.ipc.RemoteException(javax.security.sasl.SaslException): DIGEST-MD5: digest response format violation. Mismatched response.
        at org.apache.hadoop.ipc.Client.call(Client.java:1410)
        at org.apache.hadoop.ipc.Client.call(Client.java:1363)
        at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:206)
        at $Proxy35.stopContainers(Unknown Source)
        at org.apache.hadoop.yarn.api.impl.pb.client.ContainerManagementProtocolPBClientImpl.stopContainers(ContainerManagementProtocolPBClientImpl.java:110)
        ... 5 more
2014-03-27 10:20:24,794 INFO  recovery.ZKRMStateStore (ZKRMStateStore.java:processWatchEvent(778)) - Watcher event type: NodeDataChanged with state:SyncConnected for path:/rmstore/ZKRMStateRoot/RMAppRoot/application_1395915220380_0001 for Service org.apache.hadoop.yarn.server.resourcemanager.recovery.RMStateStore in state org.apache.hadoop.yarn.server.resourcemanager.recovery.RMStateStore: STARTED
{code}, This exception is likely due to RM failed over and was constructing the NMToken with a new key, but NM had not yet re-synced with RM to get the new key and was still hold the old NMToken key. If NM re-sync takes arbitrarily long, we may see the situation quite often that new RM is unable to explicitly communicate with this NM e.g. stop/start AM container on this NM., YARN-1885 fixed this problem. close this]