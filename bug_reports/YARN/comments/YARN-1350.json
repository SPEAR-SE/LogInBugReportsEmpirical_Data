[I attach a detailed information., [~sinchii] I have basic question..why your nodeId is changing everytime? have you configured your nodemanager with ephemeral port (0) ? what is NM_ADDRESS? RM will consider this as same node only when your newly restarted node manager reports with same node id .. i.e. <host-name>:<port>, In other words, you say that I don't have any problem if I fix port number in "yarn.nodemanager.address" property.
And this problem will not surely occur.
But then it should set a fixed appropriate port number like "yarn.resourcemanager.address" in yarn-default.xml and default port number. Why is 0?
, That is mainly for single node cluster to avoid port clashing. For real cluster you should define a port there. If you agree I will close this as invalid., Why port clashing? For example, does it use multiple NodeManager with one server?, you should checkout MiniYarnCluster., IMO, there are two options for not causing this problem.
 * Document to fix port number in real cluster.
 * Change yarn-default.xml to fix port number and MiniYarnCluster to use 0., Thank you for additional information. I understand that the port number sets 0 to use multiple NodeManager for a test in MiniYARNCluster.
And it seems to be easy to understand that there is notes setting it in real cluster in yarn-default.xml description.]