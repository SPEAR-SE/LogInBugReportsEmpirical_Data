[Patch that adds to the hadoop-yarn POM the submodules as dependencies, this is required to be able to populate the /share/hadoop/lib/ dir with 3rd party JARs used by Yarn. The hadoop-yarn POM isn't a parent of any other POM so this does not affect existing dependencies. It just makes the assembly for yarn to pick up Yarn 3rd party JARs when creating the tarball
, [~vinodkv], [~kkambatl], [~stevel@apache.org], [~rvs], mind taking a look? thx, {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12623023/YARN-1601.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-assemblies.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-YARN-Build/2885//testReport/
Console output: https://builds.apache.org/job/PreCommit-YARN-Build/2885//console

This message is automatically generated., Makes sense. Let me do a branch-2 build before and after this patch & see what comes out, before the patch
{code}
$ find hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn/ 
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn/
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-api-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-applications-distributedshell-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-applications-unmanaged-am-launcher-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-client-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-common-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-server-common-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-server-nodemanager-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-server-resourcemanager-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-server-tests-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-server-web-proxy-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-api-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-applications-distributedshell-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-applications-distributedshell-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-applications-unmanaged-am-launcher-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-applications-unmanaged-am-launcher-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-client-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-client-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-common-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-common-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-common-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-common-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-nodemanager-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-nodemanager-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-resourcemanager-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-resourcemanager-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-tests-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-web-proxy-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-web-proxy-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//test
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//test/hadoop-yarn-server-tests-2.4.0-SNAPSHOT-tests.jar
{code}, after the patch
{code}
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn/
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//.DS_Store
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-api-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-applications-distributedshell-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-applications-unmanaged-am-launcher-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-client-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-common-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-server-common-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-server-nodemanager-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-server-resourcemanager-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-server-tests-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//hadoop-yarn-server-web-proxy-2.4.0-SNAPSHOT.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/activation-1.1.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/aopalliance-1.0.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/asm-3.2.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/commons-cli-1.2.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/commons-codec-1.4.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/commons-compress-1.4.1.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/commons-httpclient-3.1.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/commons-io-2.4.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/commons-lang-2.6.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/commons-logging-1.1.3.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/guava-11.0.2.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/guice-3.0.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/guice-servlet-3.0.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/jackson-core-asl-1.8.8.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/jackson-jaxrs-1.8.8.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/jackson-mapper-asl-1.8.8.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/jackson-xc-1.8.8.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/javax.inject-1.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/jaxb-api-2.2.2.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/jaxb-impl-2.2.3-1.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/jersey-client-1.9.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/jersey-core-1.9.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/jersey-guice-1.9.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/jersey-json-1.9.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/jersey-server-1.9.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/jettison-1.1.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/jetty-6.1.26.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/jetty-util-6.1.26.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/jline-0.9.94.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/jsr305-1.3.9.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/log4j-1.2.17.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/protobuf-java-2.5.0.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/servlet-api-2.5.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/stax-api-1.0-2.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/stax-api-1.0.1.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/xz-1.0.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//lib/zookeeper-3.4.5.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-api-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-applications-distributedshell-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-applications-distributedshell-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-applications-unmanaged-am-launcher-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-applications-unmanaged-am-launcher-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-client-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-client-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-common-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-common-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-common-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-common-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-nodemanager-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-nodemanager-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-resourcemanager-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-resourcemanager-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-tests-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-web-proxy-2.4.0-SNAPSHOT-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//sources/hadoop-yarn-server-web-proxy-2.4.0-SNAPSHOT-test-sources.jar
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//test
hadoop-dist/target/hadoop-2.4.0-SNAPSHOT/share/hadoop/yarn//test/hadoop-yarn-server-tests-2.4.0-SNAPSHOT-tests.jar

{code}, confirmed that problem exists & patch does as claimed, 

+1, +1 (non-committer) - I can confirm the problem from a Bigtop perspective. If you were to try and build the "hadoop-client" package it would break because there wouldn't be any other Hadoop package that would provide one of the dependencies Maven determined was needed for a YARN client (specifically, stax-api 1.0-2, which has a different group ID than stax-api 1.0.1)., Thanks Steve. Thanks Sean, regarding the stax-api JAR, I've opened another JIRA to fix that, HADOOP-10235., Committed to trunk and branch-2., SUCCESS: Integrated in Hadoop-trunk-Commit #5001 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/5001/])
YARN-1601. 3rd party JARs are missing from hadoop-dist output. (tucu) (tucu: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1558465)
* /hadoop/common/trunk/hadoop-assemblies/src/main/resources/assemblies/hadoop-yarn-dist.xml
* /hadoop/common/trunk/hadoop-yarn-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-yarn-project/pom.xml
, SUCCESS: Integrated in Hadoop-Yarn-trunk #454 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/454/])
YARN-1601. 3rd party JARs are missing from hadoop-dist output. (tucu) (tucu: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1558465)
* /hadoop/common/trunk/hadoop-assemblies/src/main/resources/assemblies/hadoop-yarn-dist.xml
* /hadoop/common/trunk/hadoop-yarn-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-yarn-project/pom.xml
, FAILURE: Integrated in Hadoop-Mapreduce-trunk #1671 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1671/])
YARN-1601. 3rd party JARs are missing from hadoop-dist output. (tucu) (tucu: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1558465)
* /hadoop/common/trunk/hadoop-assemblies/src/main/resources/assemblies/hadoop-yarn-dist.xml
* /hadoop/common/trunk/hadoop-yarn-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-yarn-project/pom.xml
, SUCCESS: Integrated in Hadoop-Hdfs-trunk #1646 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1646/])
YARN-1601. 3rd party JARs are missing from hadoop-dist output. (tucu) (tucu: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1558465)
* /hadoop/common/trunk/hadoop-assemblies/src/main/resources/assemblies/hadoop-yarn-dist.xml
* /hadoop/common/trunk/hadoop-yarn-project/CHANGES.txt
* /hadoop/common/trunk/hadoop-yarn-project/pom.xml
]