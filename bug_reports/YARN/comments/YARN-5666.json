[[~templedf]  Would you like give a look ?Thanks
, [~rohithsharma] Would you like give a look ?Thanks, [2016-09-27T22:39:46.888+08:00] [INFO] yarn.event.AsyncDispatcher.handle(AsyncDispatcher.java 235) [IPC Server handler 81 on 8030] : Size of event-queue is 555000
[2016-09-27T22:39:46.888+08:00] [INFO] yarn.event.AsyncDispatcher.handle(AsyncDispatcher.java 235) [IPC Server handler 58 on 8030] : Size of event-queue is 555000
[2016-09-27T22:39:46.888+08:00] [INFO] yarn.event.AsyncDispatcher.handle(AsyncDispatcher.java 235) [IPC Server handler 199 on 8030] : Size of event-queue is 555000

ANd I find the  IPC Server handler 199 on 8030  event-queue very large.
, {
  "beans" : [ {
    "name" : "Hadoop:service=ResourceManager,name=RpcDetailedActivityForPort8030",
    "modelerType" : "RpcDetailedActivityForPort8030",
    "tag.port" : "8030",
    "tag.Context" : "rpcdetailed",
    "tag.Hostname" : "XXXX",
    "ApplicationMasterNotRegisteredExceptionNumOps" : 182,
    "ApplicationMasterNotRegisteredExceptionAvgTime" : 0.0,
    "RegisterApplicationMasterNumOps" : 4620,
    "RegisterApplicationMasterAvgTime" : 6644.6,
    "FinishApplicationMasterNumOps" : 7154,
    "FinishApplicationMasterAvgTime" : 0.0,
    "AllocateNumOps" : 1617043,
    "AllocateAvgTime" : 586.0114942528736,
    "ApplicationAttemptNotFoundExceptionNumOps" : 629,
    "ApplicationAttemptNotFoundExceptionAvgTime" : 3.1095890410958904,
    "InvalidApplicationMasterRequestExceptionNumOps" : 354,
    "InvalidApplicationMasterRequestExceptionAvgTime" : 0.39999999999999997
  } ]
}, We do occasionally see issues with an enormous event queue.  If I remember correctly, sometimes it's caused by a deadlock in the event handler thread.  Next time it happens, try using jstack to get a thread dump to check for deadlocks.,  [~templedf],I catch a stack when it  with an enormous event queue. I just use the ip:50320/stacks  get the stack , How do you mean "ip:50320/stacks"?  If you use jstack, it will point out the deadlocks for you, if there are any., I also see the log .
[2016-09-28T00:40:51.241+08:00] [INFO] resourcemanager.scheduler.SchedulerNode.allocateContainer(SchedulerNode.java 153) [ResourceManager Event Processor] : Assigned container container_e20_1474984305031_9754_01_000475 of capacity <memory:2048, vCores:1> on host OneNode, which has 18 containers, <memory:65536, vCores:40> used and <memory:34816, vCores:8> available after allocation
[2016-09-28T00:40:51.242+08:00] [INFO] resourcemanager.scheduler.SchedulerNode.allocateContainer(SchedulerNode.java 153) [ResourceManager Event Processor] : Assigned container container_e20_1474984305031_9710_01_000662 of capacity <memory:2048, vCores:1> on host OneNode, which has 19 containers, <memory:67584, vCores:41> used and <memory:32768, vCores:7> available after allocation
[2016-09-28T00:40:56.429+08:00] [INFO] resourcemanager.scheduler.SchedulerNode.allocateContainer(SchedulerNode.java 153) [ResourceManager Event Processor] : Assigned container container_e20_1474984305031_9720_01_003085 of capacity <memory:2048, vCores:1> on host OneNode, which has 20 containers, <memory:69632, vCores:42> used and <memory:30720, vCores:6> available after allocation
[2016-09-28T00:40:59.497+08:00] [INFO] resourcemanager.scheduler.SchedulerNode.allocateContainer(SchedulerNode.java 153) [ResourceManager Event Processor] : Assigned container container_e20_1474984305031_9714_01_001274 of capacity <memory:2048, vCores:1> on host OneNode, which has 19 containers, <memory:67584, vCores:41> used and <memory:32768, vCores:7> available after allocation
[2016-09-28T00:41:01.982+08:00] [INFO] resourcemanager.scheduler.SchedulerNode.allocateContainer(SchedulerNode.java 153) [ResourceManager Event Processor] : Assigned container container_e20_1474984305031_9714_01_001290 of capacity <memory:2048, vCores:1> on host OneNode, which has 19 containers, <memory:67584, vCores:41> used and <memory:32768, vCores:7> available after allocation
[2016-09-28T00:41:06.907+08:00] [INFO] resourcemanager.scheduler.SchedulerNode.allocateContainer(SchedulerNode.java 153) [ResourceManager Event Processor] : Assigned container container_e20_1474984305031_8356_01_041217 of capacity <memory:2048, vCores:1> on host OneNode, which has 19 containers, <memory:67584, vCores:41> used and <memory:32768, vCores:7> available after allocation
[2016-09-28T00:41:20.393+08:00] [INFO] resourcemanager.scheduler.SchedulerNode.allocateContainer(SchedulerNode.java 153) [ResourceManager Event Processor] : Assigned container container_e20_1474984305031_8356_01_041665 of capacity <memory:2048, vCores:1> on host OneNode, which has 17 containers, <memory:63488, vCores:39> used and <memory:36864, vCores:9> available after allocation
[2016-09-28T00:41:20.394+08:00] [INFO] resourcemanager.scheduler.SchedulerNode.allocateContainer(SchedulerNode.java 153) [ResourceManager Event Processor] : Assigned container container_e20_1474984305031_8356_01_041666 of capacity <memory:2048, vCores:1> on host OneNode, which has 18 containers, <memory:65536, vCores:40> used and <memory:34816, vCores:8> available after allocation
[2016-09-28T00:41:49.975+08:00] [INFO] resourcemanager.scheduler.SchedulerNode.allocateContainer(SchedulerNode.java 153) [ResourceManager Event Processor] : Assigned container container_e20_1474984305031_9778_01_003641 of capacity <memory:2048, vCores:1> on host OneNode, which has 14 containers, <memory:57344, vCores:36> used and <memory:43008, vCores:12> available after allocation
[2016-09-28T00:41:49.976+08:00] [INFO] resourcemanager.scheduler.SchedulerNode.allocateContainer(SchedulerNode.java 153) [ResourceManager Event Processor] : Assigned container container_e20_1474984305031_9778_01_003642 of capacity <memory:2048, vCores:1> on host OneNode, which has 15 containers, <memory:59392, vCores:37> used and <memory:40960, vCores:11> available after allocation
[2016-09-28T00:41:49.977+08:00] [INFO] resourcemanager.scheduler.SchedulerNode.allocateContainer(SchedulerNode.java 153) [ResourceManager Event Processor] : Assigned container container_e20_1474984305031_9778_01_003643 of capacity <memory:2048, vCores:1> on host OneNode, which has 16 containers, <memory:61440, vCores:38> used and <memory:38912, vCores:10> available after allocation
[2016-09-28T00:41:49.978+08:00] [INFO] resourcemanager.scheduler.SchedulerNode.allocateContainer(SchedulerNode.java 153) [ResourceManager Event Processor] : Assigned container container_e20_1474984305031_9778_01_003644 of capacity <memory:2048, vCores:1> on host OneNode, which has 17 containers, <memory:63488, vCores:39> used and <memory:36864, vCores:9> available after allocation
[2016-09-28T00:41:49.979+08:00] [INFO] resourcemanager.scheduler.SchedulerNode.allocateContainer(SchedulerNode.java 153) [ResourceManager Event Processor] : Assigned container container_e20_1474984305031_9778_01_003645 of capacity <memory:2048, vCores:1> on host OneNode, which has 18 containers, <memory:65536, vCores:40> used and <memory:34816, vCores:8> available after allocation
, And  we set the value 
<property>
<name>yarn.scheduler.fair.max.assign</name>
<value>5</value>
<source>yarn-site.xml</source>
</property>

I do not konw it is matter for this?  [~templedf]
, ip:50320/stacks means I get the stacks form rmip:50320/stacks. [~templedf], On the surface, it looks like checkAccess calls blocked on the scheduler that is in turn blocked on the logger. Could you look into that? ]