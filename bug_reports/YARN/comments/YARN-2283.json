[I tried to reproduce this and I found AM memory is immediately released.
Could you please try to recur this and give the exact steps?, I checked this issue, it is not coming in trunk.
This issue is reproducible in 2.4.*, Seems to be duplicate to MAPREDUCE-5888 
[~jlowe] cud u pls confirm whether its the same issue., Yes, it is very likely a duplicate of MAPREDUCE-5888, especially since it no longer reproduces on later releases.  Resolving as a duplicate.

The RM is not failing to release the container, rather the RM is intentionally giving the AM some time to clean things up after unregistering (i.e.: the FINISHING state).  Unfortunately before MAPREDUCE-5888 was fixed the AM could hang during a failed job because of a non-daemon thread that was lingering around and preventing the JVM from shutting down.  The RM eventually decides that the AM has used too much time to cleanup and kills it., Thank you [~jlowe]. Yes, I have taken the thread dump and could see ThreadPoolExecutor is still there. I have applied patch and verified the same, it is not creating the same problem. Thank you.]