[Not sure if it has anything to do with YARN-4587, {quote}
YarnApplicationAttemptState.valueOf(attempt.getAppAttemptState().toString()))
{quote}
IIUC We could use  {{RMServerUtils.createApplicationAttemptState(attempt.getAppAttemptState())}}]