[[~397090770], in the hadoop trunk, this problem looks already solved.
If:
{code}
bin/yarn jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.0.0-SNAPSHOT.jar pi -Dmapreduce.job.queuename= 20 10
{code}

The job will be rejected:
{code}
java.io.IOException: Failed to run job : Reject application application_1416249736343_0002 submitted by user root with an empty queue name.
	at org.apache.hadoop.mapred.YARNRunner.submitJob(YARNRunner.java:301)
	at org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:445)
{code}, Hi Wei Yan, thanks you for your reply. The bug was solved in Hadoop 3.0.0.]