[Here is the XML request submitted for running, I just spent some time looking at this problem. This is not just for an empty entry in environment, any tag in xml if it is empty, you will get NPE. Yarn leverages protobuf to serialize data, this logic is everywhere, I don't see a good option to fix though I admit the error message is not quite user friendly.]