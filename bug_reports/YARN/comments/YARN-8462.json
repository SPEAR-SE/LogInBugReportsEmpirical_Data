[This is happening intermediately in-between 3 days., It looks like the NPE is occurring here when getSchedulingPlacementSet returns null:
{code}
    int requiredResources = Math.max(
        application.getSchedulingPlacementSet(schedulerKey)
            .getUniqueLocationAsks() - 1, 0);
{code}

Pinging [~leftnoteasy]., [~jlowe], it seems this issue is fixed by YARN-8193 already., Great, thanks Wangda!  I'll mark this as a duplicate of YARN-8193 then.  Could you please commit the fix for YARN-8913 to branch-2 and branch-2.9 as well then, since those releases have the problem?  YARN-8193 was only committed back to 3.1.1.
, [~leftnoteasy] and [~jlowe] thanks for quick reply. 
It will be helpful if you apply it on hadoop-2.9 since the release has the issue., + appInfo.*getAppPlacementAllocator*(schedulerKey);

- appInfo.*getAppPlacementAllocator*(schedulerKey) 

From the patch found this line where in the hadoop 2.9.0 i could see this

appInfo.*getSchedulingPlacementSet*(schedulerKey) 

so the patch provided on YARN-8193 wont work for 2.9.0, This is being handled by YARN-8193 with a new branch-2 patch posted there.]