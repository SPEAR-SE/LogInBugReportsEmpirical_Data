[[~leftnoteasy], [~jianhe], [~ozawa], please have a look, should we set state of app/appAttempt to FAILED instead of FINISHED, or just count it as "Apps Failed" instead of "Apps Completed"?, Thanks for your reporting, [~zhiguohong]. I think we should fix to report the states of app correctly. How about changing to check the state of apps and dispatch RMAppEventType#ATTEMPT_FAILED in RMAppAttemptImpl#AMUnregisteredTransition?
, How about the state of appAttempt? should it finally be FAILED instead of FINISHED?, RMAppEventType#ATTEMPT_FAILED is not suitable because it leads to check of "maxAppAttempt". 
Here AM unregistered with "getFinalApplicationStatus()==FAILED",  the RMApp should transit to "FAILED" without check of "maxAppAttempt"

In current implementation of RMAppImpl, targetedFinalState of FinalSavingTransition is statically determined by (preState, eventType). A simple solution is to replace ATTEMPT_UNREGISTERED event with 2 types of event: ATTEMPT_UNREGISTERED_SUCC and ATTEMPT_UNREGISTERED_FAIL.

Any suggestion?]