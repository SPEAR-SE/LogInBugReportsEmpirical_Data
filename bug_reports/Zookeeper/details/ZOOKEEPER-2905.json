{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13104933","self":"https://issues.apache.org/jira/rest/api/2/issue/13104933","key":"ZOOKEEPER-2905","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310801","id":"12310801","key":"ZOOKEEPER","name":"ZooKeeper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10484","id":"10484","description":"Apache ZooKeeper related","name":"ZooKeeper"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12339207","id":"12339207","description":"Fix release against 3.4 branch","name":"3.4.11","archived":false,"released":true,"releaseDate":"2017-11-09"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12340141","id":"12340141","description":"Beta release against 3.5 branch","name":"3.5.4","archived":false,"released":true,"releaseDate":"2018-05-17"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12326518","id":"12326518","name":"3.6.0","archived":false,"released":false}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2017-09-25T22:57:22.862+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed Sep 27 23:34:47 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1482627_*|*_3_*:*_1_*:*_169966186_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2017-09-27T22:19:17.922+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-2905/watchers","watchCount":3,"isWatching":false},"created":"2017-09-25T22:41:49.165+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andschwa","name":"andschwa","key":"andschwa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andschwa&avatarId=29804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andschwa&avatarId=29804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andschwa&avatarId=29804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andschwa&avatarId=29804"},"displayName":"Andrew Schwartzmeyer","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-09-27T23:34:47.294+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"In ZOOKEEPER-2841 I fixed the inclusion of project-specific porting changes that were included in the public headers, which then broke upstream projects (in my case, Mesos).\n\nUnfortunately, I inadvertently created the exact same problem for Linux (or really any system that uses Autotools), and it wasn't evident until the build was coupled with another project with the same problem. More specifically, when including ZooKeeper (with my changes) in Mesos, and including Google's Glog in Mesos, and building both with Autotools (which we also support), both packages define the pre-processor macro {{PACKAGE_VERSION}}, and so so publicly. This is defined in {{config.h}} by Autotools, and is not a problem _unless included publicly_.\n\nWhen refactoring, I saw two includes in {{zookeeper.h}} that instead of being guarded by e.g. {{#ifdef HAVE_SYS_SOCKET_H}} were guarded by {{#ifndef WIN32}}. Without realizing that I would create the exact same problem I was elsewhere fixing, I erroneously added {{#include \"config.h\"}} and guarded the includes \"properly.\" But there is _very good reasons_ not to do this (explained above).\n\nThe patch to fix this is simple:\n\n{noformat}\ndiff --git a/src/c/include/zookeeper.h b/src/c/include/zookeeper.h\nindex d20e70af4..b0bb09e3f 100644\n--- a/src/c/include/zookeeper.h\n+++ b/src/c/include/zookeeper.h\n@@ -21,13 +21,9 @@\n\n #include <stdlib.h>\n\n-#include \"config.h\"\n-\n-#ifdef HAVE_SYS_SOCKET_H\n+/* we must not include config.h as a public header */\n+#ifndef WIN32\n #include <sys/socket.h>\n-#endif\n-\n-#ifdef HAVE_SYS_TIME_H\n #include <sys/time.h>\n #endif\n\ndiff --git a/src/c/src/zookeeper.c b/src/c/src/zookeeper.c\nindex 220c57dc4..9b837f227 100644\n--- a/src/c/src/zookeeper.c\n+++ b/src/c/src/zookeeper.c\n@@ -24,6 +24,7 @@\n #define USE_IPV6\n #endif\n\n+#include \"config.h\"\n #include <zookeeper.h>\n #include <zookeeper.jute.h>\n #include <proto.h>\n{noformat}\n\nI am opening pull requests in a few minutes to have this applied to branch 3.4 and 3.5.\n\nI'm sorry!","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Don't include `config.h` in `zookeeper.h`","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andschwa","name":"andschwa","key":"andschwa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andschwa&avatarId=29804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andschwa&avatarId=29804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andschwa&avatarId=29804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andschwa&avatarId=29804"},"displayName":"Andrew Schwartzmeyer","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andschwa","name":"andschwa","key":"andschwa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andschwa&avatarId=29804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andschwa&avatarId=29804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andschwa&avatarId=29804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andschwa&avatarId=29804"},"displayName":"Andrew Schwartzmeyer","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Linux-ish environments.","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16179912","id":"16179912","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user andschwa opened a pull request:\n\n    https://github.com/apache/zookeeper/pull/381\n\n    ZOOKEEPER-2905: Don't include `config.h` in `zookeeper.h`\n\n    In ZOOKEEPER-2841 I fixed the inclusion of project-specific porting code\n    that were included in the public headers, which then broke upstream\n    projects (in my case, Mesos).\n    \n    Unfortunately, I inadvertently created a very similar problem, and it\n    wasn't evident until the build was coupled with another project with the\n    same bug. More specifically, when including ZooKeeper in Mesos, and\n    including Google's Glog in Mesos, both projects define the macros\n    `VERSION`, `PACKAGE_VERSION`, and `PACKAGE_TARNAME`, and do so publicly.\n    This is commonly defined in `config.h` by Autotools (and by CMake for\n    ZooKeeper for compatibility), and is not a problem unless included\n    publicly, such as in `zookeeper.h`, and by more than one project.\n    \n    When refactoring, I saw two includes in `zookeeper.h` that instead of\n    being guarded by e.g. `#ifdef HAVE_SYS_SOCKET_H` were guarded by\n    `#ifndef WIN32`. I erroneously added `#include \"config.h\"` and guarded\n    the includes \"properly\" with a feature guard. However, configuration\n    files such as `config.h` and `winconfig.h` etc. must never be included\n    in publicly in `zookeeper.h`, for the reasons given above.\n    \n    This patch reverts the bug, and instead includes `config.h` in\n    `zookeeper.c`, where it is not exposed to other projects.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/andschwa/zookeeper ZOOKEEPER-2905\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/zookeeper/pull/381.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #381\n    \n----\ncommit 2ec2bc6680d49f3b6917db3f58257a80b4b4144f\nAuthor: Andrew Schwartzmeyer <andrew@schwartzmeyer.com>\nDate:   2017-08-30T23:15:28Z\n\n    ZOOKEEPER-2905: Don't include `config.h` in `zookeeper.h`\n    \n    In ZOOKEEPER-2841 I fixed the inclusion of project-specific porting code\n    that were included in the public headers, which then broke upstream\n    projects (in my case, Mesos).\n    \n    Unfortunately, I inadvertently created a very similar problem, and it\n    wasn't evident until the build was coupled with another project with the\n    same bug. More specifically, when including ZooKeeper in Mesos, and\n    including Google's Glog in Mesos, both projects define the macros\n    `VERSION`, `PACKAGE_VERSION`, and `PACKAGE_TARNAME`, and do so publicly.\n    This is commonly defined in `config.h` by Autotools (and by CMake for\n    ZooKeeper for compatibility), and is not a problem unless included\n    publicly, such as in `zookeeper.h`, and by more than one project.\n    \n    When refactoring, I saw two includes in `zookeeper.h` that instead of\n    being guarded by e.g. `#ifdef HAVE_SYS_SOCKET_H` were guarded by\n    `#ifndef WIN32`. I erroneously added `#include \"config.h\"` and guarded\n    the includes \"properly\" with a feature guard. However, configuration\n    files such as `config.h` and `winconfig.h` etc. must never be included\n    in publicly in `zookeeper.h`, for the reasons given above.\n    \n    This patch reverts the bug, and instead includes `config.h` in\n    `zookeeper.c`, where it is not exposed to other projects.\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-25T22:57:22.862+0000","updated":"2017-09-25T22:57:22.862+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16179916","id":"16179916","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user andschwa commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/381\n  \n    Hey @hanm, I found and fixed a bug I made. This patches `branch-3.4`. It should be very straightforward.\n    \n    This is for [ZOOKEEPER-2905](https://issues.apache.org/jira/browse/ZOOKEEPER-2905).\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-25T22:58:29.689+0000","updated":"2017-09-25T22:58:29.689+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16179917","id":"16179917","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andschwa","name":"andschwa","key":"andschwa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andschwa&avatarId=29804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andschwa&avatarId=29804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andschwa&avatarId=29804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andschwa&avatarId=29804"},"displayName":"Andrew Schwartzmeyer","active":true,"timeZone":"America/Los_Angeles"},"body":"I didn't catch this sooner as the CMake build on Windows and Linux for Mesos uses a newer version of Glog than our Autotools build, which doesn't have this bug. So it was when my ZooKeeper patch with the bug was combined with an old version of Glog (0.3.3) which also had the bug, that I finally found it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andschwa","name":"andschwa","key":"andschwa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andschwa&avatarId=29804","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andschwa&avatarId=29804","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andschwa&avatarId=29804","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andschwa&avatarId=29804"},"displayName":"Andrew Schwartzmeyer","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-25T22:59:14.936+0000","updated":"2017-09-25T22:59:14.936+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16179918","id":"16179918","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user andschwa opened a pull request:\n\n    https://github.com/apache/zookeeper/pull/382\n\n    ZOOKEEPER-2905: Don't include `config.h` in `zookeeper.h`\n\n    In ZOOKEEPER-2841 I fixed the inclusion of project-specific porting code\n    that were included in the public headers, which then broke upstream\n    projects (in my case, Mesos).\n    \n    Unfortunately, I inadvertently created a very similar problem, and it\n    wasn't evident until the build was coupled with another project with the\n    same bug. More specifically, when including ZooKeeper in Mesos, and\n    including Google's Glog in Mesos, both projects define the macros\n    `VERSION`, `PACKAGE_VERSION`, and `PACKAGE_TARNAME`, and do so publicly.\n    This is commonly defined in `config.h` by Autotools (and by CMake for\n    ZooKeeper for compatibility), and is not a problem unless included\n    publicly, such as in `zookeeper.h`, and by more than one project.\n    \n    When refactoring, I saw two includes in `zookeeper.h` that instead of\n    being guarded by e.g. `#ifdef HAVE_SYS_SOCKET_H` were guarded by\n    `#ifndef WIN32`. I erroneously added `#include \"config.h\"` and guarded\n    the includes \"properly\" with a feature guard. However, configuration\n    files such as `config.h` and `winconfig.h` etc. must never be included\n    in publicly in `zookeeper.h`, for the reasons given above.\n    \n    This patch reverts the bug, and instead includes `config.h` in\n    `zookeeper.c`, where it is not exposed to other projects.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/andschwa/zookeeper ZOOKEEPER-2905-3.5\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/zookeeper/pull/382.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #382\n    \n----\ncommit daac5254a1a7472089f6950f60e4a4a1a3fa1f0e\nAuthor: Andrew Schwartzmeyer <andrew@schwartzmeyer.com>\nDate:   2017-08-30T23:15:28Z\n\n    ZOOKEEPER-2905: Don't include `config.h` in `zookeeper.h`\n    \n    In ZOOKEEPER-2841 I fixed the inclusion of project-specific porting code\n    that were included in the public headers, which then broke upstream\n    projects (in my case, Mesos).\n    \n    Unfortunately, I inadvertently created a very similar problem, and it\n    wasn't evident until the build was coupled with another project with the\n    same bug. More specifically, when including ZooKeeper in Mesos, and\n    including Google's Glog in Mesos, both projects define the macros\n    `VERSION`, `PACKAGE_VERSION`, and `PACKAGE_TARNAME`, and do so publicly.\n    This is commonly defined in `config.h` by Autotools (and by CMake for\n    ZooKeeper for compatibility), and is not a problem unless included\n    publicly, such as in `zookeeper.h`, and by more than one project.\n    \n    When refactoring, I saw two includes in `zookeeper.h` that instead of\n    being guarded by e.g. `#ifdef HAVE_SYS_SOCKET_H` were guarded by\n    `#ifndef WIN32`. I erroneously added `#include \"config.h\"` and guarded\n    the includes \"properly\" with a feature guard. However, configuration\n    files such as `config.h` and `winconfig.h` etc. must never be included\n    in publicly in `zookeeper.h`, for the reasons given above.\n    \n    This patch reverts the bug, and instead includes `config.h` in\n    `zookeeper.c`, where it is not exposed to other projects.\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-25T23:00:23.439+0000","updated":"2017-09-25T23:00:23.439+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16179919","id":"16179919","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user andschwa commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/382\n  \n    @hanm and this is is for `branch-3.5`.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-25T23:00:39.824+0000","updated":"2017-09-25T23:00:39.824+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16179921","id":"16179921","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user andschwa opened a pull request:\n\n    https://github.com/apache/zookeeper/pull/383\n\n    ZOOKEEPER-2905: Don't include `config.h` in `zookeeper.h`\n\n    In ZOOKEEPER-2841 I fixed the inclusion of project-specific porting code\n    that were included in the public headers, which then broke upstream\n    projects (in my case, Mesos).\n    \n    Unfortunately, I inadvertently created a very similar problem, and it\n    wasn't evident until the build was coupled with another project with the\n    same bug. More specifically, when including ZooKeeper in Mesos, and\n    including Google's Glog in Mesos, both projects define the macros\n    `VERSION`, `PACKAGE_VERSION`, and `PACKAGE_TARNAME`, and do so publicly.\n    This is commonly defined in `config.h` by Autotools (and by CMake for\n    ZooKeeper for compatibility), and is not a problem unless included\n    publicly, such as in `zookeeper.h`, and by more than one project.\n    \n    When refactoring, I saw two includes in `zookeeper.h` that instead of\n    being guarded by e.g. `#ifdef HAVE_SYS_SOCKET_H` were guarded by\n    `#ifndef WIN32`. I erroneously added `#include \"config.h\"` and guarded\n    the includes \"properly\" with a feature guard. However, configuration\n    files such as `config.h` and `winconfig.h` etc. must never be included\n    in publicly in `zookeeper.h`, for the reasons given above.\n    \n    This patch reverts the bug, and instead includes `config.h` in\n    `zookeeper.c`, where it is not exposed to other projects.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/andschwa/zookeeper ZOOKEEPER-2905-master\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/zookeeper/pull/383.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #383\n    \n----\ncommit b825ecd08724107f873c726692ea8af02173bb5d\nAuthor: Andrew Schwartzmeyer <andrew@schwartzmeyer.com>\nDate:   2017-08-30T23:15:28Z\n\n    ZOOKEEPER-2905: Don't include `config.h` in `zookeeper.h`\n    \n    In ZOOKEEPER-2841 I fixed the inclusion of project-specific porting code\n    that were included in the public headers, which then broke upstream\n    projects (in my case, Mesos).\n    \n    Unfortunately, I inadvertently created a very similar problem, and it\n    wasn't evident until the build was coupled with another project with the\n    same bug. More specifically, when including ZooKeeper in Mesos, and\n    including Google's Glog in Mesos, both projects define the macros\n    `VERSION`, `PACKAGE_VERSION`, and `PACKAGE_TARNAME`, and do so publicly.\n    This is commonly defined in `config.h` by Autotools (and by CMake for\n    ZooKeeper for compatibility), and is not a problem unless included\n    publicly, such as in `zookeeper.h`, and by more than one project.\n    \n    When refactoring, I saw two includes in `zookeeper.h` that instead of\n    being guarded by e.g. `#ifdef HAVE_SYS_SOCKET_H` were guarded by\n    `#ifndef WIN32`. I erroneously added `#include \"config.h\"` and guarded\n    the includes \"properly\" with a feature guard. However, configuration\n    files such as `config.h` and `winconfig.h` etc. must never be included\n    in publicly in `zookeeper.h`, for the reasons given above.\n    \n    This patch reverts the bug, and instead includes `config.h` in\n    `zookeeper.c`, where it is not exposed to other projects.\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-25T23:01:50.421+0000","updated":"2017-09-25T23:01:50.421+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16179922","id":"16179922","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user andschwa commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/383\n  \n    @hanm and finally this PR is for `master`.\n    \n    Let me reiterate: I'm sorry! Ha, seriously, I can't believe I broke practically the same thing I was fixing. You have to be _super_ careful about what gets included in public headers.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-25T23:02:43.004+0000","updated":"2017-09-25T23:02:43.004+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16179936","id":"16179936","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  GitHub Pull Request  Build\n      \n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +0 tests included.  The patch appears to be a documentation patch that doesn't require tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    -1 core tests.  The patch failed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1045//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1045//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1045//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-25T23:16:31.447+0000","updated":"2017-09-25T23:16:31.447+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16179946","id":"16179946","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  GitHub Pull Request  Build\n      \n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +0 tests included.  The patch appears to be a documentation patch that doesn't require tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1044//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1044//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1044//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-25T23:22:20.321+0000","updated":"2017-09-25T23:22:20.321+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16179949","id":"16179949","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  GitHub Pull Request  Build\n      \n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +0 tests included.  The patch appears to be a documentation patch that doesn't require tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    -1 core tests.  The patch failed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1043//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1043//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1043//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-25T23:30:23.415+0000","updated":"2017-09-25T23:30:23.415+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16183346","id":"16183346","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user phunt commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/383\n  \n    +1, lgtm. I compiled the c client code under Ubuntu 17.04, also compiled and successfully ran the tests for zkpython on the same environment.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-27T22:14:02.707+0000","updated":"2017-09-27T22:14:02.707+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16183348","id":"16183348","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user phunt commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/382\n  \n    +1, lgtm. I compiled the c client code under Ubuntu 17.04, also compiled and successfully ran the tests for zkpython on the same environment.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-27T22:14:08.818+0000","updated":"2017-09-27T22:14:08.818+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16183349","id":"16183349","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user phunt commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/381\n  \n    +1, lgtm. I compiled the c client code under Ubuntu 17.04, also compiled and successfully ran the tests for zkpython on the same environment.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-27T22:14:24.636+0000","updated":"2017-09-27T22:14:24.636+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16183351","id":"16183351","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user phunt commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/383\n  \n    Thanks @andschwa - no worries. :-)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-27T22:15:02.224+0000","updated":"2017-09-27T22:15:02.224+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16183358","id":"16183358","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/zookeeper/pull/383\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-27T22:19:12.737+0000","updated":"2017-09-27T22:19:12.737+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16183359","id":"16183359","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Issue resolved by pull request 383\n[https://github.com/apache/zookeeper/pull/383]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-09-27T22:19:17.962+0000","updated":"2017-09-27T22:19:17.962+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16183396","id":"16183396","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user phunt commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/382\n  \n    @andschwa - can you close this PR? It's been merged but GH only allows keyword commands on the default branch and I don't have admin privs. Thanks again.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-27T22:54:15.517+0000","updated":"2017-09-27T22:54:15.517+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16183397","id":"16183397","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user phunt commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/381\n  \n    @andschwa - can you close this PR? It's been merged but GH only allows keyword commands on the default branch and I don't have admin privs. Thanks again.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-27T22:54:41.994+0000","updated":"2017-09-27T22:54:41.994+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16183432","id":"16183432","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user andschwa commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/383\n  \n    Thanks @phunt!\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-27T23:30:33.985+0000","updated":"2017-09-27T23:30:33.985+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16183435","id":"16183435","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user andschwa commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/382\n  \n    Thanks!\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-27T23:31:45.921+0000","updated":"2017-09-27T23:31:45.921+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16183436","id":"16183436","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user andschwa closed the pull request at:\n\n    https://github.com/apache/zookeeper/pull/382\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-27T23:31:46.262+0000","updated":"2017-09-27T23:31:46.262+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16183438","id":"16183438","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user andschwa commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/381\n  \n    Thanks!\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-27T23:32:14.789+0000","updated":"2017-09-27T23:32:14.789+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16183439","id":"16183439","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user andschwa closed the pull request at:\n\n    https://github.com/apache/zookeeper/pull/381\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-27T23:32:15.371+0000","updated":"2017-09-27T23:32:15.371+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13104933/comment/16183442","id":"16183442","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Jenkins build ZooKeeper-trunk #3551 (See [https://builds.apache.org/job/ZooKeeper-trunk/3551/])\nZOOKEEPER-2905: Don't include `config.h` in `zookeeper.h` (phunt: rev 0fee905684a82eefb2d7d4a999290fb2f2378b41)\n* (edit) src/c/src/zookeeper.c\n* (edit) src/c/include/zookeeper.h\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-27T23:34:47.294+0000","updated":"2017-09-27T23:34:47.294+0000"}],"maxResults":24,"total":24,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-2905/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3kix3:"}}