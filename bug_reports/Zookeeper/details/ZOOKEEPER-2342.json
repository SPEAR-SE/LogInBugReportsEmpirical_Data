{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12920618","self":"https://issues.apache.org/jira/rest/api/2/issue/12920618","key":"ZOOKEEPER-2342","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310801","id":"12310801","key":"ZOOKEEPER","name":"ZooKeeper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10484","id":"10484","description":"Apache ZooKeeper related","name":"ZooKeeper"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326518","id":"12326518","name":"3.6.0","archived":false,"released":false}],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2015-12-10T04:28:48.326+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Apr 04 18:08:31 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-2342/watchers","watchCount":17,"isWatching":false},"created":"2015-12-10T00:59:31.269+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12491202","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12491202","type":{"id":"12310000","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"},"inwardIssue":{"id":"13032642","key":"ZOOKEEPER-2659","self":"https://issues.apache.org/jira/rest/api/2/issue/13032642","fields":{"summary":"Use log4j2 as a logging framework as log4j 1.X is now deprecated","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/5","id":"5","description":"General wishlist item.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Wish","subtask":false,"avatarId":21140}}}},{"id":"12461169","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12461169","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12951413","key":"ZOOKEEPER-2393","self":"https://issues.apache.org/jira/rest/api/2/issue/12951413","fields":{"summary":"Revert run-time dependency on log4j and slf4j-log4j12","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12477880","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12477880","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12600341","key":"LOG4J2-63","self":"https://issues.apache.org/jira/rest/api/2/issue/12600341","fields":{"summary":"Support configuration from version 1.x log4j.properties","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/3","description":"This issue is being actively worked on at the moment by the assignee.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/inprogress.png","name":"In Progress","id":"3","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/5","id":"5","description":"General wishlist item.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Wish","subtask":false,"avatarId":21140}}}},{"id":"12461660","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12461660","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12952690","key":"HADOOP-12956","self":"https://issues.apache.org/jira/rest/api/2/issue/12952690","fields":{"summary":"Inevitable Log4j2 migration via slf4j","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}},{"id":"12451430","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12451430","type":{"id":"12310050","name":"Regression","inward":"is broken by","outward":"breaks","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310050"},"inwardIssue":{"id":"12539547","key":"ZOOKEEPER-1371","self":"https://issues.apache.org/jira/rest/api/2/issue/12539547","fields":{"summary":"Remove dependency on log4j in the source code.","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12477526","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12477526","type":{"id":"10001","name":"dependent","inward":"is depended upon by","outward":"depends upon","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"},"inwardIssue":{"id":"12996994","key":"LOG4J2-1514","self":"https://issues.apache.org/jira/rest/api/2/issue/12996994","fields":{"summary":"Help Apache Zookeeper project to upgrade from Log4j 1.x to 2.x","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/7","id":"7","description":"The sub-task of the issue","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":21146}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-04-04T18:08:31.387+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"description":"ZOOKEEPER-1371 removed our source code dependency on Log4J.  It appears that this also removed the Log4J SLF4J binding jar from the runtime classpath.  Without any SLF4J binding jar available on the runtime classpath, it is impossible to write logs.\n\nThis JIRA investigated migration to Log4J 2 as a possible path towards resolving the bug introduced by ZOOKEEPER-1371.  At this point, we know this is not feasible short-term.  This JIRA remains open to track long-term migration to Log4J 2.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12780382","id":"12780382","filename":"ZOOKEEPER-2342.001.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-01-04T20:51:39.929+0000","size":55153,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12780382/ZOOKEEPER-2342.001.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Migrate to Log4J 2.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15049766","id":"15049766","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"To reproduce the issue, run {{ant clean tar}} on the tip of current trunk, unpack the distro, copy zoo_sample.cfg to zoo.cfg, and then run it.  Both {{zkServer.sh start-foreground}} and {{zkCli.sh}} will show this error:\n\n{code}\nSLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n{code}\n\nThere will be no additional logging after that.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-12-10T01:01:03.528+0000","updated":"2015-12-10T01:01:03.528+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15049769","id":"15049769","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"I've confirmed that the problem was introduced by ZOOKEEPER-1371, which corresponds to git commit hash 4be4adfa32dc0bae0736ee1d6c04cb4cfc2d13a4.  If I check out the commit right before that, then the problem no longer repros.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-12-10T01:02:30.679+0000","updated":"2015-12-10T01:02:30.679+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15050022","id":"15050022","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arshad.mohammad","name":"arshad.mohammad","key":"arshad.mohammad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Mohammad Arshad","active":true,"timeZone":"Asia/Singapore"},"body":"Hi [~cnauroth], it is right that log4j dependency has been removed but this was the intention of the ZOOKEEPER-1371 jira.  May be we can document some where that users  have to put runtime library of the logging framework of their choice. For example to use log4j user should put slf4j-log4j12-1.7.5.jar and slf4j-log4j12-1.7.5.jar in <ZOOKEEPER_HOME>/lib","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arshad.mohammad","name":"arshad.mohammad","key":"arshad.mohammad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Mohammad Arshad","active":true,"timeZone":"Asia/Singapore"},"created":"2015-12-10T04:28:48.326+0000","updated":"2015-12-10T04:28:48.326+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15050024","id":"15050024","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arshad.mohammad","name":"arshad.mohammad","key":"arshad.mohammad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Mohammad Arshad","active":true,"timeZone":"Asia/Singapore"},"body":"small correction: user should put slf4j-log4j12-1.7.5.jar and log4j-1.2.17.jar in <ZOOKEEPER_HOME>/lib","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arshad.mohammad","name":"arshad.mohammad","key":"arshad.mohammad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Mohammad Arshad","active":true,"timeZone":"Asia/Singapore"},"created":"2015-12-10T04:29:39.914+0000","updated":"2015-12-10T04:29:39.914+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15050025","id":"15050025","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arshad.mohammad","name":"arshad.mohammad","key":"arshad.mohammad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Mohammad Arshad","active":true,"timeZone":"Asia/Singapore"},"body":"small correction: user should put slf4j-log4j12-1.7.5.jar and log4j-1.2.17.jar in <ZOOKEEPER_HOME>/lib","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arshad.mohammad","name":"arshad.mohammad","key":"arshad.mohammad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Mohammad Arshad","active":true,"timeZone":"Asia/Singapore"},"created":"2015-12-10T04:29:42.096+0000","updated":"2015-12-10T04:29:42.096+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15050026","id":"15050026","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arshad.mohammad","name":"arshad.mohammad","key":"arshad.mohammad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Mohammad Arshad","active":true,"timeZone":"Asia/Singapore"},"body":"small correction: user should put slf4j-log4j12-1.7.5.jar and log4j-1.2.17.jar in <ZOOKEEPER_HOME>/lib","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arshad.mohammad","name":"arshad.mohammad","key":"arshad.mohammad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Mohammad Arshad","active":true,"timeZone":"Asia/Singapore"},"created":"2015-12-10T04:29:44.462+0000","updated":"2015-12-10T04:29:44.462+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15053160","id":"15053160","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"System administrators will consider it unacceptable if we ship a product that has logging broken by default.  I just caught up on the full thread of ZOOKEEPER-1371, and it seems this point was lost in the lengthy (multi-year) course of discussion.\n\nAt some point in the lifetime of that patch, someone did consider this, because the documentation part of the patch stated that we ship the Log4J binding by default for backwards compatibility.  The documentation also still references use of log4j.properties to control logging.\n\n{code}\n    <section id=\"sc_logging\">\n      <title>Logging</title>\n\n    <para>\n        ZooKeeper uses <emphasis role=\"bold\"><ulink url=\"http://www.slf4j.org\">SLF4J</ulink></emphasis>\n        version 1.7 as its logging infrastructure. For backward compatibility it is bound to\n        <emphasis role=\"bold\">LOG4J</emphasis> but you can use\n        <emphasis role=\"bold\"><ulink url=\"http://logback.qos.ch/\">LOGBack</ulink></emphasis>\n        or any other supported logging framework of your choice.\n    </para>\n    <para>\n        The ZooKeeper default <filename>log4j.properties</filename>\n        file resides in the <filename>conf</filename> directory. Log4j requires that\n        <filename>log4j.properties</filename> either be in the working directory\n        (the directory from which ZooKeeper is run) or be accessible from the classpath.\n    </para>\n\n    <para>For more information about SLF4J, see\n      <ulink url=\"http://www.slf4j.org/manual.html\">its manual</ulink>.</para>\n\n    <para>For more information about LOG4J, see\n      <ulink url=\"http://logging.apache.org/log4j/1.2/manual.html#defaultInit\">Log4j Default Initialization Procedure</ulink> \n      of the log4j manual.</para>\n      \n    </section>\n{code}\n\nThe patch implementation doesn't match the documentation though, so logging is broken.\n\nI see 2 possible solutions.\n# Reintroduce the Log4J 1 binding as a runtime dependency.  This choice retains backwards-compatibility with existing deployments that use log4j.properties to control their logging.\n# Include the Log4J 2 binding as a runtime dependency.  This choice is not backwards-compatible, because the configuration format has changed in a non-backwards-compatible way in Log4J 2\nhttp://logging.apache.org/log4j/2.x/manual/configuration.html\nIf we go with Log4J 2, then it must be done within the alpha timeline, because we have stated a plan of stopping backwards-incompatible changes once 3.5 produces a beta release.\n\nHowever, we would never write new code directly to the Log4J API (either version 1 or version 2).  It would only ship in the distro as a runtime dependency.\n\nOverall, I suppose now is the time to jump to Log4J 2, considering version 1 is end of life.  We probably won't get another opportunity for a backwards-incompatible change of this magnitude for a long time.\n\nCould others please chime in too before we proceed with any changes?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-12-11T18:32:15.263+0000","updated":"2015-12-11T18:32:15.263+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15053466","id":"15053466","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=flyinprogrammer","name":"flyinprogrammer","key":"flyinprogrammer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Scherger","active":true,"timeZone":"Etc/UTC"},"body":"I know i'm a nobody - but I'm voting for option 2 (log4j2 as a runtime dependency)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=flyinprogrammer","name":"flyinprogrammer","key":"flyinprogrammer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Scherger","active":true,"timeZone":"Etc/UTC"},"created":"2015-12-11T19:56:51.791+0000","updated":"2015-12-11T19:56:51.791+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15053487","id":"15053487","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi [~flyinprogrammer].  Thanks for commenting!  It's valuable to get the input.  Nobody is a nobody (if that makes any sense).  :-)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-12-11T20:03:48.110+0000","updated":"2015-12-11T20:03:48.110+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15053559","id":"15053559","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgs","name":"rgs","key":"rgs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rgs&avatarId=18469","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rgs&avatarId=18469","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rgs&avatarId=18469","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rgs&avatarId=18469"},"displayName":"Raul Gutierrez Segales","active":true,"timeZone":"America/Los_Angeles"},"body":"I am +1 for Log4J v2 and I agree that now is the right timing. Thanks for driving this [~cnauroth]!\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgs","name":"rgs","key":"rgs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rgs&avatarId=18469","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rgs&avatarId=18469","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rgs&avatarId=18469","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rgs&avatarId=18469"},"displayName":"Raul Gutierrez Segales","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-12-11T21:08:59.455+0000","updated":"2015-12-11T21:08:59.455+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15053642","id":"15053642","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"body":"I'm trying to understand the impact of option 2 not being BC. Does it mean that the properties file needs to be rewritten during a rolling upgrade from say branch 3.4 to branch 3.5? [~cnauroth] [~rgs]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"created":"2015-12-11T21:53:41.164+0000","updated":"2015-12-11T21:53:41.164+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15053811","id":"15053811","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. Does it mean that the properties file needs to be rewritten during a rolling upgrade from say branch 3.4 to branch 3.5?\n\nYes, that's correct.  Instead of using a log4j.properties file with the Log4J 1 syntax, it looks like you'd now need a log4j2.properties file, written in the new Log4J 2 syntax.  For administrators who have customized their log4j.properties file to do something different from what we ship, they'd need to prepare an equivalent log4j2.properties before the upgrade.\n\nThere are more details on this in the Log4J 2 configuration documentation, especially the sections on \"Automatic Configuration\" and \"Configuration with Properties\".\n\nhttp://logging.apache.org/log4j/2.x/manual/configuration.html","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-12-11T23:52:04.689+0000","updated":"2015-12-11T23:52:04.689+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15055564","id":"15055564","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arshad.mohammad","name":"arshad.mohammad","key":"arshad.mohammad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Mohammad Arshad","active":true,"timeZone":"Asia/Singapore"},"body":"+1 for Log4J 2 runtime dependency","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arshad.mohammad","name":"arshad.mohammad","key":"arshad.mohammad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Mohammad Arshad","active":true,"timeZone":"Asia/Singapore"},"created":"2015-12-14T07:19:33.828+0000","updated":"2015-12-14T07:19:33.828+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15074218","id":"15074218","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anomalizer","name":"anomalizer","key":"anomalizer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arvind Jayaprakash","active":true,"timeZone":"Asia/Kolkata"},"body":"Here are my specific suggestions:\n* Do not bundle any binding as part of non-server artifacts a.k.a. libraries. This is a place where the power/choice should solely lie in the hands of the person integrating the libraries into their applications.\n* The choice on the server side should be as follows\n  * Bind to log4j-v1 as part of patch releases on existing GA/supported branches\n  * Bind to the chosen, modern implementation on a new minor version build. I guess everyone likes log4j-v2 and we shall let it be that way\n  * Provide adequate documentation on how to use some other binding of choice for those users/admins who wish to bring in their favourite binding (logback fans, put your hands up)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anomalizer","name":"anomalizer","key":"anomalizer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arvind Jayaprakash","active":true,"timeZone":"Asia/Kolkata"},"created":"2015-12-29T19:51:00.392+0000","updated":"2015-12-29T19:51:00.392+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15081719","id":"15081719","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"[~anomalizer], yes, agreed.  Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-01-04T20:18:25.138+0000","updated":"2016-01-04T20:18:25.138+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15081785","id":"15081785","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"I'm attaching a v001 patch for a migration to Log4J 2, based on my reading of the Log4J 2 [Configuration|http://logging.apache.org/log4j/2.x/manual/configuration.html] guide.  Here is a summary of the changes.\n\n# Some of the ZOOKEEPER-1371 build script changes are partly rolled back.  We no longer need a {{junit.run.nolog4j}} target.  This was kind of bogus anyway, because there aren't really any test suites that match the {{NoLog4J*.java}} pattern.\n# The top-level ivy.xml prevents the Log4J 2 dependencies from leaking into client applications via transitive dependency.\n# Delete all log4j.properties files and replace them with a roughly equivalent log4j2.properties file.   (More on this later.)  We now need to use system property {{log4j.configurationFile}} to refer to it.  I added a log4j2.properties to some components that didn't previously have a log4j.properties, so they can log correctly now.\n# Several tests depended on programmatic access to the Log4J API for capturing and verifying log messages.  I updated this code to the new Log4J 2 APIs.\n\nThis revision of the patch has not yet updated documentation.\n\nI have verified that all tests are passing and emitting logs.  I also built the distro and verified successful logging from zkServer.sh and zkCli.sh.\n\nI'm not completely satisfied with this.  With Log4J 1, we were able to parameterize which appender to attach to the root logger by substituting the {{zookeeper.root.logger}} property with something like {{INFO, CONSOLE}} or {{INFO, ROLLINGFILE}}.  It appears this is not as easily controlled in Log4J 2, where the configuration is more structured and switching appenders requires more changes in the configuration file.  For this first revision of the patch, the log4j2.properties is logging to both the {{CONSOLE}} and {{ROLLINGFILE}} appenders, which isn't desirable for the final solution.  I'm attaching this version of the patch anyway to see if anyone else has ideas on how to achieve a configurable split.\n\nI also have not yet replicated the functionality of the zookeeper_trace.log from our log4j.properties file.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-01-04T20:51:39.933+0000","updated":"2016-01-04T20:51:39.933+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15081814","id":"15081814","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12780382/ZOOKEEPER-2342.001.patch\n  against trunk revision 1720227.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 10 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3002//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3002//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3002//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-01-04T21:13:48.901+0000","updated":"2016-01-04T21:13:48.901+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15195864","id":"15195864","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Should we backout ZOOKEEPER-1371 instead? \n\nI don't see where we've done much thought on b/w compatibility. It's barely mentioned on these two jiras. We need to consider both developers as well as administrators. Perhaps this is just because I'm not familiar myself with log4j2. (if so please tell me) I realize I need to go look into this more... but that's part of my point. Is this something we really want to be changing now?\n\nHave we considered what other Hadoop ecosystem components are doing? e.g. is this going to cause a problem for other components of hadoop and elsewhere that rely on ZK and, for e.g., not yet moved to log4j2.\n\nWhat's the impact on systems that need to manage ZK? e.g. do they need to change the way they generate/edit/manage the log4j.conf file?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-15T18:19:41.516+0000","updated":"2016-03-15T18:19:41.516+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15195905","id":"15195905","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"At this point, I am +1 for reverting ZOOKEEPER-1371.  From my incomplete work on this patch so far, it looks like it's going to be a huge effort to migrate to Log4J 2 if we hope to maintain some basic level of compatibility/usability that administrators are used to.  I don't want that to hold up further 3.5 releases.\n\nbq. I don't see where we've done much thought on b/w compatibility. It's barely mentioned on these two jiras.\n\nBackward compatibility absolutely was one of my goals for the scope of this JIRA.  The attached v001 patch doesn't achieve it, so it is not yet committed.  ZOOKEEPER-1371 was a backwards-incompatible change committed for 3.5.2-alpha, hence my motivation for marking this one a 3.5.2-alpha blocker.  I was hoping to restore backwards-compatibility in the scope of this patch, but I'm no longer comfortable with the risk.\n\nbq. Have we considered what other Hadoop ecosystem components are doing?\n\nAt least for Hadoop itself, I know Log4J 2 migration is not on the schedule yet.  It has been mentioned casually, but there is no real plan yet.\n\nbq. What's the impact on systems that need to manage ZK? e.g. do they need to change the way they generate/edit/manage the log4j.conf file?\n\nFrom my work so far, I can tell that there is no way to achieve complete backwards-compatibility for administrators editing (and by extension systems that auto-generate) the Log4J configuration file.  I've been trying to find a good way to at least maintain our behavior of allowing appender/level overrides by passing the {{zookeeper.root.logger}} property on JVM startup.  Even if we can at least maintain that, the actual content of the Log4J configuration file is completely different in version 2.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-15T18:36:24.634+0000","updated":"2016-03-15T18:36:24.634+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15196530","id":"15196530","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12780382/ZOOKEEPER-2342.001.patch\n  against trunk revision 1735116.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 10 new or modified tests.\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/3100//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-16T00:20:44.306+0000","updated":"2016-03-16T00:20:44.306+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15197330","id":"15197330","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fournc","name":"fournc","key":"fournc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Camille Fournier","active":true,"timeZone":"Etc/UTC"},"body":"I'm +1 for reverting the breaking patch. I don't honestly see the value in that change that outweighs the cost of trying to make it not backward-breaking. If someone wants to advocate for it with some concrete examples of the pain it is causing, I am all ears, otherwise, let's revert.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fournc","name":"fournc","key":"fournc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Camille Fournier","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-16T13:46:19.177+0000","updated":"2016-03-16T13:46:19.177+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15197495","id":"15197495","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=flyinprogrammer","name":"flyinprogrammer","key":"flyinprogrammer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Scherger","active":true,"timeZone":"Etc/UTC"},"body":"[~fournc] so this is somewhat a bummer for me because I was hoping that with us adopting a new logger I'd finally have a solution for the old SyslogAppender exception-newline problem. for example: http://stackoverflow.com/questions/33177076/escape-newlines-in-zookeeper-logs-using-log4j-1-2-syslogappender \n\nI understand the backwards compatibility issues, they're valid, and we probably should revert this patch -- it just begs the question though, what's the plan to rip the bandaid off?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=flyinprogrammer","name":"flyinprogrammer","key":"flyinprogrammer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Scherger","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-16T15:21:48.104+0000","updated":"2016-03-16T15:21:48.104+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15202340","id":"15202340","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"ZOOKEEPER-2393 now tracks restoring the SLF4J binding on the runtime classpath as a blocker for 3.5.2.  I have downgraded priority on this issue to major and retargeted it to 3.6.0 for long-term tracking of Log4J 2 migration.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-18T23:12:38.828+0000","updated":"2016-03-18T23:12:38.828+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15202345","id":"15202345","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"[~flyinprogrammer], sorry to disappoint.  From discussion on the related JIRAs and the dev mailing list, we think our best path forward is to remain on Log4J 1 to unblock the upcoming 3.5.2 release.  Since Log4J 1 is end of life, we do need to migrate to Log4J 2 someday (\"rip the bandaid off\" as you said), but we'll have to wait until 3.6.0 to consider that.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-18T23:14:59.357+0000","updated":"2016-03-18T23:14:59.357+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15206576","id":"15206576","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anomalizer","name":"anomalizer","key":"anomalizer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arvind Jayaprakash","active":true,"timeZone":"Asia/Kolkata"},"body":"It should be possible to retain bulk of the changes to sl4fj while making it bind to log4j-v1. We don't have to revert the usage of slf4j; just the choice of default bindings needs to be revisited. I'm not sure if we have to revert the code references to slf4j to accomplish this.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=anomalizer","name":"anomalizer","key":"anomalizer","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Arvind Jayaprakash","active":true,"timeZone":"Asia/Kolkata"},"created":"2016-03-22T15:37:31.967+0000","updated":"2016-03-22T15:37:31.967+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15206883","id":"15206883","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"bq. We don't have to revert the usage of slf4j; just the choice of default bindings needs to be revisited.\n\nYes, this is what was done in ZOOKEEPER-2393.  All of the code still calls SLF4J as the logging API, and we'll stick to that in future patches too.  We just reverted the part that omitted the SLF4J Log4J 1 binding from the distro.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-03-22T17:50:53.810+0000","updated":"2016-03-22T17:50:53.810+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15207288","id":"15207288","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ceki%40qos.ch","name":"ceki@qos.ch","key":"ceki@qos.ch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ceki%40qos.ch&avatarId=16609","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ceki%40qos.ch&avatarId=16609","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ceki%40qos.ch&avatarId=16609","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ceki%40qos.ch&avatarId=16609"},"displayName":"Ceki Gülcü","active":true,"timeZone":"Etc/UTC"},"body":"For your information, logback is much more closely related to log4j 1 than is log4j 2. It also provides a smoother path of migration than log4j 2. For instance, it can [translate|http://logback.qos.ch/translator/] log4j.properties files to logback.xml format. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ceki%40qos.ch","name":"ceki@qos.ch","key":"ceki@qos.ch","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ceki%40qos.ch&avatarId=16609","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ceki%40qos.ch&avatarId=16609","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ceki%40qos.ch&avatarId=16609","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ceki%40qos.ch&avatarId=16609"},"displayName":"Ceki Gülcü","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-22T20:58:00.623+0000","updated":"2016-03-22T20:58:00.623+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15419094","id":"15419094","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikaelstaldal","name":"mikaelstaldal","key":"mikaelstaldal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikael Ståldal","active":true,"timeZone":"Europe/Stockholm"},"body":"Hi,\n\nI am member of Apache Logging project PMC.\n\nDue to various issues in Log4j 1.2.x, it will no longer work in JDK9: http://mail.openjdk.java.net/pipermail/jigsaw-dev/2016-July/008654.html\n\nAs Log4j 1.x is EOL (https://blogs.apache.org/foundation/entry/apache_logging_services_project_announces), these issues will not be fixed. We suggest upgrading to Log4j 2.x, we can offer help to do so.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikaelstaldal","name":"mikaelstaldal","key":"mikaelstaldal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikael Ståldal","active":true,"timeZone":"Europe/Stockholm"},"created":"2016-08-12T16:41:07.175+0000","updated":"2016-08-12T16:41:07.175+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15419142","id":"15419142","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikaelstaldal","name":"mikaelstaldal","key":"mikaelstaldal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikael Ståldal","active":true,"timeZone":"Europe/Stockholm"},"body":"Maybe this will be easier if you fix ZOOKEEPER-233 and provide separate server and client artifacts.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikaelstaldal","name":"mikaelstaldal","key":"mikaelstaldal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikael Ståldal","active":true,"timeZone":"Europe/Stockholm"},"created":"2016-08-12T17:09:06.328+0000","updated":"2016-08-12T17:09:06.328+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15424048","id":"15424048","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikaelstaldal","name":"mikaelstaldal","key":"mikaelstaldal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikael Ståldal","active":true,"timeZone":"Europe/Stockholm"},"body":"We in the Log4j 2 team are working on supporting Log4j 1 log4j.properties configurations. The plan is to have that ready in the next release of Log4j (2.7).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mikaelstaldal","name":"mikaelstaldal","key":"mikaelstaldal","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mikael Ståldal","active":true,"timeZone":"Europe/Stockholm"},"created":"2016-08-17T07:50:33.879+0000","updated":"2016-08-17T07:50:33.879+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15425482","id":"15425482","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"body":"[~mikaelstaldal], backward-compatibility with the Log4J 1 properties file format would be hugely beneficial for us.  Thank you.  I'm linking to LOG4J2-63, which seems to be the master JIRA tracking that effort against Log4J 2.7.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=cnauroth","name":"cnauroth","key":"cnauroth","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=cnauroth&avatarId=11432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cnauroth&avatarId=11432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cnauroth&avatarId=11432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cnauroth&avatarId=11432"},"displayName":"Chris Nauroth","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-17T22:10:13.484+0000","updated":"2016-08-17T22:10:13.484+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15823017","id":"15823017","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=praste","name":"praste","key":"praste","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pushkar Raste","active":true,"timeZone":"America/New_York"},"body":"[~cnauroth] - I was not aware of this existing JIRA and I opened ZOOKEEPER-2659. I have opened a pull request with the required changes. I looked at patch you attached to this ticket and most of the changes we have have made seem identical. \nWould you mind taking a look at the PR and let me know if it looks good.\n\nI have to clean the PR a bit, but logging functionality seems to be working with log4j2. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=praste","name":"praste","key":"praste","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Pushkar Raste","active":true,"timeZone":"America/New_York"},"created":"2017-01-15T03:15:36.689+0000","updated":"2017-01-15T03:15:36.689+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12920618/comment/15955532","id":"15955532","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rehevkor5","name":"rehevkor5","key":"rehevkor5","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shannon Carey","active":true,"timeZone":"America/Chicago"},"body":"I second the advice of [~anomalizer], \"Do not bundle any binding as part of non-server artifacts a.k.a. libraries. This is a place where the power/choice should solely lie in the hands of the person integrating the libraries into their applications.\"\n\nOtherwise people who use a Zookeeper client in their code (and don't use log4j) have to add exclusions for log4j & the slf4j-log4j12 binding in order to avoid the \"SLF4J: Detected both log4j-over-slf4j.jar AND slf4j-log4j12.jar on the class path, preempting StackOverflowError.\" error caused by multiple bindings in their app. Well-behaved sl4j based libraries should only have a test-scope or {{<optional>true</optional>}} dependency on slf4j bindings & logger implementations.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rehevkor5","name":"rehevkor5","key":"rehevkor5","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Shannon Carey","active":true,"timeZone":"America/Chicago"},"created":"2017-04-04T18:08:31.387+0000","updated":"2017-04-04T18:08:31.387+0000"}],"maxResults":33,"total":33,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-2342/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i2poyf:"}}