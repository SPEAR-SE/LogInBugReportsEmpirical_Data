{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12637731","self":"https://issues.apache.org/jira/rest/api/2/issue/12637731","key":"ZOOKEEPER-1673","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310801","id":"12310801","key":"ZOOKEEPER","name":"ZooKeeper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10484","id":"10484","description":"Apache ZooKeeper related","name":"ZooKeeper"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12316644","id":"12316644","description":"Dynamic Reconfig, Remove Watches, Local Session","name":"3.5.0","archived":false,"released":true,"releaseDate":"2014-08-04"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2014-02-13T19:25:12.618+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Apr 26 11:04:47 UTC 2014","customfield_12310420":"318211","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_3634823806_*|*_1_*:*_2_*:*_31139981577_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2014-04-25T21:41:23.595+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-1673/watchers","watchCount":7,"isWatching":false},"created":"2013-03-19T10:01:18.246+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":["auth"],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"3.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12321883","id":"12321883","description":"Fix release against 3.4 branch","name":"3.4.5","archived":false,"released":true,"releaseDate":"2012-11-18"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ccondit","name":"ccondit","key":"ccondit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ccondit&avatarId=36345","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ccondit&avatarId=36345","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ccondit&avatarId=36345","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ccondit&avatarId=36345"},"displayName":"Craig Condit","active":true,"timeZone":"America/Chicago"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-04-26T11:04:47.612+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Currently, when i try to set ACL with cidr in expression, i get exception:\n\n{code}\n[zk: localhost:2181(CONNECTED) 2] setAcl /AS0 ip:127.0.0.1/8:cdrwa\nException in thread \"main\" org.apache.zookeeper.KeeperException$InvalidACLException: KeeperErrorCode = InvalidACL for /AS0\n\tat org.apache.zookeeper.KeeperException.create(KeeperException.java:112)\n\tat org.apache.zookeeper.KeeperException.create(KeeperException.java:42)\n\tat org.apache.zookeeper.ZooKeeper.setACL(ZooKeeper.java:1175)\n\tat org.apache.zookeeper.ZooKeeperMain.processZKCmd(ZooKeeperMain.java:716)\n\tat org.apache.zookeeper.ZooKeeperMain.processCmd(ZooKeeperMain.java:581)\n\tat org.apache.zookeeper.ZooKeeperMain.executeLine(ZooKeeperMain.java:353)\n\tat org.apache.zookeeper.ZooKeeperMain.run(ZooKeeperMain.java:311)\n\tat org.apache.zookeeper.ZooKeeperMain.main(ZooKeeperMain.java:270)\n{code}\n\nAlso, there is no support for CIDR in IPAuthenticationProvider.isValid, but IPAuthenticationProvider.matches has it.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12628834","id":"12628834","filename":"ZOOKEEPER-1673.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ccondit","name":"ccondit","key":"ccondit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ccondit&avatarId=36345","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ccondit&avatarId=36345","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ccondit&avatarId=36345","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ccondit&avatarId=36345"},"displayName":"Craig Condit","active":true,"timeZone":"America/Chicago"},"created":"2014-02-13T20:09:02.370+0000","size":2384,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12628834/ZOOKEEPER-1673.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12628825","id":"12628825","filename":"ZOOKEEPER-1673.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ccondit","name":"ccondit","key":"ccondit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ccondit&avatarId=36345","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ccondit&avatarId=36345","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ccondit&avatarId=36345","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ccondit&avatarId=36345"},"displayName":"Craig Condit","active":true,"timeZone":"America/Chicago"},"created":"2014-02-13T19:44:36.090+0000","size":2420,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12628825/ZOOKEEPER-1673.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12628822","id":"12628822","filename":"ZOOKEEPER-1673.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ccondit","name":"ccondit","key":"ccondit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ccondit&avatarId=36345","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ccondit&avatarId=36345","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ccondit&avatarId=36345","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ccondit&avatarId=36345"},"displayName":"Craig Condit","active":true,"timeZone":"America/Chicago"},"created":"2014-02-13T19:25:49.432+0000","size":2642,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12628822/ZOOKEEPER-1673.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"318552","customfield_12312823":null,"summary":"Zookeeper don't support cidr in expression in ACL with ip scheme","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=blackwithwhite666","name":"blackwithwhite666","key":"blackwithwhite666","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lipin Dmitriy","active":true,"timeZone":"Asia/Omsk"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=blackwithwhite666","name":"blackwithwhite666","key":"blackwithwhite666","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Lipin Dmitriy","active":true,"timeZone":"Asia/Omsk"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637731/comment/13900633","id":"13900633","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ccondit","name":"ccondit","key":"ccondit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ccondit&avatarId=36345","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ccondit&avatarId=36345","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ccondit&avatarId=36345","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ccondit&avatarId=36345"},"displayName":"Craig Condit","active":true,"timeZone":"America/Chicago"},"body":"Patch and test case to add support for CIDR expressions in setAcl.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ccondit","name":"ccondit","key":"ccondit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ccondit&avatarId=36345","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ccondit&avatarId=36345","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ccondit&avatarId=36345","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ccondit&avatarId=36345"},"displayName":"Craig Condit","active":true,"timeZone":"America/Chicago"},"created":"2014-02-13T19:25:12.618+0000","updated":"2014-02-13T19:25:12.618+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637731/comment/13900640","id":"13900640","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12628822/ZOOKEEPER-1673.patch\n  against trunk revision 1567660.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1927//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-02-13T19:32:11.445+0000","updated":"2014-02-13T19:32:11.445+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637731/comment/13900651","id":"13900651","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ccondit","name":"ccondit","key":"ccondit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ccondit&avatarId=36345","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ccondit&avatarId=36345","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ccondit&avatarId=36345","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ccondit&avatarId=36345"},"displayName":"Craig Condit","active":true,"timeZone":"America/Chicago"},"body":"Updated version which applies to trunk.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ccondit","name":"ccondit","key":"ccondit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ccondit&avatarId=36345","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ccondit&avatarId=36345","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ccondit&avatarId=36345","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ccondit&avatarId=36345"},"displayName":"Craig Condit","active":true,"timeZone":"America/Chicago"},"created":"2014-02-13T19:44:36.094+0000","updated":"2014-02-13T19:44:36.094+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637731/comment/13900674","id":"13900674","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgs","name":"rgs","key":"rgs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rgs&avatarId=18469","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rgs&avatarId=18469","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rgs&avatarId=18469","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rgs&avatarId=18469"},"displayName":"Raul Gutierrez Segales","active":true,"timeZone":"America/Los_Angeles"},"body":"In:\n\n{noformat}\n+        int bits = aclAddr.length * 8;\n+        if (parts.length == 2) {\n+            try {\n+                bits = Integer.parseInt(parts[1]);\n+                if (bits < 0 || bits > aclAddr.length * 8) {\n+                    return false;\n+                }\n+            } catch (NumberFormatException e) {\n+                return false;\n+            }\n+        }\n+        return true;\n{noformat}\n\nwhats the point of assigning bits outside the if block if it's not used afterwards. Also inside the if block it gets immediately reassigned. \n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgs","name":"rgs","key":"rgs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rgs&avatarId=18469","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rgs&avatarId=18469","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rgs&avatarId=18469","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rgs&avatarId=18469"},"displayName":"Raul Gutierrez Segales","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-02-13T20:02:09.071+0000","updated":"2014-02-13T20:02:09.071+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637731/comment/13900681","id":"13900681","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ccondit","name":"ccondit","key":"ccondit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ccondit&avatarId=36345","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ccondit&avatarId=36345","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ccondit&avatarId=36345","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ccondit&avatarId=36345"},"displayName":"Craig Condit","active":true,"timeZone":"America/Chicago"},"body":"Cleaned up patch per [~rgs].","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ccondit","name":"ccondit","key":"ccondit","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ccondit&avatarId=36345","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ccondit&avatarId=36345","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ccondit&avatarId=36345","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ccondit&avatarId=36345"},"displayName":"Craig Condit","active":true,"timeZone":"America/Chicago"},"created":"2014-02-13T20:09:02.375+0000","updated":"2014-02-13T20:09:02.375+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637731/comment/13900701","id":"13900701","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12628825/ZOOKEEPER-1673.patch\n  against trunk revision 1567660.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    -1 core tests.  The patch failed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1928//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1928//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1928//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-02-13T20:26:36.056+0000","updated":"2014-02-13T20:26:36.056+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637731/comment/13900724","id":"13900724","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12628834/ZOOKEEPER-1673.patch\n  against trunk revision 1567660.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1929//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1929//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1929//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2014-02-13T21:00:36.970+0000","updated":"2014-02-13T21:00:36.970+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637731/comment/13901617","id":"13901617","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgs","name":"rgs","key":"rgs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rgs&avatarId=18469","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rgs&avatarId=18469","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rgs&avatarId=18469","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rgs&avatarId=18469"},"displayName":"Raul Gutierrez Segales","active":true,"timeZone":"America/Los_Angeles"},"body":"lgtm, +1 (cc: [~phunt]: easy pick for 3.5.0). ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rgs","name":"rgs","key":"rgs","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rgs&avatarId=18469","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rgs&avatarId=18469","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rgs&avatarId=18469","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rgs&avatarId=18469"},"displayName":"Raul Gutierrez Segales","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-02-14T16:46:07.380+0000","updated":"2014-02-14T16:46:07.380+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637731/comment/13949923","id":"13949923","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michim","name":"michim","key":"michim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michi Mutsuzaki","active":true,"timeZone":"America/Los_Angeles"},"body":"It looks like the logic is duplicated in isValid() and matches(). Could you refactor the code so that one calls the other?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michim","name":"michim","key":"michim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michi Mutsuzaki","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-27T21:00:04.580+0000","updated":"2014-03-27T21:00:04.580+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637731/comment/13981649","id":"13981649","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michim","name":"michim","key":"michim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michi Mutsuzaki","active":true,"timeZone":"America/Los_Angeles"},"body":"... on the second thought, refactoring this might not save much since isValid() and matches() are slightly different. +1. Thanks Craig!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michim","name":"michim","key":"michim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michi Mutsuzaki","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-25T21:34:22.726+0000","updated":"2014-04-25T21:34:22.726+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637731/comment/13981659","id":"13981659","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michim","name":"michim","key":"michim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michi Mutsuzaki","active":true,"timeZone":"America/Los_Angeles"},"body":"trunk: http://svn.apache.org/viewvc?view=revision&revision=1590157","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michim","name":"michim","key":"michim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michi Mutsuzaki","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-25T21:41:23.623+0000","updated":"2014-04-25T21:41:23.623+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12637731/comment/13981946","id":"13981946","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"FAILURE: Integrated in ZooKeeper-trunk #2302 (See [https://builds.apache.org/job/ZooKeeper-trunk/2302/])\nZOOKEEPER-1673. Zookeeper don't support cidr in expression in ACL with ip scheme (Craig Condit via michim) (michim: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1590157)\n* /zookeeper/trunk/CHANGES.txt\n* /zookeeper/trunk/src/java/main/org/apache/zookeeper/server/auth/IPAuthenticationProvider.java\n* /zookeeper/trunk/src/java/test/org/apache/zookeeper/test/ACLTest.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2014-04-26T11:04:47.612+0000","updated":"2014-04-26T11:04:47.612+0000"}],"maxResults":12,"total":12,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-1673/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1iwnr:"}}