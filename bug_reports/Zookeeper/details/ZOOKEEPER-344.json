{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12417203","self":"https://issues.apache.org/jira/rest/api/2/issue/12417203","key":"ZOOKEEPER-344","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310801","id":"12310801","key":"ZOOKEEPER","name":"ZooKeeper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10484","id":"10484","description":"Apache ZooKeeper related","name":"ZooKeeper"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313491","id":"12313491","description":"Bindings: Perl, Python, REST & Flexible Quorum & chroot support & Fixes, etc...","name":"3.2.0","archived":false,"released":true,"releaseDate":"2009-07-08"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/6","id":"6","description":"The problem isn't valid and it can't be fixed.","name":"Invalid"},"customfield_12312322":null,"customfield_12310220":"2009-03-18T20:39:40.498+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Wed May 06 17:04:50 UTC 2009","customfield_12310420":"214103","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_4227542185_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2009-05-06T17:04:50.486+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-344/watchers","watchCount":1,"isWatching":false},"created":"2009-03-18T18:45:48.301+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12313381","id":"12313381","description":"Focus on system test, operations documentation, and begin multi-tenancy investigation.","name":"3.1.0","archived":false,"released":true,"releaseDate":"2009-02-13"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2009-07-08T20:24:01.048+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312381","id":"12312381","name":"java client","description":"The java client interface for ZooKeeper"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12312382","id":"12312382","name":"server","description":"General issues with the ZooKeeper server."}],"timeoriginalestimate":null,"description":"I have been having a problem with zookeeper 3.0.1 and now with 3.1.0 where I see a lot of expired sessions.  I am using a 16 node cluster which is all on the same local network.  There is a single zookeeper instance (these are benchmarking runs).\nThe problem appears to be correlated with either run time or system load.\\\n\nPersonally I think that it is system load because I have session session expired events under a Windows platform running zookeeper and the application (i.e., everthing is local) when the application load suddenly spikes.  To me this suggests that the client is not able to renew (ping) the zookeeper service in a timely manner and is expired.  But the log messages below with the \"read error\" suggest that maybe there is something else going on?\n\nZookeeper Configuration\n#Wed Mar 18 12:41:05 GMT-05:00 2009\nclientPort=2181\ndataDir=/var/bigdata/benchmark/zookeeper/1\nsyncLimit=2\ndataLogDir=/var/bigdata/benchmark/zookeeper/1\ntickTime=2000\n\nSome representative log messages are below.\n\nClient side messages (from our app)\nERROR [main-EventThread] com.bigdata.zookeeper.ZLockImpl$ZLockWatcher.process(ZLockImpl.java:400) 2009-03-18 13:35:40,335 - Session expired: WatchedEvent: Server state change. New state: Expired : zpath=/benchmark/jobs/com.bigdata.service.jini.benchmark.ThroughputMaster/test_1/client1160/locknode\nERROR [main-EventThread] com.bigdata.zookeeper.ZLockImpl$ZLockWatcher.process(ZLockImpl.java:400) 2009-03-18 13:35:40,335 - Session expired: WatchedEvent: Server state change. New state: Expired : zpath=/benchmark/jobs/com.bigdata.service.jini.benchmark.ThroughputMaster/test_1/client1356/locknode\n\nServer side messages:\n WARN [NIOServerCxn.Factory:2181] org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:417) 2009-03-18 13:06:57,252 - Exception causing close of session 0x1201aac14300022 due to java.io.IOException: Read error\n WARN [NIOServerCxn.Factory:2181] org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:417) 2009-03-18 13:06:58,198 - Exception causing close of session 0x1201aac1430000f due to java.io.IOException: Read error\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"33124","customfield_12312823":null,"summary":"doIO in NioServerCnxn: Exception causing close of session : cause is \"read error\"","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bthompson","name":"bthompson","key":"bthompson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bryan thompson","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bthompson","name":"bthompson","key":"bthompson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bryan thompson","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"jdk1.6.0_07\nLinux blade2 2.6.27.7-134.fc10.x86_64 #1 SMP Mon Dec 1 22:21:35 EST 2008 x86_64 x86_64 x86_64 GNU/Linux","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12417203/comment/12683158","id":"12683158","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"body":"{noformat}\nERROR [main-EventThread] com.bigdata.zookeeper.ZLockImpl$ZLockWatcher.process(ZLockImpl.java:400) 2009-03-18 13:35:40,335 - Session expired: WatchedEvent: Server state change. New state: Expired : zpath=/benchmark/jobs/com.bigdata.service.jini.benchmark.ThroughputMaster/test_1/client1160/locknode\nERROR [main-EventThread] com.bigdata.zookeeper.ZLockImpl$ZLockWatcher.process(ZLockImpl.java:400) 2009-03-18 13:35:40,335 - Session expired: WatchedEvent: Server state change. New state: Expired : zpath=/benchmark/jobs/com.bigdata.service.jini.benchmark.ThroughputMaster/test_1/client1356/locknode\n{noformat}\n\ncan you post  corresponding session id's with these ? \n\nand also the logs related to their session closing with the timestamps (on the server side).","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-18T20:39:40.498+0000","updated":"2009-03-18T21:17:11.096+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12417203/comment/12683181","id":"12683181","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi Bryan, you might also try looking at some of the statistics using the \"stat\" command:\nhttp://hadoop.apache.org/zookeeper/docs/current/zookeeperAdmin.html#sc_zkCommands\nthis will give you insight on the min/max/avg latency of requests. You could also use JMX if that works for you:\nhttp://hadoop.apache.org/zookeeper/docs/current/zookeeperJMX.html\n\nWhat is the timeout value you are using for your ZK clients? If your max latency is exceeding your client\ntimeouts then you will definitely see expirations.\n\nSecondly review this section, specifically related to tranaction log placement and jdk memory (swapping) issues:\nhttp://hadoop.apache.org/zookeeper/docs/current/zookeeperAdmin.html#sc_commonProblems\nEither of these issues can cause performance to dip, and latencies to increase.\n\nThis information, along with a bit more detail on your benchmark would help you/us identify what's causing\nthese issues. Re your benchmark, how many operations/sec are you running? What's the read/write split?\n\nYour zk server is a single quad-core x86_64 cpu, correct?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-18T21:37:53.850+0000","updated":"2009-03-18T21:37:53.850+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12417203/comment/12683235","id":"12683235","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bthompson","name":"bthompson","key":"bthompson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bryan thompson","active":true,"timeZone":"Etc/UTC"},"body":"Let me clarify a few things based on the other comments:\n\n1. The sessionTimeout for the client was set to 20000.\n\n2. The zookeeper server is running on a host with very little total load (very little CPU utilization and very low disk write rates).  There is only one disk available for the zookeeper transaction log.  It is a SAS 10k spindle with a 16M cache.\n\n3. The zookeeper server process has 4G of RAM.\n\n4. The benchmark is not a zookeeper benchmark, but a database benchmark.  Zookeeper is being used for distributed locks and master elections.  There is relatively little activity for the zookeeper server.\n\nI will modify the logged message to record the zxid and report back some correlated events.  \n\nI will also report the output of the stat command from the server for several times during the run / JXM, which I've enabled.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bthompson","name":"bthompson","key":"bthompson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bryan thompson","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-18T23:34:45.787+0000","updated":"2009-03-18T23:34:45.787+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12417203/comment/12683236","id":"12683236","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bthompson","name":"bthompson","key":"bthompson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bryan thompson","active":true,"timeZone":"Etc/UTC"},"body":"I missed the question about the zk server.  It is an 8 core (2 quad core Opterons) 4x512k cache, 2.3Ghz clock with 32G ram.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bthompson","name":"bthompson","key":"bthompson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bryan thompson","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-18T23:39:28.610+0000","updated":"2009-03-18T23:39:28.610+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12417203/comment/12683327","id":"12683327","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Bryan, that's good info. It doesn't sound like zk server latency is the issue then, you have an excess\nof cpu/memory based on the tests you are running, however it will be good to verify using jmx or the \nstat command.\n\nIf you can run with DEBUG logging enabled (server and client) it might give you more insight. Also running\nat DEBUG level will cause the stack of the \"read error\" you are seeing to be printed to the server log (zk\nversion 3.1). If you can share all/part of the logs please feel free to attach them to this JIRA.\n\nIt's probably this code in server doIO though that's causing the server side \"read error\" exception you are seeing:\n\n                int rc = sock.read(incomingBuffer);\n                if (rc < 0) {\n                    throw new IOException(\"Read error\");\n                }\n\nread returns \"The number of bytes read, possibly zero, or -1 if the channel has reached end-of-stream\"\n\nthis indicates to me that the client has closed the connection.\n\nAlso, looking at your logs the client log is from 13:35 while the server log is from 13:06, assuming that the \nclocks are even fairly close this is almost 30min difference, if true it's unlikely the events are correlated?\n\nMy guess is that the client is closing the connection for some reason, but it would be interesting to see\nthe debug logs (with clocks that are fairly close on server/client so it would be easier to correlate the log\nevents).\n\nHope this helps.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-19T05:06:50.697+0000","updated":"2009-03-19T05:06:50.697+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12417203/comment/12683447","id":"12683447","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bthompson","name":"bthompson","key":"bthompson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bryan thompson","active":true,"timeZone":"Etc/UTC"},"body":"Patrick, I did not try to coordinate the client and server logs but rather drew representative samples from each.  As far as I can tell it is more of the same in both logs.  However, I will correlate the events and the zxids and see if I can get that debug trace you suggested. -bryan","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bthompson","name":"bthompson","key":"bthompson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bryan thompson","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-19T12:06:57.980+0000","updated":"2009-03-19T12:06:57.980+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12417203/comment/12683596","id":"12683596","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"That's fine. I guess what I mean is that it would be interesting to see the debug logs\nfor both the server and client at the time that the issue(s) start. We might get\nmore insight into what is happening if we can do that.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-03-19T20:17:04.586+0000","updated":"2009-03-19T20:17:04.586+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12417203/comment/12694060","id":"12694060","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bthompson","name":"bthompson","key":"bthompson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bryan thompson","active":true,"timeZone":"Etc/UTC"},"body":"Here are some more stack traces with DEBUG on the server and the client for this issue.  The configuration, etc. is the same.  Logs were written onto an NFS share but the machines are synched with ntpd.\n\nThere are two distinct periods reported here.  One leads to a warning on the server but not to an expired session while the other issues the same warning on the server and leads to an expired session.\n\nHere is a \"ping\" for sessionid 0x120597b6137000b shortly before the warning.\n\nDEBUG [SyncThread:0] org.apache.zookeeper.server.FinalRequestProcessor.processRequest(FinalRequestProcessor.java:74) 2009-03-30 17:34:33,643 - Processing request:: sessionid:0x120597b6137000b type:ping cxid:0xfffffffffffffffe zxid:0xfffffffffffffffe txntype:unknown n/a\nDEBUG [SyncThread:0] org.apache.zookeeper.server.FinalRequestProcessor.processRequest(FinalRequestProcessor.java:137) 2009-03-30 17:34:33,643 - sessionid:0x120597b6137000b type:ping cxid:0xfffffffffffffffe zxid:0xfffffffffffffffe txntype:unknown n/a\nDEBUG [main-SendThread] org.apache.zookeeper.ClientCnxn$SendThread.readResponse(ClientCnxn.java:548) 2009-03-30 17:34:33,643 - Got ping response for sessionid:0x120597b6137000b after 1ms\n\nHere is the \"Exception causing close of session\".\n\n WARN [main-SendThread] org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:898) 2009-03-30 17:34:48,120 - Exception closing session 0x120597b6137000b to sun.nio.ch.SelectionKeyImpl@7eb1cc87\njava.io.IOException: TIMED OUT\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:837)\n WARN [NIOServerCxn.Factory:2181] org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:417) 2009-03-30 17:34:48,166 - Exception causing close of session 0x120597b6137000b due to java.io.IOException: Read error\nDEBUG [NIOServerCxn.Factory:2181] org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:420) 2009-03-30 17:34:48,166 - IOException stack trace\njava.io.IOException: Read error\n        at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:295)\n        at org.apache.zookeeper.server.NIOServerCnxn$Factory.run(NIOServerCnxn.java:162)\n INFO [NIOServerCxn.Factory:2181] org.apache.zookeeper.server.NIOServerCnxn.close(NIOServerCnxn.java:752) 2009-03-30 17:34:48,172 - closing session:0x120597b6137000b NIOServerCnxn: java.nio.channels.SocketChannel[connected local=/192.168.6.21:2181 remote=/192.168.6.28:60720]\n\nAnd here is appears that the closed session was re-initialized?  Perhaps closed != expired?\n\nINFO [NIOServerCxn.Factory:2181] org.apache.zookeeper.server.NIOServerCnxn.finishSessionInit(NIOServerCnxn.java:881) 2009-03-30 17:34:50,111 - Finished init of 0x120597b6137000b valid:true\n INFO [NIOServerCxn.Factory:2181] org.apache.zookeeper.server.NIOServerCnxn.readConnectRequest(NIOServerCnxn.java:531) 2009-03-30 17:34:50,111 - Renewing session 0x120597b6137000b\nDEBUG [SyncThread:0] org.apache.zookeeper.server.FinalRequestProcessor.processRequest(FinalRequestProcessor.java:74) 2009-03-30 17:34:50,112 - Processing request:: sessionid:0x120597b6137000b type:setWatches cxid:0xfffffffffffffff8 zxid:0xfffffffffffffffe txntype:unknown\nDEBUG [SyncThread:0] org.apache.zookeeper.server.FinalRequestProcessor.processRequest(FinalRequestProcessor.java:137) 2009-03-30 17:34:50,112 - sessionid:0x120597b6137000b type:setWatches cxid:0xfffffffffffffff8 zxid:0xfffffffffffffffe txntype:unknown\nDEBUG [SyncThread:0] org.apache.zookeeper.server.FinalRequestProcessor.processRequest(FinalRequestProcessor.java:74) 2009-03-30 17:34:50,121 - Processing request:: sessionid:0x120597b6137000b type:create cxid:0x8 zxid:0xb95 txntype:-1 n/a\nDEBUG [main-SendThread] org.apache.zookeeper.ClientCnxn$SendThread.readResponse(ClientCnxn.java:610) 2009-03-30 17:34:50,126 - Reading reply sessionid:0x120597b6137000b, packet:: path:null finished:false header:: -8,101  replyHeader:: -8,2964,0  request:: 2964,v{},v{'/benchmark/config/com.bigdata.service.jini.DataServer/logicalService0000000011/masterElection_INVALID},v{}  response:: null\n\n------------------------------------------------------------\n\nAnother trace that leads to an expired session:\n\nDEBUG [SyncThread:0] org.apache.zookeeper.server.FinalRequestProcessor.processRequest(FinalRequestProcessor.java:74) 2009-03-30 18:35:39,478 - Processing request:: sessionid:0x120597b61370008 type:ping cxid:0xfffffffffffffffe zxid:0xfffffffffffffffe txntype:unknown n/a\nDEBUG [SyncThread:0] org.apache.zookeeper.server.FinalRequestProcessor.processRequest(FinalRequestProcessor.java:137) 2009-03-30 18:35:39,478 - sessionid:0x120597b61370008 type:ping cxid:0xfffffffffffffffe zxid:0xfffffffffffffffe txntype:unknown n/a\nDEBUG [main-SendThread] org.apache.zookeeper.ClientCnxn$SendThread.readResponse(ClientCnxn.java:548) 2009-03-30 18:35:39,478 - Got ping response for sessionid:0x120597b61370008 after 1ms\n\n WARN [main-SendThread] org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:898) 2009-03-30 18:35:58,082 - Exception closing session 0x120597b61370008 to sun.nio.ch.SelectionKeyImpl@6e731a5b\njava.io.IOException: TIMED OUT\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:837)\n WARN [NIOServerCxn.Factory:2181] org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:417) 2009-03-30 18:35:58,084 - Exception causing close of session 0x120597b61370008 due to java.io.IOException: Read error\nDEBUG [NIOServerCxn.Factory:2181] org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:420) 2009-03-30 18:35:58,084 - IOException stack trace\njava.io.IOException: Read error\n        at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:295)\n        at org.apache.zookeeper.server.NIOServerCnxn$Factory.run(NIOServerCnxn.java:162)\n INFO [NIOServerCxn.Factory:2181] org.apache.zookeeper.server.NIOServerCnxn.close(NIOServerCnxn.java:752) 2009-03-30 18:35:58,085 - closing session:0x120597b61370008 NIOServerCnxn: java.nio.channels.SocketChannel[connected local=/192.168.6.21:2181 remote=/192.168.6.34:58347]\n\n INFO [SessionTracker] org.apache.zookeeper.server.SessionTrackerImpl.run(SessionTrackerImpl.java:132) 2009-03-30 18:36:00,000 - Expiring session 0x120597b61370008\n INFO [SessionTracker] org.apache.zookeeper.server.ZooKeeperServer.expire(ZooKeeperServer.java:317) 2009-03-30 18:36:00,001 - Expiring session 0x120597b61370008\n INFO [ProcessThread:-1] org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:360) 2009-03-30 18:36:00,003 - Processed session termination request for id: 0x120597b61370008\nDEBUG [SyncThread:0] org.apache.zookeeper.server.FinalRequestProcessor.processRequest(FinalRequestProcessor.java:74) 2009-03-30 18:36:00,013 - Processing request:: sessionid:0x120597b61370008 type:closeSession cxid:0x0 zxid:0xbaf txntype:-11 n/a\nDEBUG [SyncThread:0] org.apache.zookeeper.server.DataTree.killSession(DataTree.java:743) 2009-03-30 18:36:00,014 - Deleting ephemeral node /benchmark/config/com.bigdata.service.jini.DataServer/logicalService0000000005/masterElection/lock0000000000 for session 0x120597b61370008\n INFO [NIOServerCxn.Factory:2181] org.apache.zookeeper.server.NIOServerCnxn.readConnectRequest(NIOServerCnxn.java:503) 2009-03-30 18:36:00,072 - Connected to /192.168.6.34:45222 lastZxid 2984\n INFO [NIOServerCxn.Factory:2181] org.apache.zookeeper.server.NIOServerCnxn.finishSessionInit(NIOServerCnxn.java:881) 2009-03-30 18:36:00,073 - Finished init of 0x120597b61370008 valid:false\n INFO [NIOServerCxn.Factory:2181] org.apache.zookeeper.server.NIOServerCnxn.readConnectRequest(NIOServerCnxn.java:531) 2009-03-30 18:36:00,073 - Renewing session 0x120597b61370008\n WARN [NIOServerCxn.Factory:2181] org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:417) 2009-03-30 18:36:00,074 - Exception causing close of session 0x120597b61370008 due to java.io.IOException: closing\nDEBUG [NIOServerCxn.Factory:2181] org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:420) 2009-03-30 18:36:00,074 - IOException stack trace\njava.io.IOException: closing\n        at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:373)\n        at org.apache.zookeeper.server.NIOServerCnxn$Factory.run(NIOServerCnxn.java:162)\n INFO [NIOServerCxn.Factory:2181] org.apache.zookeeper.server.NIOServerCnxn.close(NIOServerCnxn.java:752) 2009-03-30 18:36:00,074 - closing session:0x120597b61370008 NIOServerCnxn: java.nio.channels.SocketChannel[connected local=/192.168.6.21:2181 remote=/192.168.6.34:4522\\\n2]\n\n INFO [main-SendThread] org.apache.zookeeper.ClientCnxn$SendThread.startConnect(ClientCnxn.java:800) 2009-03-30 18:36:00,069 - Attempting connection to server blade2/192.168.6.21:2181\n INFO [main-SendThread] org.apache.zookeeper.ClientCnxn$SendThread.primeConnection(ClientCnxn.java:716) 2009-03-30 18:36:00,070 - Priming connection to java.nio.channels.SocketChannel[connected local=/192.168.6.34:45222 remote=blade2/192.168.6.21:2181]\n INFO [main-SendThread] org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:868) 2009-03-30 18:36:00,070 - Server connection successful\n WARN [main-SendThread] org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:898) 2009-03-30 18:36:00,073 - Exception closing session 0x120597b61370008 to sun.nio.ch.SelectionKeyImpl@3d38013d\njava.io.IOException: Session Expired\n        at org.apache.zookeeper.ClientCnxn$SendThread.readConnectResult(ClientCnxn.java:527)\n        at org.apache.zookeeper.ClientCnxn$SendThread.doIO(ClientCnxn.java:640)\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:876)\n WARN [main-EventThread] com.bigdata.service.jini.AbstractServer$1.process(AbstractServer.java:759) 2009-03-30 18:36:00,074 - Zookeeper session expired: cancelled master election task: com.bigdata.service.jini.AbstractServer$1@79b5334c\nERROR [main-EventThread] com.bigdata.zookeeper.ZLockImpl$ZLockWatcher.process(ZLockImpl.java:400) 2009-03-30 18:36:00,074 - Session expired: WatchedEvent: Server state change. New state: Expired : zxid=120597b61370008, zpath=/benchmark/config/com.bigdata.service.jini.DataServer/logicalService0000000005/masterElection\n WARN [com.bigdata.service.jini.JiniFederation.executorService1] com.bigdata.zookeeper.ZLockImpl.unlock(ZLockImpl.java:1188) 2009-03-30 18:36:00,077 - Session expired: zpath=/benchmark/config/com.bigdata.service.jini.DataServer/logicalService0000000005/masterElection, child=lock0000000000 : org.apache.zookeeper.KeeperException$SessionExpiredException: KeeperErrorCode = Session expired\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bthompson","name":"bthompson","key":"bthompson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bryan thompson","active":true,"timeZone":"Etc/UTC"},"created":"2009-03-31T10:46:43.650+0000","updated":"2009-03-31T10:46:43.650+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12417203/comment/12694660","id":"12694660","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"body":"for the first trace, closed != expired is true. it seems like the client reconnected to the server and didnt expire in the first case.\n\nin the second case it did expire. \n\nYou are on a windows machine right? and also its a single server ensemble? I dont usually use a windows box but I did notice once  that creating a log file with size of 64MB initially took \na lot of time (5-15 seconds and was repeatable) on my windows box with no other load . Just to give you background, zookeeper takes snaphots and has transaction logs. The transaction logs \nare created with an initialize size of 64MB so that we do not have to update the size of the file repeatedly. This operation did take a lot of time on my windows machine and this did cause huge\nlatencies in my zookeeper clients and lots of timeouts and session expired. \n\nIll take another look at your logs to see if i can find something that might explain the frequent session timeouts.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-01T18:16:24.938+0000","updated":"2009-04-01T18:16:24.938+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12417203/comment/12694673","id":"12694673","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bthompson","name":"bthompson","key":"bthompson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bryan thompson","active":true,"timeZone":"Etc/UTC"},"body":"It is a Linux platform, which I describe above.  it is a standalone instance however rather than an ensemble.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bthompson","name":"bthompson","key":"bthompson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bryan thompson","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-01T18:28:40.916+0000","updated":"2009-04-01T18:28:40.916+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12417203/comment/12694684","id":"12694684","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"body":"hmm... Can you create a sample test application that I could run on my machine and see if I reproduce this on my linux machines? ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-01T18:45:01.684+0000","updated":"2009-04-01T18:45:01.684+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12417203/comment/12695136","id":"12695136","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bthompson","name":"bthompson","key":"bthompson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bryan thompson","active":true,"timeZone":"Etc/UTC"},"body":"I am not sure how to boil this down into a problem which can be run on a single machine.  This is a distributed database benchmark.  The problem shows up when the cluster is under load.  How would I go about isolating that further outside of writing stress tests for zookeeper?\n\nIf this is indeed a zookeeper bug and you have some idea of the possible issues involved, then perhaps you can suggest some additional instrumentation of zookeeper and I could run against a version with more instrumentation which might reveal something?\n\nThanks,\n\n-bryan\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bthompson","name":"bthompson","key":"bthompson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bryan thompson","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-02T21:16:46.718+0000","updated":"2009-04-02T21:16:46.718+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12417203/comment/12695148","id":"12695148","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"body":"brayn,\n the one thing you can do is run with tracefile option in the config. Please take a look at\nhttp://hadoop.apache.org/zookeeper/docs/r3.1.1/zookeeperAdmin.html to see how to set up a tracefile. The tracefile has logs of all the transactions that go though the server and all \nthe components of the server and helps in debugging problems such as these, where you can point out which transaction got delayed and at what time and sometimes can point out\nthe reason why... ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"created":"2009-04-02T22:09:23.584+0000","updated":"2009-04-02T22:09:23.584+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12417203/comment/12706402","id":"12706402","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bthompson","name":"bthompson","key":"bthompson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bryan thompson","active":true,"timeZone":"Etc/UTC"},"body":"Update: \n\nThis issue is clearly linked to heavy utilization or swapping on the clients.  I find that if I keep the clients from swapping that this error\nmaterializes relatively infrequently, and when it does materialize it is linked to a sudden increase in load.  For example, the concurrent\nstart of 100 clients on 14 machines will sometimes trigger this issue.   I believe that the issue can be closed at this point with the note\nthat swapping will cause expired connections.  I also observe similar problems with jini / river, including cases where DGC (distributed\ngarbage collection) appears to fail.  All in all, it is my sense that Java processes must avoid swapping if they want to have not just timely\nbut also reliable behavior.\n\nThanks,\n\n-bryan\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bthompson","name":"bthompson","key":"bthompson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"bryan thompson","active":true,"timeZone":"Etc/UTC"},"created":"2009-05-06T12:52:24.448+0000","updated":"2009-05-06T12:52:24.448+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12417203/comment/12706517","id":"12706517","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Bryan, thanks for the update, I have updated the troubleshooting page with your feedback:\nhttp://wiki.apache.org/hadoop/ZooKeeper/Troubleshooting\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-05-06T17:03:51.684+0000","updated":"2009-05-06T17:03:51.684+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12417203/comment/12706518","id":"12706518","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Closing the issue, user tracked this down to client swapping issues.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2009-05-06T17:04:50.470+0000","updated":"2009-05-06T17:04:50.470+0000"}],"maxResults":16,"total":16,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-344/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0616v:"}}