{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12615861","self":"https://issues.apache.org/jira/rest/api/2/issue/12615861","key":"ZOOKEEPER-1582","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310801","id":"12310801","key":"ZOOKEEPER","name":"ZooKeeper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10484","id":"10484","description":"Apache ZooKeeper related","name":"ZooKeeper"}},"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/3","id":"3","description":"The problem is a duplicate of an existing issue.","name":"Duplicate"},"customfield_12312322":null,"customfield_12310220":"2012-12-13T08:23:29.836+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Aug 07 13:10:25 UTC 2018","customfield_12310420":"257346","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_2714343154_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2012-12-14T19:28:00.109+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-1582/watchers","watchCount":17,"isWatching":false},"created":"2012-11-13T09:28:56.978+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-08-07T13:10:25.879+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"1.download zookeeper-3.4.4.tar.gz and unzip\n2.rename conf/zoo_sample.cfg to zoo.cfg\n3.click zkServer.cmd\n4.click zkCli.cmd\n\nzkCli can not connect to zkServer,it blocked\nzkServer console print\n\n2012-11-13 17:28:05,302 [myid:] - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@349] - caught end of stream exception\nEndOfStreamException: Unable to read additional data from client sessionid 0x13af9131eee0000, likely client has closed socket\n        at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:220)\n        at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:208)\n        at java.lang.Thread.run(Thread.java:722)\n2012-11-13 17:28:05,308 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@1001] - Closed socket connection for client /127.0.0.1:54810 which had sessionid 0x13af9131eee0000 \n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"114430","customfield_12312823":null,"summary":"EndOfStreamException: Unable to read additional data from client","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=quaff","name":"quaff","key":"quaff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yanming Zhou","active":true,"timeZone":"Asia/Shanghai"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=quaff","name":"quaff","key":"quaff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yanming Zhou","active":true,"timeZone":"Asia/Shanghai"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"windows 7\njdk 7","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/13496803","id":"13496803","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=quaff","name":"quaff","key":"quaff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yanming Zhou","active":true,"timeZone":"Asia/Shanghai"},"body":"zkCli.cmd of version 3.3.6 can connect to zkServer.cmd of version 3.3.6\nzkCli.cmd of version 3.3.6 can connect to zkServer.cmd of version 3.4.4\nzkCli.cmd of version 3.4.4 can't connect to zkServer.cmd of version 3.3.6\nzkCli.cmd of version 3.4.4 can't connect to zkServer.cmd of version 3.4.4","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=quaff","name":"quaff","key":"quaff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yanming Zhou","active":true,"timeZone":"Asia/Shanghai"},"created":"2012-11-14T03:19:25.124+0000","updated":"2012-11-14T03:19:25.124+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/13496819","id":"13496819","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=quaff","name":"quaff","key":"quaff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yanming Zhou","active":true,"timeZone":"Asia/Shanghai"},"body":"same problem in Unbuntu 12.04 server 64bit","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=quaff","name":"quaff","key":"quaff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yanming Zhou","active":true,"timeZone":"Asia/Shanghai"},"created":"2012-11-14T03:42:32.607+0000","updated":"2012-11-14T03:42:32.607+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/13530786","id":"13530786","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"JDK7 support with 3.4.4 was broken. It should be fixed in 3.4.5, can you retry with 3.4.5 and report the results here? thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-12-13T08:23:29.836+0000","updated":"2012-12-13T08:23:29.836+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/13531890","id":"13531890","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=quaff","name":"quaff","key":"quaff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yanming Zhou","active":true,"timeZone":"Asia/Shanghai"},"body":"3.4.5 works fine,thanks.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=quaff","name":"quaff","key":"quaff","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Yanming Zhou","active":true,"timeZone":"Asia/Shanghai"},"created":"2012-12-14T01:19:50.858+0000","updated":"2012-12-14T01:19:50.858+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/13532571","id":"13532571","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Resolving as a dup - fixed in 3.4.5","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-12-14T19:28:00.128+0000","updated":"2012-12-14T19:28:00.128+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/14074222","id":"14074222","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zeph","name":"zeph","key":"zeph","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10432"},"displayName":"Guido Serra aka Zeph","active":true,"timeZone":"Europe/Berlin"},"body":"[~phunt] u r resolving it as duplicate of which other ticket exactly?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zeph","name":"zeph","key":"zeph","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10432","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10432","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10432","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10432"},"displayName":"Guido Serra aka Zeph","active":true,"timeZone":"Europe/Berlin"},"created":"2014-07-25T09:09:19.662+0000","updated":"2014-07-25T09:09:19.662+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/14074566","id":"14074566","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"I believe it was ZOOKEEPER-1550 (although I primarily closed this as a dup given zhouyanming's report that the issue was tested as resolved in 3.4.5)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-25T16:52:17.684+0000","updated":"2014-07-25T16:52:17.684+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/14541448","id":"14541448","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forest_soup","name":"forest_soup","key":"forest_soup","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Forest Soup","active":true,"timeZone":"Asia/Shanghai"},"body":"I have the same issue in ZK 3.4.5.\n2015-05-07 09:04:17,413 [myid:2] - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@349] - caught end of stream exception\nEndOfStreamException: Unable to read additional data from client sessionid 0x14d201655d80009, likely client has closed socket\n\tat org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:220)\n\tat org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:208)\n\tat java.lang.Thread.run(Thread.java:804)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forest_soup","name":"forest_soup","key":"forest_soup","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Forest Soup","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-05-13T06:31:35.330+0000","updated":"2015-05-13T06:31:35.330+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/14541453","id":"14541453","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forest_soup","name":"forest_soup","key":"forest_soup","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Forest Soup","active":true,"timeZone":"Asia/Shanghai"},"body":"I don't think it's dup to  ZOOKEEPER-1550 since I saw the same issue in zk 3.4.5.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=forest_soup","name":"forest_soup","key":"forest_soup","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Forest Soup","active":true,"timeZone":"Asia/Shanghai"},"created":"2015-05-13T06:34:51.210+0000","updated":"2015-05-13T06:34:51.210+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/14613120","id":"14613120","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=paolo.antinori","name":"paolo.antinori","key":"paolo.antinori","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=paolo.antinori&avatarId=21727","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=paolo.antinori&avatarId=21727","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=paolo.antinori&avatarId=21727","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=paolo.antinori&avatarId=21727"},"displayName":"Paolo Antinori","active":true,"timeZone":"Europe/Rome"},"body":"I'm also seeing this on 3.4.6","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=paolo.antinori","name":"paolo.antinori","key":"paolo.antinori","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=paolo.antinori&avatarId=21727","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=paolo.antinori&avatarId=21727","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=paolo.antinori&avatarId=21727","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=paolo.antinori&avatarId=21727"},"displayName":"Paolo Antinori","active":true,"timeZone":"Europe/Rome"},"created":"2015-07-03T10:52:19.395+0000","updated":"2015-07-03T10:52:19.395+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/14613147","id":"14613147","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"body":"what exactly are you seeing? this could be simply the connection to the client breaking.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"created":"2015-07-03T11:54:48.826+0000","updated":"2015-07-03T11:54:48.826+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/14660618","id":"14660618","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kevcheng","name":"kevcheng","key":"kevcheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin Cheng","active":true,"timeZone":"Etc/UTC"},"body":"I see similar issue with zk3.4.5 as well. After the exception, it seems ZK is being stopped and started again. I do see that happened multiple times. \nHow do I confirm if it is the client breaking the connection?\n\n===========================\nEndOfStreamException: Unable to read additional data from client sessionid 0x14e9dafdbcf000b, likely client has closed socket\n\tat org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:220)\n\tat org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:208)\n\tat java.lang.Thread.run(Thread.java:745)\n2015-07-17 13:29:28,996 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:5181:NIOServerCnxn@1001] - Closed socket connection for client /127.0.0.1:43901 which had sessionid 0x14e9dafdbcf000b\n2015-07-17 13:29:33,509 [myid:] - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@476] - Processed session termination for sessionid: 0x14e9dafdbcf0001\n2015-07-17 13:29:33,510 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:5181:NIOServerCnxn@1001] - Closed socket connection for client /0:0:0:0:0:0:0:1:49471 which had sessionid 0x14e9dafdbcf0001\n2015-07-17 13:29:33,670 [myid:] - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@476] - Processed session termination for sessionid: 0x14e9dafdbcf0009\n2015-07-17 13:29:33,672 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:5181:NIOServerCnxn@1001] - Closed socket connection for client /127.0.0.1:43899 which had sessionid 0x14e9dafdbcf0009\n2015-07-17 13:29:34,686 [myid:] - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@476] - Processed session termination for sessionid: 0x14e9dafdbcf0007\n2015-07-17 13:29:34,687 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:5181:NIOServerCnxn@1001] - Closed socket connection for client /127.0.0.1:43877 which had sessionid 0x14e9dafdbcf0007\n2015-07-17 13:29:35,914 [myid:] - INFO  [ProcessThread(sid:0 cport:-1)::PrepRequestProcessor@476] - Processed session termination for sessionid: 0x14e9dafdbcf0006\n2015-07-17 13:29:35,916 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:5181:NIOServerCnxn@1001] - Closed socket connection for client /0:0:0:0:0:0:0:1:49476 which had sessionid 0x14e9dafdbcf0006\nStopping zookeeper ... STOPPED\nStarting zookeeper ... 2015-07-17 06:32:36,651 [myid:] - INFO  [main:QuorumPeerConfig@101] - Reading configuration from: /opt/mapr/zookeeper/zookeeper-3.4.5/conf/zoo.cfg\n2015-07-17 06:32:36,657 [myid:] - INFO  [main:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3\n2015-07-17 06:32:36,657 [myid:] - INFO  [main:DatadirCleanupManager@79] - autopurge.purgeInterval set to 24\n2015-07-17 06:32:36,659 [myid:] - WARN  [main:QuorumPeerMain@113] - Either no config or no quorum defined in config, running  in standalone mode\n2015-07-17 06:32:36,659 [myid:] - INFO  [PurgeTask:DatadirCleanupManager$PurgeTask@138] - Purge task started.\n2015-07-17 06:32:36,684 [myid:] - INFO  [PurgeTask:DatadirCleanupManager$PurgeTask@144] - Purge task completed.\n2015-07-17 06:32:36,686 [myid:] - INFO  [main:QuorumPeerConfig@101] - Reading configuration from: /opt/mapr/zookeeper/zookeeper-3.4.5/conf/zoo.cfg\n2015-07-17 06:32:36,687 [myid:] - INFO  [main:ZooKeeperServerMain@95] - Starting server\n2015-07-17 06:32:36,703 [myid:] - INFO  [main:Environment@100] - Server environment:zookeeper.version=3.4.5-mapr-1503--1, built on 07/09/2015 09:40 GMT\n2015-07-17 06:32:36,703 [myid:] - INFO  [main:Environment@100] - Server environment:host.name=maprdemo\n2015-07-17 06:32:36,704 [myid:] - INFO  [main:Environment@100] - Server environment:java.version=1.7.0_85\n2015-07-17 06:32:36,704 [myid:] - INFO  [main:Environment@100] - Server environment:java.vendor=Oracle Corporation\n2015-07-17 06:32:36,704 [myid:] - INFO  [main:Environment@100] - Server environment:java.home=/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.85.x86_64/jre\n2015-07-17 06:32:36,705 [myid:] - INFO  [main:Environment@100] - Server environment:java.class.path=/opt/mapr/zookeeper/zookeeper-3.4.5/bin/../build/classes:/opt/mapr/zookeeper/zookeeper-3.4.5/bin/../build\n/lib/*.jar:/opt/mapr/zookeeper/zookeeper-3.4.5/bin/../lib/slf4j-log4j12-1.6.1.jar:/opt/mapr/zookeeper/zookeeper-3.4.5/bin/../lib/slf4j-api-1.6.1.jar:/opt/mapr/zookeeper/zookeeper-3.4.5/bin/../lib/netty-3.2\n.2.Final.jar:/opt/mapr/zookeeper/zookeeper-3.4.5/bin/../lib/log4j-1.2.15.jar:/opt/mapr/zookeeper/zookeeper-3.4.5/bin/../lib/jline-0.9.94.jar:/opt/mapr/zookeeper/zookeeper-3.4.5/bin/../zookeeper-3.4.5-mapr-\n1503.jar:/opt/mapr/zookeeper/zookeeper-3.4.5/bin/../src/java/lib/*.jar:/opt/mapr/zookeeper/zookeeper-3.4.5/conf::/opt/mapr/lib/maprfs-5.0.0-mapr.jar:/opt/mapr/lib/protobuf-java-2.5.0.jar:/opt/mapr/lib/libp\nrotodefs-5.0.0-mapr.jar:/opt/mapr/lib/baseutils-5.0.0-mapr.jar:/opt/mapr/lib/json-20080701.jar:/opt/mapr/lib/flexjson-2.1.jar:/opt/mapr/lib/commons-codec-1.5.jar\n2015-07-17 06:32:36,705 [myid:] - INFO  [main:Environment@100] - Server environment:java.library.path=/opt/mapr/lib\n2015-07-17 06:32:36,706 [myid:] - INFO  [main:Environment@100] - Server environment:java.io.tmpdir=/tmp\n2015-07-17 06:32:36,706 [myid:] - INFO  [main:Environment@100] - Server environment:java.compiler=<NA>\n2015-07-17 06:32:36,706 [myid:] - INFO  [main:Environment@100] - Server environment:os.name=Linux\n2015-07-17 06:32:36,707 [myid:] - INFO  [main:Environment@100] - Server environment:os.arch=amd64\n2015-07-17 06:32:36,707 [myid:] - INFO  [main:Environment@100] - Server environment:os.version=2.6.32-504.el6.x86_64\n2015-07-17 06:32:36,707 [myid:] - INFO  [main:Environment@100] - Server environment:user.name=mapr\n2015-07-17 06:32:36,707 [myid:] - INFO  [main:Environment@100] - Server environment:user.home=/home/mapr\n2015-07-17 06:32:36,708 [myid:] - INFO  [main:Environment@100] - Server environment:user.dir=/\n2015-07-17 06:32:36,709 [myid:] - INFO  [main:ZooKeeperServer@726] - tickTime set to 2000\n2015-07-17 06:32:36,709 [myid:] - INFO  [main:ZooKeeperServer@735] - minSessionTimeout set to -1\n2015-07-17 06:32:36,709 [myid:] - INFO  [main:ZooKeeperServer@744] - maxSessionTimeout set to -1\n2015-07-17 06:32:36,740 [myid:] - INFO  [main:Login@293] - successfully logged in.\n2015-07-17 06:32:36,747 [myid:] - INFO  [main:NIOServerCnxnFactory@94] - binding to port 0.0.0.0/0.0.0.0:5181\n2015-07-17 06:32:36,760 [myid:] - INFO  [main:FileSnap@83] - Reading snapshot /opt/mapr/zkdata/version-2/snapshot.0\n2015-07-17 06:32:36,795 [myid:] - INFO  [main:FileTxnSnapLog@240] - Snapshotting: 0xa3 to /opt/mapr/zkdata/version-2/snapshot.a3\nSTARTED\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kevcheng","name":"kevcheng","key":"kevcheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kevin Cheng","active":true,"timeZone":"Etc/UTC"},"created":"2015-08-06T18:58:23.762+0000","updated":"2015-08-06T18:58:23.762+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/14736328","id":"14736328","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hunttang","name":"hunttang","key":"hunttang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hunt Tang","active":true,"timeZone":"Asia/Hong_Kong"},"body":"I'm using HBase 1.1.2 which by default uses ZooKeeper 3.4.6 as the log printed as below.\n2015-09-09 10:35:31,273 INFO  [main] server.ZooKeeperServer: Server environment:zookeeper.version=3.4.6-1569965, built on 02/20/2014 09:09 GMT\n\nMy code worked well if I ran it on the same machine as the ZooKeeper installed, however, when I ran my code remotely, the same issue occurred. The logs were as followings.\n\n2015-09-09 11:03:32,187 INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181] server.NIOServerCnxnFactory: Accepted socket connection from /10.0.1.201:50922\n2015-09-09 11:03:32,202 INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181] server.ZooKeeperServer: Client attempting to establish new session at /10.0.1.201:50922\n2015-09-09 11:03:32,230 INFO  [SyncThread:0] server.ZooKeeperServer: Established session 0x14fa1b466c30010 with negotiated timeout 90000 for client /10.0.1.201:50922\n2015-09-09 11:04:48,585 WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181] server.NIOServerCnxn: caught end of stream exception\nEndOfStreamException: Unable to read additional data from client sessionid 0x14fa1b466c30010, likely client has closed socket\n        at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:228)\n        at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:208)\n        at java.lang.Thread.run(Thread.java:745)\n2015-09-09 11:04:48,587 INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181] server.NIOServerCnxn: Closed socket connection for client /10.0.1.201:50922 which had sessionid 0x14fa1b466c30010","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hunttang","name":"hunttang","key":"hunttang","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hunt Tang","active":true,"timeZone":"Asia/Hong_Kong"},"created":"2015-09-09T07:04:38.900+0000","updated":"2015-09-09T07:04:38.900+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/14985222","id":"14985222","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charan","name":"charan","key":"charan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"charan","active":true,"timeZone":"Etc/UTC"},"body":"I am having same issue here with hbase 1.0.2 .\nZooKeeper 3.4.6\n\nDo we have any resolution or workarround for this , i am new with hbase .\n\nIf anyone can help it will be greatly appreciated !!\n\nThanks\nCharan","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charan","name":"charan","key":"charan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"charan","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-02T13:47:13.642+0000","updated":"2015-11-02T13:47:13.642+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/14985223","id":"14985223","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charan","name":"charan","key":"charan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"charan","active":true,"timeZone":"Etc/UTC"},"body":"I am having same issue here with hbase 1.0.2 .\nZooKeeper 3.4.6\n\nDo we have any resolution or workarround for this , i am new with hbase .\n\nIf anyone can help it will be greatly appreciated !!\n\nThanks\nCharan","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charan","name":"charan","key":"charan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"charan","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-02T13:47:16.265+0000","updated":"2015-11-02T13:47:16.265+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/14985237","id":"14985237","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charan","name":"charan","key":"charan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"charan","active":true,"timeZone":"Etc/UTC"},"body":"I am having same issue here with hbase 1.0.2 .\nZooKeeper 3.4.6\n\nDo we have any resolution or workarround for this , i am new with hbase .\n\nIf anyone can help it will be greatly appreciated !!\n\nThanks\nCharan\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=charan","name":"charan","key":"charan","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"charan","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-02T13:53:15.194+0000","updated":"2015-11-02T13:53:15.194+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/14991749","id":"14991749","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhl","name":"zhl","key":"zhl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhl","active":true,"timeZone":"Etc/UTC"},"body":"I am having same issue here with hbase 1.0.0. ZooKeeper 3.4.6 ,hadoop-2.6.0\n\nthe log:\n2015-11-06 05:41:16,201 INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181] server.NIOServerCnxn: Closed socket connection for client /192.168.100.1:57498 which had sessionid 0x150d99328680005\n2015-11-06 05:51:09,009 INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181] server.NIOServerCnxnFactory: Accepted socket connection from /192.168.100.1:57901\n2015-11-06 05:51:09,011 INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181] server.ZooKeeperServer: Client attempting to establish new session at /192.168.100.1:57901\n2015-11-06 05:51:09,072 INFO  [CommitProcessor:1] server.ZooKeeperServer: Established session 0x150d99328680006 with negotiated timeout 90000 for client /192.168.100.1:57901\n2015-11-06 05:52:32,390 WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181] server.NIOServerCnxn: caught end of stream exception\nEndOfStreamException: Unable to read additional data from client sessionid 0x150d99328680006, likely client has closed socket\n        at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:228)\n        at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:208)\n        at java.lang.Thread.run(Thread.java:744)\n2015-11-06 05:52:32,393 INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181] server.NIOServerCnxn: Closed socket connection for client /192.168.100.1:57901 which had sessionid 0x150d99328680006\n\nIf anyone can help it will be greatly appreciated !!\n\nThanks","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=zhl","name":"zhl","key":"zhl","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"zhl","active":true,"timeZone":"Etc/UTC"},"created":"2015-11-05T14:48:04.900+0000","updated":"2015-11-05T14:48:04.900+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/15199222","id":"15199222","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vishaljain000","name":"vishaljain000","key":"vishaljain000","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vishal","active":true,"timeZone":"Etc/UTC"},"body":"Same issue with Hbase-1.1.1 & Zk-3.4.6","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=vishaljain000","name":"vishaljain000","key":"vishaljain000","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Vishal","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-17T09:43:53.288+0000","updated":"2016-03-17T09:43:53.288+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/15202173","id":"15202173","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=marcelo.mendes.ifc","name":"marcelo.mendes.ifc","key":"marcelo.mendes.ifc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marcelo Mendes","active":true,"timeZone":"Etc/UTC"},"body":"Got the same error trying to setup Solr 4.7.2 + Zookeeper 3.4.6\n\nLooking for some  error on Solr startup log I found:\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:606)\n\tat org.eclipse.jetty.start.Main.invokeMain(Main.java:473)\n\tat org.eclipse.jetty.start.Main.start(Main.java:615)\n\tat org.eclipse.jetty.start.Main.main(Main.java:96)\nCaused by: org.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss for /configs/config1/solr-webapp/webapp/WEB-INF/lib/guava-14.0.1.jar\n\tat org.apache.zookeeper.KeeperException.create(KeeperException.java:99)\n\tat org.apache.zookeeper.KeeperException.create(KeeperException.java:51)\n\tat org.apache.zookeeper.ZooKeeper.create(ZooKeeper.java:783)\n\tat org.apache.solr.common.cloud.SolrZkClient$10.execute(SolrZkClient.java:429)\n\tat org.apache.solr.common.cloud.ZkCmdExecutor.retryOperation(ZkCmdExecutor.java:73)\n\tat org.apache.solr.common.cloud.SolrZkClient.makePath(SolrZkClient.java:426)\n\tat org.apache.solr.common.cloud.SolrZkClient.makePath(SolrZkClient.java:336)\n\tat org.apache.solr.cloud.ZkController.uploadToZK(ZkController.java:1330)\n\n\nAnd that's what's logged on ZK log file:\n2016-03-18 18:12:39,922 [myid:] - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@357] - caught end of stream exception\nEndOfStreamException: Unable to read additional data from client sessionid 0x1538b7af63c0000, likely client has closed socket\n        at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:228)\n        at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:208)\n        at java.lang.Thread.run(Thread.java:745)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=marcelo.mendes.ifc","name":"marcelo.mendes.ifc","key":"marcelo.mendes.ifc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marcelo Mendes","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-18T21:15:10.556+0000","updated":"2016-03-18T21:15:10.556+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/15204470","id":"15204470","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=marcelo.mendes.ifc","name":"marcelo.mendes.ifc","key":"marcelo.mendes.ifc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marcelo Mendes","active":true,"timeZone":"Etc/UTC"},"body":"Reading this issue thread :\nhttps://issues.apache.org/jira/browse/SOLR-4793\n\n\nI realized that the problema was a .jar file in one of my configuration folder that needed to be uploaded to ZK.\nWorked around with -Djute.maxbuffer= 50000000 java option on both ZK and Solr startup command line.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=marcelo.mendes.ifc","name":"marcelo.mendes.ifc","key":"marcelo.mendes.ifc","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Marcelo Mendes","active":true,"timeZone":"Etc/UTC"},"created":"2016-03-21T15:44:27.664+0000","updated":"2016-03-21T15:44:27.664+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/15653665","id":"15653665","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gfeng","name":"gfeng","key":"gfeng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"gfeng","active":true,"timeZone":"Etc/UTC"},"body":"I ran hbase-1.2.3 with zookeeper 3.4.6 on Java 8. The problem is presented in certain time. 2016-11-10 \n{code}\n09:09:48,000 INFO  [ProcessThread(sid:0 cport:-1):] server.PrepRequestProcessor: Processed session termination for sessionid: 0x1584a16e55d0008\n2016-11-10 09:17:48,388 WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181] server.NIOServerCnxn: caught end of stream exception\nEndOfStreamException: Unable to read additional data from client sessionid 0x1584a16e55d0061, likely client has closed socket\n        at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:228)\n        at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:208)\n        at java.lang.Thread.run(Thread.java:745)\n2016-11-10 09:17:48,389 INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181] server.NIOServerCnxn: Closed socket connection for client /127.0.0.1:39930 which had sessionid 0x1584a16e55d0061\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gfeng","name":"gfeng","key":"gfeng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"gfeng","active":true,"timeZone":"Etc/UTC"},"created":"2016-11-10T10:19:05.825+0000","updated":"2016-11-10T10:19:05.825+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/15653671","id":"15653671","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gfeng","name":"gfeng","key":"gfeng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"gfeng","active":true,"timeZone":"Etc/UTC"},"body":"By the way, how to configure Zookeeper in HBase?  Create a file zoo.cfg?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=gfeng","name":"gfeng","key":"gfeng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"gfeng","active":true,"timeZone":"Etc/UTC"},"created":"2016-11-10T10:21:33.398+0000","updated":"2016-11-10T10:21:33.398+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/15653697","id":"15653697","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rakeshr","name":"rakeshr","key":"rakeshr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rakeshr&avatarId=29267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rakeshr&avatarId=29267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rakeshr&avatarId=29267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rakeshr&avatarId=29267"},"displayName":"Rakesh R","active":true,"timeZone":"Asia/Kolkata"},"body":"I think, Apache HBase mailing list is the right forum to get more details on this, please send a query to them. May be these hbase [doc1|https://hbase.apache.org/book.html#zookeeper] or [doc2|http://www.cloudera.com/documentation/enterprise/5-5-x/topics/cdh_ig_hbase_cluster_deploy.html] can help you in setting up the env.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rakeshr","name":"rakeshr","key":"rakeshr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rakeshr&avatarId=29267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rakeshr&avatarId=29267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rakeshr&avatarId=29267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rakeshr&avatarId=29267"},"displayName":"Rakesh R","active":true,"timeZone":"Asia/Kolkata"},"created":"2016-11-10T10:32:58.779+0000","updated":"2016-11-10T10:32:58.779+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/15653736","id":"15653736","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rakeshr","name":"rakeshr","key":"rakeshr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rakeshr&avatarId=29267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rakeshr&avatarId=29267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rakeshr&avatarId=29267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rakeshr&avatarId=29267"},"displayName":"Rakesh R","active":true,"timeZone":"Asia/Kolkata"},"body":"{{EndOfStreamException}} that mentioned in your comment mostly means that your ZK client already closed the connection/socket. Probably you could look at your HBase application logs and understand ZK client log messages.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rakeshr","name":"rakeshr","key":"rakeshr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=rakeshr&avatarId=29267","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rakeshr&avatarId=29267","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rakeshr&avatarId=29267","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rakeshr&avatarId=29267"},"displayName":"Rakesh R","active":true,"timeZone":"Asia/Kolkata"},"created":"2016-11-10T10:48:55.743+0000","updated":"2016-11-10T10:48:55.743+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12615861/comment/16571637","id":"16571637","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=meghajnct%40gmail.com","name":"meghajnct@gmail.com","key":"meghajnct@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Megha Gupta","active":true,"timeZone":"Etc/UTC"},"body":"I am getting the same Exception for zookeeper 3.4.10 version continuously. I have cross checked all the connection they are fine. \r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=meghajnct%40gmail.com","name":"meghajnct@gmail.com","key":"meghajnct@gmail.com","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Megha Gupta","active":true,"timeZone":"Etc/UTC"},"created":"2018-08-07T13:10:25.879+0000","updated":"2018-08-07T13:10:25.879+0000"}],"maxResults":25,"total":25,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-1582/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i0jxxr:"}}