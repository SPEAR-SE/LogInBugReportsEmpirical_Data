{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13100412","self":"https://issues.apache.org/jira/rest/api/2/issue/13100412","key":"ZOOKEEPER-2893","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310801","id":"12310801","key":"ZOOKEEPER","name":"ZooKeeper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10484","id":"10484","description":"Apache ZooKeeper related","name":"ZooKeeper"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12340141","id":"12340141","description":"Beta release against 3.5 branch","name":"3.5.4","archived":false,"released":true,"releaseDate":"2018-05-17"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12326518","id":"12326518","name":"3.6.0","archived":false,"released":false},{"self":"https://issues.apache.org/jira/rest/api/2/version/12342040","id":"12342040","description":"Fix release against 3.4 branch","name":"3.4.12","archived":false,"released":true,"releaseDate":"2018-05-01"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2017-09-15T01:09:45.453+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Dec 19 19:05:05 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_1048025951_*|*_3_*:*_1_*:*_7884442823_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2017-12-19T19:05:05.108+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-2893/watchers","watchCount":6,"isWatching":false},"created":"2017-09-07T09:50:36.399+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323310","id":"12323310","description":"Fix release against 3.4 branch","name":"3.4.6","archived":false,"released":true,"releaseDate":"2014-03-10"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12335444","id":"12335444","description":"Beta release against 3.5 branch","name":"3.5.3","archived":false,"released":true,"releaseDate":"2017-04-17"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12326518","id":"12326518","name":"3.6.0","archived":false,"released":false}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-12-19T19:05:23.959+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312381","id":"12312381","name":"java client","description":"The java client interface for ZooKeeper"}],"timeoriginalestimate":null,"description":"We are using ZooKeeper in our project and have received reports that, when suffering a networking problem, log files become flooded with messages like:\n{quote}\n07 Sep 2017 08:22:00 (System) [] Session 0x45d3151be3600a9 for server null, unexpected error, closing socket connection and attempting reconnect\njava.net.NoRouteToHostException: No route to host\n        at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[na:1.8.0_131]\n        at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717) ~[na:1.8.0_131]\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:361) ~[zookeeper-3.4.6.jar:3.4.6-1569965]\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081) ~[zookeeper-3.4.6.jar:3.4.6-1569965]\n{quote}\n\nLooking at the code that logs this message ({{ClientCnxn}}), there seems to be quite a few problems here:\n# the code logs a stack-trace, even though there is no bug here.  In our project, we treat all logged stack-traces as bugs,\n# if the networking issue is not fixed promptly, the log files is flooded with these message,\n# The message is built using {{ClientCnxnSocket#getRemoteSocketAddress}}, yet in this case, this does not provide the expected information (yielding {{null}}),\n# The log message fails to include a description of what actually went wrong.\n\n(Additionally, the code uses string concatenation rather than templating when building the message; however, this is an optimisation issue)\n\nMy suggestion is that this log entry is updated so that it doesn't log a stack-trace, but does include some indication why the connection failed.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"very poor choice of logging if client fails to connect to server","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=paulmillar","name":"paulmillar","key":"paulmillar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=paulmillar&avatarId=35857","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=paulmillar&avatarId=35857","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=paulmillar&avatarId=35857","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=paulmillar&avatarId=35857"},"displayName":"Paul Millar","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=paulmillar","name":"paulmillar","key":"paulmillar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=paulmillar&avatarId=35857","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=paulmillar&avatarId=35857","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=paulmillar&avatarId=35857","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=paulmillar&avatarId=35857"},"displayName":"Paul Millar","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16167189","id":"16167189","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maoling","name":"maoling","key":"maoling","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maoling&avatarId=32024","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maoling&avatarId=32024","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maoling&avatarId=32024","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maoling&avatarId=32024"},"displayName":"maoling","active":true,"timeZone":"Etc/UTC"},"body":"it is an unexpected exception:NoRouteToHostException, so ClientCnxnSocket#getRemoteSocketAddress returns null.for an unexpected exception,we can't know the reason why it happened and log its stack-trace for locating the problem","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maoling","name":"maoling","key":"maoling","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maoling&avatarId=32024","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maoling&avatarId=32024","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maoling&avatarId=32024","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maoling&avatarId=32024"},"displayName":"maoling","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-15T01:09:45.453+0000","updated":"2017-09-15T01:09:45.453+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16171675","id":"16171675","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=paulmillar","name":"paulmillar","key":"paulmillar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=paulmillar&avatarId=35857","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=paulmillar&avatarId=35857","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=paulmillar&avatarId=35857","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=paulmillar&avatarId=35857"},"displayName":"Paul Millar","active":true,"timeZone":"Europe/Berlin"},"body":"... just to add my 2c-worth\n\nSure, ClientCnxnSocket#getRemoteSocketAddress returns null; however the problem (item 3.) is not with the return value of ClientCnxnSocket#getRemoteSocketAddress.\n\nRather, the problem (item 3. in the list) is that the _error message_ is built using something that can be `null`.\n\nThe remote address is actually well-defined.  ClientCnxn certainly should know to which endpoint it is trying to connect.\n\nTo fix this problem, the error message should include the remote endpoint using something that cannot be null.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=paulmillar","name":"paulmillar","key":"paulmillar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=paulmillar&avatarId=35857","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=paulmillar&avatarId=35857","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=paulmillar&avatarId=35857","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=paulmillar&avatarId=35857"},"displayName":"Paul Millar","active":true,"timeZone":"Europe/Berlin"},"created":"2017-09-19T13:27:16.937+0000","updated":"2017-09-19T13:27:16.937+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16287581","id":"16287581","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"body":"[~paulmillar] I'll take a look and submit a pull request soon.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"created":"2017-12-12T13:15:22.026+0000","updated":"2017-12-12T13:15:22.026+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16287622","id":"16287622","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"GitHub user anmolnar opened a pull request:\n\n    https://github.com/apache/zookeeper/pull/430\n\n    ZOOKEEPER-2893. Make 'addr' variable available for error handling code to give a chance to fallback if the socket hasn't been initialized yet\n\n    'addr' variable is used to identify which server to connect to.\r\n    I've made this available for error handling code in order to let it fallback to this address if the remote socket hasn't been initialised yet. This will give us better error messages if the client is unable to connect to server for some reason.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/anmolnar/zookeeper ZOOKEEPER-2893\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/zookeeper/pull/430.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #430\n    \n----\ncommit fbe4ccde8516150cfd69d2a2260266fd1c0bf10d\nAuthor: Andor Molnar <andor@cloudera.com>\nDate:   2017-12-12T13:46:34Z\n\n    ZOOKEEPER-2893. Make 'addr' variable available for error handling code to give a chance to fallback if the socket hasn't been initialized yet\n\n----\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-12T13:50:33.776+0000","updated":"2017-12-12T13:50:33.776+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16287625","id":"16287625","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"body":"[~paulmillar] please check it ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"created":"2017-12-12T13:51:25.576+0000","updated":"2017-12-12T13:51:25.576+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16287649","id":"16287649","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  GitHub Pull Request  Build\n      \n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +0 tests included.  The patch appears to be a documentation patch that doesn't require tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1340//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1340//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1340//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-12T14:09:13.920+0000","updated":"2017-12-12T14:09:13.920+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16288906","id":"16288906","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user paulmillar commented on a diff in the pull request:\n\n    https://github.com/apache/zookeeper/pull/430#discussion_r156594153\n  \n    --- Diff: src/java/main/org/apache/zookeeper/ClientCnxn.java ---\n    @@ -1232,11 +1233,12 @@ public void run() {\n                             } else if (e instanceof RWServerFoundException) {\n                                 LOG.info(e.getMessage());\n                             } else {\n    +                            SocketAddress remoteAddr = clientCnxnSocket.getRemoteSocketAddress();\n                                 LOG.warn(\n                                         \"Session 0x\"\n                                                 + Long.toHexString(getSessionId())\n                                                 + \" for server \"\n    -                                            + clientCnxnSocket.getRemoteSocketAddress()\n    +                                            + (remoteAddr == null ? addr : remoteAddr)\n    --- End diff --\n    \n    I believe that, if `clientCnxnSocket.getRemoteSocketAddress()` is non-null, the value is always the same as `addr`.\r\n    \r\n    If so, then this could be simplified to just `addr` without the ternary operation.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-13T08:52:20.370+0000","updated":"2017-12-13T08:52:20.370+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16288908","id":"16288908","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user paulmillar commented on a diff in the pull request:\n\n    https://github.com/apache/zookeeper/pull/430#discussion_r156594864\n  \n    --- Diff: src/java/main/org/apache/zookeeper/ClientCnxn.java ---\n    @@ -1041,6 +1041,8 @@ private void sendPing() {\n     \n             private InetSocketAddress rwServerAddress = null;\n     \n    +        private InetSocketAddress addr = null;\n    --- End diff --\n    \n    [non-blocking]\r\n    \r\n    The name could be an ambiguous: is this the address of the local (client) side of the connection, or the remote (server) side of the connection?  Especially as there is `rwServerAddress` field member defined immediately above.\r\n    \r\n    Suggest `serverAddress` (or similar)\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-13T08:55:34.735+0000","updated":"2017-12-13T08:55:34.735+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16288909","id":"16288909","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user paulmillar commented on a diff in the pull request:\n\n    https://github.com/apache/zookeeper/pull/430#discussion_r156594949\n  \n    --- Diff: src/java/main/org/apache/zookeeper/ClientCnxn.java ---\n    @@ -1232,11 +1233,12 @@ public void run() {\n                             } else if (e instanceof RWServerFoundException) {\n                                 LOG.info(e.getMessage());\n                             } else {\n    +                            SocketAddress remoteAddr = clientCnxnSocket.getRemoteSocketAddress();\n                                 LOG.warn(\n                                         \"Session 0x\"\n                                                 + Long.toHexString(getSessionId())\n                                                 + \" for server \"\n    -                                            + clientCnxnSocket.getRemoteSocketAddress()\n    +                                            + (remoteAddr == null ? addr : remoteAddr)\n    --- End diff --\n    \n    Of course this comment is [non-blocking]\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-13T08:56:01.166+0000","updated":"2017-12-13T08:56:01.166+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16288924","id":"16288924","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user anmolnar commented on a diff in the pull request:\n\n    https://github.com/apache/zookeeper/pull/430#discussion_r156597536\n  \n    --- Diff: src/java/main/org/apache/zookeeper/ClientCnxn.java ---\n    @@ -1232,11 +1233,12 @@ public void run() {\n                             } else if (e instanceof RWServerFoundException) {\n                                 LOG.info(e.getMessage());\n                             } else {\n    +                            SocketAddress remoteAddr = clientCnxnSocket.getRemoteSocketAddress();\n                                 LOG.warn(\n                                         \"Session 0x\"\n                                                 + Long.toHexString(getSessionId())\n                                                 + \" for server \"\n    -                                            + clientCnxnSocket.getRemoteSocketAddress()\n    +                                            + (remoteAddr == null ? addr : remoteAddr)\n    --- End diff --\n    \n    Makes sense. I'll just use 'addr' here.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-13T09:08:41.454+0000","updated":"2017-12-13T09:08:41.454+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16288941","id":"16288941","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user anmolnar commented on a diff in the pull request:\n\n    https://github.com/apache/zookeeper/pull/430#discussion_r156599702\n  \n    --- Diff: src/java/main/org/apache/zookeeper/ClientCnxn.java ---\n    @@ -1041,6 +1041,8 @@ private void sendPing() {\n     \n             private InetSocketAddress rwServerAddress = null;\n     \n    +        private InetSocketAddress addr = null;\n    --- End diff --\n    \n    Remote side of the connection. Basically the ip address that the client is trying to connect to. ```rwServerAddress``` is the address of non-R/O server found if there's any.\r\n    \r\n    I'll change this to ```serverAddress```.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-13T09:18:45.793+0000","updated":"2017-12-13T09:18:45.793+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16289186","id":"16289186","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  GitHub Pull Request  Build\n      \n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +0 tests included.  The patch appears to be a documentation patch that doesn't require tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1359//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1359//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1359//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-13T12:14:57.038+0000","updated":"2017-12-13T12:14:57.038+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16289222","id":"16289222","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=paulmillar","name":"paulmillar","key":"paulmillar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=paulmillar&avatarId=35857","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=paulmillar&avatarId=35857","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=paulmillar&avatarId=35857","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=paulmillar&avatarId=35857"},"displayName":"Paul Millar","active":true,"timeZone":"Europe/Berlin"},"body":"The other thing that would be good to fix is that the message is logged with a stack-trace.\r\n\r\nWould it be possible to change the log message so it doesn't include a stack-trace; for example, {{LOG.warn(\"Session 0x\" +  ... + String.valueOf(e))}}, instead of {{LOG.warn(\"Session 0x\" + ..., e)}} ?\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=paulmillar","name":"paulmillar","key":"paulmillar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=paulmillar&avatarId=35857","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=paulmillar&avatarId=35857","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=paulmillar&avatarId=35857","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=paulmillar&avatarId=35857"},"displayName":"Paul Millar","active":true,"timeZone":"Europe/Berlin"},"created":"2017-12-13T13:02:34.961+0000","updated":"2017-12-13T13:02:34.961+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16289437","id":"16289437","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"body":"[~paulmillar]\r\n\r\nI thought about it, but that would be a non backward compatible change. This part is the catch-all exception handler so all non-expected errors will end up here which makes sense for dumping the whole stack trace.\r\n\r\nI'd rather implement specific error handlers for NoRouteToHost and other special errors if you want to make it fancy.\r\n\r\nAdditionally, I'm not familiar with log4j/slf4j settings, but that could be a setting of the appender whether stack traces needs to be logged or not.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"created":"2017-12-13T16:02:41.358+0000","updated":"2017-12-13T16:02:41.358+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16290147","id":"16290147","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user phunt commented on a diff in the pull request:\n\n    https://github.com/apache/zookeeper/pull/430#discussion_r156825456\n  \n    --- Diff: src/java/main/org/apache/zookeeper/ClientCnxn.java ---\n    @@ -1041,6 +1041,8 @@ private void sendPing() {\n     \n             private InetSocketAddress rwServerAddress = null;\n     \n    +        private InetSocketAddress serverAddress = null;\n    --- End diff --\n    \n    This seems kinda bogus to me - why push this up to a field. Can't we determine the server address in \"run\" method, as a local variable, and call startConnect with that as an argument? That seems like an improvement to startConnect call at the same time. What do you think @anmolnar , does that make sense or am I missing something?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-14T00:30:57.719+0000","updated":"2017-12-14T00:30:57.719+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16290148","id":"16290148","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user phunt commented on a diff in the pull request:\n\n    https://github.com/apache/zookeeper/pull/430#discussion_r156825263\n  \n    --- Diff: src/java/main/org/apache/zookeeper/ClientCnxn.java ---\n    @@ -1236,7 +1237,7 @@ public void run() {\n                                         \"Session 0x\"\n                                                 + Long.toHexString(getSessionId())\n                                                 + \" for server \"\n    -                                            + clientCnxnSocket.getRemoteSocketAddress()\n    +                                            + serverAddress\n                                                 + \", unexpected error\"\n                                                 + RETRY_CONN_MSG, e);\n    --- End diff --\n    \n    I think it would be good to address the other issue Paul mentioned - no need to dump a stack if we know this is NoRouteToHostException - why wouldn't we add another elseif to check for this type?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-14T00:30:57.885+0000","updated":"2017-12-14T00:30:57.885+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16290571","id":"16290571","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=paulmillar","name":"paulmillar","key":"paulmillar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=paulmillar&avatarId=35857","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=paulmillar&avatarId=35857","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=paulmillar&avatarId=35857","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=paulmillar&avatarId=35857"},"displayName":"Paul Millar","active":true,"timeZone":"Europe/Berlin"},"body":"Catching NoRouteToHostException would be good, but there are other exceptions that can happen legitimately and that (I believe) shouldn't result in logging a stack-trace: ConnectException and PortUnreachableException for example.\r\n\r\nPerhaps it would be better to catch SocketException and log it without a stack-trace?\r\n\r\nThe same argument could also applies to IOException; I'm not sure how useful it is to log a stack-trace on an UnknownHostException.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=paulmillar","name":"paulmillar","key":"paulmillar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=paulmillar&avatarId=35857","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=paulmillar&avatarId=35857","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=paulmillar&avatarId=35857","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=paulmillar&avatarId=35857"},"displayName":"Paul Millar","active":true,"timeZone":"Europe/Berlin"},"created":"2017-12-14T08:59:28.241+0000","updated":"2017-12-14T08:59:28.241+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16290883","id":"16290883","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user anmolnar commented on a diff in the pull request:\n\n    https://github.com/apache/zookeeper/pull/430#discussion_r156951799\n  \n    --- Diff: src/java/main/org/apache/zookeeper/ClientCnxn.java ---\n    @@ -1041,6 +1041,8 @@ private void sendPing() {\n     \n             private InetSocketAddress rwServerAddress = null;\n     \n    +        private InetSocketAddress serverAddress = null;\n    --- End diff --\n    \n    Good idea. I've made the change.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-14T14:07:15.057+0000","updated":"2017-12-14T14:07:15.057+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16290884","id":"16290884","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user anmolnar commented on a diff in the pull request:\n\n    https://github.com/apache/zookeeper/pull/430#discussion_r156952287\n  \n    --- Diff: src/java/main/org/apache/zookeeper/ClientCnxn.java ---\n    @@ -1236,7 +1237,7 @@ public void run() {\n                                         \"Session 0x\"\n                                                 + Long.toHexString(getSessionId())\n                                                 + \" for server \"\n    -                                            + clientCnxnSocket.getRemoteSocketAddress()\n    +                                            + serverAddress\n                                                 + \", unexpected error\"\n                                                 + RETRY_CONN_MSG, e);\n    --- End diff --\n    \n    We're talking about the same thing in the Jira. It's arguable which exception should be logged at INFO level without the stack trace, I ended up separating SocketExceptions altogether and leaving the rest for the original handler.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-14T14:09:14.705+0000","updated":"2017-12-14T14:09:14.705+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16290905","id":"16290905","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  GitHub Pull Request  Build\n      \n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +0 tests included.  The patch appears to be a documentation patch that doesn't require tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    -1 core tests.  The patch failed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1368//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1368//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1368//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-14T14:28:19.695+0000","updated":"2017-12-14T14:28:19.695+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16290951","id":"16290951","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  GitHub Pull Request  Build\n      \n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +0 tests included.  The patch appears to be a documentation patch that doesn't require tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1369//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1369//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1369//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-14T15:05:20.172+0000","updated":"2017-12-14T15:05:20.172+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16291144","id":"16291144","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"body":"[~paulmillar]\r\n\r\nI've created a separate 'if' for SocketException, but not for IOException. Do you think we can live with that for now?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"created":"2017-12-14T16:38:05.993+0000","updated":"2017-12-14T16:38:05.993+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16291327","id":"16291327","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=paulmillar","name":"paulmillar","key":"paulmillar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=paulmillar&avatarId=35857","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=paulmillar&avatarId=35857","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=paulmillar&avatarId=35857","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=paulmillar&avatarId=35857"},"displayName":"Paul Millar","active":true,"timeZone":"Europe/Berlin"},"body":"Yes, that sounds fine.\r\n\r\nOne final thing: log4j has a built-in template support.  You can write the log message like:\r\n\r\n    LOG.info(\"Socket error occurred: {}: {}\", serverAddress, e.getMessage());\r\n\r\nIn addition to being shorter, this has the advantage of avoiding the string concatenation if the message isn't going to be logged.  This is particularly useful for DEBUG-level and TRACE-level logging.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=paulmillar","name":"paulmillar","key":"paulmillar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=paulmillar&avatarId=35857","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=paulmillar&avatarId=35857","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=paulmillar&avatarId=35857","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=paulmillar&avatarId=35857"},"displayName":"Paul Millar","active":true,"timeZone":"Europe/Berlin"},"created":"2017-12-14T18:35:09.885+0000","updated":"2017-12-14T18:35:09.885+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16292522","id":"16292522","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"body":"[~paulmillar]\r\n\r\nDone.\r\nLet's move this review to github, if you still have comments.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"created":"2017-12-15T13:18:59.367+0000","updated":"2017-12-15T13:18:59.367+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16292541","id":"16292541","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user paulmillar commented on a diff in the pull request:\n\n    https://github.com/apache/zookeeper/pull/430#discussion_r157201054\n  \n    --- Diff: src/java/main/org/apache/zookeeper/ClientCnxn.java ---\n    @@ -1231,14 +1231,14 @@ public void run() {\n                                 LOG.info(e.getMessage() + RETRY_CONN_MSG);\n                             } else if (e instanceof RWServerFoundException) {\n                                 LOG.info(e.getMessage());\n    +                        } else if (e instanceof SocketException) {\n    +                            LOG.info(\"Socket error occurred: {}: {}\", serverAddress, e.getMessage());\n                             } else {\n    -                            LOG.warn(\n    -                                    \"Session 0x\"\n    -                                            + Long.toHexString(getSessionId())\n    -                                            + \" for server \"\n    -                                            + clientCnxnSocket.getRemoteSocketAddress()\n    -                                            + \", unexpected error\"\n    -                                            + RETRY_CONN_MSG, e);\n    +                            LOG.warn(\"Session 0x{} for server {}, unexpected error{}\",\n    --- End diff --\n    \n    [non-blocking]\r\n    \r\n    Although this isn't a regression, you probably want a \": \" here (and a space); e.g.,\r\n    \r\n        \"Session 0x{} for server {}, unexpected error: {}\"\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-15T13:31:32.853+0000","updated":"2017-12-15T13:31:32.853+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16292545","id":"16292545","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  GitHub Pull Request  Build\n      \n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +0 tests included.  The patch appears to be a documentation patch that doesn't require tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1375//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1375//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1375//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-15T13:37:16.958+0000","updated":"2017-12-15T13:37:16.958+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16292967","id":"16292967","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user anmolnar commented on a diff in the pull request:\n\n    https://github.com/apache/zookeeper/pull/430#discussion_r157266599\n  \n    --- Diff: src/java/main/org/apache/zookeeper/ClientCnxn.java ---\n    @@ -1231,14 +1231,14 @@ public void run() {\n                                 LOG.info(e.getMessage() + RETRY_CONN_MSG);\n                             } else if (e instanceof RWServerFoundException) {\n                                 LOG.info(e.getMessage());\n    +                        } else if (e instanceof SocketException) {\n    +                            LOG.info(\"Socket error occurred: {}: {}\", serverAddress, e.getMessage());\n                             } else {\n    -                            LOG.warn(\n    -                                    \"Session 0x\"\n    -                                            + Long.toHexString(getSessionId())\n    -                                            + \" for server \"\n    -                                            + clientCnxnSocket.getRemoteSocketAddress()\n    -                                            + \", unexpected error\"\n    -                                            + RETRY_CONN_MSG, e);\n    +                            LOG.warn(\"Session 0x{} for server {}, unexpected error{}\",\n    --- End diff --\n    \n    No, because the RETRY_CONN_MSG should go right after it. (starts with \", \")\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-15T18:22:00.358+0000","updated":"2017-12-15T18:22:00.358+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16294827","id":"16294827","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user anmolnar commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/430\n  \n    @paulmillar Please approve it, if you're happy with the change.\r\n    @phunt Do you think it can be committed?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-18T11:20:54.703+0000","updated":"2017-12-18T11:20:54.703+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16297198","id":"16297198","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"body":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/zookeeper/pull/430\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-19T18:28:44.027+0000","updated":"2017-12-19T18:28:44.027+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16297257","id":"16297257","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Jenkins build ZooKeeper-trunk #3665 (See [https://builds.apache.org/job/ZooKeeper-trunk/3665/])\nZOOKEEPER-2893: very poor choice of logging if client fails to connect (phunt: rev e129e7a0b64d6555460d240be2d79e53aaa1bef9)\n* (edit) src/java/main/org/apache/zookeeper/ClientCnxn.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2017-12-19T18:55:27.441+0000","updated":"2017-12-19T18:55:27.441+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13100412/comment/16297268","id":"16297268","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 lgtm. Thanks [~andorm] and [~paulmillar] !","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-12-19T19:05:05.148+0000","updated":"2017-12-19T19:05:05.148+0000"}],"maxResults":31,"total":31,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-2893/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3jr6f:"}}