{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12458489","self":"https://issues.apache.org/jira/rest/api/2/issue/12458489","key":"ZOOKEEPER-690","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310801","id":"12310801","key":"ZOOKEEPER","name":"ZooKeeper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10484","id":"10484","description":"Apache ZooKeeper related","name":"ZooKeeper"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314469","id":"12314469","description":"Kerberos client auth, multi support, deb/rpm pkging.","name":"3.4.0","archived":false,"released":true,"releaseDate":"2011-11-22"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_12312322":null,"customfield_12310220":"2010-03-17T05:44:17.914+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Jul 16 17:49:55 UTC 2011","customfield_12310420":"67900","customfield_12312320":null,"customfield_12310222":"10002_*:*_1_*:*_443078540_*|*_1_*:*_2_*:*_42296566147_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2011-07-16T17:49:55.918+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-690/watchers","watchCount":1,"isWatching":false},"created":"2010-03-09T01:42:31.306+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"14.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"issuelinks":[{"id":"12331742","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12331742","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12463709","key":"ZOOKEEPER-764","self":"https://issues.apache.org/jira/rest/api/2/issue/12463709","fields":{"summary":"Observer elected leader due to inconsistent voting view","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-11-23T19:22:30.851+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"the hudson test failed on http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/2/testReport/. There are huge set of cancelledkeyexceptions in the logs. Still going through the logs to find out the reason for failure.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12442333","id":"12442333","filename":"jstack-201004201053.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-20T17:55:03.135+0000","size":46824,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12442333/jstack-201004201053.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12443234","id":"12443234","filename":"jstack-201004291409.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T21:11:44.617+0000","size":47304,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12443234/jstack-201004291409.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12443240","id":"12443240","filename":"jstack-201004291527.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T22:30:01.529+0000","size":11925,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12443240/jstack-201004291527.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12443595","id":"12443595","filename":"jstack-AsyncHammerTest-201004301209.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-05-04T17:03:52.918+0000","size":10241,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12443595/jstack-AsyncHammerTest-201004301209.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12442334","id":"12442334","filename":"nohup-201004201053.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-20T17:55:03.209+0000","size":4556006,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12442334/nohup-201004201053.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12443233","id":"12443233","filename":"nohup-201004291409.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T21:11:42.509+0000","size":4923019,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12443233/nohup-201004291409.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12443241","id":"12443241","filename":"nohup-201004291527.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T22:30:01.653+0000","size":2150150,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12443241/nohup-201004291527.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12443594","id":"12443594","filename":"nohup-AsyncHammerTest-201004301209.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-05-04T17:03:50.355+0000","size":9456253,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12443594/nohup-AsyncHammerTest-201004301209.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12443596","id":"12443596","filename":"nohup-QuorumPeerMainTest-201004301209.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-05-04T17:03:53.015+0000","size":182864,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12443596/nohup-QuorumPeerMainTest-201004301209.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12442233","id":"12442233","filename":"TEST-org.apache.zookeeper.test.AsyncHammerTest.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-19T21:35:20.236+0000","size":2341976,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12442233/TEST-org.apache.zookeeper.test.AsyncHammerTest.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12442235","id":"12442235","filename":"zoo.log","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-19T21:46:48.823+0000","size":50506,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12442235/zoo.log"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12443246","id":"12443246","filename":"ZOOKEEPER-690.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T23:39:19.221+0000","size":11609,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12443246/ZOOKEEPER-690.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12443237","id":"12443237","filename":"ZOOKEEPER-690.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T21:53:32.525+0000","size":9762,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12443237/ZOOKEEPER-690.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12443218","id":"12443218","filename":"ZOOKEEPER-690.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T19:03:10.948+0000","size":9764,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12443218/ZOOKEEPER-690.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"32921","customfield_12312823":null,"summary":"AsyncTestHammer test fails on hudson.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12846307","id":"12846307","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"downgrading from blocker, haven't seen this again after many runs. we'll keep an eye but shouldn't block 3.3.0 (and may have been fixed)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-03-17T05:44:17.914+0000","updated":"2010-03-17T05:44:17.914+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12846715","id":"12846715","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"not a blocker for 3.3.0, tracking in 3.3.1. Have not seen these since, ie not reproduceable but let's keep an eye open.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-03-18T01:46:38.556+0000","updated":"2010-03-18T01:46:38.556+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12858644","id":"12858644","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"body":"This consistently hangs on my machine.  I'll try to get some time to see why this is so.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-19T19:26:07.819+0000","updated":"2010-04-19T19:26:07.819+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12858665","id":"12858665","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"body":"Alan - that would be great. If you can take a jstack dump of the process when it hangs we can do some forensics.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-19T20:17:53.168+0000","updated":"2010-04-19T20:17:53.168+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12858684","id":"12858684","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Details such as os and java version would be really helpful. If you could upload the log file from the failed test that would be super useful. (build/test/logs/.)\n\nThis test in particular has found at least a couple issues.\n\nBtw, you know that you can run just this test via:\n\nant -Dtestcase=AsyncHammerTest test-core-java\n\nwhich might save you some time.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-19T21:18:38.273+0000","updated":"2010-04-19T21:18:38.273+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12858689","id":"12858689","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"body":"Odd.  Didn't hang this time.\n\n{code}\njunit.run:\n    [junit] Running org.apache.zookeeper.test.AsyncHammerTest\n    [junit] Tests run: 2, Failures: 0, Errors: 2, Time elapsed: 32.958 sec\n    [junit] Test org.apache.zookeeper.test.AsyncHammerTest FAILED\n\nBUILD FAILED\n/Users/acabrera/dev/hadoop/zookeeper/build.xml:818: Tests failed!\n\nTotal time: 46 seconds\n[acabrera-md:zookeeper 620]$ java -version\njava version \"1.6.0_17\"\nJava(TM) SE Runtime Environment (build 1.6.0_17-b04-248-9M3125)\nJava HotSpot(TM) 64-Bit Server VM (build 14.3-b01-101, mixed mode)\n{code}\n\nMac OS X 10.5.8\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-19T21:34:38.151+0000","updated":"2010-04-19T21:36:00.708+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12858694","id":"12858694","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"body":"Ok, this run of the test has been running for about 10 minutes","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-19T21:46:48.883+0000","updated":"2010-04-19T21:46:48.883+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12858767","id":"12858767","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"The following snippets are from TEST-org.apache.zookeeper.test.AsyncHammerTest.txt\n\nLooks like there's a problem with the address already being in use. Maybe you can \ntry editing src/java/test/org/apache/zookeeper/PortAssignment.java and see if that helps?\n\n2010-04-19 14:31:55,010 - INFO  [main:QuorumBase@88] - Ports are: 127.0.0.1:11222,127.0.0.1:11223,127.0.0.1:11224,127.0.0.1:11225,127.0.0.1:11226\n2010-04-19 14:31:55,015 - INFO  [main:QuorumBase@145] - creating QuorumPeer 1 port 11222\n2010-04-19 14:31:55,062 - INFO  [main:NIOServerCnxn$Factory@144] - binding to port 0.0.0.0/0.0.0.0:11222\n2010-04-19 14:31:55,063 - INFO  [main:AsyncHammerTest@68] - Test clients shutting down\n2010-04-19 14:31:55,064 - INFO  [main:QuorumBase@254] - TearDown started\n\nTestcase: testHammer took 0.443 sec\n\tCaused an ERROR\nAddress already in use\njava.net.BindException: Address already in use\n\tat sun.nio.ch.Net.bind(Native Method)\n\tat sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:119)\n\tat sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:59)\n\tat sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:52)\n\tat org.apache.zookeeper.server.NIOServerCnxn$Factory.<init>(NIOServerCnxn.java:145)\n\tat org.apache.zookeeper.server.NIOServerCnxn$Factory.<init>(NIOServerCnxn.java:126)\n\tat org.apache.zookeeper.server.quorum.QuorumPeer.<init>(QuorumPeer.java:450)\n\tat org.apache.zookeeper.test.QuorumBase.startServers(QuorumBase.java:146)\n\tat org.apache.zookeeper.test.QuorumBase.setUp(QuorumBase.java:96)\n\tat org.apache.zookeeper.test.QuorumBase.setUp(QuorumBase.java:60)\n\tat org.apache.zookeeper.test.AsyncHammerTest.setUp(AsyncHammerTest.java:54)\n\n\tCaused an ERROR\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-20T06:10:46.384+0000","updated":"2010-04-20T06:10:46.384+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12858980","id":"12858980","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"body":"I reran the tests a minute or two later, without having done anything, and the test got hung.  I attached the thread dump to this issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-20T17:32:11.350+0000","updated":"2010-04-20T17:32:11.350+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12858984","id":"12858984","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Can you attach the log, that would be very useful for me to review prior to digging into the thread dump.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-20T17:37:11.701+0000","updated":"2010-04-20T17:37:11.701+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12858986","id":"12858986","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"body":"There's nothing in the log:\n\n{code}\n[acabrera-md:zookeeper 507]$ cat build/test/logs/TEST-org.apache.zookeeper.test.AsyncHammerTest.txt\nTestsuite: org.apache.zookeeper.test.AsyncHammerTest\n{code}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-20T17:39:14.152+0000","updated":"2010-04-20T17:39:14.152+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12858988","id":"12858988","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"body":"alan,\n  junit doesnt persist the logs into the testfiles in case the test hangs. So, you will have to print out the logs on the console so that you know where it is hanging -\n\ntry\n\nant test -Dtestcase=AsyncHammerTest -Dtest.output=yes","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"created":"2010-04-20T17:45:23.033+0000","updated":"2010-04-20T17:45:23.033+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12858991","id":"12858991","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Right, also  > test.out 2>&1\n\nwill help to capture the output.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-20T17:49:52.578+0000","updated":"2010-04-20T17:49:52.578+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12858993","id":"12858993","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"body":"Stack dump and log.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-20T17:55:03.725+0000","updated":"2010-04-20T17:55:03.725+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12858997","id":"12858997","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"body":"One interesting thing I noticed is that after I kill the process it turns into a zombie process.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-20T18:03:25.794+0000","updated":"2010-04-20T18:03:25.794+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12859008","id":"12859008","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"The Observer test is failing, and it looks like one of the observer servers might be the issue (11247 is the fifth server afaict), Henry any insight?\n\n    [junit] 2010-04-20 10:48:21,936 - INFO  [QuorumPeer:/0.0.0.0:11247:QuorumPeer@619] - OBSERVING\n\n\n    [junit] 2010-04-20 10:49:42,593 - INFO  [main:ClientBase@536] - Found match with array:[389, 389, 389, 389, 0]\n    [junit] 2010-04-20 10:49:42,594 - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@53] - TEST METHOD FAILED testObserversHammer\n    [junit] java.lang.AssertionError: node count not consistent expected:<389> but was:<0>\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-20T18:24:45.539+0000","updated":"2010-04-20T18:24:45.539+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12859525","id":"12859525","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Moving this as a blocker for 3.3.1 - I think we need to fix this as part of the release.\n\nHenry, any progress? It would be great to get 3.3.1 to a vote soon (to get out a fix for the stat issue)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-21T21:08:52.450+0000","updated":"2010-04-21T21:08:52.450+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12861865","id":"12861865","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"body":"Progress update - possibly to do with a bug in FLE allowing an Observer to be elected. We're looking into this now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-28T17:45:29.930+0000","updated":"2010-04-28T17:45:29.930+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12861909","id":"12861909","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"body":"FLE relies upon a correct implementation of the voting view. My understanding is that if an observer is being elected leader, then the following predicate is evaluating to false:\n\n{noformat}\n(!self.getVotingView().containsKey(response.sid))\n{noformat}\n\nThis is line 201 of FastLeaderElection.java. If this predicate is true, meaning that an observer is not in the voting view of a server, then the server will send a response right away and won't consider the vote of the observer. Does it make sense?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"created":"2010-04-28T19:17:44.488+0000","updated":"2010-04-28T19:17:44.488+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12862350","id":"12862350","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"body":"I have found what I hope is the problem.\n\nBecause QuorumPeers duplicate their 'LearnerType' in two places there's the possibility that they may get out of sync. This is what was happening here - it was a test bug. Although the Observers knew that they were Observers, the other nodes did not. This affected the leader election protocol as other node did not know to reject an Observer.\n\nI feel like we should refactor the QuorumPeer.QuorumServer code so as not to duplicate information, but for the time being I think this patch will work. \n\nI have also taken the opportunity to standardise the naming of 'learnertype' throughout the code (in some places it was called 'peertype' adding to the confusion).\n\nTests pass on my machine, but I can't guarantee that the problem is fixed as I could never recreate the error.\n\nThanks to Flavio for catching the broken invariant!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T19:03:11.155+0000","updated":"2010-04-29T19:03:11.155+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12862351","id":"12862351","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"body":"Alan - can you try this patch to see if it fixes things? \n\nThanks, \n\nHenry\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T19:03:42.201+0000","updated":"2010-04-29T19:03:42.201+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12862398","id":"12862398","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"body":"Test does not lock up but it does not pass.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T20:33:08.530+0000","updated":"2010-04-29T20:33:08.530+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12862400","id":"12862400","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"body":"Note that both testHammer and testObserversHammer fail in the most recent log.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T20:36:01.355+0000","updated":"2010-04-29T20:36:01.355+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12862411","id":"12862411","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"body":"Disregard the last comment.\n\nI have now cleaned and rebuilt and now it still locks up.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T21:11:44.685+0000","updated":"2010-04-29T21:11:44.685+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12862414","id":"12862414","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=breed","name":"breed","key":"breed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benjamin Reed","active":true,"timeZone":"America/Los_Angeles"},"body":"i think the key fix is here:\n\n{quote}\npublic void setLearnerType(LearnerType p) {\n       learnerType = p;\n       if (quorumPeers.containsValue(this.myid)) {\n           this.quorumPeers.get(myid).type = p;\n       } else {\n           LOG.error(\"Setting LearnerType to \" + p + \" but \" + myid \n                   + \" not in QuorumPeers. \");\n       }\n       ...\n}\n{quote}\n\nright?\n\nthe problem i see is that we are only updating the quorumPeers for the one peer.  the other peers are going to be thinking it is a participant.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=breed","name":"breed","key":"breed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benjamin Reed","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T21:17:01.524+0000","updated":"2010-04-29T21:17:01.524+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12862424","id":"12862424","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"body":"This map is, I think, shared between the quorumpeers for the purposes of the test (and in general there aren't two quorumpeers sharing this datastructure when running normally). \n\nBut! The error here is that I'm dumb (and that Java's type-checking leaves a little to be desired). I've written quorumPeers.containsValue up there, but actually it should be quorumPeers.containsKey. New patch on the way, let's see if that fixes it.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T21:30:16.526+0000","updated":"2010-04-29T21:30:16.526+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12862434","id":"12862434","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"body":"Alan - would you mind trying this new patch? Thanks for your patience. I suspect that something might still be a bit flaky with these tests (not the code, but the tests), but I hope this will fix this particular problem. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T21:53:32.610+0000","updated":"2010-04-29T21:53:32.610+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12862451","id":"12862451","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"body":"Still locks up.  (BTW, I applied the latest patch to a clean checkout of zookeeper)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T22:30:02.266+0000","updated":"2010-04-29T22:30:02.266+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12862478","id":"12862478","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"body":"Fixing that bug unmasked another ugliness with the way that tests were started and stopped. This patch makes the process cleaner. Let's see if it helps, Alan?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T23:39:19.296+0000","updated":"2010-04-29T23:39:19.296+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12862480","id":"12862480","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=breed","name":"breed","key":"breed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benjamin Reed","active":true,"timeZone":"America/Los_Angeles"},"body":"henry, i think this may show that we can't really have a setLearnerType() method. In the real distributed setting, each peer will have its own list, so we should really think of the peers list as immutable.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=breed","name":"breed","key":"breed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benjamin Reed","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T23:44:07.819+0000","updated":"2010-04-29T23:44:07.819+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12862482","id":"12862482","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"body":"Ben - \n\nAgreed. I see this as the same as setMyid(...) - it sets an immutable value and should only be called once. I'd prefer if these parameters were 'final' in QuorumPeer and set in the constructor, but that's not the way that runFromConfig (the only place outside of tests that these methods are called) is written. Then we could get rid of setLearnerType, for sure. \n\nThe real error here, I think, is duplicating the learnertype between QuorumPeer and QuorumServer. If we are going to have the list of QuorumServers, then getLearnerType should lookup the learner type in the peer map. Same for the serverid, perhaps, and we should just save a reference to the QuorumServer that represents our Quorumpeer. \n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-04-29T23:52:09.732+0000","updated":"2010-04-29T23:52:09.732+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12862594","id":"12862594","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12443246/ZOOKEEPER-690.patch\n  against trunk revision 939172.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 12 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/77/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/77/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/77/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2010-04-30T08:59:37.618+0000","updated":"2010-04-30T08:59:37.618+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12863082","id":"12863082","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi Alan - Do you think you might have a chance to test whether this patch improves things?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-05-02T02:53:40.511+0000","updated":"2010-05-02T02:53:40.511+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12863888","id":"12863888","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"body":"The test still locks up but it seems that it's Ant that freezes.  This process then becomes a zombie process.  This zombie process holds on to ports that the  tests use and so subsequent runs fail.  Notably, QuorumPeerMainTest takes 15 minutes to fail.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-05-04T17:03:14.777+0000","updated":"2010-05-04T17:03:14.777+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12863902","id":"12863902","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi Alan - \n\nLooking at this attachment: nohup-AsyncHammerTest-201004301209.txt - the tests appear to be run twice. The first testObserversHammer completes successfully, the second fails. Were you running the tests until you experienced the failure? \n\nHenry","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-05-04T17:21:31.181+0000","updated":"2010-05-04T17:21:31.181+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12863912","id":"12863912","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"body":"The first run is the run where Ant locks up.  The second run is the subsequent run after the first run zombies.  \n\nRebooting clears everything for the first test run to lock up and become zombied.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-05-04T17:38:33.586+0000","updated":"2010-05-04T17:38:33.586+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12863915","id":"12863915","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"body":"Weird - it looks like the test is shutting down correctly:\n\n\n[junit] 2010-04-30 11:41:52,896 - INFO  [main:ClientBase@222] - connecting to 127.0.0.1 11233\n    [junit] 2010-04-30 11:41:52,896 - INFO  [main:QuorumBase@277] - 127.0.0.1:11233 is no longer accepting client connections\n    [junit] 2010-04-30 11:41:52,896 - INFO  [main:ClientBase@222] - connecting to 127.0.0.1 11234\n    [junit] 2010-04-30 11:41:52,897 - INFO  [main:QuorumBase@277] - 127.0.0.1:11234 is no longer accepting client connections\n    [junit] 2010-04-30 11:41:52,897 - INFO  [main:ClientBase@222] - connecting to 127.0.0.1 11235\n    [junit] 2010-04-30 11:41:52,897 - INFO  [main:QuorumBase@277] - 127.0.0.1:11235 is no longer accepting client connections\n    [junit] 2010-04-30 11:41:52,897 - INFO  [main:ClientBase@222] - connecting to 127.0.0.1 11236\n    [junit] 2010-04-30 11:41:52,898 - INFO  [main:QuorumBase@277] - 127.0.0.1:11236 is no longer accepting client connections\n    [junit] 2010-04-30 11:41:52,898 - INFO  [main:ClientBase@222] - connecting to 127.0.0.1 11237\n    [junit] 2010-04-30 11:41:52,898 - INFO  [main:QuorumBase@277] - 127.0.0.1:11237 is no longer accepting client connections\n    [junit] 2010-04-30 11:41:52,901 - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@56] - FINISHED TEST METHOD testObserversHammer\n    [junit] 2010-04-30 11:41:52,901 - INFO  [main:ZKTestCase$1@59] - SUCCEEDED testObserversHammer\n    [junit] 2010-04-30 11:41:52,901 - INFO  [main:ZKTestCase$1@54] - FINISHED testObserversHammer\n\nand then it goes into trying the C tests which fail for an unrelated reason - does it lock up at this point or does it actually fail out to the CLI? If it locks up, is the jstack output you attached from that run?\n\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=henryr","name":"henryr","key":"henryr","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Henry Robinson","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-05-04T17:50:50.006+0000","updated":"2010-05-04T17:50:50.006+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12863917","id":"12863917","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=breed","name":"breed","key":"breed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benjamin Reed","active":true,"timeZone":"America/Los_Angeles"},"body":"alan it looks like you took the jstack of the parent process rather than the child.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=breed","name":"breed","key":"breed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benjamin Reed","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-05-04T17:54:12.669+0000","updated":"2010-05-04T17:54:12.669+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12863922","id":"12863922","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"body":"Correct.  The child seem to have completed.  The parent was the one that seemed to have locked up.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-05-04T18:00:21.422+0000","updated":"2010-05-04T18:00:21.422+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12863996","id":"12863996","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"body":"+1, the patch looks good. \n\nI believe I have the same setup as Alan: Mac OS X 10.5.8 and the same java version. It runs fine for me. I have run from Eclipse and from the command line multiple times, and I observed no problem. I have also asked a colleague with the same setup to try to reproduce, and also runs for my colleague. \n\nAlan, could you make sure that JAVA_HOME is set to the correct path before you run ant from the command line? If the variable is not set, then ant might not pick the correct java version to run, even if it is marked in the java preferences utility.\n\nWe should keep investigating this problem, but given that it runs in two computers with similar configurations, I recommend we remove the blocker flag for this issue.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"created":"2010-05-04T21:03:34.517+0000","updated":"2010-05-04T21:03:34.517+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12864009","id":"12864009","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"body":"Are you saying that the AsyncHammerTest also fails on your machines w/ out the patch?  I ask this because {{trunk}}, with no patches, builds and tests fine on all my other Macs except the one at work.\n\nMy JAVA_HOME is properly set.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-05-04T21:23:56.171+0000","updated":"2010-05-04T21:23:56.171+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12864010","id":"12864010","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"body":"Removing the blocker flag and making it major for 3.4.0.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"created":"2010-05-04T21:25:11.237+0000","updated":"2010-05-04T21:25:11.237+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12864014","id":"12864014","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"I think Flavio is saying it works for him.\n\nAlan, any idea what's different btw the versions that are running fine, and the one where it fails? Java VM version? CPU core count, networking setup, is there something that stands out?\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-05-04T21:30:57.045+0000","updated":"2010-05-04T21:30:57.045+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12864024","id":"12864024","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"body":"I understand that it works for him.  Just wondering if he needs the patch to get it to work.\n\nFine:\n\nMacBook Pro - Intel Core 2 Duo 2.53 GHz, 4 GB\nMac OS X 10.5.8 - all updates applied\nJava(TM) SE Runtime Environment (build 1.6.0_17-b04-248-9M3125)\nJava HotSpot(TM) 64-Bit Server VM (build 14.3-b01-101, mixed mode)\nUsing WiFi through Cisco VPN\n\nNot so good:\n\nMacPro - 2 Quad-Core Intel Xeon 2.26GHz, 24GB\nMac OS X 10.5.8 - all updates applied\nJava(TM) SE Runtime Environment (build 1.6.0_17-b04-248-9M3125)\nJava HotSpot(TM) 64-Bit Server VM (build 14.3-b01-101, mixed mode)\nOne Ethernet port used\n\nIf you're interested I might be able to clean this machine and put it in a DMZ for you all to tinker with.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maguro","name":"maguro","key":"maguro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maguro&avatarId=16488","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maguro&avatarId=16488","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maguro&avatarId=16488","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maguro&avatarId=16488"},"displayName":"Alan Cabrera","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-05-04T21:42:56.075+0000","updated":"2010-05-04T21:42:56.075+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/12864040","id":"12864040","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"body":"Hi Alan, It does not block for me, with or without the patch. My configuration is pretty much like your \"fine\" one. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"created":"2010-05-04T22:07:32.068+0000","updated":"2010-05-04T22:07:32.068+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12458489/comment/13066479","id":"13066479","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"body":"Its been too long for this jira. I cant reproduce it now.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"created":"2011-07-16T17:49:55.979+0000","updated":"2011-07-16T17:49:55.979+0000"}],"maxResults":46,"total":46,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-690/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i05zxr:"}}