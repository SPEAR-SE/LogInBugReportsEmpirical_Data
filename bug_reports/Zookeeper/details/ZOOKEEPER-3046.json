{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13160172","self":"https://issues.apache.org/jira/rest/api/2/issue/13160172","key":"ZOOKEEPER-3046","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":4800,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310801","id":"12310801","key":"ZOOKEEPER","name":"ZooKeeper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10484","id":"10484","description":"Apache ZooKeeper related","name":"ZooKeeper"}},"fixVersions":[],"aggregatetimespent":4800,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2018-05-17T22:32:03.308+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Jul 19 18:54:21 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-3046/watchers","watchCount":4,"isWatching":false},"created":"2018-05-17T21:46:31.236+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":["flaky","pull-request-available"],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":0,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12335444","id":"12335444","description":"Beta release against 3.5 branch","name":"3.5.3","archived":false,"released":true,"releaseDate":"2017-04-17"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12342040","id":"12342040","description":"Fix release against 3.4 branch","name":"3.4.12","archived":false,"released":true,"releaseDate":"2018-05-01"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bkanivets","name":"bkanivets","key":"bkanivets","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Bogdan Kanivets","active":true,"timeZone":"America/Monterrey"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-07-19T18:54:21.736+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/4","description":"This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/reopened.png","name":"Reopened","id":"4","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312427","id":"12312427","name":"tests","description":"For issues with test cases"}],"timeoriginalestimate":null,"description":"According to the [dashboard|https://builds.apache.org/job/ZooKeeper-Find-Flaky-Tests/lastSuccessfulBuild/artifact/report.html] testManyChildWatchersAutoReset is flaky in 3.4 and 3.5\r\n\r\n[ZooKeeper_branch34_java10|https://builds.apache.org/job/ZooKeeper_branch34_java10//13]\r\n\r\n[ZooKeeper_branch35_java9|https://builds.apache.org/job/ZooKeeper_branch35_java9/253]\r\n\r\nTest times out and because of that ant doesn't capture any output.","customfield_10010":null,"timetracking":{"remainingEstimate":"0h","timeSpent":"1h 20m","remainingEstimateSeconds":0,"timeSpentSeconds":4800},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":0,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"testManyChildWatchersAutoReset is flaky","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bkanivets","name":"bkanivets","key":"bkanivets","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Bogdan Kanivets","active":true,"timeZone":"America/Monterrey"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bkanivets","name":"bkanivets","key":"bkanivets","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Bogdan Kanivets","active":true,"timeZone":"America/Monterrey"},"customfield_12310290":null,"aggregateprogress":{"progress":4800,"total":4800,"percent":100},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":4800,"total":4800,"percent":100},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/comment/16479834","id":"16479834","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  GitHub Pull Request  Build\n      \n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 6 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1705//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1705//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1705//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2018-05-17T22:32:03.308+0000","updated":"2018-05-17T22:32:03.308+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/comment/16479894","id":"16479894","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  GitHub Pull Request  Build\n      \n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 6 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    -1 core tests.  The patch failed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1707//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1707//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1707//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2018-05-17T23:45:49.796+0000","updated":"2018-05-17T23:45:49.796+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/comment/16481776","id":"16481776","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  GitHub Pull Request  Build\n      \n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 6 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1714//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1714//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1714//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2018-05-19T21:46:12.091+0000","updated":"2018-05-19T21:46:12.091+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/comment/16481821","id":"16481821","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  GitHub Pull Request  Build\n      \n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 6 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1715//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1715//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1715//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2018-05-20T01:23:41.122+0000","updated":"2018-05-20T01:23:41.122+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/comment/16482850","id":"16482850","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 - thanks [~bkanivets]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-21T18:18:27.187+0000","updated":"2018-05-21T18:18:27.187+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/comment/16482875","id":"16482875","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Jenkins build ZooKeeper-trunk #32 (See [https://builds.apache.org/job/ZooKeeper-trunk/32/])\nZOOKEEPER-3046: added junit timeout to precede 'ant' timeout (phunt: rev 587898ac9fc2a8588971197b977ecd9c00a7221e)\n* (edit) src/java/test/org/apache/zookeeper/server/quorum/StandaloneDisabledTest.java\n* (edit) src/java/test/org/apache/zookeeper/test/DisconnectedWatcherTest.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2018-05-21T18:32:16.865+0000","updated":"2018-05-21T18:32:16.865+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/comment/16482984","id":"16482984","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"FYI [~bkanivets]\r\n\r\nhttps://builds.apache.org/view/S-Z/view/ZooKeeper/job/ZooKeeper_branch35_java10/37/testReport/junit/org.apache.zookeeper.test/DisconnectedWatcherTest/testManyChildWatchersAutoReset/\r\n\r\norg.junit.runners.model.TestTimedOutException: test timed out after 600000 milliseconds\r\n\tat java.base@10.0.1/java.lang.Object.wait(Native Method)\r\n\tat java.base@10.0.1/java.lang.Object.wait(Object.java:328)\r\n\tat app//org.apache.zookeeper.ClientCnxn.submitRequest(ClientCnxn.java:1499)\r\n\tat app//org.apache.zookeeper.ClientCnxn.submitRequest(ClientCnxn.java:1487)\r\n\tat app//org.apache.zookeeper.ZooKeeper.create(ZooKeeper.java:1448)\r\n\tat app//org.apache.zookeeper.test.DisconnectedWatcherTest.testManyChildWatchersAutoReset(DisconnectedWatcherTest.java:229)\r\n\tat java.base@10.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@10.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base@10.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat app//org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:79)\r\n\tat java.base@10.0.1/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base@10.0.1/java.lang.Thread.run(Thread.java:844)\r\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-21T20:06:00.211+0000","updated":"2018-05-21T20:06:00.211+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/comment/16490331","id":"16490331","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bkanivets","name":"bkanivets","key":"bkanivets","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Bogdan Kanivets","active":true,"timeZone":"America/Monterrey"},"body":"[~phunt] I still don't have enough info to diagnose this test. Sometimes it takes ~ 10mins to create 10000 nodes and sometimes it's ~10 seconds.\r\n\r\nI've tried running this test in the loop locally and no time fluctuations.\r\n\r\nAlso, it seems there is a correlation between slower builds and this test time.\r\n\r\n[Test time history |https://builds.apache.org/job/ZooKeeper_branch35_jdk8/978/testReport/junit/org.apache.zookeeper.test/DisconnectedWatcherTest/testManyChildWatchersAutoReset/history/]\r\n\r\n[Total test time history|https://builds.apache.org/job/ZooKeeper_branch35_jdk8/978/testReport/history/]\r\n\r\nWhen test takes ~10 mins, total tests ~1h 40m\r\n\r\nWhen test takes ~20 sec, total tests ~50m \r\n\r\nMaybe we get different/busier disks and this test is 'write' heavy.\r\n\r\nI'll try to add more logs, collect some additional system info inside the test.\r\n\r\nFor ref, here are a sample of logs from slow and fast run.\r\n\r\n[3.5 java 8 #978 |https://builds.apache.org/job/ZooKeeper_branch35_jdk8/978/artifact/build/test/logs/TEST-org.apache.zookeeper.test.DisconnectedWatcherTest.xml]\r\n{noformat}\r\n2018-05-24 11:53:08,756 [myid:] - INFO [Time-limited test:JMXEnv@120] - found:0x1010aa7c0390001 org.apache.ZooKeeperService:name0=StandaloneServer_port27383,name1=Connections,name2=127.0.0.1,name3=0x1010aa7c0390001\r\n2018-05-24 11:53:10,452 [myid:] - INFO [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop! \r\n2018-05-24 12:00:51,370 [myid:] - INFO [Time-limited test:DisconnectedWatcherTest@202] - Created 10,000 nodes.\r\n{noformat}\r\n[3.5 java 8 #977|https://builds.apache.org/job/ZooKeeper_branch35_jdk8/977/artifact/build/test/logs/TEST-org.apache.zookeeper.test.DisconnectedWatcherTest.xml]\r\n{noformat}\r\n2018-05-23 11:51:01,686 [myid:] - INFO  [Time-limited test:JMXEnv@120] - found:0x10bb6bac4bc0001 org.apache.ZooKeeperService:name0=StandaloneServer_port13918,name1=Connections,name2=127.0.0.1,name3=0x10bb6bac4bc0001\r\n2018-05-23 11:51:03,967 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!\r\n2018-05-23 11:51:10,051 [myid:] - INFO  [Time-limited test:DisconnectedWatcherTest@202] - Created 10,000 nodes.\r\n{noformat}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bkanivets","name":"bkanivets","key":"bkanivets","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Bogdan Kanivets","active":true,"timeZone":"America/Monterrey"},"created":"2018-05-25T07:08:54.539+0000","updated":"2018-05-25T07:08:54.539+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/comment/16491409","id":"16491409","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"I checked job 37 above log artifacts and I don't see any \"fsync\" issues as you would typically expect if the disk is slow. \r\n\r\n{noformat}\r\n                if (syncElapsedMS > fsyncWarningThresholdMS) {\r\n                    LOG.warn(\"fsync-ing the write ahead log in \"\r\n                            + Thread.currentThread().getName()\r\n                            + \" took \" + syncElapsedMS\r\n                            + \"ms which will adversely effect operation latency. \"\r\n                            + \"File size is \" + channel.size() + \" bytes. \"\r\n                            + \"See the ZooKeeper troubleshooting guide\");\r\n                }\r\n{noformat}\r\n\r\nDo you see it in any of the failures you're looking at?\r\n\r\nPerhaps we should turn on GC logging and include that in the artifact?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-25T23:48:39.882+0000","updated":"2018-05-26T18:54:20.137+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/comment/16491784","id":"16491784","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"[~bkanivets] - any chance this is a deadlock?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-05-26T18:54:36.069+0000","updated":"2018-05-26T18:54:36.069+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/comment/16498640","id":"16498640","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hanm","name":"hanm","key":"hanm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hanm&avatarId=26946","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hanm&avatarId=26946","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hanm&avatarId=26946","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hanm&avatarId=26946"},"displayName":"Michael Han","active":true,"timeZone":"America/Vancouver"},"body":"{quote} any chance this is a deadlock? {quote}\r\n\r\nPossible, if for some reasons the current expected packet never arrives at client side, we will wait forever (current Java client library does not used timed wait while finishing a packet). \r\n\r\nThe symptom here sounds similar as what's reported by many users in ZOOKEEPER-2251. Note in that issue, we still don't figure out what is the real cause of the (so called \"packet loss\" - which not might be a precise term, see [~suda]'s comment and analysis in that issue). It seems this test case can lead to such \"packet loss\" in high probability. I feel what this test case and user stories in ZOOKEEPER-2251 is correlated to a real bug hidden somewhere in our client library.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hanm","name":"hanm","key":"hanm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hanm&avatarId=26946","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hanm&avatarId=26946","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hanm&avatarId=26946","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hanm&avatarId=26946"},"displayName":"Michael Han","active":true,"timeZone":"America/Vancouver"},"created":"2018-06-01T22:13:16.389+0000","updated":"2018-06-01T22:13:16.389+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/comment/16548844","id":"16548844","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bkanivets","name":"bkanivets","key":"bkanivets","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Bogdan Kanivets","active":true,"timeZone":"America/Monterrey"},"body":"[~hanm]\r\n\r\n[~phunt]\r\n\r\nI've done some digging into the performance of this test by adding more system and time logging.\r\n\r\nI've tested using fake [PR|https://github.com/apache/zookeeper/pull/538] to collect data in apache CI system. I'm using fake 'testCreateManyChildren' that just creates 10k nodes.\r\n\r\nAlso, I've tested locally by running all tests in the loop and recording all logs until the disk is full.\r\n\r\nMy hypothesis:\r\n\r\nthere is some other write-heavy test or build(maybe hadoop tests) that slows down creation of 10K children.\r\n\r\nHere fake test took 10s\r\n\r\n[https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1912/testReport/]\r\n\r\nHere fake took 3m 20s\r\n\r\n[https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1907/testReport/]\r\n # I don't think there is a deadlock, because I'm logging 'stat' after every 1K nodes created and it's pretty consistent.\r\n ** \"Latency min/avg/max: 2/32/596\" on slow\r\n ** \"Latency min/avg/max: 0/0/25\" on fast\r\n # Locally, when disk is getting full, I've seen this test slowing down.\r\n # I've tried logging vmstat, but not very helpful\r\n ** load average is bit higher on slow \"load average: 12.54, 12.04, 10.95\"\r\n ** \"load average: 4.16, 4.56, 4.86\" on fast\r\n # Since iostat isn't available, I've logged 'less /proc/diskstats'. Not very meaningful because I'm logging at differently spaced timestamps right now. But one observation is that column 12 \"I/Os currently in progress\" is usually 1 or 2 on slow and usually 0 on fast.\r\n # Looking at column 9 of /proc/diskstats (writes completed) for 'sda' device and calculating writes per ms using timestamps LOG.info:\r\n ** 0.18 writes/ms on slow\r\n ** 9.1 writes/ms on fast\r\n ** warning - this calculation shouldn't be trusted - I've done it only on one sample \r\n\r\nAs a result I've tried to pin point some slow jenkins apache hosts, but wasn't successful. I don't see the pattern. Also tried looking at jobs that run at the same time, again no luck.\r\n\r\nMaybe the next steps can be:\r\n # Trying to run this test with memory mapped files\r\n # Somehow pinning the host just for zk builds\r\n # Getting access to the box and doing better profiling\r\n # I can try writing a better version of /proc/diskstats stats collector\r\n\r\n \r\n\r\n \r\n\r\n \r\n\r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bkanivets","name":"bkanivets","key":"bkanivets","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10450","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"},"displayName":"Bogdan Kanivets","active":true,"timeZone":"America/Monterrey"},"created":"2018-07-19T06:25:01.989+0000","updated":"2018-07-19T06:25:01.989+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/comment/16548888","id":"16548888","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  GitHub Pull Request  Build\n      \n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1966//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1966//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1966//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2018-07-19T06:59:36.237+0000","updated":"2018-07-19T06:59:36.237+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/comment/16549557","id":"16549557","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"This is an odd one. I committed the PR 576, let's see if that helps at all....","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2018-07-19T17:01:10.353+0000","updated":"2018-07-19T17:01:10.353+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/comment/16549685","id":"16549685","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in Jenkins build ZooKeeper-trunk #111 (See [https://builds.apache.org/job/ZooKeeper-trunk/111/])\nZOOKEEPER-3046: increased test timeout (phunt: rev 25035f10ec188a2f3d5c29dbda4b84391eee267d)\n* (edit) src/java/test/org/apache/zookeeper/test/DisconnectedWatcherTest.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2018-07-19T18:54:21.736+0000","updated":"2018-07-19T18:54:21.736+0000"}],"maxResults":15,"total":15,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-3046/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":8,"worklogs":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/worklog/103144","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user lavacat opened a pull request:\n\n    https://github.com/apache/zookeeper/pull/523\n\n    ZOOKEEPER-3046: added junit timeout to precede 'ant' timeout\n\n    When 'ant' timeout triggers, output of the test isn't captured.\r\n    Related issue ZOOKEEPER-2916\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/lavacat/zookeeper test-timeouts\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/zookeeper/pull/523.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #523\n    \n----\ncommit 92c5a08c5a8a9f9a063faf2150e5f7086bcb9495\nAuthor: Bogdan Kanivets <bkanivets@...>\nDate:   2018-05-17T22:00:50Z\n\n    ZOOKEEPER-3046: added junit timeout to precede 'ant' timeout\n    \n    When 'ant' timeout triggers, output of the test isn't captured.\n    Related issue ZOOKEEPER-2916\n\n----\n","created":"2018-05-17T22:13:33.752+0000","updated":"2018-05-17T22:13:33.752+0000","started":"2018-05-17T22:13:33.752+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"103144","issueId":"13160172"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/worklog/103711","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user phunt commented on a diff in the pull request:\n\n    https://github.com/apache/zookeeper/pull/523#discussion_r189448291\n  \n    --- Diff: src/java/test/org/apache/zookeeper/server/quorum/StandaloneDisabledTest.java ---\n    @@ -179,6 +180,8 @@ private void startServer(int id, String config) throws Exception {\n             zkHandles[id] = ClientBase.createZKClient(\"127.0.0.1:\" + clientPorts[id]);\n             zkAdminHandles[id] = new ZooKeeperAdmin(\"127.0.0.1:\" + clientPorts[id], CONNECTION_TIMEOUT, this);\n             zkAdminHandles[id].addAuthInfo(\"digest\", \"super:test\".getBytes());\n    +        LOG.info(String.format(\"Started server id %d with config:\\n%s\\nStat output:\\n%s\",\n    +                id, config, FourLetterWordMain.send4LetterWord(\"127.0.0.1\", clientPorts[id], \"stat\")));\n    --- End diff --\n    \n    Can you separate out the 4lw call onto it's own line?\n","created":"2018-05-20T00:52:52.029+0000","updated":"2018-05-20T00:52:52.029+0000","started":"2018-05-20T00:52:52.029+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"103711","issueId":"13160172"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/worklog/104174","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/zookeeper/pull/523\n","created":"2018-05-21T18:13:48.975+0000","updated":"2018-05-21T18:13:48.975+0000","started":"2018-05-21T18:13:48.975+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"104174","issueId":"13160172"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/worklog/124821","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user lavacat opened a pull request:\n\n    https://github.com/apache/zookeeper/pull/576\n\n    ZOOKEEPER-3046: increased test timeout\n\n    - bump up timeout to avoid too many build failures\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/lavacat/zookeeper test-timeouts-3.5\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/zookeeper/pull/576.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #576\n    \n----\ncommit 40a7ca6a07fac3705342ff254f1069ba7c0b1782\nAuthor: Bogdan Kanivets <bkanivets@...>\nDate:   2018-07-19T06:37:11Z\n\n    ZOOKEEPER-3046: increased test timeout\n    \n    - bump up timeout to avoid too many build failures\n\n----\n","created":"2018-07-19T06:39:56.625+0000","updated":"2018-07-19T06:39:56.625+0000","started":"2018-07-19T06:39:56.625+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"124821","issueId":"13160172"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/worklog/124823","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user lvfangmin commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/576\n  \n    Is 3.5 taking longer time to run this test? looks like it was set to 60s in the other pull request.\n","created":"2018-07-19T06:44:38.603+0000","updated":"2018-07-19T06:44:38.603+0000","started":"2018-07-19T06:44:38.603+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"124823","issueId":"13160172"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/worklog/124834","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user lavacat commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/576\n  \n    @lvfangmin \r\n    Do you mean 10 mins (600000 ms)? That was me who set it before. The story of this is: this test was timing out sometimes under normal ant limits (15 mins). When ant kills the test it won't capture the logs, so I've set junit timeout lower. But 10 mins is too low and causes too many build failures. So bumping up to 14min. The problem of slowness still exists\n","created":"2018-07-19T07:01:44.806+0000","updated":"2018-07-19T07:01:44.806+0000","started":"2018-07-19T07:01:44.805+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"124834","issueId":"13160172"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/worklog/125113","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user asfgit closed the pull request at:\n\n    https://github.com/apache/zookeeper/pull/576\n","created":"2018-07-19T16:59:33.459+0000","updated":"2018-07-19T16:59:33.459+0000","started":"2018-07-19T16:59:33.459+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"125113","issueId":"13160172"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13160172/worklog/125115","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user phunt commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/576\n  \n    Seems worth a try, +1. Thanks @lavacat . Let's continue to keep an eye on this one.\n","created":"2018-07-19T17:00:37.557+0000","updated":"2018-07-19T17:00:37.557+0000","started":"2018-07-19T17:00:37.557+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"125115","issueId":"13160172"}]},"customfield_12311820":"0|i3tuwv:"}}