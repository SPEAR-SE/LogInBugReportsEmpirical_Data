{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12671691","self":"https://issues.apache.org/jira/rest/api/2/issue/12671691","key":"ZOOKEEPER-1774","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310801","id":"12310801","key":"ZOOKEEPER","name":"ZooKeeper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10484","id":"10484","description":"Apache ZooKeeper related","name":"ZooKeeper"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323310","id":"12323310","description":"Fix release against 3.4 branch","name":"3.4.6","archived":false,"released":true,"releaseDate":"2014-03-10"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12316644","id":"12316644","description":"Dynamic Reconfig, Remove Watches, Local Session","name":"3.5.0","archived":false,"released":true,"releaseDate":"2014-08-04"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2013-10-05T14:57:34.721+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Mar 13 18:17:00 UTC 2014","customfield_12310420":"351401","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_540828175_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2013-10-08T05:28:27.555+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-1774/watchers","watchCount":5,"isWatching":false},"created":"2013-10-01T23:14:39.408+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"2.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12323310","id":"12323310","description":"Fix release against 3.4 branch","name":"3.4.6","archived":false,"released":true,"releaseDate":"2014-03-10"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2014-03-13T18:17:00.059+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312379","id":"12312379","name":"quorum","description":"Quorum determination for ZooKeeper"},{"self":"https://issues.apache.org/jira/rest/api/2/component/12312427","id":"12312427","name":"tests","description":"For issues with test cases"}],"timeoriginalestimate":null,"description":"QuorumPeerMainTest fails consistently with \"complains about host\" assertion failure.\n\n\n{noformat}\n2013-10-01 16:09:17,962 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@54] - TEST METHOD FAILED testBadPeerAddressInQuorum\njava.lang.AssertionError: complains about host\n\tat org.junit.Assert.fail(Assert.java:91)\n\tat org.junit.Assert.assertTrue(Assert.java:43)\n\tat org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testBadPeerAddressInQuorum(QuorumPeerMainTest.java:434)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n\tat org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)\n\tat org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:48)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n\tat junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:518)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1052)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:906)\n2013-10-01 16:09:17,963 [myid:] - INFO  [main:ZKTestCase$1@65] - FAILED testBadPeerAddressInQuorum\njava.lang.AssertionError: complains about host\n\tat org.junit.Assert.fail(Assert.java:91)\n\tat org.junit.Assert.assertTrue(Assert.java:43)\n\tat org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testBadPeerAddressInQuorum(QuorumPeerMainTest.java:434)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n\tat org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)\n\tat org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:48)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n\tat junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:518)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1052)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:906)\n{noformat}","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12607314","id":"12607314","filename":"ZOOKEEPER-1774.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-08T05:25:49.337+0000","size":590,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12607314/ZOOKEEPER-1774.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12607313","id":"12607313","filename":"ZOOKEEPER-1774-b34.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-08T05:25:32.735+0000","size":594,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12607313/ZOOKEEPER-1774-b34.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"351691","customfield_12312823":null,"summary":"QuorumPeerMainTest fails consistently with \"complains about host\" assertion failure","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"Ubuntu 13.04 \n\nLinux version 3.8.0-30-generic (buildd@akateko) (gcc version 4.7.3 (Ubuntu/Linaro 4.7.3-1ubuntu1) ) #44-Ubuntu SMP Thu Aug 22 20:54:42 UTC 2013\n\njava -version\njava version \"1.6.0_45\"\nJava(TM) SE Runtime Environment (build 1.6.0_45-b06)\nJava HotSpot(TM) Server VM (build 20.45-b01, mixed mode)\n","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12671691/comment/13785667","id":"13785667","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"This fails intermittently for me. It's happening with both jdk6 (u45) and jdk7 (ju25). In both 3.4 branch and trunk.\n\nWhen it fails this is what I see in the log. afaict this means that the servers are not actually starting\n\n{noformat}\n2013-10-03 15:30:19,422 [myid:] - INFO  [main:ZKTestCase$1@50] - STARTING testBadPeerAddressInQuorum\n2013-10-03 15:30:19,422 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@50] - RUNNING TEST METHOD testBadPeerAddressInQuorum\n2013-10-03 15:30:19,423 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11245\n2013-10-03 15:30:19,423 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11246\n2013-10-03 15:30:19,423 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11247\n2013-10-03 15:30:19,423 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11248\n2013-10-03 15:30:19,423 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11249\n2013-10-03 15:30:19,423 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11250\n2013-10-03 15:30:19,423 [myid:] - INFO  [main:QuorumPeerTestBase$MainThread@64] - id = 1 tmpDir = /home/phunt/dev/svn/svn-zookeeper34/build/test/tmp/test6192936857075354198.junit.dir clientPort = 11245\n2013-10-03 15:30:19,424 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:19,425 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:19,424 [myid:] - INFO  [Thread-60:QuorumPeerConfig@103] - Reading configuration from: /home/phunt/dev/svn/svn-zookeeper34/build/test/tmp/test6192936857075354198.junit.dir/zoo.cfg\n2013-10-03 15:30:19,675 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:19,676 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:19,929 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:19,929 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:20,181 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:20,182 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:20,434 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:20,435 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:20,687 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:20,688 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:20,939 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:20,940 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:21,192 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:21,193 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:21,443 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:21,444 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:21,695 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:21,695 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:21,947 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:21,948 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:22,200 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:22,200 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:22,453 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:22,453 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:22,706 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:22,708 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:22,960 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:22,961 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:23,215 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:23,220 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:23,471 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:23,471 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:23,723 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:23,724 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:23,976 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:23,976 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:24,228 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:24,229 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:24,481 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:24,482 [myid:] - INFO  [main:ClientBase@239] - server 127.0.0.1:11245 not up java.net.ConnectException: Connection refused\n2013-10-03 15:30:24,984 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11245\n2013-10-03 15:30:24,985 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@54] - TEST METHOD FAILED testBadPeerAddressInQuorum\njava.lang.AssertionError: complains about host\n\tat org.junit.Assert.fail(Assert.java:91)\n\tat org.junit.Assert.assertTrue(Assert.java:43)\n\tat org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testBadPeerAddressInQuorum(QuorumPeerMainTest.java:434)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n\tat org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)\n\tat org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:48)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n\tat junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:518)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1052)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:906)\n2013-10-03 15:30:24,985 [myid:] - INFO  [main:ZKTestCase$1@65] - FAILED testBadPeerAddressInQuorum\njava.lang.AssertionError: complains about host\n\tat org.junit.Assert.fail(Assert.java:91)\n\tat org.junit.Assert.assertTrue(Assert.java:43)\n\tat org.apache.zookeeper.server.quorum.QuorumPeerMainTest.testBadPeerAddressInQuorum(QuorumPeerMainTest.java:434)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n\tat org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)\n\tat org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:48)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n\tat junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:518)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1052)\n\tat org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:906)\n2013-10-03 15:30:24,986 [myid:] - INFO  [main:ZKTestCase$1@55] - FINISHED testBadPeerAddressInQuorum\n{noformat}\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-03T23:12:30.470+0000","updated":"2013-10-03T23:12:30.470+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12671691/comment/13787236","id":"13787236","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"body":"It doesn't fail for me...","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"created":"2013-10-05T14:57:34.721+0000","updated":"2013-10-05T14:57:34.721+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12671691/comment/13787275","id":"13787275","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Doesn't fail on my internal CI either, seems to be related to my laptop env. Some timing issues it seems... still looking.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-05T17:24:06.779+0000","updated":"2013-10-05T17:24:06.779+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12671691/comment/13787936","id":"13787936","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=breed","name":"breed","key":"breed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benjamin Reed","active":true,"timeZone":"America/Los_Angeles"},"body":"it could be dns timeout issues. we only wait about 5 seconds for the error to happen, but your DNS setup may have timeouts longer than that. perhaps we should bump the timeout on line 404 to be more like 15 seconds.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=breed","name":"breed","key":"breed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benjamin Reed","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-07T06:05:03.925+0000","updated":"2013-10-07T06:05:03.925+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12671691/comment/13788920","id":"13788920","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Yep, that seems to be it. Thanks Ben!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-08T05:25:49.340+0000","updated":"2013-10-08T05:25:49.340+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12671691/comment/13788922","id":"13788922","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Committed to 3.4.6/trunk.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-08T05:28:27.576+0000","updated":"2013-10-08T05:28:27.576+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12671691/comment/13789111","id":"13789111","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"SUCCESS: Integrated in ZooKeeper-trunk #2082 (See [https://builds.apache.org/job/ZooKeeper-trunk/2082/])\nZOOKEEPER-1774. QuorumPeerMainTest fails consistently with complains about host\" assertion failure (phunt) (phunt: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1530157)\n* /zookeeper/trunk/CHANGES.txt\n* /zookeeper/trunk/src/java/test/org/apache/zookeeper/server/quorum/QuorumPeerMainTest.java\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2013-10-08T11:12:32.606+0000","updated":"2013-10-08T11:12:32.606+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12671691/comment/13933727","id":"13933727","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"body":"Closing issues after releasing 3.4.6.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=fpj","name":"fpj","key":"fpj","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=fpj&avatarId=16030","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fpj&avatarId=16030","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fpj&avatarId=16030","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fpj&avatarId=16030"},"displayName":"Flavio Junqueira","active":true,"timeZone":"Europe/Berlin"},"created":"2014-03-13T18:17:00.055+0000","updated":"2014-03-13T18:17:00.055+0000"}],"maxResults":8,"total":8,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-1774/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i1ol5z:"}}