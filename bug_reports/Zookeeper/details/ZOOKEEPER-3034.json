{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13157538","self":"https://issues.apache.org/jira/rest/api/2/issue/13157538","key":"ZOOKEEPER-3034","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":10200,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310801","id":"12310801","key":"ZOOKEEPER","name":"ZooKeeper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10484","id":"10484","description":"Apache ZooKeeper related","name":"ZooKeeper"}},"fixVersions":[],"aggregatetimespent":10200,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_12312322":null,"customfield_12310220":"2018-05-16T05:46:00.849+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sat Aug 11 18:00:46 UTC 2018","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_8325582235_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2018-08-11T18:01:10.734+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-3034/watchers","watchCount":2,"isWatching":false},"created":"2018-05-07T09:21:28.574+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":["pull-request-available"],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":0,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12339207","id":"12339207","description":"Fix release against 3.4 branch","name":"3.4.11","archived":false,"released":true,"releaseDate":"2017-11-09"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2018-08-11T18:01:10.803+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312383","id":"12312383","name":"build","description":"Build issues for ZooKeeper"}],"timeoriginalestimate":null,"description":"Building Zookeeper from source using below steps:\r\n\r\n{{git clone git://github.com/apache/zookeeper}}\r\n {{cd zookeeper}}\r\n {{git checkout tags/release-3.4.11}}\r\n {{ant compile}}\r\n {{cd src/c}}\r\n {{sudo apt-get install -y libcppunit-dev}}\r\n {{ACLOCAL=\"aclocal -I /usr/share/aclocal\" autoreconf -if}}\r\n {{./configure && make && sudo make install}}\r\n {{sudo make distclean}}\r\n\r\n \r\n\r\nThe 'autoreconf -if' step fails with below error:\r\n + ACLOCAL='aclocal -I /usr/share/aclocal'\r\n + autoreconf -if\r\n configure.ac:37: warning: macro 'AM_PATH_CPPUNIT' not found in library\r\n libtoolize: putting auxiliary files in '.'.\r\n libtoolize: copying file './ltmain.sh'\r\n libtoolize: Consider adding 'AC_CONFIG_MACRO_DIRS([m4])' to configure.ac,\r\n libtoolize: and rerunning libtoolize and aclocal.\r\n libtoolize: Consider adding '-I m4' to ACLOCAL_AMFLAGS in Makefile.am.\r\n configure.ac:37: warning: macro 'AM_PATH_CPPUNIT' not found in library\r\n configure.ac:37: error: possibly undefined macro: AM_PATH_CPPUNIT\r\n If this token and others are legitimate, please use m4_pattern_allow.\r\n See the Autoconf documentation.\r\n autoreconf: /usr/bin/autoconf failed with exit status: 1\r\n Build step 'Execute shell' marked build as failure\r\n  \r\n\r\nThis is happening on Ubuntu 18.04. Can someone please help in resolving this error?","customfield_10010":null,"timetracking":{"remainingEstimate":"0h","timeSpent":"2h 50m","remainingEstimateSeconds":0,"timeSpentSeconds":10200},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":0,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Facing issues while building from source","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhavenamrata","name":"bhavenamrata","key":"bhavenamrata","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namrata Bhave","active":true,"timeZone":"Asia/Kolkata"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhavenamrata","name":"bhavenamrata","key":"bhavenamrata","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namrata Bhave","active":true,"timeZone":"Asia/Kolkata"},"customfield_12310290":null,"aggregateprogress":{"progress":10200,"total":10200,"percent":100},"customfield_12311024":null,"environment":"Linux x86_64, Ubuntu 18.04, Ubuntu 17.10.","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":10200,"total":10200,"percent":100},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/comment/16476829","id":"16476829","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhavenamrata","name":"bhavenamrata","key":"bhavenamrata","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namrata Bhave","active":true,"timeZone":"Asia/Kolkata"},"body":"Can someone look into this issue?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhavenamrata","name":"bhavenamrata","key":"bhavenamrata","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namrata Bhave","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-05-16T04:49:01.978+0000","updated":"2018-05-16T04:49:01.978+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/comment/16476874","id":"16476874","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"body":"Hi [~bhavenamrata], thanks for reporting the issue.\r\n\r\nUbuntu 18.04 is quite recent, I have some doubts about anyone has ever tried to to build ZooKeeper C++ unit tests since it's out, but given that it's an LTS release, we should start looking into it.\r\n\r\nThe error message is complaing about AM_PATH_CPPUNIT macro is missing. Have you installed any *cppunit* related package?\r\n\r\nIs there a cppunit package available in Ubuntu 18.04 at all? I think it's quite an old tool and not actively maintained, maybe it has been removed from the distro.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"created":"2018-05-16T05:46:00.849+0000","updated":"2018-05-16T05:46:00.849+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/comment/16476880","id":"16476880","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"body":"Sorry, I missed your apt-get command.\r\n\r\nSo, libcppunit-dev is available and installed, maybe it's just the build process who's unable to find it and can be fixed by symlinking it to the right place. Need to look into it deeper.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"created":"2018-05-16T05:48:36.299+0000","updated":"2018-05-16T05:48:36.299+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/comment/16482455","id":"16482455","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhavenamrata","name":"bhavenamrata","key":"bhavenamrata","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namrata Bhave","active":true,"timeZone":"Asia/Kolkata"},"body":"[~andorm], the error is due to missing cppunit.m4 file. It was present in Ubuntu 16.04 but seems to be missing in Ubuntu 18.04.\r\n\r\nIs Zookeeper supported on Ubuntu 18.04 as of now?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhavenamrata","name":"bhavenamrata","key":"bhavenamrata","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namrata Bhave","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-05-21T12:32:53.313+0000","updated":"2018-05-21T12:32:53.313+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/comment/16484486","id":"16484486","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"body":"[~bhavenamrata] No, unfortunately we still don't support Ubuntu 18.04 officially. However, that was a good catch actually. I wonder how we could get round this problem, cppunit is an essential part of C++ testing code currently.\r\n\r\nOne thing you could potentially try is to compare the recent package version with the one in 16.04 and if it's reasonable get a copy of the missing file from the older package.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"created":"2018-05-22T20:05:53.656+0000","updated":"2018-05-22T20:05:53.656+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/comment/16486699","id":"16486699","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"body":"[~bhavenamrata] Please verify my patch [https://github.com/apache/zookeeper/pull/528]\r\n\r\nI wonder if we need to polish it any further or it'd be just enough to support 18.04.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"created":"2018-05-23T04:45:13.450+0000","updated":"2018-05-23T04:45:13.450+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/comment/16486709","id":"16486709","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  GitHub Pull Request  Build\n      \n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +0 tests included.  The patch appears to be a documentation patch that doesn't require tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1730//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1730//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1730//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2018-05-23T05:02:43.970+0000","updated":"2018-05-23T05:02:43.970+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/comment/16486814","id":"16486814","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhavenamrata","name":"bhavenamrata","key":"bhavenamrata","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namrata Bhave","active":true,"timeZone":"Asia/Kolkata"},"body":"[~andorm], verified your patch. Build/tests completed.\r\n\r\nLooks like its good enough for Ubuntu 18.04.\r\n\r\n \r\n\r\nThank you for the help :)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhavenamrata","name":"bhavenamrata","key":"bhavenamrata","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namrata Bhave","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-05-23T07:02:53.319+0000","updated":"2018-05-23T07:02:53.319+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/comment/16488910","id":"16488910","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"body":"[~bhavenamrata] No probs.\r\n\r\nAre u able to compile and run tests on Ubuntu 18.04? I got the following error message:\r\n\r\n \r\n{noformat}\r\n[exec] /bin/bash ./libtool --tag=CC --mode=compile gcc -DHAVE_CONFIG_H -I. -I/home/andor/git/my-zookeeper/src/c -I/home/andor/git/my-zookeeper/src/c/include -I/home/andor/git/my-zookeeper/src/c/tests -I/home/andor/git/my-zookeeper/src/c/generated -Wall -Werror -Wdeclaration-after-statement -g -O2 -D_GNU_SOURCE -MT zookeeper.lo -MD -MP -MF .deps/zookeeper.Tpo -c -o zookeeper.lo `test -f 'src/zookeeper.c' || echo '/home/andor/git/my-zookeeper/src/c/'`src/zookeeper.c\r\n[exec] /home/andor/git/my-zookeeper/src/c/src/zookeeper.c: In function ‘print_completion_queue’:\r\n[exec] /home/andor/git/my-zookeeper/src/c/src/zookeeper.c:2530:5: error: null argument where non-null required (argument 1) [-Werror=nonnull]\r\n[exec] fprintf(LOGSTREAM,\"Completion queue: \");\r\n[exec] ^~~~~~~\r\n[exec] /home/andor/git/my-zookeeper/src/c/src/zookeeper.c:2532:9: error: null argument where non-null required (argument 1) [-Werror=nonnull]\r\n[exec] fprintf(LOGSTREAM,\"empty\\n\");\r\n[exec] ^~~~~~~\r\n[exec] /home/andor/git/my-zookeeper/src/c/src/zookeeper.c:2538:9: error: null argument where non-null required (argument 1) [-Werror=nonnull]\r\n[exec] fprintf(LOGSTREAM,\"%d,\",cptr->xid);\r\n[exec] ^~~~~~~\r\n[exec] /home/andor/git/my-zookeeper/src/c/src/zookeeper.c:2541:5: error: null argument where non-null required (argument 1) [-Werror=nonnull]\r\n[exec] fprintf(LOGSTREAM,\"end\\n\");\r\n[exec] ^~~~~~~\r\n[exec] libtool: compile: gcc -DHAVE_CONFIG_H -I. -I/home/andor/git/my-zookeeper/src/c -I/home/andor/git/my-zookeeper/src/c/include -I/home/andor/git/my-zookeeper/src/c/tests -I/home/andor/git/my-zookeeper/src/c/generated -Wall -Werror -Wdeclaration-after-statement -g -O2 -D_GNU_SOURCE -MT zookeeper.lo -MD -MP -MF .deps/zookeeper.Tpo -c /home/andor/git/my-zookeeper/src/c/src/zookeeper.c -fPIC -DPIC -o .libs/zookeeper.o\r\n[exec] Makefile:1030: recipe for target 'zookeeper.lo' failed\r\n[exec] cc1: all warnings being treated as errors\r\n[exec] make: *** [zookeeper.lo] Error 1\r\n{noformat}\r\n{panel:title=GCC version}\r\n$ gcc --version\r\ngcc (Ubuntu 7.3.0-16ubuntu3) 7.3.0\r\n{panel}\r\nLooks like there's some additional plumbing work needed to fully support 18.04\r\n\r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"created":"2018-05-24T12:41:25.774+0000","updated":"2018-05-24T12:41:25.774+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/comment/16488921","id":"16488921","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhavenamrata","name":"bhavenamrata","key":"bhavenamrata","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namrata Bhave","active":true,"timeZone":"Asia/Kolkata"},"body":"[~andorm], I had tried your patch from PR in older version of Zookeeper(3.4.11, which is the version of my interest) where it worked. I can try it out on master once.\r\n\r\n ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhavenamrata","name":"bhavenamrata","key":"bhavenamrata","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namrata Bhave","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-05-24T12:47:34.124+0000","updated":"2018-05-24T12:47:34.124+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/comment/16488940","id":"16488940","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"body":"[~bhavenamrata] That would be useful, thanks. I'm working on the master branch at the first place.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"created":"2018-05-24T12:55:17.192+0000","updated":"2018-05-24T12:55:17.192+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/comment/16489772","id":"16489772","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  GitHub Pull Request  Build\n      \n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 1 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    -1 core tests.  The patch failed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1753//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1753//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1753//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2018-05-24T20:41:40.428+0000","updated":"2018-05-24T20:41:40.428+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/comment/16489836","id":"16489836","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  GitHub Pull Request  Build\n      \n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 1 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1754//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1754//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1754//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2018-05-24T21:29:19.617+0000","updated":"2018-05-24T21:29:19.617+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/comment/16490383","id":"16490383","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhavenamrata","name":"bhavenamrata","key":"bhavenamrata","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namrata Bhave","active":true,"timeZone":"Asia/Kolkata"},"body":"Master failing for me too :\r\n{quote}{{$ make}}\r\n{{make  all-am}}\r\n{{make[1]: Entering directory '/root/zoo_master/zookeeper/src/c'}}\r\n{{/bin/bash ./libtool  --tag=CC   --mode=compile gcc -DHAVE_CONFIG_H -I.  -I./include -I./tests -I./generated   -Wall -Werror -Wdeclaration-after-statement -g -O2 -D_GNU_SOURCE -MT zookeeper.lo -MD -MP -MF .deps/zookeeper.Tpo -c -o zookeeper.lo `test -f 'src/zookeeper.c' || echo './'`src/zookeeper.c}}\r\n{{libtool: compile:  gcc -DHAVE_CONFIG_H -I. -I./include -I./tests -I./generated -Wall -Werror -Wdeclaration-after-statement -g -O2 -D_GNU_SOURCE -MT zookeeper.lo -MD -MP -MF .deps/zookeeper.Tpo -c src/zookeeper.c  -fPIC -DPIC -o .libs/zookeeper.o}}\r\n{{src/zookeeper.c: In function 'print_completion_queue':}}\r\n{{src/zookeeper.c:2530:5: error: null argument where non-null required (argument 1) [-Werror=nonnull]}}\r\n{{     fprintf(LOGSTREAM,\"Completion queue: \");}}\r\n{{     ^~~~~~~}}\r\n{{src/zookeeper.c:2532:9: error: null argument where non-null required (argument 1) [-Werror=nonnull]}}\r\n{{         fprintf(LOGSTREAM,\"empty\\n\");}}\r\n{{         ^~~~~~~}}\r\n{{src/zookeeper.c:2538:9: error: null argument where non-null required (argument 1) [-Werror=nonnull]}}\r\n{{         fprintf(LOGSTREAM,\"%d,\",cptr->xid);}}\r\n{{         ^~~~~~~}}\r\n{{src/zookeeper.c:2541:5: error: null argument where non-null required (argument 1) [-Werror=nonnull]}}\r\n{{     fprintf(LOGSTREAM,\"end\\n\");}}\r\n{{     ^~~~~~~}}\r\n{{cc1: all warnings being treated as errors}}\r\n{{Makefile:1026: recipe for target 'zookeeper.lo' failed}}\r\n{{make[1]: *** [zookeeper.lo] Error 1}}\r\n{{make[1]: Leaving directory '/root/zoo_master/zookeeper/src/c'}}\r\n{{Makefile:685: recipe for target 'all' failed}}\r\n{{make: *** [all] Error 2}}{quote}","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=bhavenamrata","name":"bhavenamrata","key":"bhavenamrata","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Namrata Bhave","active":true,"timeZone":"Asia/Kolkata"},"created":"2018-05-25T08:07:21.046+0000","updated":"2018-05-25T08:07:21.046+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/comment/16494995","id":"16494995","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  GitHub Pull Request  Build\n      \n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 1 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1767//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1767//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1767//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2018-05-30T10:44:49.960+0000","updated":"2018-05-30T10:44:49.960+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/comment/16577262","id":"16577262","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"body":"[~bhavenamrata]\r\n\r\nI've verified that ZooKeeper C client can be built with CMake on Ubuntu 18.04. I successfully compiled and ran the C++ unit tests too.\r\n\r\nAs a consequence I close the pull request and this Jira as won't fix, because we don't need to maintain the legacy Autoconf.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=andorm","name":"andorm","key":"andorm","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"},"displayName":"Andor Molnar","active":true,"timeZone":"Europe/Budapest"},"created":"2018-08-11T18:00:46.636+0000","updated":"2018-08-11T18:00:46.636+0000"}],"maxResults":16,"total":16,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-3034/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":17,"worklogs":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/worklog/104977","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"GitHub user anmolnar opened a pull request:\n\n    https://github.com/apache/zookeeper/pull/528\n\n    ZOOKEEPER-3034 Facing issues while building from source\n\n    Unable to compile C++ test on Ubuntu 17.10+ because libcppunit-dev package doesn't ship the aclocal macro `cppunit.m4` anymore. I added explicitly to our codebase and made some necessary changes in configure.ac and Makefile.am.\r\n    \r\n    Please review.\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/anmolnar/zookeeper ZOOKEEPER-3034\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/zookeeper/pull/528.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #528\n    \n----\ncommit e97c5c1295ff43cfac93f957a888f7795766ee60\nAuthor: Andor Molnar <dolphy17@...>\nDate:   2018-05-23T04:39:31Z\n\n    ZOOKEEPER-3034. Added cppunit.m4, because from libcppunit-dev package doesn't ship from 1.14.0\n\n----\n","created":"2018-05-23T04:42:57.007+0000","updated":"2018-05-23T04:42:57.007+0000","started":"2018-05-23T04:42:57.006+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"104977","issueId":"13157538"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/worklog/105076","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user anmolnar commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/528\n  \n    Raised the question on libreoffice mailing list and from libcppunit-1.14.0 the recommended way to configure build flags is using `pkg-config`.\r\n    I'm working on a patch to address this and will test it on CentOS 7 and Ubuntu 18.04. If both works fine, we could go forward with it.\n","created":"2018-05-23T12:00:01.922+0000","updated":"2018-05-23T12:00:01.922+0000","started":"2018-05-23T12:00:01.921+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"105076","issueId":"13157538"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/worklog/105733","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user anmolnar commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/528\n  \n    Using pkg-config in the latest patch.\r\n    I also removed unused method `print_completion_queue()`, because it doesn't compile under Ubuntu 18.04\r\n    @rgs1 Would you care to take a look?\r\n\n","created":"2018-05-24T21:34:51.374+0000","updated":"2018-05-24T21:34:51.374+0000","started":"2018-05-24T21:34:51.374+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"105733","issueId":"13157538"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/worklog/106446","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user anmolnar commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/528\n  \n    @phunt @afine @hanm You guys might want to take a quick look at this in @rgs1 absence. It's kind of an infrastructural change only and would be useful in the long term.\n","created":"2018-05-29T04:02:01.043+0000","updated":"2018-05-29T04:02:01.043+0000","started":"2018-05-29T04:02:01.043+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"106446","issueId":"13157538"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/worklog/106951","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user phunt commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/528\n  \n    Seems like it breaks ubuntu 14.04 (not sure what else, that's what I tried). This is working fine w/o the patch:\r\n    \r\n    ----\r\n    ./configure\r\n    checking for doxygen... no\r\n    checking for perl... /usr/bin/perl\r\n    checking for dot... no\r\n    checking for a BSD-compatible install... /usr/bin/install -c\r\n    checking whether build environment is sane... yes\r\n    checking for a thread-safe mkdir -p... /bin/mkdir -p\r\n    checking for gawk... no\r\n    checking for mawk... mawk\r\n    checking whether make sets $(MAKE)... yes\r\n    checking whether make supports nested variables... yes\r\n    ./configure: line 5034: syntax error near unexpected token `CPPUNIT,'\r\n    ./configure: line 5034: `    PKG_CHECK_MODULES_STATIC(CPPUNIT, cppunit >= 1.10.2)'\n","created":"2018-05-29T23:54:56.498+0000","updated":"2018-05-29T23:54:56.498+0000","started":"2018-05-29T23:54:56.497+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"106951","issueId":"13157538"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/worklog/106952","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user phunt commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/528\n  \n    ps. you can try using my repos, makes it easy to try out various envs:\r\n    https://hub.docker.com/r/phunt/\r\n    See the readme on how to run - I typically map my zk source directory into the container directly to aid in testing.\r\n    \r\n    these images have cppunit installed - you can use the package manager to uninstall them if you want to test with and without --without-cppunit\n","created":"2018-05-29T23:57:07.099+0000","updated":"2018-05-29T23:57:07.099+0000","started":"2018-05-29T23:57:07.098+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"106952","issueId":"13157538"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/worklog/107091","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user anmolnar commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/528\n  \n    Yeah, I see what the problem is: `pkg-config` package has to be installed, but there's another problem with the version that is shipped with 14.04: it doesn't have `PKG_CHECK_MODULES_STATIC` macro, because it has been added in a more recent version according to this bug:\r\n    https://bugs.freedesktop.org/show_bug.cgi?id=19541\r\n    \r\n    Adding the definition of the macro to our `configure.ac` script solves the problem, but I don't want it to be effective if recent version of pkg-config is in use. Trying to add it as a conditional, but my autoconf knowledge doesn't seem to be enough here. Still looking.\n","created":"2018-05-30T09:59:06.451+0000","updated":"2018-05-30T09:59:06.451+0000","started":"2018-05-30T09:59:06.450+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"107091","issueId":"13157538"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/worklog/107103","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user anmolnar commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/528\n  \n    @phunt I ended up defining a custom macro to support static linking. Now the script works with older versions of `pkg-config` too.\n","created":"2018-05-30T10:24:52.154+0000","updated":"2018-05-30T10:24:52.154+0000","started":"2018-05-30T10:24:52.154+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"107103","issueId":"13157538"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/worklog/107799","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user phunt commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/528\n  \n    I'm afraid it still doesn't work for me. This is ubuntu 14.04 - the docker image I pointed to previously.\r\n    \r\n    ----\r\n    # ./configure\r\n    checking for doxygen... no\r\n    checking for perl... /usr/bin/perl\r\n    checking for dot... no\r\n    checking for a BSD-compatible install... /usr/bin/install -c\r\n    checking whether build environment is sane... yes\r\n    checking for a thread-safe mkdir -p... /bin/mkdir -p\r\n    checking for gawk... no\r\n    checking for mawk... mawk\r\n    checking whether make sets $(MAKE)... yes\r\n    checking whether make supports nested variables... yes\r\n    ./configure: line 5034: PKG_PROG_PKG_CONFIG: command not found\r\n    ./configure: line 5039: syntax error near unexpected token `CPPUNIT,'\r\n    ./configure: line 5039: `        PKG_CHECK_MODULES(CPPUNIT, cppunit >= 1.10.2, , , )'\r\n    \r\n    \r\n    ----\r\n    \r\n    I also see all kinds of warnings popping up:\r\n    \r\n    # autoreconf -if\r\n    configure.ac:39: warning: PKG_PROG_PKG_CONFIG is m4_require'd but not m4_defun'd\r\n    configure.ac:28: ZK_PKG_CONFIG_STATIC is expanded from...\r\n    ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...\r\n    configure.ac:39: the top level\r\n    configure.ac:39: warning: PKG_PROG_PKG_CONFIG is m4_require'd but not m4_defun'd\r\n    configure.ac:28: ZK_PKG_CONFIG_STATIC is expanded from...\r\n    ../../lib/m4sugar/m4sh.m4:639: AS_IF is expanded from...\r\n    configure.ac:39: the top level\r\n    libtoolize: putting auxiliary files in `.'.\r\n    libtoolize: copying file `./ltmain.sh'\r\n    libtoolize: Consider adding `AC_CONFIG_MACRO_DIR([m4])' to configure.ac and\r\n    libtoolize: rerunning libtoolize, to keep the correct libtool macros in-tree.\r\n    libtoolize: Consider adding `-I m4' to ACLOCAL_AMFLAGS in Makefile.am.\n","created":"2018-05-31T18:15:00.422+0000","updated":"2018-05-31T18:15:00.422+0000","started":"2018-05-31T18:15:00.421+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"107799","issueId":"13157538"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/worklog/107839","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user anmolnar commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/528\n  \n    @phunt have you installed `pkg-config`?\r\n    Because your Ubuntu image doesn't include it.\n","created":"2018-05-31T19:22:46.864+0000","updated":"2018-05-31T19:22:46.864+0000","started":"2018-05-31T19:22:46.864+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"107839","issueId":"13157538"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/worklog/107880","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user phunt commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/528\n  \n    Hm. It's not very clear that\r\n    \r\n    > ./configure: line 5034: PKG_PROG_PKG_CONFIG: command not found\r\n    \r\n    means that pkg-config needs to be installed. Esp given we've never needed it - it's a new dependency.\r\n    \r\n    Here's an example of some pushback in the curl community https://github.com/curl/curl/issues/972\r\n    \r\n    If you do want to add this you probably need to add something like:\r\n    \r\n    ```\r\n    m4_ifndef([PKG_PROG_PKG_CONFIG],\r\n      [m4_fatal([Could not locate the pkg-config autoconf macros.\r\n    Please make sure pkg-config is installed and, if necessary, set the environment\r\n    variable ACLOCAL=\"aclocal -I/path/to/pkg.m4\".])])\r\n    ```\r\n    \r\n    although I'm honestly not very psyched about this change. It's going to break a bunch of folk's builds.\r\n\n","created":"2018-05-31T20:56:26.501+0000","updated":"2018-05-31T20:56:26.501+0000","started":"2018-05-31T20:56:26.500+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"107880","issueId":"13157538"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/worklog/107884","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user phunt commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/528\n  \n    Perhaps we could do this? -- check if the cppunit macro is defined, if not then check for pkg-config, if not then error out (or whatever we do today). otw use the first macro/approach available.\n","created":"2018-05-31T21:13:24.028+0000","updated":"2018-05-31T21:13:24.028+0000","started":"2018-05-31T21:13:24.027+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"107884","issueId":"13157538"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/worklog/107922","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user phunt commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/528\n  \n    Hm. iiuc the m4 checks are during configure script creation itself, so perhaps that's not the best idea either. :-(\r\n    \r\n\n","created":"2018-05-31T22:47:27.366+0000","updated":"2018-05-31T22:47:27.366+0000","started":"2018-05-31T22:47:27.365+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"107922","issueId":"13157538"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/worklog/107974","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user anmolnar commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/528\n  \n    I had no luck with verifying a specific macro existence for some reason. I'm not sure if there's a way at all. Maybe I should check how other projects are dealing with similar problems.\r\n    \r\n    On the other hand, it's up to us whether we want to support `cppunit` 1.14.0 and move to `pkg-config` or stay on m4 which means folks won't be able to build ZooKeeper on recent distros. \n","created":"2018-06-01T04:13:02.275+0000","updated":"2018-06-01T04:13:02.275+0000","started":"2018-06-01T04:13:02.274+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"107974","issueId":"13157538"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/worklog/132348","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user anmolnar commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/528\n  \n    @phunt I ran a few cycles with the curl commit that you linked and here're my results:\r\n    \r\n    - there's no such thing with autotools that \"check for a macro existence and use it if present\", because macros must always be extracted even if they behind an if condition,\r\n    - Curl circumvents this behaviour by directly calling commands like `pkg-config --libs MYLIB` instead of using the macro that package maintainer provides,\r\n    - as a consequence we either can use the old AM_PATH_CPPUNIT macro or the new pkg-config macro, but not both.\r\n    \r\n    I'm not a fan of Curl approach: it runs custom code essentially which seems to me fragile.\r\n    \r\n    To make an end to this conversion I think we have 2 options.\r\n    1. Replace the old macro with the new one and commit it to trunk only --> we stop supporting the old way from 3.6.0 and pkg-config will be required. Reward: ZK builds on new systems like Ubuntu 18.04.\r\n    2. Don't do anything. \n","created":"2018-08-08T12:42:47.681+0000","updated":"2018-08-08T12:42:47.681+0000","started":"2018-08-08T12:42:47.681+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"132348","issueId":"13157538"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/worklog/132379","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user anmolnar commented on the issue:\n\n    https://github.com/apache/zookeeper/pull/528\n  \n    Btw. I think it's perfectly fine to choose option 2.\r\n    I was able to build ZooKeeper C client and run the tests on Ubuntu 18.04 with CMake.\n","created":"2018-08-08T13:50:07.470+0000","updated":"2018-08-08T13:50:07.470+0000","started":"2018-08-08T13:50:07.469+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"132379","issueId":"13157538"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13157538/worklog/133953","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=githubbot","name":"githubbot","key":"githubbot","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"ASF GitHub Bot","active":true,"timeZone":"Etc/UTC"},"comment":"Github user anmolnar closed the pull request at:\n\n    https://github.com/apache/zookeeper/pull/528\n","created":"2018-08-11T18:00:56.178+0000","updated":"2018-08-11T18:00:56.178+0000","started":"2018-08-11T18:00:56.177+0000","timeSpent":"10m","timeSpentSeconds":600,"id":"133953","issueId":"13157538"}]},"customfield_12311820":"0|i3teq7:"}}