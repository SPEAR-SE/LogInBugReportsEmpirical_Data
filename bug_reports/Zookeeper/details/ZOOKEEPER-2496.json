{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12993879","self":"https://issues.apache.org/jira/rest/api/2/issue/12993879","key":"ZOOKEEPER-2496","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310801","id":"12310801","key":"ZOOKEEPER","name":"ZooKeeper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10484","id":"10484","description":"Apache ZooKeeper related","name":"ZooKeeper"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2016-09-14T12:49:20.375+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Sep 27 12:24:08 UTC 2016","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-2496/watchers","watchCount":6,"isWatching":false},"created":"2016-08-01T07:52:39.807+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"1.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326517","id":"12326517","description":"Fix release against 3.4 branch","name":"3.4.8","archived":false,"released":true,"releaseDate":"2016-02-22"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12326786","id":"12326786","description":"Alpha release against 3.5 branch","name":"3.5.1","archived":false,"released":true,"releaseDate":"2015-09-02"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-09-27T12:24:08.347+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"description":"If a client tries to execute some illegal operations inside a transaction, ZooKeeper throws an exception.\n\nSome exceptions such as NodeExistsException should have a path to indicate where the exception occurred.\nZooKeeper clients can get the path by calling method getPath.\nHowever, this method returns null if the exception occurs inside a transaction.\nFor example, when a client calls create /a and create /a in a transaction,\nZooKeeper throws NodeExistsException but getPath returns null.\nIn normal operation (outside transactions), the path information is set correctly.\nThe patch only shows this bug occurs with NoNode exception and NodeExists exception,\nbut this bug seems to occur with any exception which needs a path information:\nWhen an error occurred in a transaction, ZooKeeper creates an ErrorResult instance to represent error result.\n\nHowever, the ErrorResult class doesn't have a field for a path where an error occurred(See src/java/main/org/apache/zookeeper/OpResult.java for more details).","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12821283","id":"12821283","filename":"transactionException.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kazuakibanzai","name":"kazuakibanzai","key":"kazuakibanzai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kazuaki Banzai","active":true,"timeZone":"Etc/UTC"},"created":"2016-08-01T07:53:53.888+0000","size":4238,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12821283/transactionException.patch"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"When inside a transaction, some exceptions do not have path information set.","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kazuakibanzai","name":"kazuakibanzai","key":"kazuakibanzai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kazuaki Banzai","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kazuakibanzai","name":"kazuakibanzai","key":"kazuakibanzai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kazuaki Banzai","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12993879/comment/15401677","id":"15401677","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kazuakibanzai","name":"kazuakibanzai","key":"kazuakibanzai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kazuaki Banzai","active":true,"timeZone":"Etc/UTC"},"body":"This patch doesn't fix the bug.\nIt includes a unit test only.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kazuakibanzai","name":"kazuakibanzai","key":"kazuakibanzai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kazuaki Banzai","active":true,"timeZone":"Etc/UTC"},"created":"2016-08-01T07:53:53.895+0000","updated":"2016-08-01T07:53:53.895+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12993879/comment/15490208","id":"15490208","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kazuakibanzai","name":"kazuakibanzai","key":"kazuakibanzai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kazuaki Banzai","active":true,"timeZone":"Etc/UTC"},"body":"In the callback of asynchronous multi, there is no way to get the path of the exception.\nIs it also a bug?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kazuakibanzai","name":"kazuakibanzai","key":"kazuakibanzai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kazuaki Banzai","active":true,"timeZone":"Etc/UTC"},"created":"2016-09-14T11:39:02.587+0000","updated":"2016-09-14T11:39:02.587+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12993879/comment/15490356","id":"15490356","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eribeiro","name":"eribeiro","key":"eribeiro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eribeiro&avatarId=16169","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eribeiro&avatarId=16169","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eribeiro&avatarId=16169","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eribeiro&avatarId=16169"},"displayName":"Edward Ribeiro","active":true,"timeZone":"America/Sao_Paulo"},"body":"Hey [~kazuakibanzai], could you please confirm if this issue is not a duplicate of https://issues.apache.org/jira/browse/ZOOKEEPER-2276 ?\n\nThanks\n\nupdate: /cc [~arshad.mohammad]","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eribeiro","name":"eribeiro","key":"eribeiro","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eribeiro&avatarId=16169","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eribeiro&avatarId=16169","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eribeiro&avatarId=16169","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eribeiro&avatarId=16169"},"displayName":"Edward Ribeiro","active":true,"timeZone":"America/Sao_Paulo"},"created":"2016-09-14T12:49:20.375+0000","updated":"2016-09-21T19:43:51.258+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12993879/comment/15513124","id":"15513124","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Telcontar","name":"Telcontar","key":"telcontar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cyrille Artho","active":true,"timeZone":"Etc/UTC"},"body":"Looks like the same bug to me.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Telcontar","name":"Telcontar","key":"telcontar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cyrille Artho","active":true,"timeZone":"Etc/UTC"},"created":"2016-09-22T12:16:18.625+0000","updated":"2016-09-22T12:16:18.625+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12993879/comment/15516095","id":"15516095","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kazuakibanzai","name":"kazuakibanzai","key":"kazuakibanzai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kazuaki Banzai","active":true,"timeZone":"Etc/UTC"},"body":"[~eribeiro] Thank you for replying.\nIt is the same bug.\nI applied the patch (https://issues.apache.org/jira/browse/ZOOKEEPER-2276) on zookeeper-3.5.0, and it passed the TransactionExceptionTest.\nHowever, it didn't pass the MultiTransactionTest.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kazuakibanzai","name":"kazuakibanzai","key":"kazuakibanzai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kazuaki Banzai","active":true,"timeZone":"Etc/UTC"},"created":"2016-09-23T10:42:32.150+0000","updated":"2016-09-23T10:42:32.150+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12993879/comment/15516107","id":"15516107","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Telcontar","name":"Telcontar","key":"telcontar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cyrille Artho","active":true,"timeZone":"Etc/UTC"},"body":"Dear Banzai-san,\nThank you for commenting on that issue.\n\nIs the following correct?\n\n* Issue 2276 reports and fixes one variant of the bug.\n\n* Our issue (2496) covers both variants and includes a test for them, but \nno fix.\n\nKey: ZOOKEEPER-2496\n\n-- \nRegards,\nCyrille Artho - http://artho.com/\nYouth -- not a time of life but a state of mind... a predominance of\ncourage over timidity, of the appetite for adventure over the love of ease.\n\t\t-- Robert F. Kennedy\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Telcontar","name":"Telcontar","key":"telcontar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cyrille Artho","active":true,"timeZone":"Etc/UTC"},"created":"2016-09-23T10:49:40.800+0000","updated":"2016-09-23T10:49:40.800+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12993879/comment/15516125","id":"15516125","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kazuakibanzai","name":"kazuakibanzai","key":"kazuakibanzai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kazuaki Banzai","active":true,"timeZone":"Etc/UTC"},"body":"Dear Mr.Artho,\n> Is the following correct?\n>  Issue 2276 reports and fixes one variant of the bug.\n>  Our issue (2496) covers both variants and includes a test for them, but\n>  no fix.\nYes it is.\n(Issue 2276 fixes the sync multi bug only.\nThe async version is not fixed.)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kazuakibanzai","name":"kazuakibanzai","key":"kazuakibanzai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kazuaki Banzai","active":true,"timeZone":"Etc/UTC"},"created":"2016-09-23T11:01:43.696+0000","updated":"2016-09-23T11:01:43.696+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12993879/comment/15516289","id":"15516289","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arshad.mohammad","name":"arshad.mohammad","key":"arshad.mohammad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Mohammad Arshad","active":true,"timeZone":"Asia/Singapore"},"body":"Thanks [~kazuakibanzai] for the feeback on ZOOKEEPER-2276.\nIf you have already fixed both scenarios you mentioned I can assign you ZOOKEEPER-2276, may be you can submit patch there or here in this jira.\nOtherwise i will submit new patch for ZOOKEEPER-2276 soon.\n","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arshad.mohammad","name":"arshad.mohammad","key":"arshad.mohammad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Mohammad Arshad","active":true,"timeZone":"Asia/Singapore"},"created":"2016-09-23T12:19:37.953+0000","updated":"2016-09-23T12:19:37.953+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12993879/comment/15518596","id":"15518596","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arshad.mohammad","name":"arshad.mohammad","key":"arshad.mohammad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Mohammad Arshad","active":true,"timeZone":"Asia/Singapore"},"body":"Async multi API does process the result and also it does not throw exception. Result is processed in the callback handler\nI think the logic to find path of failed operation should be written in the callback handler.\nAny thought?\nI am just re-basing the ZOOKEEPER-2276 patch","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=arshad.mohammad","name":"arshad.mohammad","key":"arshad.mohammad","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10443","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"},"displayName":"Mohammad Arshad","active":true,"timeZone":"Asia/Singapore"},"created":"2016-09-24T07:22:02.551+0000","updated":"2016-09-24T07:46:53.480+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12993879/comment/15522321","id":"15522321","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Telcontar","name":"Telcontar","key":"telcontar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cyrille Artho","active":true,"timeZone":"Etc/UTC"},"body":"For a unit test, yes, the check on whether the path returned by the exception (or rather, the return code indicating there was one) has to be checked by the callback handler.\n\nOur path for ZOOKEEPER-2496 from 2016-08-01 does not include a test for asynchronous multi. Such a test would be welcome.\n\nIn ZooKeeper itself, it is of course preferable if the missing path info can be fixed in one place (same fix for sync and async). I have not checked the source in detail, but I would only fix this in two places (separate fix for sync and async) if there is no other way. Otherwise we have partial code duplication that may lead to future changes not being applied consistently in both cases.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=Telcontar","name":"Telcontar","key":"telcontar","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Cyrille Artho","active":true,"timeZone":"Etc/UTC"},"created":"2016-09-26T07:21:48.543+0000","updated":"2016-09-26T07:21:48.543+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12993879/comment/15525954","id":"15525954","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kazuakibanzai","name":"kazuakibanzai","key":"kazuakibanzai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kazuaki Banzai","active":true,"timeZone":"Etc/UTC"},"body":"Thanks [~arshad.mohammad] for uploading the path.\nI added a test for async multi and its fix to your patch.\nUnfortunately, I couldn't fix this bug in the same place(the fix is in ClientCnxn.processEvent).\nFor future changes, I added a comment to ZooKeeper.multiInternal. ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=kazuakibanzai","name":"kazuakibanzai","key":"kazuakibanzai","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Kazuaki Banzai","active":true,"timeZone":"Etc/UTC"},"created":"2016-09-27T12:24:08.347+0000","updated":"2016-09-27T12:24:08.347+0000"}],"maxResults":11,"total":11,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-2496/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i31qfr:"}}