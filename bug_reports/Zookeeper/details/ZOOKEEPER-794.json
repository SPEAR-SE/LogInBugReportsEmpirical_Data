{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12467962","self":"https://issues.apache.org/jira/rest/api/2/issue/12467962","key":"ZOOKEEPER-794","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310801","id":"12310801","key":"ZOOKEEPER","name":"ZooKeeper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10484","id":"10484","description":"Apache ZooKeeper related","name":"ZooKeeper"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12315108","id":"12315108","description":"Fix release against 3.3 branch","name":"3.3.2","archived":false,"released":true,"releaseDate":"2010-11-11"},{"self":"https://issues.apache.org/jira/rest/api/2/version/12314469","id":"12314469","description":"Kerberos client auth, multi support, deb/rpm pkging.","name":"3.4.0","archived":false,"released":true,"releaseDate":"2011-11-22"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_12312322":null,"customfield_12310220":"2010-06-26T03:02:21.217+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Oct 21 10:51:19 UTC 2010","customfield_12310420":"47596","customfield_12312320":null,"customfield_12310222":"10002_*:*_7_*:*_7069783900_*|*_1_*:*_7_*:*_3031840453_*|*_5_*:*_1_*:*_0","customfield_12312321":null,"resolutiondate":"2010-10-21T00:47:39.880+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-794/watchers","watchCount":3,"isWatching":false},"created":"2010-06-26T02:47:15.527+0000","customfield_12310192":null,"customfield_12310191":[{"self":"https://issues.apache.org/jira/rest/api/2/customFieldOption/10343","value":"Reviewed","id":"10343"}],"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"7.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12314846","id":"12314846","description":"Fix release against 3.3 branch","name":"3.3.1","archived":false,"released":true,"releaseDate":"2010-05-17"}],"issuelinks":[{"id":"12336284","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12336284","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12491520","key":"ZOOKEEPER-954","self":"https://issues.apache.org/jira/rest/api/2/issue/12491520","fields":{"summary":"Findbugs/ClientCnxn: Bug type JLM_JSR166_UTILCONCURRENT_MONITORENTER","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/10002","description":"A patch for this issue has been uploaded to JIRA by a contributor.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/document.png","name":"Patch Available","id":"10002","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12333330","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12333330","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"inwardIssue":{"id":"12471297","key":"ZOOKEEPER-835","self":"https://issues.apache.org/jira/rest/api/2/issue/12471297","fields":{"summary":"Refactoring Zookeeper Client Code","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2011-11-23T19:22:42.367+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312381","id":"12312381","name":"java client","description":"The java client interface for ZooKeeper"}],"timeoriginalestimate":null,"description":"I noticed that ZooKeeper has different behaviors when calling synchronous or asynchronous actions on a closed ZooKeeper client.\nActually a synchronous call will throw a \"session expired\" exception while an asynchronous call will do nothing. No exception, no callback invocation.\n\nActually, even if the EventThread receives the Packet with the session expired err code, the packet is never processed since the thread has been killed by the ventOfDeath. So the call back is not invoked.\n\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12449135","id":"12449135","filename":"ZOOKEEPER-794_2.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=breed","name":"breed","key":"breed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benjamin Reed","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-07-09T23:47:23.324+0000","size":15339,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12449135/ZOOKEEPER-794_2.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12450827","id":"12450827","filename":"ZOOKEEPER-794_3.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-07-29T14:04:17.125+0000","size":4828,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12450827/ZOOKEEPER-794_3.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12454780","id":"12454780","filename":"ZOOKEEPER-794_4.patch.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-16T16:31:13.801+0000","size":16478,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12454780/ZOOKEEPER-794_4.patch.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12457457","id":"12457457","filename":"ZOOKEEPER-794_5_br33.patch","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-10-18T16:13:53.188+0000","size":17056,"mimeType":"text/x-patch","content":"https://issues.apache.org/jira/secure/attachment/12457457/ZOOKEEPER-794_5_br33.patch"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12455389","id":"12455389","filename":"ZOOKEEPER-794_5.patch.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-23T17:13:43.345+0000","size":16470,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12455389/ZOOKEEPER-794_5.patch.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12448116","id":"12448116","filename":"ZOOKEEPER-794.patch.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-06-26T02:49:32.532+0000","size":13506,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12448116/ZOOKEEPER-794.patch.txt"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12448119","id":"12448119","filename":"ZOOKEEPER-794.txt","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-06-26T04:34:33.517+0000","size":13498,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12448119/ZOOKEEPER-794.txt"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"32865","customfield_12312823":null,"summary":"Callbacks are not invoked when the client is closed","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12882801","id":"12882801","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"body":"The patch is to not queue the event when the event thread has been killed and process it on the spot.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-06-26T02:49:08.849+0000","updated":"2010-06-26T02:49:08.849+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12882802","id":"12882802","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12448116/ZOOKEEPER-794.patch.txt\n  against trunk revision 958096.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no tests are needed for this patch.\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/123/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-26T03:02:21.217+0000","updated":"2010-06-26T03:02:21.217+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12882811","id":"12882811","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"body":"Fix the file paths.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-06-26T04:34:33.602+0000","updated":"2010-06-26T04:34:33.602+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12882855","id":"12882855","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12448119/ZOOKEEPER-794.txt\n  against trunk revision 958096.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    -1 tests included.  The patch doesn't appear to include any new or modified tests.\n                        Please justify why no tests are needed for this patch.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/124/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/124/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/124/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2010-06-26T16:59:44.231+0000","updated":"2010-06-26T16:59:44.231+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12886020","id":"12886020","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"body":"alexis, \n  Do you see the problem with c client library as well? Or do you just see the problem with the java client?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=mahadev","name":"mahadev","key":"mahadev","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Mahadev konar","active":true,"timeZone":"Etc/UTC"},"created":"2010-07-07T18:22:06.007+0000","updated":"2010-07-07T18:22:06.007+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12886892","id":"12886892","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=breed","name":"breed","key":"breed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benjamin Reed","active":true,"timeZone":"America/Los_Angeles"},"body":"-1 we need to get a test in. also the fix has a race condition. the boolean flag may changed after it is checked and before the request is queued.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=breed","name":"breed","key":"breed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benjamin Reed","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-07-09T21:22:27.664+0000","updated":"2010-07-09T21:22:27.664+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12886946","id":"12886946","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=breed","name":"breed","key":"breed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benjamin Reed","active":true,"timeZone":"America/Los_Angeles"},"body":"i've added a test case and i think i've addressed the race condition. alexis can you check it out. the only change to your code was to make waskilled volatile and move where it was set.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=breed","name":"breed","key":"breed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benjamin Reed","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-07-09T23:47:23.379+0000","updated":"2010-07-09T23:47:23.379+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12886953","id":"12886953","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12449135/ZOOKEEPER-794_2.patch\n  against trunk revision 962697.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/139/testReport/\nFindbugs warnings: http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/139/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/139/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2010-07-10T00:09:16.842+0000","updated":"2010-07-10T00:09:16.842+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12893618","id":"12893618","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi Benjamin,\nthanks a lot for the review.\nOne thing I noticed is that setting wasKilled in the method queueEventOfDeath might affect the order in which events are processed. Actually if queueEventOfDeath is invoked while the waitingEvents queue is not empty, any subsequent calls to queuePacket might  invoke processEvent for the received Packet before the packets already queued are processed (since wasKilled is true).\nI guess this could happened if there are a lot of events queued in waitingEvents.\n\n0. Let's assume that, initially, the queue waitingEvents contains N events: Event-0,...,Event-N\n1. queueEventOfDeath is invoked, wasKilled is now true and the queue contains: Event-k,...,Event-N, Event-Death\n2. a new Packet comes in, queuePacket is invoked. Since wasKilled is true, the new event Event-N+1 is processed right away before Event-N might have been processed.\n\nOn the other hand, my initial patch will let Event-N+1 in the queue and it will never get processed since the event of death will break the loop. Which is worse.\n\nI attached a new patch that aims to fix the ordering issue. The idea is to keep queueing Event-N+i until the event of death has been processed and the queue is empty. I see one downside with this approach: if events keep coming in, the EventThread might not stop since the queue will never get empty.\nPlease review.\n\nAlexis","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-07-29T14:03:49.701+0000","updated":"2010-07-29T14:03:49.701+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12894692","id":"12894692","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12450827/ZOOKEEPER-794_3.patch\n  against trunk revision 980576.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/103/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2010-08-02T20:27:15.738+0000","updated":"2010-08-02T20:27:15.738+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12896948","id":"12896948","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=breed","name":"breed","key":"breed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benjamin Reed","active":true,"timeZone":"America/Los_Angeles"},"body":"alexis, i'm missing the problem you are pointing out. is it an issue with the ordering of the callbacks?\n\ni'm also wondering about your _3 patch. it is much smaller than the others. is it to be applied to trunk, or is it relative to a different patch?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=breed","name":"breed","key":"breed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benjamin Reed","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-08-10T16:57:35.821+0000","updated":"2010-08-10T16:57:35.821+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12897855","id":"12897855","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Would be great to get this into 3.3.2, any update?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-08-12T17:42:12.070+0000","updated":"2010-08-12T17:42:12.070+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12897856","id":"12897856","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"cancelling patch - hudson failing.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-08-12T17:42:42.983+0000","updated":"2010-08-12T17:42:42.983+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12897857","id":"12897857","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"body":"Yes, with the first patches, the call back ordering might be different from the event ordering. And this is one of the ZK core garanties right? Although in our case this is happening during the shutdown procedure.\n\nI'll double check the patch.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-08-12T17:43:04.397+0000","updated":"2010-08-12T17:43:04.397+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12909785","id":"12909785","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"What's the status on this? I'd like to include it in upcoming 3.2.2 fix release.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-15T16:09:03.148+0000","updated":"2010-09-15T16:09:03.148+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12910215","id":"12910215","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"body":"add a new patch that fixes the previous one.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-16T16:31:13.894+0000","updated":"2010-09-16T16:31:13.894+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12910684","id":"12910684","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12454780/ZOOKEEPER-794_4.patch.txt\n  against trunk revision 998200.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    -1 patch.  The patch command could not apply the patch.\n\nConsole output: http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/116/console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2010-09-17T17:44:35.735+0000","updated":"2010-09-17T17:44:35.735+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12914091","id":"12914091","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Canceling patch - failing to apply against svn codebase. \n\nCan someone update and resubmit?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-23T16:34:26.620+0000","updated":"2010-09-23T16:34:26.620+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12914092","id":"12914092","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"I consider this a blocker.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-23T16:35:29.836+0000","updated":"2010-09-23T16:35:29.836+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12914106","id":"12914106","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"body":"same path as ZOOKEEPER-794_4.patch.txt but strip the path prefix added by Git.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-23T17:13:43.421+0000","updated":"2010-09-23T17:13:43.421+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12914120","id":"12914120","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"fyi for future - if you name the patch the same name JIRA will take care of it - making the most recent patch active and the older patches of the same name \"grey'd out\". This helps ensure we have the right patch. Fine for now, but for future reference.\n\nThanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-09-23T17:46:03.425+0000","updated":"2010-09-23T17:46:03.425+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12921939","id":"12921939","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michim","name":"michim","key":"michim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michi Mutsuzaki","active":true,"timeZone":"America/Los_Angeles"},"body":"ZOOKEEPER-794_5.patch.txt doesn't compile. I'm getting these errors:\n\n[javac] branch-3.3/src/java/test/org/apache/zookeeper/test/SessionTest.java:201: cannot find symbol\n[javac] symbol : variable Assert\n[javac] location: class org.apache.zookeeper.test.SessionTest\n[javac] Assert.fail(\"Should have received a SessionExpiredException\");\n[javac] ^\n[javac] branch-3.3/src/java/test/org/apache/zookeeper/test/SessionTest.java:217: cannot find symbol\n[javac] symbol : variable Assert\n[javac] location: class org.apache.zookeeper.test.SessionTest\n[javac] Assert.assertEquals(KeeperException.Code.SESSIONEXPIRED.toString(), cb.toString());\n[javac] ^\n\nWe need to either:\n\na. import org.junit.Assert, or\nb. Use fail/assertEquals instead of Assert.fail/Assert.assertEquals.\n\n--Michi","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michim","name":"michim","key":"michim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michi Mutsuzaki","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-10-18T01:18:17.927+0000","updated":"2010-10-18T01:18:17.927+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12922121","id":"12922121","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Looks like some recent changes on branch 33 have broken this patch, I'll update the patch and resubmit.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-10-18T15:59:37.096+0000","updated":"2010-10-18T15:59:37.096+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12922130","id":"12922130","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Attaching ZOOKEEPER-794_5_br33 which fixes patching this issue against current branch.\n\nMichi please give this another try.\n\nBen/Flavio/Henry/Mahadev please review for commit asap. This is blocking 3.3.2 release. Thanks all!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-10-18T16:13:53.255+0000","updated":"2010-10-18T16:13:53.255+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12922382","id":"12922382","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michim","name":"michim","key":"michim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michi Mutsuzaki","active":true,"timeZone":"America/Los_Angeles"},"body":"ZOOKEEPER-794_5_br33.patch worked. \n\n--Michi","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=michim","name":"michim","key":"michim","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Michi Mutsuzaki","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-10-19T00:38:23.955+0000","updated":"2010-10-19T00:38:23.955+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12923023","id":"12923023","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"I tested both trunk and branch patches on my test cluster and it came up green. Ben can you give this a final review and comment if it's ready to commit?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-10-20T15:54:22.075+0000","updated":"2010-10-20T15:54:22.075+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12923206","id":"12923206","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=breed","name":"breed","key":"breed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benjamin Reed","active":true,"timeZone":"America/Los_Angeles"},"body":"+1 thanx for sticking with this one Alexis!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=breed","name":"breed","key":"breed","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Benjamin Reed","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-10-20T22:26:55.440+0000","updated":"2010-10-20T22:26:55.440+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12923251","id":"12923251","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"body":"no pb, thanks for your close review and testing.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alexismidon","name":"alexismidon","key":"alexismidon","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=alexismidon&avatarId=20247","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alexismidon&avatarId=20247","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alexismidon&avatarId=20247","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alexismidon&avatarId=20247"},"displayName":"Alexis Midon","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-10-21T00:20:25.686+0000","updated":"2010-10-21T00:20:25.686+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12923268","id":"12923268","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"committed to trunk/branch33, thanks Alexis!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2010-10-21T00:47:39.860+0000","updated":"2010-10-21T00:47:39.860+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12467962/comment/12923396","id":"12923396","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"body":"Integrated in ZooKeeper-trunk #975 (See [https://hudson.apache.org/hudson/job/ZooKeeper-trunk/975/])\n    ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hudson","name":"hudson","key":"hudson","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Hudson","active":true,"timeZone":"Etc/UTC"},"created":"2010-10-21T10:51:19.529+0000","updated":"2010-10-21T10:51:19.529+0000"}],"maxResults":30,"total":30,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-794/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i05zlb:"}}