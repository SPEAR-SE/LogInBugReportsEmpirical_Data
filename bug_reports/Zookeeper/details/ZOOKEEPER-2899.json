{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13102441","self":"https://issues.apache.org/jira/rest/api/2/issue/13102441","key":"ZOOKEEPER-2899","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310801","id":"12310801","key":"ZOOKEEPER","name":"ZooKeeper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10484","id":"10484","description":"Apache ZooKeeper related","name":"ZooKeeper"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2017-10-05T13:09:18.831+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Thu Oct 05 18:18:59 UTC 2017","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-2899/watchers","watchCount":2,"isWatching":false},"created":"2017-09-15T01:00:19.741+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"6.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12321883","id":"12321883","description":"Fix release against 3.4 branch","name":"3.4.5","archived":false,"released":true,"releaseDate":"2012-11-18"}],"issuelinks":[],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2017-10-05T18:18:59.656+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312378","id":"12312378","name":"leaderElection","description":"Leader election algorithm for ZooKeeper"}],"timeoriginalestimate":null,"description":"ZK was used with Kafka (version 0.10.0) for coordination. We had a lot of Kafka consumers writing  consumption offsets to ZK.\n\nWe observed the issue two times within the last year. Each time after ZXID overflowed, ZK was not receiving packets even though leader election looked successful from the logs, and ZK servers were up. As a result, the whole Kafka system came to a halt.\n\nAs an attempt to reproduce (and hopefully fixing) the issue, I set up test ZK and Kafka clusters and feed them with like-production test traffic. Though not really able to reproduce the issue, I did see that the Kafka consumers, which used ZK clients, essentially DOSed the ensemble, filling up the `submittedRequests` in `PrepRequestProcessor`, causing even 100ms+ read latencies.\n\nMore details are included in the comments.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12887394","id":"12887394","filename":"GC_metric.png","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eefangyicheng","name":"eefangyicheng","key":"eefangyicheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eefangyicheng&avatarId=32745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eefangyicheng&avatarId=32745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eefangyicheng&avatarId=32745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eefangyicheng&avatarId=32745"},"displayName":"Yicheng Fang","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-15T17:40:48.794+0000","size":62695,"mimeType":"image/png","content":"https://issues.apache.org/jira/secure/attachment/12887394/GC_metric.png"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12887379","id":"12887379","filename":"image12.png","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eefangyicheng","name":"eefangyicheng","key":"eefangyicheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eefangyicheng&avatarId=32745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eefangyicheng&avatarId=32745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eefangyicheng&avatarId=32745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eefangyicheng&avatarId=32745"},"displayName":"Yicheng Fang","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-15T16:58:52.088+0000","size":186315,"mimeType":"image/png","content":"https://issues.apache.org/jira/secure/attachment/12887379/image12.png"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12887378","id":"12887378","filename":"image13.png","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eefangyicheng","name":"eefangyicheng","key":"eefangyicheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eefangyicheng&avatarId=32745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eefangyicheng&avatarId=32745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eefangyicheng&avatarId=32745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eefangyicheng&avatarId=32745"},"displayName":"Yicheng Fang","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-15T16:58:52.019+0000","size":144540,"mimeType":"image/png","content":"https://issues.apache.org/jira/secure/attachment/12887378/image13.png"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12887393","id":"12887393","filename":"message_in_per_sec.png","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eefangyicheng","name":"eefangyicheng","key":"eefangyicheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eefangyicheng&avatarId=32745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eefangyicheng&avatarId=32745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eefangyicheng&avatarId=32745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eefangyicheng&avatarId=32745"},"displayName":"Yicheng Fang","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-15T17:40:49.211+0000","size":424894,"mimeType":"image/png","content":"https://issues.apache.org/jira/secure/attachment/12887393/message_in_per_sec.png"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12887396","id":"12887396","filename":"metric_volume.png","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eefangyicheng","name":"eefangyicheng","key":"eefangyicheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eefangyicheng&avatarId=32745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eefangyicheng&avatarId=32745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eefangyicheng&avatarId=32745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eefangyicheng&avatarId=32745"},"displayName":"Yicheng Fang","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-15T17:44:34.670+0000","size":234677,"mimeType":"image/png","content":"https://issues.apache.org/jira/secure/attachment/12887396/metric_volume.png"},{"self":"https://issues.apache.org/jira/rest/api/2/attachment/12887380","id":"12887380","filename":"zk_20170309_wo_noise.log","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eefangyicheng","name":"eefangyicheng","key":"eefangyicheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eefangyicheng&avatarId=32745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eefangyicheng&avatarId=32745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eefangyicheng&avatarId=32745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eefangyicheng&avatarId=32745"},"displayName":"Yicheng Fang","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-15T17:07:38.799+0000","size":48643,"mimeType":"text/plain","content":"https://issues.apache.org/jira/secure/attachment/12887380/zk_20170309_wo_noise.log"}],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"Zookeeper not receiving packets after ZXID overflows","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eefangyicheng","name":"eefangyicheng","key":"eefangyicheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eefangyicheng&avatarId=32745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eefangyicheng&avatarId=32745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eefangyicheng&avatarId=32745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eefangyicheng&avatarId=32745"},"displayName":"Yicheng Fang","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eefangyicheng","name":"eefangyicheng","key":"eefangyicheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eefangyicheng&avatarId=32745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eefangyicheng&avatarId=32745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eefangyicheng&avatarId=32745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eefangyicheng&avatarId=32745"},"displayName":"Yicheng Fang","active":true,"timeZone":"Etc/UTC"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":"5 host ensemble, 1500+ client connections each, 300K+ nodes\nOS: Ubuntu precise\nJAVA 7\nJuniperQFX510048T NIC, 10000Mb/s, ixgbe driver\n6 core Intel(R)_Xeon(R)_CPU_E5-2620_v3_@_2.40GHz\n4 HDD 600G each ","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/13102441/comment/16168208","id":"16168208","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eefangyicheng","name":"eefangyicheng","key":"eefangyicheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eefangyicheng&avatarId=32745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eefangyicheng&avatarId=32745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eefangyicheng&avatarId=32745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eefangyicheng&avatarId=32745"},"displayName":"Yicheng Fang","active":true,"timeZone":"Etc/UTC"},"body":"ZXID overflowed in prod:\n\nWe observed that the ensemble was not receiving any packets during the time of outage, as can be seen in the attachment 'image12.pnp'. It was a grafana graph, with data source from the four-letter word commands. In the meantime, node count dropped by ~10000 and stayed flat at 302,500 after the overflow. The aggregated log is attached as 'zk_20170309_wo_noise.log', which seems to tell that the leader election was finished successfully, quorum formed, and ZK servers started up.\n\nHowever, we did see a lot of the following errors after the ZK servers went up:\n{noformat}\n2017-03-09 09:00:12,420 - ERROR [CommitProcessor:2:NIOServerCnxn@180] - Unexpected Exception:\njava.nio.channels.CancelledKeyException\n        at sun.nio.ch.SelectionKeyImpl.ensureValid(SelectionKeyImpl.java:73)\n        at sun.nio.ch.SelectionKeyImpl.interestOps(SelectionKeyImpl.java:77)\n        at org.apache.zookeeper.server.NIOServerCnxn.sendBuffer(NIOServerCnxn.java:153)\n        at org.apache.zookeeper.server.NIOServerCnxn.sendResponse(NIOServerCnxn.java:1076)\n        at org.apache.zookeeper.server.FinalRequestProcessor.processRequest(FinalRequestProcessor.java:404)\n        at org.apache.zookeeper.server.quorum.CommitProcessor.run(CommitProcessor.java:74)\n\n\n2017-03-09 09:00:13,210 - ERROR [CommitProcessor:1:NIOServerCnxn@180] - Unexpected Exception:\njava.nio.channels.CancelledKeyException\n        at sun.nio.ch.SelectionKeyImpl.ensureValid(SelectionKeyImpl.java:73)\n        at sun.nio.ch.SelectionKeyImpl.interestOps(SelectionKeyImpl.java:77)\n        at org.apache.zookeeper.server.NIOServerCnxn.sendBuffer(NIOServerCnxn.java:153)\n        at org.apache.zookeeper.server.NIOServerCnxn.sendResponse(NIOServerCnxn.java:1076)\n        at org.apache.zookeeper.server.NIOServerCnxn.process(NIOServerCnxn.java:1113)\n        at org.apache.zookeeper.server.WatchManager.triggerWatch(WatchManager.java:120)\n        at org.apache.zookeeper.server.WatchManager.triggerWatch(WatchManager.java:92)\n        at org.apache.zookeeper.server.DataTree.deleteNode(DataTree.java:594)\n        at org.apache.zookeeper.server.DataTree.killSession(DataTree.java:966)\n        at org.apache.zookeeper.server.DataTree.processTxn(DataTree.java:818)\n        at org.apache.zookeeper.server.ZKDatabase.processTxn(ZKDatabase.java:329)\n        at org.apache.zookeeper.server.ZooKeeperServer.processTxn(ZooKeeperServer.java:965)\n        at org.apache.zookeeper.server.FinalRequestProcessor.processRequest(FinalRequestProcessor.java:116)\n        at org.apache.zookeeper.server.quorum.CommitProcessor.run(CommitProcessor.java:74)\n{noformat}\n\nWe mitigated the issue by restarting the ensemble, after which we see traffic flowing into the ensemble and the whole system started recovering.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eefangyicheng","name":"eefangyicheng","key":"eefangyicheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eefangyicheng&avatarId=32745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eefangyicheng&avatarId=32745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eefangyicheng&avatarId=32745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eefangyicheng&avatarId=32745"},"displayName":"Yicheng Fang","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-15T17:14:38.901+0000","updated":"2017-09-15T17:59:25.623+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13102441/comment/16168260","id":"16168260","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eefangyicheng","name":"eefangyicheng","key":"eefangyicheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eefangyicheng&avatarId=32745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eefangyicheng&avatarId=32745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eefangyicheng&avatarId=32745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eefangyicheng&avatarId=32745"},"displayName":"Yicheng Fang","active":true,"timeZone":"Etc/UTC"},"body":"We tried running 'ZxidRolloverTest' with different setups but failed to reproduce the issue, so we decided to use same hardware as production. The experiments below were using a 5-node ZK ensemble, with zookeeper.testingonly.initialZxid set to high enough value:\n\n1. With tiny scripts using kazoo, spawn off client processes that each continuously randomly create  ZK nodes and set data on them, generating the same number of connections as production, while having another set of clients randomly read data from the nodes.\n   - Result: ZXID overflowed. Leader election happen completed within 5 seconds. Short burst of errors was seen from the client side but the clients recovered right after the election.\n\n2. Set up a 85 node Kafka broker cluster, then trigger overflowing with the same method as in 1.\n  - Result: same as 1. The Kafka brokers behaved normal.\n\n3. Set up a test tool to generate ~100k/s messages, and as many consumers as needed to generate the 1500-per-node connection count, for the Kafka cluster. The consumers write consumption offsets to ZK every 10ms. \n  - We noticed that after the ZXID overflowed for a couple of times, the whole system began acting weirdly - metrics from the brokers became sporadic, ISRs became flappy, metrics volume sent by Kafka dropped, etc. See attachment 'message_in_per_sec.png', 'metric_volume.png', 'GC_metric.png' for screenshots.\n  - From the 'srvr' stats, latency became '0/[>100]/[>200]', vs. in normal conditions '0/0/[<100]'. Profiling ZK revealed that it was because the ensemble received high QPS of write traffics (presumably from the Kafka consumers) such that the 'submittedRequests' queue (>6500 in queue each time when a new request is added) in 'PrepRequestProcessor' of the leader was filled up, causing even the reads to have high latencies.\n  - It looked to us that somehow by electing a new leader when overflowing caused the consumers to align, thus DDOSing the ensemble. However, we have not observed the same behavior after bouncing the leader process BEFORE the overflow. The ensemble should behave similarly in both cases since both call for new leader elections. One difference though, we noticed, was that in the overflow case the leader election port was left open so the downed leader would participate in the new round of leader election. Not sure if it's related but thought might be worth bringing up.\n\nThe behavior was observed with both ZK 3.4.6 and 3.4.9, Kafka 0.10.0 and 0.10.2.\n    ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eefangyicheng","name":"eefangyicheng","key":"eefangyicheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eefangyicheng&avatarId=32745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eefangyicheng&avatarId=32745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eefangyicheng&avatarId=32745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eefangyicheng&avatarId=32745"},"displayName":"Yicheng Fang","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-15T17:53:14.159+0000","updated":"2017-09-15T21:01:34.450+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13102441/comment/16168268","id":"16168268","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eefangyicheng","name":"eefangyicheng","key":"eefangyicheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eefangyicheng&avatarId=32745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eefangyicheng&avatarId=32745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eefangyicheng&avatarId=32745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eefangyicheng&avatarId=32745"},"displayName":"Yicheng Fang","active":true,"timeZone":"Etc/UTC"},"body":"We would much appreciate your input. Thanks!","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eefangyicheng","name":"eefangyicheng","key":"eefangyicheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eefangyicheng&avatarId=32745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eefangyicheng&avatarId=32745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eefangyicheng&avatarId=32745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eefangyicheng&avatarId=32745"},"displayName":"Yicheng Fang","active":true,"timeZone":"Etc/UTC"},"created":"2017-09-15T17:56:08.592+0000","updated":"2017-09-15T17:56:08.592+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13102441/comment/16192847","id":"16192847","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maoling","name":"maoling","key":"maoling","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maoling&avatarId=32024","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maoling&avatarId=32024","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maoling&avatarId=32024","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maoling&avatarId=32024"},"displayName":"maoling","active":true,"timeZone":"Etc/UTC"},"body":"[~eefangyicheng]\nGood Report.Do you have any advances about this issue?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=maoling","name":"maoling","key":"maoling","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=maoling&avatarId=32024","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=maoling&avatarId=32024","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=maoling&avatarId=32024","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=maoling&avatarId=32024"},"displayName":"maoling","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-05T13:09:18.831+0000","updated":"2017-10-05T13:09:18.831+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/13102441/comment/16193369","id":"16193369","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eefangyicheng","name":"eefangyicheng","key":"eefangyicheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eefangyicheng&avatarId=32745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eefangyicheng&avatarId=32745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eefangyicheng&avatarId=32745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eefangyicheng&avatarId=32745"},"displayName":"Yicheng Fang","active":true,"timeZone":"Etc/UTC"},"body":"[~maoling] NaH, I have since shifted focus to other tasks because it didn't seem like I was getting close to reproducing what we saw in prod.\n\nIt would be great if you have some ideas that we can try out. We're all ears.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=eefangyicheng","name":"eefangyicheng","key":"eefangyicheng","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=eefangyicheng&avatarId=32745","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eefangyicheng&avatarId=32745","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eefangyicheng&avatarId=32745","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eefangyicheng&avatarId=32745"},"displayName":"Yicheng Fang","active":true,"timeZone":"Etc/UTC"},"created":"2017-10-05T18:18:59.656+0000","updated":"2017-10-05T18:18:59.656+0000"}],"maxResults":5,"total":5,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-2899/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i3k3mf:"}}