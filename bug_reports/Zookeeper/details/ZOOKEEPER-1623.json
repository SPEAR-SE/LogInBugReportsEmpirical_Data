{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12627864","self":"https://issues.apache.org/jira/rest/api/2/issue/12627864","key":"ZOOKEEPER-1623","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310801","id":"12310801","key":"ZOOKEEPER","name":"ZooKeeper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10484","id":"10484","description":"Apache ZooKeeper related","name":"ZooKeeper"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":"2013-01-16T17:13:59.870+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Tue Oct 22 18:39:03 UTC 2013","customfield_12310420":"304707","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-1623/watchers","watchCount":3,"isWatching":false},"created":"2013-01-16T16:46:51.561+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12321883","id":"12321883","description":"Fix release against 3.4 branch","name":"3.4.5","archived":false,"released":true,"releaseDate":"2012-11-18"}],"issuelinks":[{"id":"12367193","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12367193","type":{"id":"12310060","name":"Container","inward":"Is contained by","outward":"contains","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/12310060"},"inwardIssue":{"id":"12634851","key":"ZOOKEEPER-1657","self":"https://issues.apache.org/jira/rest/api/2/issue/12634851","fields":{"summary":"Increased CPU usage by unnecessary SASL checks","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12363181","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12363181","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12599312","key":"ZOOKEEPER-1512","self":"https://issues.apache.org/jira/rest/api/2/issue/12599312","fields":{"summary":"Reduce log level of missing ZookeeperSaslClient Security Exception","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12363191","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12363191","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12609272","key":"ZOOKEEPER-1550","self":"https://issues.apache.org/jira/rest/api/2/issue/12609272","fields":{"summary":"ZooKeeperSaslClient does not finish anonymous login on OpenJDK","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/1","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133}}}},{"id":"12363179","self":"https://issues.apache.org/jira/rest/api/2/issueLink/12363179","type":{"id":"10030","name":"Reference","inward":"is related to","outward":"relates to","self":"https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"},"outwardIssue":{"id":"12599027","key":"ZOOKEEPER-1510","self":"https://issues.apache.org/jira/rest/api/2/issue/12599027","fields":{"summary":"Should not log SASL errors for non-secure usage","status":{"self":"https://issues.apache.org/jira/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":21140}}}}],"customfield_12312339":null,"assignee":null,"customfield_12312337":null,"customfield_12312338":null,"updated":"2013-10-22T18:39:03.877+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"description":"First of all, I'm just running some test and thus I don't wan't/need any authentication at all. So I didn't configured any. But running my Java client with an Oracle JVM (1.6.38) I run into the following problem:\n\n`2013-01-16 17:40:30,659 [main] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=192.168.2.28:2181 sessionTimeout=5000 watcher=master.Master@eb42cbf\n2013-01-16 17:40:30,674 [main] DEBUG org.apache.zookeeper.ClientCnxn - zookeeper.disableAutoWatchReset is false\n2013-01-16 17:40:30,698 [Thread-0] DEBUG master.Master - Master waits...\n2013-01-16 17:40:30,701 [main-SendThread(Teots-PC:2181)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server Teots-PC/192.168.2.28:2181. Will not attempt to authenticate using SASL (Unable to locate a login configuration)\n2013-01-16 17:40:30,706 [main-SendThread(Teots-PC:2181)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established to Teots-PC/192.168.2.28:2181, initiating session\n2013-01-16 17:40:30,708 [main-SendThread(Teots-PC:2181)] DEBUG org.apache.zookeeper.ClientCnxn - Session establishment request sent on Teots-PC/192.168.2.28:2181\n2013-01-16 17:40:30,709 [main-SendThread(Teots-PC:2181)] DEBUG org.apache.zookeeper.client.ZooKeeperSaslClient - Could not retrieve login configuration: java.lang.SecurityException: Unable to locate a login configuration\n2013-01-16 17:40:30,730 [main-SendThread(Teots-PC:2181)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server Teots-PC/192.168.2.28:2181, sessionid = 0x13c44254fd70003, negotiated timeout = 5000\n2013-01-16 17:40:30,732 [main-EventThread] DEBUG master.Master - Master recieved an event: None\n2013-01-16 17:40:30,732 [main-SendThread(Teots-PC:2181)] DEBUG org.apache.zookeeper.client.ZooKeeperSaslClient - Could not retrieve login configuration: java.lang.SecurityException: Unable to locate a login configuration\n2013-01-16 17:40:30,732 [main-EventThread] DEBUG master.Master - Master's state: SyncConnected\n2013-01-16 17:40:30,732 [main-SendThread(Teots-PC:2181)] DEBUG org.apache.zookeeper.client.ZooKeeperSaslClient - Could not retrieve login configuration: java.lang.SecurityException: Unable to locate a login configuration`\n\nThis does not happen with an OpenJDK JVM.","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"254068","customfield_12312823":null,"summary":"Authentication using SASL","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=teots","name":"teots","key":"teots","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christian Wuertz","active":true,"timeZone":"Europe/Berlin"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=teots","name":"teots","key":"teots","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Christian Wuertz","active":true,"timeZone":"Europe/Berlin"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12627864/comment/13555226","id":"13555226","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ekoontz","name":"ekoontz","key":"ekoontz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ekoontz&avatarId=11640","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ekoontz&avatarId=11640","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ekoontz&avatarId=11640","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ekoontz&avatarId=11640"},"displayName":"Eugene Koontz","active":true,"timeZone":"America/Los_Angeles"},"body":"Adding ZOOKEEPER-1510 as related since this might be due to confusion about the meaning of the SASL-related log messages.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=ekoontz","name":"ekoontz","key":"ekoontz","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=ekoontz&avatarId=11640","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ekoontz&avatarId=11640","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ekoontz&avatarId=11640","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ekoontz&avatarId=11640"},"displayName":"Eugene Koontz","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-01-16T17:13:59.870+0000","updated":"2013-01-16T17:13:59.870+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12627864/comment/13628824","id":"13628824","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abranzyck","name":"abranzyck","key":"abranzyck","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=abranzyck&avatarId=16792","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=abranzyck&avatarId=16792","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=abranzyck&avatarId=16792","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=abranzyck&avatarId=16792"},"displayName":"Germán Blanco","active":true,"timeZone":"Europe/Berlin"},"body":"This modification stores in a member variable of ZooKeeperSaslClient during construction whether the user intends to use Sasl authentication or not, and then uses it instead of checking the configuration again.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abranzyck","name":"abranzyck","key":"abranzyck","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=abranzyck&avatarId=16792","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=abranzyck&avatarId=16792","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=abranzyck&avatarId=16792","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=abranzyck&avatarId=16792"},"displayName":"Germán Blanco","active":true,"timeZone":"Europe/Berlin"},"created":"2013-04-11T10:46:11.020+0000","updated":"2013-04-11T10:46:11.020+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12627864/comment/13628832","id":"13628832","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abranzyck","name":"abranzyck","key":"abranzyck","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=abranzyck&avatarId=16792","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=abranzyck&avatarId=16792","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=abranzyck&avatarId=16792","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=abranzyck&avatarId=16792"},"displayName":"Germán Blanco","active":true,"timeZone":"Europe/Berlin"},"body":"This is the first patch that I submit and the first time that I input anything in JIRA, so I might have done silly things as sending the previous comment without intention.\nMy interpretation of the text in the TODO that is in the current ZooKeeperSaslClient.java, is that this modification should be done. And it solves the problem of the excessive logging.\nI didn't think that a test case was really required for this, but since it is in the procedure, one is suggested in the patch.\nCan anybody please tell me if the change is correct?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abranzyck","name":"abranzyck","key":"abranzyck","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=abranzyck&avatarId=16792","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=abranzyck&avatarId=16792","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=abranzyck&avatarId=16792","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=abranzyck&avatarId=16792"},"displayName":"Germán Blanco","active":true,"timeZone":"Europe/Berlin"},"created":"2013-04-11T10:50:24.831+0000","updated":"2013-04-11T10:50:24.831+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12627864/comment/13628846","id":"13628846","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"+1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12578192/ZOOKEEPER-1623.patch\n  against trunk revision 1463329.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    +1 core tests.  The patch passed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1451//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1451//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1451//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2013-04-11T11:25:33.357+0000","updated":"2013-04-11T11:25:33.357+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12627864/comment/13628861","id":"13628861","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"body":"-1 overall.  Here are the results of testing the latest attachment \n  http://issues.apache.org/jira/secure/attachment/12578194/ZOOKEEPER-1623.patch\n  against trunk revision 1463329.\n\n    +1 @author.  The patch does not contain any @author tags.\n\n    +1 tests included.  The patch appears to include 3 new or modified tests.\n\n    +1 javadoc.  The javadoc tool did not generate any warning messages.\n\n    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.\n\n    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.\n\n    +1 release audit.  The applied patch does not increase the total number of release audit warnings.\n\n    -1 core tests.  The patch failed core unit tests.\n\n    +1 contrib tests.  The patch passed contrib unit tests.\n\nTest results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1453//testReport/\nFindbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1453//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html\nConsole output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1453//console\n\nThis message is automatically generated.","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=hadoopqa","name":"hadoopqa","key":"hadoopqa","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=hadoopqa&avatarId=10393","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=hadoopqa&avatarId=10393","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=hadoopqa&avatarId=10393","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=hadoopqa&avatarId=10393"},"displayName":"Hadoop QA","active":true,"timeZone":"Etc/UTC"},"created":"2013-04-11T11:52:15.500+0000","updated":"2013-04-11T11:52:15.500+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12627864/comment/13628933","id":"13628933","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abranzyck","name":"abranzyck","key":"abranzyck","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=abranzyck&avatarId=16792","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=abranzyck&avatarId=16792","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=abranzyck&avatarId=16792","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=abranzyck&avatarId=16792"},"displayName":"Germán Blanco","active":true,"timeZone":"Europe/Berlin"},"body":"the patch does work in my machine. The main difference in the error log is below.\nIt seems that the modification has the side effect of creating more socket descriptors and this ends up causing a \"Too many open files\" error in testQuorumSystemChange of ReconfigTest.\nI have no idea how to fix that. I guess I will have to remove the patch so Jenkins doesn't keep complaining about it.\n\n2013-04-11 11:48:45,035 [myid:] - INFO  [main-SendThread(localhost:11453):ClientCnxn$SendThread@882] - Socket connection established to localhost/127.0.0.1:11453, initiating session\n2013-04-11 11:48:45,035 [myid:] - WARN  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11453:RateLogger@58] - Error accepting new connection: Too many open files\n2013-04-11 11:48:45,035 [myid:] - INFO  [NIOWorkerThread-2:ZooKeeperServer@810] - Client attempting to establish new session at /127.0.0.1:34673\n2013-04-11 11:48:45,049 [myid:] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@566] - Established session 0x23df8ed21560000 with negotiated timeout 30000 for client /127.0.0.1:34356\n2013-04-11 11:48:45,050 [myid:] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@566] - Established session 0x13df8ed21550000 with negotiated timeout 30000 for client /127.0.0.1:36742\n2013-04-11 11:48:45,050 [myid:] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@566] - Established session 0x53df8ed21570000 with negotiated timeout 30000 for client /127.0.0.1:49168\n2013-04-11 11:48:45,050 [myid:] - INFO  [main-SendThread(localhost:11435):ClientCnxn$SendThread@1240] - Session establishment complete on server localhost/127.0.0.1:11435, sessionid = 0x13df8ed21550000, negotiated timeout = 30000\n2013-04-11 11:48:45,050 [myid:] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@566] - Established session 0x43df8ed21560000 with negotiated timeout 30000 for client /127.0.0.1:32828\n2013-04-11 11:48:45,051 [myid:] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@566] - Established session 0x33df8ed21560000 with negotiated timeout 30000 for client /127.0.0.1:36427\n2013-04-11 11:48:45,050 [myid:] - INFO  [main-SendThread(localhost:11438):ClientCnxn$SendThread@1240] - Session establishment complete on server localhost/127.0.0.1:11438, sessionid = 0x23df8ed21560000, negotiated timeout = 30000\n2013-04-11 11:48:45,050 [myid:] - INFO  [CommitProcWorkThread-1:ZooKeeperServer@566] - Established session 0x63df8ed21570000 with negotiated timeout 30000 for client /127.0.0.1:34673\n2013-04-11 11:48:45,051 [myid:] - INFO  [main-SendThread(localhost:11450):ClientCnxn$SendThread@1240] - Session establishment complete on server localhost/127.0.0.1:11450, sessionid = 0x63df8ed21570000, negotiated timeout = 30000\n2013-04-11 11:48:45,052 [myid:] - INFO  [main-SendThread(localhost:11444):ClientCnxn$SendThread@1240] - Session establishment complete on server localhost/127.0.0.1:11444, sessionid = 0x43df8ed21560000, negotiated timeout = 30000\n2013-04-11 11:48:45,052 [myid:] - INFO  [main-SendThread(localhost:11447):ClientCnxn$SendThread@1240] - Session establishment complete on server localhost/127.0.0.1:11447, sessionid = 0x53df8ed21570000, negotiated timeout = 30000\n2013-04-11 11:48:45,052 [myid:] - INFO  [main-SendThread(localhost:11441):ClientCnxn$SendThread@1240] - Session establishment complete on server localhost/127.0.0.1:11441, sessionid = 0x33df8ed21560000, negotiated timeout = 30000\n2013-04-11 11:48:45,053 [myid:] - INFO  [ProcessThread(sid:7 cport:-1)::PrepRequestProcessor@515] - Non-incremental reconfig\n2013-04-11 11:48:45,054 [myid:] - ERROR [ProcessThread(sid:7 cport:-1)::NIOServerCnxnFactory$1@92] - Thread Thread[ProcessThread(sid:7 cport:-1):,5,main] died\njava.lang.NoClassDefFoundError: org/apache/zookeeper/server/quorum/flexible/QuorumHierarchical\n\tat org.apache.zookeeper.server.quorum.QuorumPeerConfig.createQuorumVerifier(QuorumPeerConfig.java:363)\n\tat org.apache.zookeeper.server.quorum.QuorumPeerConfig.parseDynamicConfig(QuorumPeerConfig.java:392)\n\tat org.apache.zookeeper.server.PrepRequestProcessor.pRequest2Txn(PrepRequestProcessor.java:524)\n\tat org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:711)\n\tat org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:144)\n2013-04-11 11:48:45,144 [myid:] - WARN  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11453:RateLogger@36] - [10 times] Error accepting new connection: Too many open files\n2013-04-11 11:48:45,244 [myid:] - WARN  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11453:RateLogger@36] - [9 times] Error accepting new connection: Too many open files\n2013-04-11 11:48:45,344 [myid:] - WARN  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11453:RateLogger@36] - [10 times] Error accepting new connection: Too many open files\n2013-04-11 11:48:45,444 [myid:] - WARN  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11453:RateLogger@36] - [10 times] Error accepting new connection: Too many open files\n2013-04-11 11:48:45,544 [myid:] - WARN  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11453:RateLogger@36] - [10 times] Error accepting new connection: Too many open files\n2013-04-11 11:48:45,646 [myid:] - WARN  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11453:RateLogger@36] - [10 times] Error accepting new connection: Too many open files\n2013-04-11 11:48:45,748 [myid:] - WARN  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11453:RateLogger@36] - [10 times] Error accepting new connection: Too many open files\n2013-04-11 11:48:45,848 [myid:] - WARN  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11453:RateLogger@36] - [10 times] Error accepting new connection: Too many open files\n2013-04-11 11:48:45,948 [myid:] - WARN  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11453:RateLogger@36] - [10 times] Error accepting new connection: Too many open files\n2013-04-11 11:48:46,048 [myid:] - WARN  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11453:RateLogger@36] - [10 times] Error accepting new connection: Too many open files\n2013-04-11 11:48:46,148 [myid:] - WARN  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11453:RateLogger@36] - [10 times] Error accepting new connection: Too many open files\n2013-04-11 11:48:46,248 [myid:] - WARN  [NIOServerCxnFactory.AcceptThread:0.0.0.0/0.0.0.0:11453:RateLogger@36] - [10 times] Error accepting new connection: Too many open files\n2013-04-11 11:48:46,341 [myid:] - INFO  [main-SendThread(localhost:11408):ClientCnxn$SendThread@1006] - Opening socket connection to server localhost/127.0.0.1:11408. Will not attempt to authenticate using SASL (Unable to locate a ","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=abranzyck","name":"abranzyck","key":"abranzyck","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=abranzyck&avatarId=16792","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=abranzyck&avatarId=16792","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=abranzyck&avatarId=16792","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=abranzyck&avatarId=16792"},"displayName":"Germán Blanco","active":true,"timeZone":"Europe/Berlin"},"created":"2013-04-11T13:45:54.248+0000","updated":"2013-04-11T13:45:54.248+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12627864/comment/13655002","id":"13655002","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"Please re-attach the patch. (don't worry about the error message, the tests are run automatically when jira is in \"patch available\" and the attachment is updated)","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-10T23:09:58.399+0000","updated":"2013-05-10T23:09:58.399+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12627864/comment/13802103","id":"13802103","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"body":"[~ekoontz] any insight into the status of this issue?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=phunt","name":"phunt","key":"phunt","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Patrick Hunt","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-22T18:39:03.877+0000","updated":"2013-10-22T18:39:03.877+0000"}],"maxResults":8,"total":8,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-1623/votes","votes":1,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i17vh3:"}}