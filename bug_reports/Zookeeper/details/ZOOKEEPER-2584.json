{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13005075","self":"https://issues.apache.org/jira/rest/api/2/issue/13005075","key":"ZOOKEEPER-2584","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12310801","id":"12310801","key":"ZOOKEEPER","name":"ZooKeeper","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10484","id":"10484","description":"Apache ZooKeeper related","name":"ZooKeeper"}},"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_12312322":null,"customfield_12310220":null,"customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"2016-09-15 04:48:17.673","customfield_12310420":"9223372036854775807","customfield_12312320":null,"customfield_12310222":null,"customfield_12312321":null,"resolutiondate":null,"workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-2584/watchers","watchCount":2,"isWatching":false},"created":"2016-09-15T04:48:17.673+0000","customfield_12310192":null,"customfield_12310191":null,"priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/3","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/major.svg","name":"Major","id":"3"},"labels":[],"customfield_12312333":null,"customfield_12310230":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12326786","id":"12326786","description":"Alpha release against 3.5 branch","name":"3.5.1","archived":false,"released":true,"releaseDate":"2015-09-02"}],"issuelinks":[],"customfield_12312339":null,"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rakeshsingh","name":"rakeshsingh","key":"rakeshsingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rakesh Kumar Singh","active":true,"timeZone":"Asia/Kolkata"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2016-09-23T05:03:44.818+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://issues.apache.org/jira/rest/api/2/component/12312382","id":"12312382","name":"server","description":"General issues with the ZooKeeper server."}],"timeoriginalestimate":null,"description":"when setquota for a znode and set ip/user ACL on /zookeeper/quota, still able to delete the quota from client with another ip though it says \"Authentication is not valid\"\n\n\n>> Set quota and ip ACL from one client (with IP 10.18.101.80)\n[zk: 10.18.101.80:2181(CONNECTED) 9] setquota -n 10 /test\n[zk: 10.18.101.80:2181(CONNECTED) 10] setAcl /zookeeper/quota ip:10.18.101.80:crdwa\n[zk: 10.18.101.80:2181(CONNECTED) 11] \n\n\n>> Try to delete the set quota using different client(with ip 10.18.219.50)\n[zk: 10.18.219.50:2181(CONNECTED) 22] listquota /test\nabsolute path is /zookeeper/quota/test/zookeeper_limits\nOutput quota for /test count=10,bytes=-1\nOutput stat for /test count=1,bytes=5\n[zk: 10.18.219.50:2181(CONNECTED) 23] delquota /test\nAuthentication is not valid : /zookeeper/quota/test\n[zk: 10.18.219.50:2181(CONNECTED) 24] listquota /test\nabsolute path is /zookeeper/quota/test/zookeeper_limits\nquota for /test does not exist.\n\n>> Here quota has been deleted though it is saying \"Authentication is not valid..\" which is not correct.\nNow try to set the quota from another ip itself, it fails which is as expected\n\n[zk: 10.18.219.50:2181(CONNECTED) 25] setquota -n 10 /test\nAuthentication is not valid : /zookeeper/quota/test\n[zk: 10.18.219.50:2181(CONNECTED) 26] listquota /test\nabsolute path is /zookeeper/quota/test/zookeeper_limits\nquota for /test does not exist.\n\n\n>> Sameway when we set user ACL...\n[zk: 10.18.101.80:2181(CONNECTED) 26] addauth digest user:pass\n[zk: 10.18.101.80:2181(CONNECTED) 27] create /test hello\nNode already exists: /test\n[zk: 10.18.101.80:2181(CONNECTED) 28] delete /test\n[zk: 10.18.101.80:2181(CONNECTED) 29] create /test hello\nCreated /test\n[zk: 10.18.101.80:2181(CONNECTED) 30] \n[zk: 10.18.101.80:2181(CONNECTED) 30] setquota -n 10 /test\n[zk: 10.18.101.80:2181(CONNECTED) 31] setAcl /zookeeper/quota auth:user:pass:crdwa\n[zk: 10.18.101.80:2181(CONNECTED) 32] \n\n\n[zk: 10.18.219.50:2181(CONNECTED) 27] listquota /test\nabsolute path is /zookeeper/quota/test/zookeeper_limits\nOutput quota for /test count=10,bytes=-1\nOutput stat for /test count=1,bytes=5\n[zk: 10.18.219.50:2181(CONNECTED) 28] delquota /test\nAuthentication is not valid : /zookeeper/quota/test\n[zk: 10.18.219.50:2181(CONNECTED) 29] listquota /test\nabsolute path is /zookeeper/quota/test/zookeeper_limits\nquota for /test does not exist.\n[zk: 10.18.219.50:2181(CONNECTED) 30]","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"customfield_12312340":null,"attachment":[],"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"9223372036854775807","customfield_12312823":null,"summary":"when setquota for a znode and set ip/user ACL on /zookeeper/quota, still able to delete the quota from client with another ip though it says \"Authentication is not valid\"","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rakeshsingh","name":"rakeshsingh","key":"rakeshsingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rakesh Kumar Singh","active":true,"timeZone":"Asia/Kolkata"},"subtasks":[],"customfield_12310291":null,"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=rakeshsingh","name":"rakeshsingh","key":"rakeshsingh","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Rakesh Kumar Singh","active":true,"timeZone":"Asia/Kolkata"},"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12311024":null,"environment":null,"customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[],"maxResults":0,"total":0,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-2584/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i33nhb:"}}