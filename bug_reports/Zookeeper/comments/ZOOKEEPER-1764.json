[introducing a configurable property something like useSAS=true/false would obliterate this issue, Could you see ZOOKEEPER-1657, here its introduced System property "zookeeper.sasl.client" to enable/disable. Does it satisfies your case?, That satisfies my case perfectly, thanks!
Long term I'd say having a property on zoo object would be better though as that would make it easily configurable from Spring, etc...
, Closing issues after releasing 3.4.6.]