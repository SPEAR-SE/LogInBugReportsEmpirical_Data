[this patch fixes the issue.
It allows purgetxn to be called with -n num (which is to keep history for last n snapshots and the corresponding logs).
, had a bug in the last patch., this patch adds a test and checks to see we have exactly a given number of snapshots in the dir... 
, fixed a minor bug., missed the test., Committed revision 739479.

all tests passing and also did local testing of various repositories.
, Integrated in ZooKeeper-trunk #217 (See [http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/217/])
    ]