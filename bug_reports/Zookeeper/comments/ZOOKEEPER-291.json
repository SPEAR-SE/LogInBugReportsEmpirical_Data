[I added tests (that failed w/o the changes) to verify that legacy code will work ok using the deprecated constants in switch case statements.

Also added tests to make sure the new enums work too :-)
, Please review and commit this patch - it needs to be committed to both the trunk and also the 3.1 branch. At the same time be sure to edit the CHANGES.txt (again both main/branch) to specify that 246 was an incompatible change (this one is just a bug).

I will ensure this is in the release notes for 3.1 release.
, +1 for the patch., I just committed this. THnaks pat.
, linking this issue to ZOOKEEPER-246 - fixes a regression caused by 246.
, Integrated in ZooKeeper-trunk #221 (See [http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/221/])
    ]