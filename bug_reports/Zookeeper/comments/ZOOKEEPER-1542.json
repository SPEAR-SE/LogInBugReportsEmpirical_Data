[-----
$ echo "xxx" > ../zoodata/version-2/snapshot.0
$ echo "xxx" > ../zoodata/version-2/log.100000001

-----
$ sh -x ./zkServer.sh start

+ echo -n 'Starting zookeeper ... '
Starting zookeeper ... + '[' -f ../zoodata/zookeeper_server.pid ']'
++ cat ../zoodata/zookeeper_server.pid
+ kill -0 9496
+ '[' 0 -eq 0 ']'
+ /bin/echo -n 10488
+ nohup java -Dzookeeper.log.dir=. -Dzookeeper.root.logger=INFO,CONSOLE -cp 'X:\zk02\build\classes;X:\zk02\build\lib\*.jar;X:\zk02\zookeeper-3.3.6.jar;X:\zk02\lib\log4j-1.2.15.jar;X:\zk02\lib\jline-0.9.94.jar;X:\zk02\src\java\lib\*.jar;X:\zk02\conf;.' -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.local.only=false org.apache.zookeeper.server.quorum.QuorumPeerMain 'X:\zk02\conf\zoo.cfg'
+ sleep 1
+ echo STARTED
STARTED

-----
$ kill -0 10488
bash: kill: (10488) - No such process

-----
$ echo $?
1

-----
$ tail -n 20 zookeeper.out
2012-08-25 03:38:05,803 - FATAL [main:QuorumPeerMain@87] - Unexpected exception, exiting abnormally
java.lang.RuntimeException: Unable to run quorum server
        at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:401)
        at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:143)
        at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:103)
        at org.apache.zookeeper.server.quorum.QuorumPeerMain.main(QuorumPeerMain.java:76)
Caused by: java.io.EOFException
        at java.io.DataInputStream.readInt(Unknown Source)
        at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
        at org.apache.zookeeper.server.persistence.FileHeader.deserialize(FileHeader.java:66)
        at org.apache.zookeeper.server.persistence.FileTxnLog$FileTxnIterator.inStreamCreated(FileTxnLog.java:558)
        at org.apache.zookeeper.server.persistence.FileTxnLog$FileTxnIterator.createInputArchive(FileTxnLog.java:577)
        at org.apache.zookeeper.server.persistence.FileTxnLog$FileTxnIterator.goToNextLog(FileTxnLog.java:543)
        at org.apache.zookeeper.server.persistence.FileTxnLog$FileTxnIterator.init(FileTxnLog.java:525)
        at org.apache.zookeeper.server.persistence.FileTxnLog$FileTxnIterator.<init>(FileTxnLog.java:504)
        at org.apache.zookeeper.server.persistence.FileTxnLog.read(FileTxnLog.java:341)
        at org.apache.zookeeper.server.persistence.FileTxnSnapLog.restore(FileTxnSnapLog.java:133)
        at org.apache.zookeeper.server.ZKDatabase.loadDataBase(ZKDatabase.java:222)
        at org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:398)
        ... 3 more

-----
]