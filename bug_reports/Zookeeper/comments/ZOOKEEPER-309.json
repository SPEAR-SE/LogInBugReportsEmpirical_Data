[+1 that's embarrassing! , can we include a test case for this so that we do not get embarrased again? , Moving from 3.1 to 3.1.1 -- this is not a regression and has a workaround (too late in release cycle to address non-blocker for 3.1.0, Cancelling patch - needs tests. I suggest that tests be added for ACLs in general (not just this api) -- the cppunits are missing any kind of acl testing., Renamed patch file with issue key., this patch adds some tests to chris's patch. The test runs the sync setacl's and getacl's and  since both of them use the async version of the set/get acl, it indirectly tests the async versions as well., also forgot to mention that the tests fail with segmenetation fault without chris's patch and pass with the patch.. , +1, good to see we are testing acls now in c client. ;-)

Committed revision 752729.
Committed revision 752730., Integrated in ZooKeeper-trunk #253 (See [http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/253/])
    ]