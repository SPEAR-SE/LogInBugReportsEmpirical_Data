[I'm not sure I understand why we can't add logic to spot transactions that add ephemerals and do the same we do already for requests that create an ephemeral directly. It sounds better than the two options you're suggestion given how we deal with local sessions today., Performance, mainly. Deserializing big transactions and scanning through all of them comes with a cost. It's more elegant though. ]