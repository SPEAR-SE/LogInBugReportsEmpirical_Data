[Result of "autoreconf -i -f -v -v -v > autoreconf.log 2>&1"., A web search seems to indicate that there are problems with doxygen's autoconf integration:

http://www.nabble.com/aclocal-1.9-and-aclocal-1.10-are-failing-while-aclocal-1.7-is-not-td18647659.html

can you try editing acinclude.m4 line 79 to look like:

if test "$DX_FLAG_$[DX_CURRENT_FEATURE$$1]" = 1; then

and retry?

, dememax@dememax-laptop ~/sources/ZooKeeper/zookeeper-3.0.1/src/c $ diff -c __acinclude.m4__ acinclude.m4
*** __acinclude.m4__    2009-02-03 16:06:00.000000000 +0300
--- acinclude.m4        2009-02-03 16:06:48.000000000 +0300
***************
*** 76,82 ****
  # Require the specified program to be found for the DX_CURRENT_FEATURE to work.
  AC_DEFUN([DX_REQUIRE_PROG], [
  AC_PATH_TOOL([$1], [$2])
! if test "$DX_FLAG_[]DX_CURRENT_FEATURE$$1" = 1; then
      AC_MSG_WARN([$2 not found - will not DX_CURRENT_DESCRIPTION])
      AC_SUBST([DX_FLAG_[]DX_CURRENT_FEATURE], 0)
  fi
--- 76,82 ----
  # Require the specified program to be found for the DX_CURRENT_FEATURE to work.
  AC_DEFUN([DX_REQUIRE_PROG], [
  AC_PATH_TOOL([$1], [$2])
! if test "$DX_FLAG_$[DX_CURRENT_FEATURE$$1]" = 1; then
      AC_MSG_WARN([$2 not found - will not DX_CURRENT_DESCRIPTION])
      AC_SUBST([DX_FLAG_[]DX_CURRENT_FEATURE], 0)
  fi
dememax@dememax-laptop ~/sources/ZooKeeper/zookeeper-3.0.1/src/c $ autoreconf -i -f -v
autoreconf-2.63: Entering directory `.'
autoreconf-2.63: configure.ac: not using Gettext
autoreconf-2.63: running: aclocal --force 
configure.ac:21: error: AC_SUBST: `DX_FLAG_[]DX_CURRENT_FEATURE' is not a valid shell variable name
acinclude.m4:77: DX_REQUIRE_PROG is expanded from...
acinclude.m4:117: DX_ARG_ABLE is expanded from...
acinclude.m4:178: DX_INIT_DOXYGEN is expanded from...
configure.ac:21: the top level
autom4te-2.63: /usr/bin/m4 failed with exit status: 1
aclocal-1.10: autom4te failed with exit status: 1
autoreconf-2.63: aclocal failed with exit status: 1
dememax@dememax-laptop ~/sources/ZooKeeper/zookeeper-3.0.1/src/c $ , Sorry for delay.
Oh, the formatting is ugly but the result is the same.
Unfortunately, I'm not a prof in m4 and auto* stuff.
Can you propose something else?
Do you need an access to the system like mine is?

For example, I've got cppunit package, it use the same build system.
It might help:
http://cppunit.cvs.sourceforge.net/viewvc/cppunit/cppunit/configure.in?view=markup&pathrev=HEAD
http://cppunit.cvs.sourceforge.net/viewvc/cppunit/cppunit/config/bb_enable_doxygen.m4?view=markup&pathrev=HEAD, fix to acinclude.m4 to see if doxygen issue can be resolved., sample configure script is attached at configure.gz, generated using patched acinclude file, Maxim, try the following.

1) download the attached ZOOKEEPER-281.patch and apply it to your codebase
2) run "autoreconf -if"
3) run "./configure"

does this work? Unfortunately both the patched and unpatched versions work for us. (I'm on latest ubuntu 8.10 for example, but it also works on redhat as well) I'm not sure what's special about your system but there's probably some diff in the autotools or doxygen, here's what I have:

autoreconf (GNU Autoconf) 2.61
automake (GNU automake) 1.9.6
doxygen 1.5.6

You might also try running the configure script which I attached, try running this "./configure" after trying the above steps.
, Dear Patrick,

Your patch works fine for me! Take a look:

dememax@dememax-laptop ~/sources/ZooKeeper/zookeeper-3.0.1/src/c $ autoreconf -i -f -v
autoreconf-2.63: Entering directory `.'
autoreconf-2.63: configure.ac: not using Gettext
autoreconf-2.63: running: aclocal --force 
autoreconf-2.63: configure.ac: tracing
autoreconf-2.63: running: libtoolize --copy --force
autoreconf-2.63: running: /usr/bin/autoconf-2.63 --force
autoreconf-2.63: running: /usr/bin/autoheader-2.63 --force
autoreconf-2.63: running: automake --add-missing --copy --force-missing
configure.ac:30: installing `./compile'
configure.ac:24: installing `./install-sh'
configure.ac:24: installing `./missing'
Makefile.am: installing `./depcomp'
autoreconf-2.63: Leaving directory `.'
dememax@dememax-laptop ~/sources/ZooKeeper/zookeeper-3.0.1/src/c $

Generated configure script (see attachment configure-autoreconf-2.63.gz) works fine as well.

By the way, why C*FLAGS are ignored by the build system?
Should I submit an item for this case?, Updating fix release to 3.2 - we'll address it there.
, linking to ZOOKEEPER-292

this addresses the doxygen issue but it would really be a non-issue if we included the configure scripts in the release.
, +1 for the patch... , Committed revision 750637.
Committed revision 750638.
, Integrated in ZooKeeper-trunk #251 (See [http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/251/])
    ]