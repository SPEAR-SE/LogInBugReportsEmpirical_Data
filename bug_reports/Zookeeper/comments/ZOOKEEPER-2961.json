[GitHub user afine opened a pull request:

    https://github.com/apache/zookeeper/pull/437

    ZOOKEEPER-2961: Fix testElectionFraud Flakyness

    

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/afine/zookeeper ZOOKEEPER-2961_master

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zookeeper/pull/437.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #437
    
----
commit f0a64245102eda07da53bf2842620bde61146a49
Author: Abraham Fine <afine@...>
Date:   2017-12-22T22:12:26Z

    ZOOKEEPER-2961: Fix testElectionFraud Flakyness

----
, -1 overall.  GitHub Pull Request  Build
      

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 3 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    -1 core tests.  The patch failed core unit tests.

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1389//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1389//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Console output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1389//console

This message is automatically generated., Github user anmolnar commented on the issue:

    https://github.com/apache/zookeeper/pull/437
  
    Hi @afine 
    I'm not sure if I understand this change. Would you please elaborate a little bit on how this stuff is going to fix flakyness?
, Github user afine commented on the issue:

    https://github.com/apache/zookeeper/pull/437
  
    Hi @anmolnar - I had a description in the JIRA that I just copied here. I hope it clears things up.
, Github user asfgit closed the pull request at:

    https://github.com/apache/zookeeper/pull/437
, Issue resolved by pull request 437
[https://github.com/apache/zookeeper/pull/437], Github user phunt commented on the issue:

    https://github.com/apache/zookeeper/pull/437
  
    LGTM +1. Thanks @afine 
, SUCCESS: Integrated in Jenkins build ZooKeeper-trunk #3697 (See [https://builds.apache.org/job/ZooKeeper-trunk/3697/])
ZOOKEEPER-2961: Fix testElectionFraud Flakyness (phunt: rev 77d6b763a7772553ecfa81e3d3ef177452ad16a7)
* (edit) src/java/test/org/apache/zookeeper/server/quorum/QuorumPeerMainTest.java
]