[Hi Robert, looking at the trace it looks like "path" is parsed in pyzoo_exists

bq.   if (!PyArg_ParseTuple(args, "is|O", &zkhid, &path, &watcherfn)) {

and then passed down to prepend_string untouched, where prepend_string finally runs strlen(path), which blows up with null deref.

Any chance your script is somehow passing a null path? What's odd though is that the parse format string is "is|O", meaning the path is a required parameter. I don't see how path could be null per this parse spec.

Perhaps you can check the args passed by your script when this error occurs? Is path specified and what's it's value? Possible to use GDB to examine the parameters in the call to "pyzoo_exists" when it fails?
]