[I have tried the same thing and it works fine for me until I have {code}clientPort=2181{code} configured in my zoo.cfg. But when it is not configured in the zoo.cfg, and default value is taken (maybe from code) then it occurs.

The fix can go like if it is configured in zoo.cfg, take this value and extract clientPort value from it else consider default value.

Makes sense??, Thank you
I will try it later.]