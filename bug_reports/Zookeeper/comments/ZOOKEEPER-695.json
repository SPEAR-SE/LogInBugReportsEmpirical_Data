[Henry asked this question before in ZOOKEEPER-684 and a patch was committed before I had a chance to respond. The socket timeout I'm referring to is in LeaderElection.java:136., Flavio - 

I believe that timeouts can be an issue, and that 200ms is maybe a bit aggressive. I'm not sure that was the problem in ZOOKEEPER-684; I really think the issue there was the race on doing a round of voting in lockstep. 

It might make sense to increase the timeout in the test code - let's do that as part of this JIRA for 3.4.0.

Henry, I was trying to draft a response and then I realized that I don't think we need a timeout to get the race I was thinking about, so I think you're right, Henry. In fact if there had been a timeout in that log, there would be a log message saying that the response was short, and I can't find such a message.
 ]