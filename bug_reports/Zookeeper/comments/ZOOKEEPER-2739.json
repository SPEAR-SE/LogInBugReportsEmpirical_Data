[Hi [~vincentpoon],

I started working on this exact same issue long before, but got side tracked by other commitments. Let's chat! ;), [~eribeiro] Looks like you had a working patch and just needed a rebase!

If you can get that in, I can put in the rate limiter in ZOOKEEPER-2736 on top.  And thanks for your review on that btw, still working on the revision., Hi [~vincentpoon], I have created a new PR for ZOOKEEPER-2280 and rebased it to current master. It also applies to branch-3.5, btw. The jira issue has the updated link now.

There are two review comments by [~fpj] yet to be addressed (I commented on new PR) and further review/tests. Gonna do that next, so that we can get this patch in asap. Any comment on PR is welcome in the meantime. :)]