[I have just checked out the ZooKeeper trunk in Eclipse (running on Windows) and 3/5 tests from the QuorumPeerMainTest fail due to a NullPointerException while recovering CONSOLE appender. Is this supposed to happen?, It happens today because we rely on a particular setup of log4j, in eclipse if you don't add the conf directory to the "run as junit test" classpath it won't pick up that log4j.properties and as a result the test will fail. try that. We should have a test specific log4j.properties (hence this jira)., This is no longer a valid issue.]