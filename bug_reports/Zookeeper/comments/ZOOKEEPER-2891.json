[GitHub user xoiss opened a pull request:

    https://github.com/apache/zookeeper/pull/360

    branch-3.4 -- bugfix -- ZOOKEEPER-2891

    Fixes https://issues.apache.org/jira/browse/ZOOKEEPER-2891

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/xoiss/zookeeper branch-3.4-bugfix-zookeeper-2891

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/zookeeper/pull/360.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #360
    
----
commit 2dc3664e52a0f1ae82c5c4fdc800921548bfc087
Author: xoiss <xoiss@ubuntu>
Date:   2017-09-05T11:28:36Z

    ZOOKEEPER-2890 - fix freing by uninitialized address.

commit b6da551a38bcfe834038c44f94da0bbfb2c881a5
Author: xoiss <xoiss@ubuntu>
Date:   2017-09-05T12:48:33Z

    ZOOKEEPER-2891 - fix endless loop and assertion on fake multi response.

----
, +1 overall.  GitHub Pull Request  Build
      

    +1 @author.  The patch does not contain any @author tags.

    +0 tests included.  The patch appears to be a documentation patch that doesn't require tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed core unit tests.

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/996//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/996//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Console output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/996//console

This message is automatically generated., Github user phunt commented on the issue:

    https://github.com/apache/zookeeper/pull/360
  
    Hi @xoiss please update this PR to follow the guidelines in "generate a pull request" here: https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute - in particular wrt the summary and description text which really helps folks identifying which PRs to prioritize. Thanks!
, Github user phunt commented on the issue:

    https://github.com/apache/zookeeper/pull/360
  
    @xoiss I like this patch but it's missing tests. Can you include the tests from https://issues.apache.org/jira/secure/attachment/12671215/ZOOKEEPER-1636.patch and resubmit?
, Github user phunt commented on the issue:

    https://github.com/apache/zookeeper/pull/360
  
    ps. You accidentally included the patch for 2890 in this PR, perhaps you can fix that at the same time? Thx.
]