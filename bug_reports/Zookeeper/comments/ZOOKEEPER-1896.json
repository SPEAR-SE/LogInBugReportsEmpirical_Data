[It looks like both receiving and sending server are already running 3.5.0 in this scenario ? 
otherwise backCompatibility36 should have been true (unless something changed in the message format
for 3.4.6 and we didn't update trunk). 

If both servers are running 3.5.0, I'd suggest to print out the config to see why configFromString is complaining. 

 , I've linked this issue to ZOOKEEPER-1810. I think it should be implemented there. ]