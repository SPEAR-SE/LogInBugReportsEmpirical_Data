[The problem is that _POSIX_MONOTONIC_CLOCK is defined but clock_gettime isn't., -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12739402/ZOOKEEPER-2210.patch
  against trunk revision 1685200.

    +1 @author.  The patch does not contain any @author tags.

    -1 tests included.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed core unit tests.

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2768//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2768//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Console output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2768//console

This message is automatically generated., Hi [~michim].  Thank you for the patch.  I built locally on a Mac and tested {{cli_mt}} manually.  It looks good overall.  I have a few comments on edge case error handling.

# It looks like {{host_get_clock_service}} can return an error code.  If there is an error returned, then it might not be valid to use the {{cclock}} in the next call to {{clock_get_time}}.
# Similarly, if there is an error, then I don't know if it's still OK to call {{mach_port_deallocate}}.
, +1, it does not break Linux :-) I'll merge it after Chris' comments are addressed. Thanks [~michim]!, [~michim]: any comments on Chris' comments? Thanks!, Thank you for the review Chris and Raul. I'll update the patch to address Chris' comments., -1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12740891/ZOOKEEPER-2210.patch
  against trunk revision 1686296.

    +1 @author.  The patch does not contain any @author tags.

    -1 tests included.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed core unit tests.

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2774//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2774//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Console output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2774//console

This message is automatically generated., +1 (non-binding).  I retested {{cli_mt}} with the latest patch.  [~michim], thank you for the patch, and thank you for addressing the feedback., Merged:

trunk https://github.com/apache/zookeeper/commit/09ce56a867002f34bda9257ae8edca4085852169
3.5 https://github.com/apache/zookeeper/commit/ba6594915b48dc3fcceed7b960d50aed14ed1993

Thanks [~michim] & [~cnauroth]. , SUCCESS: Integrated in ZooKeeper-trunk #2734 (See [https://builds.apache.org/job/ZooKeeper-trunk/2734/])
ZOOKEEPER-2210: clock_gettime is not available in OS X
(Michi Mutsuzaki via rgs) (rgs: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1686767)
* /zookeeper/trunk/CHANGES.txt
* /zookeeper/trunk/src/c/src/zookeeper.c
]