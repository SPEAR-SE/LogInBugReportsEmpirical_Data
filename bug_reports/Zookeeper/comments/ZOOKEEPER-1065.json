[I attached the complete DEBUG log of the procedure. This includes the behavior of our application start procedure. The exception is logged in line 190 {{WARN  o.e.g.c.i.p.ZooKeeperBasedPreferences - Error refreshing node ...}}., {noformat}
Am 19.05.2011 21:14, schrieb Patrick Hunt:
> Hi Gunnar this is great detective work. It certainly sounds like it
> might be some timing issue or possible bug in ZK exposed by this
> embedded case. A few questions:
> 
> 1) in this dev/embedded case you only have a single zk server, correct?
{noformat}

Single ZK server.

{noformat}
> 2) you have 2 clients in this case, one creating the znode and one
> watching (vs say a single client doing both)
{noformat}

It's a single client which connects to "localhost" single server.

, Hi Gunnar, I believe I see something from the logs:

1) goto line 190 in the log, time index 09:00:59.357
2) search backward in the log file for the znode you are getting
"nonode" on, this:
/gyrex/prefs/cloud/org.eclipse.gyrex.http/applications/org.eclipse.gyrex.http.equinoxhttpservice.application
3) time index is now 09:00:58.968 (the most recent earlier operation
on this znode), notice the operation being performed on the znode -
it's explicitly being deleted by the client.

This (3) is the cause of the log message from (1).

So from what I see in the log it looks like expected behavior from the
ZK view of the world. Does this make sense to you or am I missing
something?, Thanks very much. I didn't understand the logs properly. That help me a lot in setting the right breakpoint and understanding the issue further. It's within my application, well, sort of., No worries (it's overwhelming sometimes, took me a bit to figure it out :-) ). Good hunting and feel free to reach out if you run into another issue.]