[on ZOOKEEPER-1742 [~breed] mentioned "@pat you should split out the ubuntu build problem. there are just some unistd.h includes missing", fwiw, happens in Fedora 19 too. this patch works for me:

{noformat}
diff --git a/src/c/tests/TestReconfigServer.cc b/src/c/tests/TestReconfigServer.cc
index 90bf6f6..a847b37 100644
--- a/src/c/tests/TestReconfigServer.cc
+++ b/src/c/tests/TestReconfigServer.cc
@@ -16,6 +16,7 @@
  */
 #include <algorithm>
 #include <cppunit/extensions/HelperMacros.h>
+#include <unistd.h>
 #include "zookeeper.h"
 
 #include "Util.h"
diff --git a/src/c/tests/ZooKeeperQuorumServer.cc b/src/c/tests/ZooKeeperQuorumServer.cc
index f8049d2..23392cd 100644
--- a/src/c/tests/ZooKeeperQuorumServer.cc
+++ b/src/c/tests/ZooKeeperQuorumServer.cc
@@ -21,6 +21,7 @@
 #include <cstdlib>
 #include <fstream>
 #include <sstream>
+#include <unistd.h>
 
 ZooKeeperQuorumServer::
 ZooKeeperQuorumServer(uint32_t id, uint32_t numServers) :
{noformat}, Thanks for the patch, Raul. Could you post the patch as an attachment to this jira and click on the "Submit Patch" button to start the pre-commit build?, unistd.h is needed for sleep()., +1 overall.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12608374/ZOOKEEPER-1795.patch
  against trunk revision 1531444.

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 6 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed core unit tests.

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1695//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1695//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Console output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1695//console

This message is automatically generated., The attached patch fixed the compilation issue for trunk, now I'm seeing ZOOKEEPER-1646 (we should commit/fix this issue though once qabot signs off)
, Committed to trunk. Thanks Raul Gutierrez Segales!, SUCCESS: Integrated in ZooKeeper-trunk #2090 (See [https://builds.apache.org/job/ZooKeeper-trunk/2090/])
ZOOKEEPER-1795. unable to build c client on ubuntu (Raul Gutierrez Segales via phunt) (phunt: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&view=rev&rev=1532152)
* /zookeeper/trunk/CHANGES.txt
* /zookeeper/trunk/src/c/tests/TestReconfigServer.cc
* /zookeeper/trunk/src/c/tests/ZooKeeperQuorumServer.cc
]