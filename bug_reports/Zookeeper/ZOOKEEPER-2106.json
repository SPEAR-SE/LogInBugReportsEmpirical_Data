{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "fields": {
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "aggregatetimeestimate": null,
        "aggregatetimeoriginalestimate": null,
        "aggregatetimespent": null,
        "assignee": null,
        "components": [],
        "created": "2015-01-13T16:28:14.000+0000",
        "creator": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452"
            },
            "displayName": "Robert Joseph Evans",
            "key": "revans2",
            "name": "revans2",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=revans2",
            "timeZone": "America/Chicago"
        },
        "customfield_10010": null,
        "customfield_12310191": null,
        "customfield_12310192": null,
        "customfield_12310220": null,
        "customfield_12310222": "1_*:*_1_*:*_1558129_*|*_5_*:*_1_*:*_0",
        "customfield_12310230": null,
        "customfield_12310250": null,
        "customfield_12310290": null,
        "customfield_12310291": null,
        "customfield_12310300": null,
        "customfield_12310310": "0.0",
        "customfield_12310420": "9223372036854775807",
        "customfield_12310920": "9223372036854775807",
        "customfield_12310921": null,
        "customfield_12311020": null,
        "customfield_12311024": null,
        "customfield_12311120": null,
        "customfield_12311820": "0|i24bev:",
        "customfield_12312022": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "customfield_12312026": null,
        "customfield_12312220": null,
        "customfield_12312320": null,
        "customfield_12312321": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312324": null,
        "customfield_12312325": null,
        "customfield_12312326": null,
        "customfield_12312327": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312330": null,
        "customfield_12312331": null,
        "customfield_12312332": null,
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12312335": null,
        "customfield_12312336": null,
        "customfield_12312337": null,
        "customfield_12312338": null,
        "customfield_12312339": null,
        "customfield_12312340": null,
        "customfield_12312341": null,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Jan 13 16:54:04 UTC 2015",
        "customfield_12312720": null,
        "customfield_12312823": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "customfield_12312923": null,
        "customfield_12313422": "false",
        "customfield_12313520": null,
        "description": "I tried looking through existing JIRA for something like this, but the closest I came was ZOOKEEPER-2104.  It looks very similar, but I don't know if it really is the same thing.  Essentially we had a 5 node ensemble for a large storm cluster.  For a few of the nodes at the same time they get an error that looks like.\n\n{code}\nWARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@762] - Connection broken for id 2, my id = 4, error = \njava.io.EOFException\n      at java.io.DataInputStream.readInt(DataInputStream.java:392)\n      at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:747)\nWARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@765] - Interrupting SendWorker\nWARN  [SendWorker:2:QuorumCnxManager$SendWorker@679] - Interrupted while waiting for message on queue\njava.lang.InterruptedException\n     at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2017)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2095)\n      at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:389)\n      at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:831)\n      at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$500(QuorumCnxManager.java:62)\n     at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:667)\nWARN  [SendWorker:2:QuorumCnxManager$SendWorker@688] - Send worker leaving thread\nWARN  [QuorumPeer[myid=4]/0.0.0.0:50512:Follower@89] - Exception when following the leader\njava.net.SocketException: Connection reset\n     at java.net.SocketInputStream.read(SocketInputStream.java:189)\n     at java.net.SocketInputStream.read(SocketInputStream.java:121)\n     at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)\n     at java.io.BufferedInputStream.read(BufferedInputStream.java:254)\n     at java.io.DataInputStream.readInt(DataInputStream.java:387)\n     at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)\n     at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:83)\n     at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:108)\n     at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:152)\n     at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:85)\n    at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:740)\nINFO  [QuorumPeer[myid=4]/0.0.0.0:50512:Follower@166] - shutdown called\njava.lang.Exception: shutdown Follower\n      at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:166)\n     at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:744)\n{code}\n\nAfter that all of the connections are shut down\n{code}\nINFO  [QuorumPeer[myid=4]/0.0.0.0:50512:NIOServerCnxn@1001] - Closed socket connection for client ...\n{code}\n\nbut it does not manage to have the JVM shut down\n\n{code}\nINFO  [QuorumPeer[myid=4]/0.0.0.0:50512:FollowerZooKeeperServer@139] - Shutting down\nINFO  [QuorumPeer[myid=4]/0.0.0.0:50512:ZooKeeperServer@419] - shutting down\nINFO  [QuorumPeer[myid=4]/0.0.0.0:50512:FollowerRequestProcessor@105] - Shutting down\nINFO  [QuorumPeer[myid=4]/0.0.0.0:50512:CommitProcessor@181] - Shutting down\nINFO  [FollowerRequestProcessor:4:FollowerRequestProcessor@95] - FollowerRequestProcessor exited loop!\nINFO  [QuorumPeer[myid=4]/0.0.0.0:50512:FinalRequestProcessor@415] - shutdown of request processor complete\nINFO  [CommitProcessor:4:CommitProcessor@150] - CommitProcessor exited loop!\nWARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:50512:NIOServerCnxn@354] - Exception causing close of session 0x0 due to java.io.IOException: ZooKeeperServer not running\nINFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:50512:NIOServerCnxn@1001] - Closed socket connection for client /... (no session established for client)\nINFO  [QuorumPeer[myid=4]/0.0.0.0:50512:SyncRequestProcessor@175] - Shutting down\nINFO  [SyncThread:4:SyncRequestProcessor@155] - SyncRequestProcessor exited!\nINFO  [QuorumPeer[myid=4]/0.0.0.0:50512:QuorumPeer@670] - LOOKING\n{code}\n\nafter that all connections to that node initiate, and then are shut down with ZooKeeperServer not running.  It seems to stay in this state indefinitely until the process is manually restarted.  After that it recovers.\n\nWe have seen this happen on multiple servers at the same time resulting in the entire ensemble being unusable.",
        "duedate": null,
        "environment": null,
        "fixVersions": [],
        "issuelinks": [],
        "issuetype": {
            "avatarId": 21133,
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "id": "1",
            "name": "Bug",
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "subtask": false
        },
        "labels": [],
        "lastViewed": null,
        "priority": {
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.svg",
            "id": "2",
            "name": "Critical",
            "self": "https://issues.apache.org/jira/rest/api/2/priority/2"
        },
        "progress": {
            "progress": 0,
            "total": 0
        },
        "project": {
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12310801&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12310801&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12310801&avatarId=10011",
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12310801&avatarId=10011"
            },
            "id": "12310801",
            "key": "ZOOKEEPER",
            "name": "ZooKeeper",
            "projectCategory": {
                "description": "Apache ZooKeeper related",
                "id": "10484",
                "name": "ZooKeeper",
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/10484"
            },
            "self": "https://issues.apache.org/jira/rest/api/2/project/12310801"
        },
        "reporter": {
            "active": true,
            "avatarUrls": {
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452",
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452"
            },
            "displayName": "Robert Joseph Evans",
            "key": "revans2",
            "name": "revans2",
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=revans2",
            "timeZone": "America/Chicago"
        },
        "resolution": {
            "description": "The problem isn't valid and it can't be fixed.",
            "id": "6",
            "name": "Invalid",
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/6"
        },
        "resolutiondate": "2015-01-13T16:54:12.000+0000",
        "status": {
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "id": "5",
            "name": "Resolved",
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "statusCategory": {
                "colorName": "green",
                "id": 3,
                "key": "done",
                "name": "Done",
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3"
            }
        },
        "subtasks": [],
        "summary": "Error when reading from leader causes JVM to hang",
        "timeestimate": null,
        "timeoriginalestimate": null,
        "timespent": null,
        "updated": "2015-01-13T16:54:12.000+0000",
        "versions": [{
            "archived": false,
            "description": "Fix release against 3.4 branch",
            "id": "12321883",
            "name": "3.4.5",
            "releaseDate": "2012-11-18",
            "released": true,
            "self": "https://issues.apache.org/jira/rest/api/2/version/12321883"
        }],
        "votes": {
            "hasVoted": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-2106/votes",
            "votes": 0
        },
        "watches": {
            "isWatching": false,
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ZOOKEEPER-2106/watchers",
            "watchCount": 1
        },
        "workratio": -1
    },
    "id": "12767178",
    "key": "ZOOKEEPER-2106",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/12767178"
}